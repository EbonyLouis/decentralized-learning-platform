/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,r={35557:(e,t,r)=>{"use strict";var i,n,o,s,a,c,u,h,d,l,f,p,A,g,m,y,I;r.r(t),r.d(t,{JSONPath:()=>qe}),(n={})[(i={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",n[i.EOF]="<end>",n[i.Identifier]="Identifier",n[i.Keyword]="Keyword",n[i.NullLiteral]="Null",n[i.NumericLiteral]="Numeric",n[i.Punctuator]="Punctuator",n[i.StringLiteral]="String",n[i.RegularExpression]="RegularExpression",o=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];var w={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};function b(e,t){if(!e)throw new Error("ASSERT: "+t)}function v(e){return e>=48&&e<=57}function E(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function C(e){return"01234567".indexOf(e)>=0}function B(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function S(e){return 10===e||13===e||8232===e||8233===e}function _(e){return 64==e||36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&c.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function Q(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&c.NonAsciiIdentifierPart.test(String.fromCharCode(e))}function D(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function k(e){return"eval"===e||"arguments"===e}function M(e,t,r,i,n){var o;b("number"==typeof r,"Comment must have valid position"),y.lastCommentStart>=r||(y.lastCommentStart=r,o={type:e,value:t},I.range&&(o.range=[r,i]),I.loc&&(o.loc=n),I.comments.push(o),I.attachComment&&(I.leadingComments.push(o),I.trailingComments.push(o)))}function P(e){var t,r,i,n;for(t=l-e,r={start:{line:f,column:l-p-e}};l<A;)if(i=h.charCodeAt(l),++l,S(i))return I.comments&&(n=h.slice(t+e,l-1),r.end={line:f,column:l-p-1},M("Line",n,t,l-1,r)),13===i&&10===h.charCodeAt(l)&&++l,++f,void(p=l);I.comments&&(n=h.slice(t+e,l),r.end={line:f,column:l-p},M("Line",n,t,l,r))}function x(){var e,t,r,i;for(I.comments&&(e=l-2,t={start:{line:f,column:l-p-2}});l<A;)if(S(r=h.charCodeAt(l)))13===r&&10===h.charCodeAt(l+1)&&++l,++f,++l,p=l,l>=A&&Y({},a.UnexpectedToken,"ILLEGAL");else if(42===r){if(47===h.charCodeAt(l+1))return++l,++l,void(I.comments&&(i=h.slice(e+2,l-2),t.end={line:f,column:l-p},M("Block",i,e,l,t)));++l}else++l;Y({},a.UnexpectedToken,"ILLEGAL")}function F(){var e,t;for(t=0===l;l<A;)if(B(e=h.charCodeAt(l)))++l;else if(S(e))++l,13===e&&10===h.charCodeAt(l)&&++l,++f,p=l,t=!0;else if(47===e)if(47===(e=h.charCodeAt(l+1)))++l,++l,P(2),t=!0;else{if(42!==e)break;++l,++l,x()}else if(t&&45===e){if(45!==h.charCodeAt(l+1)||62!==h.charCodeAt(l+2))break;l+=3,P(3)}else{if(60!==e)break;if("!--"!==h.slice(l+1,l+4))break;++l,++l,++l,++l,P(4)}}function R(e){var t,r,i,n=0;for(r="u"===e?4:2,t=0;t<r;++t){if(!(l<A&&E(h[l])))return"";i=h[l++],n=16*n+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(n)}function O(){var e,t;for(e=h.charCodeAt(l++),t=String.fromCharCode(e),92===e&&(117!==h.charCodeAt(l)&&Y({},a.UnexpectedToken,"ILLEGAL"),++l,(e=R("u"))&&"\\"!==e&&_(e.charCodeAt(0))||Y({},a.UnexpectedToken,"ILLEGAL"),t=e);l<A&&Q(e=h.charCodeAt(l));)++l,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==h.charCodeAt(l)&&Y({},a.UnexpectedToken,"ILLEGAL"),++l,(e=R("u"))&&"\\"!==e&&Q(e.charCodeAt(0))||Y({},a.UnexpectedToken,"ILLEGAL"),t+=e);return t}function T(){var e,t,r,n,o=l,s=h.charCodeAt(l),c=h[l];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++l,I.tokenize&&(40===s?I.openParenToken=I.tokens.length:123===s&&(I.openCurlyToken=I.tokens.length)),{type:i.Punctuator,value:String.fromCharCode(s),lineNumber:f,lineStart:p,start:o,end:l};default:if(61===(e=h.charCodeAt(l+1)))switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return l+=2,{type:i.Punctuator,value:String.fromCharCode(s)+String.fromCharCode(e),lineNumber:f,lineStart:p,start:o,end:l};case 33:case 61:return l+=2,61===h.charCodeAt(l)&&++l,{type:i.Punctuator,value:h.slice(o,l),lineNumber:f,lineStart:p,start:o,end:l}}}return">>>="===(n=h.substr(l,4))?(l+=4,{type:i.Punctuator,value:n,lineNumber:f,lineStart:p,start:o,end:l}):">>>"===(r=n.substr(0,3))||"<<="===r||">>="===r?(l+=3,{type:i.Punctuator,value:r,lineNumber:f,lineStart:p,start:o,end:l}):c===(t=r.substr(0,2))[1]&&"+-<>&|".indexOf(c)>=0||"=>"===t?(l+=2,{type:i.Punctuator,value:t,lineNumber:f,lineStart:p,start:o,end:l}):"<>=!+-*%&|^/".indexOf(c)>=0?(++l,{type:i.Punctuator,value:c,lineNumber:f,lineStart:p,start:o,end:l}):void Y({},a.UnexpectedToken,"ILLEGAL")}function N(){var e,t,r;if(b(v((r=h[l]).charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),t=l,e="","."!==r){if(e=h[l++],r=h[l],"0"===e){if("x"===r||"X"===r)return++l,function(e){for(var t="";l<A&&E(h[l]);)t+=h[l++];return 0===t.length&&Y({},a.UnexpectedToken,"ILLEGAL"),_(h.charCodeAt(l))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:i.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:f,lineStart:p,start:e,end:l}}(t);if(C(r))return function(e){for(var t="0"+h[l++];l<A&&C(h[l]);)t+=h[l++];return(_(h.charCodeAt(l))||v(h.charCodeAt(l)))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:i.NumericLiteral,value:parseInt(t,8),octal:!0,lineNumber:f,lineStart:p,start:e,end:l}}(t);r&&v(r.charCodeAt(0))&&Y({},a.UnexpectedToken,"ILLEGAL")}for(;v(h.charCodeAt(l));)e+=h[l++];r=h[l]}if("."===r){for(e+=h[l++];v(h.charCodeAt(l));)e+=h[l++];r=h[l]}if("e"===r||"E"===r)if(e+=h[l++],"+"!==(r=h[l])&&"-"!==r||(e+=h[l++]),v(h.charCodeAt(l)))for(;v(h.charCodeAt(l));)e+=h[l++];else Y({},a.UnexpectedToken,"ILLEGAL");return _(h.charCodeAt(l))&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:i.NumericLiteral,value:parseFloat(e),lineNumber:f,lineStart:p,start:t,end:l}}function U(){var e,t,r,n;return m=null,F(),e=l,t=function(){var e,t,r,i;for(b("/"===(e=h[l]),"Regular expression literal must start with a slash"),t=h[l++],r=!1,i=!1;l<A;)if(t+=e=h[l++],"\\"===e)S((e=h[l++]).charCodeAt(0))&&Y({},a.UnterminatedRegExp),t+=e;else if(S(e.charCodeAt(0)))Y({},a.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){i=!0;break}"["===e&&(r=!0)}return i||Y({},a.UnterminatedRegExp),{value:t.substr(1,t.length-2),literal:t}}(),r=function(){var e,t,r,i;for(t="",r="";l<A&&Q((e=h[l]).charCodeAt(0));)if(++l,"\\"===e&&l<A)if("u"===(e=h[l])){if(i=++l,e=R("u"))for(r+=e,t+="\\u";i<l;++i)t+=h[i];else l=i,r+="u",t+="\\u";V({},a.UnexpectedToken,"ILLEGAL")}else t+="\\",V({},a.UnexpectedToken,"ILLEGAL");else r+=e,t+=e;return{value:r,literal:t}}(),n=function(e,t){var r;try{r=new RegExp(e,t)}catch(e){Y({},a.InvalidRegExp)}return r}(t.value,r.value),I.tokenize?{type:i.RegularExpression,value:n,lineNumber:f,lineStart:p,start:e,end:l}:{literal:t.literal+r.literal,value:n,start:e,end:l}}function j(){var e,t,r,i;return F(),e=l,t={start:{line:f,column:l-p}},r=U(),t.end={line:f,column:l-p},I.tokenize||(I.tokens.length>0&&(i=I.tokens[I.tokens.length-1]).range[0]===e&&"Punctuator"===i.type&&("/"!==i.value&&"/="!==i.value||I.tokens.pop()),I.tokens.push({type:"RegularExpression",value:r.literal,range:[e,l],loc:t})),r}function L(){var e,t,r;return F(),l>=A?{type:i.EOF,lineNumber:f,lineStart:p,start:l,end:l}:_(e=h.charCodeAt(l))?(t=l,r=92===h.charCodeAt(l)?O():function(){var e,t;for(e=l++;l<A;){if(92===(t=h.charCodeAt(l)))return l=e,O();if(!Q(t))break;++l}return h.slice(e,l)}(),{type:1===r.length?i.Identifier:function(e){if(d&&D(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}(r)?i.Keyword:"null"===r?i.NullLiteral:"true"===r||"false"===r?i.BooleanLiteral:i.Identifier,value:r,lineNumber:f,lineStart:p,start:t,end:l}):40===e||41===e||59===e?T():39===e||34===e?function(){var e,t,r,n,o,s,c,u,d="",g=!1;for(c=f,u=p,b("'"===(e=h[l])||'"'===e,"String literal must starts with a quote"),t=l,++l;l<A;){if((r=h[l++])===e){e="";break}if("\\"===r)if((r=h[l++])&&S(r.charCodeAt(0)))++f,"\r"===r&&"\n"===h[l]&&++l,p=l;else switch(r){case"u":case"x":s=l,(o=R(r))?d+=o:(l=s,d+=r);break;case"n":d+="\n";break;case"r":d+="\r";break;case"t":d+="\t";break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;default:C(r)?(0!==(n="01234567".indexOf(r))&&(g=!0),l<A&&C(h[l])&&(g=!0,n=8*n+"01234567".indexOf(h[l++]),"0123".indexOf(r)>=0&&l<A&&C(h[l])&&(n=8*n+"01234567".indexOf(h[l++]))),d+=String.fromCharCode(n)):d+=r}else{if(S(r.charCodeAt(0)))break;d+=r}}return""!==e&&Y({},a.UnexpectedToken,"ILLEGAL"),{type:i.StringLiteral,value:d,octal:g,startLineNumber:c,startLineStart:u,lineNumber:f,lineStart:p,start:t,end:l}}():46===e?v(h.charCodeAt(l+1))?N():T():v(e)?N():I.tokenize&&47===e?function(){var e,t;if(!(e=I.tokens[I.tokens.length-1]))return j();if("Punctuator"===e.type){if("]"===e.value)return T();if(")"===e.value)return!(t=I.tokens[I.openParenToken-1])||"Keyword"!==t.type||"if"!==t.value&&"while"!==t.value&&"for"!==t.value&&"with"!==t.value?T():j();if("}"===e.value){if(I.tokens[I.openCurlyToken-3]&&"Keyword"===I.tokens[I.openCurlyToken-3].type){if(!(t=I.tokens[I.openCurlyToken-4]))return T()}else{if(!I.tokens[I.openCurlyToken-4]||"Keyword"!==I.tokens[I.openCurlyToken-4].type)return T();if(!(t=I.tokens[I.openCurlyToken-5]))return j()}return o.indexOf(t.value)>=0?T():j()}return j()}return"Keyword"===e.type?j():T()}():T()}function q(){var e,t,r;return F(),e={start:{line:f,column:l-p}},t=L(),e.end={line:f,column:l-p},t.type!==i.EOF&&(r=h.slice(t.start,t.end),I.tokens.push({type:n[t.type],value:r,range:[t.start,t.end],loc:e})),t}function K(){var e;return l=(e=m).end,f=e.lineNumber,p=e.lineStart,m=void 0!==I.tokens?q():L(),l=e.end,f=e.lineNumber,p=e.lineStart,e}function H(){var e,t,r;e=l,t=f,r=p,m=void 0!==I.tokens?q():L(),l=e,f=t,p=r}function G(e,t){this.line=e,this.column=t}function z(e,t,r,i){this.start=new G(e,t),this.end=new G(r,i)}function J(){var e,t,r,i;return e=l,t=f,r=p,F(),i=f!==t,l=e,f=t,p=r,i}function Y(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var n,o=t.replace(/%(\d)/g,(function(e,t){return b(t<r.length,"Message reference must be in range"),r[t]}));throw"number"==typeof e.lineNumber?((n=new Error("Line "+e.lineNumber+": "+o)).index=e.start,n.lineNumber=e.lineNumber,n.column=e.start-p+1):((n=new Error("Line "+f+": "+o)).index=l,n.lineNumber=f,n.column=l-p+1),n.description=o,n}function V(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{Y.apply(null,e)}catch(e){if(!I.errors)throw e;I.errors.push(e)}}function $(e){if(e.type===i.EOF&&Y(e,a.UnexpectedEOS),e.type===i.NumericLiteral&&Y(e,a.UnexpectedNumber),e.type===i.StringLiteral&&Y(e,a.UnexpectedString),e.type===i.Identifier&&Y(e,a.UnexpectedIdentifier),e.type===i.Keyword){if(function(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(e.value))Y(e,a.UnexpectedReserved);else if(d&&D(e.value))return void V(e,a.StrictReservedWord);Y(e,a.UnexpectedToken,e.value)}Y(e,a.UnexpectedToken,e.value)}function W(e){var t=K();t.type===i.Punctuator&&t.value===e||$(t)}function Z(e){var t=K();t.type===i.Keyword&&t.value===e||$(t)}function X(e){return m.type===i.Punctuator&&m.value===e}function ee(e){return m.type===i.Keyword&&m.value===e}function te(){var e;59===h.charCodeAt(l)||X(";")?K():(e=f,F(),f===e&&(m.type===i.EOF||X("}")||$(m)))}function re(e){return e.type===w.Identifier||e.type===w.MemberExpression}function ie(e,t){var r,i,n;return r=d,n=m,i=ve(),t&&d&&k(e[0].name)&&V(t,a.StrictParamName),d=r,g.markEnd(g.createFunctionExpression(null,e,[],i),n)}function ne(){var e,t;return t=m,(e=K()).type===i.StringLiteral||e.type===i.NumericLiteral?(d&&e.octal&&V(e,a.StrictOctalLiteral),g.markEnd(g.createLiteral(e),t)):g.markEnd(g.createIdentifier(e.value),t)}function oe(){var e,t,r,n,o,s;return s=m,(e=m).type===i.Identifier?(r=ne(),"get"!==e.value||X(":")?"set"!==e.value||X(":")?(W(":"),n=pe(),g.markEnd(g.createProperty("init",r,n),s)):(t=ne(),W("("),(e=m).type!==i.Identifier?(W(")"),V(e,a.UnexpectedToken,e.value),n=ie([])):(o=[me()],W(")"),n=ie(o,e)),g.markEnd(g.createProperty("set",t,n),s)):(t=ne(),W("("),W(")"),n=ie([]),g.markEnd(g.createProperty("get",t,n),s))):e.type!==i.EOF&&e.type!==i.Punctuator?(t=ne(),W(":"),n=pe(),g.markEnd(g.createProperty("init",t,n),s)):void $(e)}function se(){var e,t,r,n;if(X("("))return function(){var e;return W("("),e=Ae(),W(")"),e}();if(X("["))return function(){var e,t=[];for(e=m,W("[");!X("]");)X(",")?(K(),t.push(null)):(t.push(pe()),X("]")||W(","));return K(),g.markEnd(g.createArrayExpression(t),e)}();if(X("{"))return function(){var e,t,r,i,n,o=[],c={},u=String;for(n=m,W("{");!X("}");)t=(e=oe()).key.type===w.Identifier?e.key.name:u(e.key.value),i="init"===e.kind?s.Data:"get"===e.kind?s.Get:s.Set,r="$"+t,Object.prototype.hasOwnProperty.call(c,r)?(c[r]===s.Data?d&&i===s.Data?V({},a.StrictDuplicateProperty):i!==s.Data&&V({},a.AccessorDataProperty):i===s.Data?V({},a.AccessorDataProperty):c[r]&i&&V({},a.AccessorGetSet),c[r]|=i):c[r]=i,o.push(e),X("}")||W(",");return W("}"),g.markEnd(g.createObjectExpression(o),n)}();if(e=m.type,n=m,e===i.Identifier)r=g.createIdentifier(K().value);else if(e===i.StringLiteral||e===i.NumericLiteral)d&&m.octal&&V(m,a.StrictOctalLiteral),r=g.createLiteral(K());else if(e===i.Keyword){if(ee("function"))return function(){var e,t,r,i,n,o,s,c,u,h=null;return c=m,Z("function"),X("(")||(e=m,h=me(),d?k(e.value)&&V(e,a.StrictFunctionName):k(e.value)?(r=e,i=a.StrictFunctionName):D(e.value)&&(r=e,i=a.StrictReservedWord)),u=(n=Ee(r)).params,t=n.stricted,r=n.firstRestricted,n.message&&(i=n.message),s=d,o=ve(),d&&r&&Y(r,i),d&&t&&V(t,i),d=s,g.markEnd(g.createFunctionExpression(h,u,[],o),c)}();ee("this")?(K(),r=g.createThisExpression()):$(K())}else e===i.BooleanLiteral?((t=K()).value="true"===t.value,r=g.createLiteral(t)):e===i.NullLiteral?((t=K()).value=null,r=g.createLiteral(t)):X("/")||X("/=")?(r=void 0!==I.tokens?g.createLiteral(j()):g.createLiteral(U()),H()):$(K());return g.markEnd(r,n)}function ae(){var e=[];if(W("("),!X(")"))for(;l<A&&(e.push(pe()),!X(")"));)W(",");return W(")"),e}function ce(){return W("."),t=m,function(e){return e.type===i.Identifier||e.type===i.Keyword||e.type===i.BooleanLiteral||e.type===i.NullLiteral}(e=K())||$(e),g.markEnd(g.createIdentifier(e.value),t);var e,t}function ue(){var e;return W("["),e=Ae(),W("]"),e}function he(){var e,t,r;return r=m,Z("new"),e=function(){var e,t,r,i;for(i=m,e=y.allowIn,t=ee("new")?he():se(),y.allowIn=e;X(".")||X("[");)X("[")?(r=ue(),t=g.createMemberExpression("[",t,r)):(r=ce(),t=g.createMemberExpression(".",t,r)),g.markEnd(t,i);return t}(),t=X("(")?ae():[],g.markEnd(g.createNewExpression(e,t),r)}function de(){var e,t,r=m;return e=function(){var e,t,r,i,n;for(n=m,e=y.allowIn,y.allowIn=!0,t=ee("new")?he():se(),y.allowIn=e;;){if(X("."))i=ce(),t=g.createMemberExpression(".",t,i);else if(X("("))r=ae(),t=g.createCallExpression(t,r);else{if(!X("["))break;i=ue(),t=g.createMemberExpression("[",t,i)}g.markEnd(t,n)}return t}(),m.type===i.Punctuator&&(!X("++")&&!X("--")||J()||(d&&e.type===w.Identifier&&k(e.name)&&V({},a.StrictLHSPostfix),re(e)||V({},a.InvalidLHSInAssignment),t=K(),e=g.markEnd(g.createPostfixExpression(t.value,e),r))),e}function le(){var e,t,r;return m.type!==i.Punctuator&&m.type!==i.Keyword?t=de():X("++")||X("--")?(r=m,e=K(),t=le(),d&&t.type===w.Identifier&&k(t.name)&&V({},a.StrictLHSPrefix),re(t)||V({},a.InvalidLHSInAssignment),t=g.createUnaryExpression(e.value,t),t=g.markEnd(t,r)):X("+")||X("-")||X("~")||X("!")?(r=m,e=K(),t=le(),t=g.createUnaryExpression(e.value,t),t=g.markEnd(t,r)):ee("delete")||ee("void")||ee("typeof")?(r=m,e=K(),t=le(),t=g.createUnaryExpression(e.value,t),t=g.markEnd(t,r),d&&"delete"===t.operator&&t.argument.type===w.Identifier&&V({},a.StrictDelete)):t=de(),t}function fe(e,t){var r=0;if(e.type!==i.Punctuator&&e.type!==i.Keyword)return 0;switch(e.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=t?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11}return r}function pe(){var e,t,r,n,o,s;return e=m,o=m,n=t=function(){var e,t,r,i,n;return n=m,e=function(){var e,t,r,i,n,o,s,a,c,u;if(e=m,c=le(),0===(n=fe(i=m,y.allowIn)))return c;for(i.prec=n,K(),t=[e,m],o=[c,i,s=le()];(n=fe(m,y.allowIn))>0;){for(;o.length>2&&n<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,c=o.pop(),r=g.createBinaryExpression(a,c,s),t.pop(),e=t[t.length-1],g.markEnd(r,e),o.push(r);(i=K()).prec=n,o.push(i),t.push(m),r=le(),o.push(r)}for(r=o[u=o.length-1],t.pop();u>1;)r=g.createBinaryExpression(o[u-1].value,o[u-2],r),u-=2,e=t.pop(),g.markEnd(r,e);return r}(),X("?")&&(K(),t=y.allowIn,y.allowIn=!0,r=pe(),y.allowIn=t,W(":"),i=pe(),e=g.createConditionalExpression(e,r,i),g.markEnd(e,n)),e}(),m.type!==i.Punctuator||"="!==(s=m.value)&&"*="!==s&&"/="!==s&&"%="!==s&&"+="!==s&&"-="!==s&&"<<="!==s&&">>="!==s&&">>>="!==s&&"&="!==s&&"^="!==s&&"|="!==s||(re(t)||V({},a.InvalidLHSInAssignment),d&&t.type===w.Identifier&&k(t.name)&&V(e,a.StrictLHSAssignment),e=K(),r=pe(),n=g.markEnd(g.createAssignmentExpression(e.value,t,r),o)),n}function Ae(){var e,t=m;if(e=pe(),X(",")){for(e=g.createSequenceExpression([e]);l<A&&X(",");)K(),e.expressions.push(pe());g.markEnd(e,t)}return e}function ge(){var e,t;return t=m,W("{"),e=function(){for(var e,t=[];l<A&&!X("}")&&void 0!==(e=Be());)t.push(e);return t}(),W("}"),g.markEnd(g.createBlockStatement(e),t)}function me(){var e,t;return t=m,(e=K()).type!==i.Identifier&&$(e),g.markEnd(g.createIdentifier(e.value),t)}function ye(e){var t,r,i=null;return r=m,t=me(),d&&k(t.name)&&V({},a.StrictVarName),"const"===e?(W("="),i=pe()):X("=")&&(K(),i=pe()),g.markEnd(g.createVariableDeclarator(t,i),r)}function Ie(e){var t=[];do{if(t.push(ye(e)),!X(","))break;K()}while(l<A);return t}function we(){var e,t,r,i=[];for(r=m,ee("default")?(K(),e=null):(Z("case"),e=Ae()),W(":");l<A&&!(X("}")||ee("default")||ee("case"));)t=be(),i.push(t);return g.markEnd(g.createSwitchCase(e,i),r)}function be(){var e,t,r,n,o,s,c,u,f,p=m.type;if(p===i.EOF&&$(m),p===i.Punctuator&&"{"===m.value)return ge();if(n=m,p===i.Punctuator)switch(m.value){case";":return g.markEnd((W(";"),g.createEmptyStatement()),n);case"(":return g.markEnd(function(){var e=Ae();return te(),g.createExpressionStatement(e)}(),n)}if(p===i.Keyword)switch(m.value){case"break":return g.markEnd(function(){var e,t=null;return Z("break"),59===h.charCodeAt(l)?(K(),y.inIteration||y.inSwitch||Y({},a.IllegalBreak),g.createBreakStatement(null)):J()?(y.inIteration||y.inSwitch||Y({},a.IllegalBreak),g.createBreakStatement(null)):(m.type===i.Identifier&&(e="$"+(t=me()).name,Object.prototype.hasOwnProperty.call(y.labelSet,e)||Y({},a.UnknownLabel,t.name)),te(),null!==t||y.inIteration||y.inSwitch||Y({},a.IllegalBreak),g.createBreakStatement(t))}(),n);case"continue":return g.markEnd(function(){var e,t=null;return Z("continue"),59===h.charCodeAt(l)?(K(),y.inIteration||Y({},a.IllegalContinue),g.createContinueStatement(null)):J()?(y.inIteration||Y({},a.IllegalContinue),g.createContinueStatement(null)):(m.type===i.Identifier&&(e="$"+(t=me()).name,Object.prototype.hasOwnProperty.call(y.labelSet,e)||Y({},a.UnknownLabel,t.name)),te(),null!==t||y.inIteration||Y({},a.IllegalContinue),g.createContinueStatement(t))}(),n);case"debugger":return g.markEnd((Z("debugger"),te(),g.createDebuggerStatement()),n);case"do":return g.markEnd((Z("do"),f=y.inIteration,y.inIteration=!0,c=be(),y.inIteration=f,Z("while"),W("("),u=Ae(),W(")"),X(";")&&K(),g.createDoWhileStatement(c,u)),n);case"for":return g.markEnd(function(){var e,t,r,i,n,o,s,c,u,h;return e=t=r=null,Z("for"),W("("),X(";")?K():(ee("var")||ee("let")?(y.allowIn=!1,h=m,c=K(),u=Ie(),e=g.markEnd(g.createVariableDeclaration(u,c.value),h),y.allowIn=!0,1===e.declarations.length&&ee("in")&&(K(),i=e,n=Ae(),e=null)):(y.allowIn=!1,e=Ae(),y.allowIn=!0,ee("in")&&(re(e)||V({},a.InvalidLHSInForIn),K(),i=e,n=Ae(),e=null)),void 0===i&&W(";")),void 0===i&&(X(";")||(t=Ae()),W(";"),X(")")||(r=Ae())),W(")"),s=y.inIteration,y.inIteration=!0,o=be(),y.inIteration=s,void 0===i?g.createForStatement(e,t,r,o):g.createForInStatement(i,n,o)}(),n);case"function":return g.markEnd(Ce(),n);case"if":return g.markEnd(function(){var e,t,r;return Z("if"),W("("),e=Ae(),W(")"),t=be(),ee("else")?(K(),r=be()):r=null,g.createIfStatement(e,t,r)}(),n);case"return":return g.markEnd((s=null,Z("return"),y.inFunctionBody||V({},a.IllegalReturn),32===h.charCodeAt(l)&&_(h.charCodeAt(l+1))?(s=Ae(),te(),g.createReturnStatement(s)):J()?g.createReturnStatement(null):(X(";")||X("}")||m.type===i.EOF||(s=Ae()),te(),g.createReturnStatement(s))),n);case"switch":return g.markEnd(function(){var e,t,r,i,n;if(Z("switch"),W("("),e=Ae(),W(")"),W("{"),t=[],X("}"))return K(),g.createSwitchStatement(e,t);for(i=y.inSwitch,y.inSwitch=!0,n=!1;l<A&&!X("}");)null===(r=we()).test&&(n&&Y({},a.MultipleDefaultsInSwitch),n=!0),t.push(r);return y.inSwitch=i,W("}"),g.createSwitchStatement(e,t)}(),n);case"throw":return g.markEnd(function(){var e;return Z("throw"),J()&&Y({},a.NewlineAfterThrow),e=Ae(),te(),g.createThrowStatement(e)}(),n);case"try":return g.markEnd(function(){var e,t,r,i,n=[],o=null;return Z("try"),e=ge(),ee("catch")&&n.push((i=m,Z("catch"),W("("),X(")")&&$(m),t=me(),d&&k(t.name)&&V({},a.StrictCatchVariable),W(")"),r=ge(),g.markEnd(g.createCatchClause(t,r),i))),ee("finally")&&(K(),o=ge()),0!==n.length||o||Y({},a.NoCatchOrFinally),g.createTryStatement(e,[],n,o)}(),n);case"var":return g.markEnd((Z("var"),o=Ie(),te(),g.createVariableDeclaration(o,"var")),n);case"while":return g.markEnd(function(){var e,t,r;return Z("while"),W("("),e=Ae(),W(")"),r=y.inIteration,y.inIteration=!0,t=be(),y.inIteration=r,g.createWhileStatement(e,t)}(),n);case"with":return g.markEnd(function(){var e,t;return d&&(F(),V({},a.StrictModeWith)),Z("with"),W("("),e=Ae(),W(")"),t=be(),g.createWithStatement(e,t)}(),n)}return(e=Ae()).type===w.Identifier&&X(":")?(K(),r="$"+e.name,Object.prototype.hasOwnProperty.call(y.labelSet,r)&&Y({},a.Redeclaration,"Label",e.name),y.labelSet[r]=!0,t=be(),delete y.labelSet[r],g.markEnd(g.createLabeledStatement(e,t),n)):(te(),g.markEnd(g.createExpressionStatement(e),n))}function ve(){var e,t,r,n,o,s,c,u,f=[];for(u=m,W("{");l<A&&m.type===i.StringLiteral&&(t=m,e=Be(),f.push(e),e.expression.type===w.Literal);)"use strict"===h.slice(t.start+1,t.end-1)?(d=!0,r&&V(r,a.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(n=y.labelSet,o=y.inIteration,s=y.inSwitch,c=y.inFunctionBody,y.labelSet={},y.inIteration=!1,y.inSwitch=!1,y.inFunctionBody=!0;l<A&&!X("}")&&void 0!==(e=Be());)f.push(e);return W("}"),y.labelSet=n,y.inIteration=o,y.inSwitch=s,y.inFunctionBody=c,g.markEnd(g.createBlockStatement(f),u)}function Ee(e){var t,r,i,n,o,s,c=[];if(W("("),!X(")"))for(n={};l<A&&(r=m,t=me(),o="$"+r.value,d?(k(r.value)&&(i=r,s=a.StrictParamName),Object.prototype.hasOwnProperty.call(n,o)&&(i=r,s=a.StrictParamDupe)):e||(k(r.value)?(e=r,s=a.StrictParamName):D(r.value)?(e=r,s=a.StrictReservedWord):Object.prototype.hasOwnProperty.call(n,o)&&(e=r,s=a.StrictParamDupe)),c.push(t),n[o]=!0,!X(")"));)W(",");return W(")"),{params:c,stricted:i,firstRestricted:e,message:s}}function Ce(){var e,t,r,i,n,o,s,c,u,h;return h=m,Z("function"),i=m,e=me(),d?k(i.value)&&V(i,a.StrictFunctionName):k(i.value)?(s=i,c=a.StrictFunctionName):D(i.value)&&(s=i,c=a.StrictReservedWord),t=(o=Ee(s)).params,n=o.stricted,s=o.firstRestricted,o.message&&(c=o.message),u=d,r=ve(),d&&s&&Y(s,c),d&&n&&V(n,c),d=u,g.markEnd(g.createFunctionDeclaration(e,t,[],r),h)}function Be(){if(m.type===i.Keyword)switch(m.value){case"const":case"let":return e=m.value,r=m,Z(e),t=Ie(e),te(),g.markEnd(g.createVariableDeclaration(t,e),r);case"function":return Ce();default:return be()}var e,t,r;if(m.type!==i.EOF)return be()}function Se(e,t){var r,n,o,s;n=String,"string"==typeof e||e instanceof String||(e=n(e)),g=u,l=0,f=(h=e).length>0?1:0,p=0,A=h.length,m=null,y={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},I={},void 0!==t&&(I.range="boolean"==typeof t.range&&t.range,I.loc="boolean"==typeof t.loc&&t.loc,I.attachComment="boolean"==typeof t.attachComment&&t.attachComment,I.loc&&null!==t.source&&void 0!==t.source&&(I.source=n(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(I.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(I.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(I.errors=[]),I.attachComment&&(I.range=!0,I.comments=[],I.bottomRightStack=[],I.trailingComments=[],I.leadingComments=[]));try{F(),H(),s=m,d=!1,o=function(){for(var e,t,r,n=[];l<A&&(t=m).type===i.StringLiteral&&(e=Be(),n.push(e),e.expression.type===w.Literal);)"use strict"===h.slice(t.start+1,t.end-1)?(d=!0,r&&V(r,a.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(;l<A&&void 0!==(e=Be());)n.push(e);return n}(),r=g.markEnd(g.createProgram(o),s),void 0!==I.comments&&(r.comments=I.comments),void 0!==I.tokens&&(function(){var e,t,r,i=[];for(e=0;e<I.tokens.length;++e)r={type:(t=I.tokens[e]).type,value:t.value},I.range&&(r.range=t.range),I.loc&&(r.loc=t.loc),i.push(r);I.tokens=i}(),r.tokens=I.tokens),void 0!==I.errors&&(r.errors=I.errors)}catch(e){throw e}finally{I={}}return r}function _e(e,t,r,i){function n(e){return String(e).match(/^[0-9]+$/)?parseInt(e):Number.isFinite(e)?parseInt(e,10):0}if("string"==typeof t)throw new Error("start cannot be a string");if("string"==typeof r)throw new Error("end cannot be a string");if("string"==typeof i)throw new Error("step cannot be a string");var o=e.length;if(0===i)throw new Error("step cannot be zero");if(i=i?n(i):1,r=r<0?o+r:r,t=n(0===(t=t<0?o+t:t)?0:t||(i>0?0:o-1)),r=n(0===r?0:r||(i>0?o:-1)),t=i>0?Math.max(0,t):Math.min(o,t),r=i>0?Math.min(r,o):Math.max(-1,r),i>0&&r<=t)return[];if(i<0&&t<=r)return[];for(var s=[],a=t;a!=r&&!(i<0&&a<=r||i>0&&a>=r);a+=i)s.push(e[a]);return s}s={Data:1,Get:2,Set:4},a={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},c={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},u={name:"SyntaxTree",processComment:function(e){var t,r;if(!(e.type===w.Program&&e.body.length>0)){for(I.trailingComments.length>0?I.trailingComments[0].range[0]>=e.range[1]?(r=I.trailingComments,I.trailingComments=[]):I.trailingComments.length=0:I.bottomRightStack.length>0&&I.bottomRightStack[I.bottomRightStack.length-1].trailingComments&&I.bottomRightStack[I.bottomRightStack.length-1].trailingComments[0].range[0]>=e.range[1]&&(r=I.bottomRightStack[I.bottomRightStack.length-1].trailingComments,delete I.bottomRightStack[I.bottomRightStack.length-1].trailingComments);I.bottomRightStack.length>0&&I.bottomRightStack[I.bottomRightStack.length-1].range[0]>=e.range[0];)t=I.bottomRightStack.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=t.leadingComments,delete t.leadingComments):I.leadingComments.length>0&&I.leadingComments[I.leadingComments.length-1].range[1]<=e.range[0]&&(e.leadingComments=I.leadingComments,I.leadingComments=[]),r&&(e.trailingComments=r),I.bottomRightStack.push(e)}},markEnd:function(e,t){return I.range&&(e.range=[t.start,l]),I.loc&&(e.loc=new z(void 0===t.startLineNumber?t.lineNumber:t.startLineNumber,t.start-(void 0===t.startLineStart?t.lineStart:t.startLineStart),f,l-p),this.postProcess(e)),I.attachComment&&this.processComment(e),e},postProcess:function(e){return I.source&&(e.loc.source=I.source),e},createArrayExpression:function(e){return{type:w.ArrayExpression,elements:e}},createAssignmentExpression:function(e,t,r){return{type:w.AssignmentExpression,operator:e,left:t,right:r}},createBinaryExpression:function(e,t,r){return{type:"||"===e||"&&"===e?w.LogicalExpression:w.BinaryExpression,operator:e,left:t,right:r}},createBlockStatement:function(e){return{type:w.BlockStatement,body:e}},createBreakStatement:function(e){return{type:w.BreakStatement,label:e}},createCallExpression:function(e,t){return{type:w.CallExpression,callee:e,arguments:t}},createCatchClause:function(e,t){return{type:w.CatchClause,param:e,body:t}},createConditionalExpression:function(e,t,r){return{type:w.ConditionalExpression,test:e,consequent:t,alternate:r}},createContinueStatement:function(e){return{type:w.ContinueStatement,label:e}},createDebuggerStatement:function(){return{type:w.DebuggerStatement}},createDoWhileStatement:function(e,t){return{type:w.DoWhileStatement,body:e,test:t}},createEmptyStatement:function(){return{type:w.EmptyStatement}},createExpressionStatement:function(e){return{type:w.ExpressionStatement,expression:e}},createForStatement:function(e,t,r,i){return{type:w.ForStatement,init:e,test:t,update:r,body:i}},createForInStatement:function(e,t,r){return{type:w.ForInStatement,left:e,right:t,body:r,each:!1}},createFunctionDeclaration:function(e,t,r,i){return{type:w.FunctionDeclaration,id:e,params:t,defaults:r,body:i,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(e,t,r,i){return{type:w.FunctionExpression,id:e,params:t,defaults:r,body:i,rest:null,generator:!1,expression:!1}},createIdentifier:function(e){return{type:w.Identifier,name:e}},createIfStatement:function(e,t,r){return{type:w.IfStatement,test:e,consequent:t,alternate:r}},createLabeledStatement:function(e,t){return{type:w.LabeledStatement,label:e,body:t}},createLiteral:function(e){return{type:w.Literal,value:e.value,raw:h.slice(e.start,e.end)}},createMemberExpression:function(e,t,r){return{type:w.MemberExpression,computed:"["===e,object:t,property:r}},createNewExpression:function(e,t){return{type:w.NewExpression,callee:e,arguments:t}},createObjectExpression:function(e){return{type:w.ObjectExpression,properties:e}},createPostfixExpression:function(e,t){return{type:w.UpdateExpression,operator:e,argument:t,prefix:!1}},createProgram:function(e){return{type:w.Program,body:e}},createProperty:function(e,t,r){return{type:w.Property,key:t,value:r,kind:e}},createReturnStatement:function(e){return{type:w.ReturnStatement,argument:e}},createSequenceExpression:function(e){return{type:w.SequenceExpression,expressions:e}},createSwitchCase:function(e,t){return{type:w.SwitchCase,test:e,consequent:t}},createSwitchStatement:function(e,t){return{type:w.SwitchStatement,discriminant:e,cases:t}},createThisExpression:function(){return{type:w.ThisExpression}},createThrowStatement:function(e){return{type:w.ThrowStatement,argument:e}},createTryStatement:function(e,t,r,i){return{type:w.TryStatement,block:e,guardedHandlers:t,handlers:r,finalizer:i}},createUnaryExpression:function(e,t){return"++"===e||"--"===e?{type:w.UpdateExpression,operator:e,argument:t,prefix:!0}:{type:w.UnaryExpression,operator:e,argument:t,prefix:!0}},createVariableDeclaration:function(e,t){return{type:w.VariableDeclaration,declarations:e,kind:t}},createVariableDeclarator:function(e,t){return{type:w.VariableDeclarator,id:e,init:t}},createWhileStatement:function(e,t){return{type:w.WhileStatement,test:e,body:t}},createWithStatement:function(e,t){return{type:w.WithStatement,object:e,body:t}}};var Qe=r(75209),De=r.n(Qe);function ke(e){return function(t,r,i,n){var o=t.value,s=t.path,a=[],c=function(t,o){var s;Oe(t)?(t.forEach((function(e,t){a.length>=n||i(t,e,r)&&a.push({path:o.concat(t),value:e})})),t.forEach((function(t,r){a.length>=n||e&&c(t,o.concat(r))}))):(s=t)&&!(s instanceof Array)&&s instanceof Object&&(Object.keys(t).forEach((function(e){a.length>=n||i(e,t[e],r)&&a.push({path:o.concat(e),value:t[e]})})),Object.keys(t).forEach((function(r){a.length>=n||e&&c(t[r],o.concat(r))})))}.bind(this);return c(o,s),a}}function Me(e,t){try{return De()(e,t)}catch(e){}}function Pe(e){return function(t,r,i){return this.descend(r,t.expression.value,e,i)}}function xe(e){return function(t,r,i){return this.traverse(r,t.expression.value,e,i)}}function Fe(e){return function(e,t){for(var r=[],i=[],n=0,o=null==e?void 0:e.length;n<o;n++){var s=e[n],a=t?t(s):s;i.includes(a)||(i.push(a),r.push(s))}return r}(e=e.filter((function(e){return e})),(function(e){return e.path.map((function(e){return String(e).replace("-","--")})).join("-")}))}function Re(e){var t=String(e);return t.match(/^-?[0-9]+$/)?parseInt(t):null}function Oe(e){return Array.isArray(e)}function Te(e,t,r){var i=Me(Se(t).body[0].expression,{"@":e.value}),n=r.replace(/\{\{\s*value\s*\}\}/g,i),o=qe.nodes(e.value,n);return o.forEach((function(t){t.path=e.path.concat(t.path.slice(1))})),o}var Ne=function(){function e(){this._fns={"member-child-identifier":function(e,t){var r=e.expression.value,i=t.value;if(i instanceof Object&&r in i)return[{value:i[r],path:t.path.concat(r)}]},"member-descendant-identifier":xe((function(e,t,r){return e==r})),"subscript-child-numeric_literal":Pe((function(e,t,r){return e===r})),"member-child-numeric_literal":Pe((function(e,t,r){return String(e)===String(r)})),"subscript-descendant-numeric_literal":xe((function(e,t,r){return e===r})),"member-child-wildcard":Pe((function(){return!0})),"member-descendant-wildcard":xe((function(){return!0})),"subscript-descendant-wildcard":xe((function(){return!0})),"subscript-child-wildcard":Pe((function(){return!0})),"subscript-child-slice":function(e,t){if(Oe(t.value)){var r=e.expression.value.split(":").map(Re),i=t.value.map((function(e,r){return{value:e,path:t.path.concat(r)}}));return _e.apply(null,[i].concat(r))}},"subscript-child-union":function(e,t){var r=[];return e.expression.value.forEach((function(e){var i={operation:"subscript",scope:"child",expression:e.expression},n=this.resolve(i)(i,t);n&&(r=r.concat(n))}),this),Fe(r)},"subscript-descendant-union":function(e,t,r){var i=this,n=[];return qe.nodes(t,"$..*").slice(1).forEach((function(t){n.length>=r||e.expression.value.forEach((function(e){var r={operation:"subscript",scope:"child",expression:e.expression},o=i.resolve(r)(r,t);n=n.concat(o)}))})),Fe(n)},"subscript-child-filter_expression":function(e,t,r){var i=Se(e.expression.value.slice(2,-1)).body[0].expression;return this.descend(t,null,(function(e,t){return Me(i,{"@":t})}),r)},"subscript-descendant-filter_expression":function(e,t,r){var i=Se(e.expression.value.slice(2,-1)).body[0].expression;return this.traverse(t,null,(function(e,t){return Me(i,{"@":t})}),r)},"subscript-child-script_expression":function(e,t){return Te(t,e.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(e,t){return Te(t,e.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(e,t){return Te(t,e.expression.value.slice(1,-1),"$..value")}},this.initialize()}return e.prototype.initialize=function(){this.traverse=ke(!0),this.descend=ke(),this._fns["subscript-child-string_literal"]=this._fns["member-child-identifier"],this._fns["member-descendant-numeric_literal"]=this._fns["subscript-descendant-string_literal"]=this._fns["member-descendant-identifier"]},e.prototype.resolve=function(e){var t=[e.operation,e.scope,e.expression.type].join("-"),r=this._fns[t];if(!r)throw new Error("couldn't resolve key: "+t);return r.bind(this)},e.prototype.register=function(e,t){if(!(t instanceof Function))throw new Error("handler must be a function");this._fns[e]=t},e}(),Ue=r(19929);function je(){var e=new Ue._b,t=e.parseError;return e.yy.parseError=function(){e.yy.ast&&e.yy.ast.initialize(),t.apply(e,arguments)},e}var Le=function(){function e(){}return e.ok=function(e,t){if(!e)throw new Error(t)},e.equal=function(e,t,r){if(e!==t)throw new Error(r)},e}(),qe=function(){function e(){}return e.parse=function(e){return Le.ok("string"==typeof e,"we need a path"),(new je).parse(e)},e.parent=function(e,t){Le.ok(e instanceof Object,"obj needs to be an object"),Le.ok(t,"we need a path");var r=this.nodes(e,t)[0];return r.path.pop(),this.value(e,r.path)},e.apply=function(e,t,r){Le.ok(e instanceof Object,"obj needs to be an object"),Le.ok(t,"we need a path"),Le.equal(typeof r,"function","fn needs to be function");var i=this.nodes(e,t).sort((function(e,t){return t.path.length-e.path.length}));return i.forEach((function(t){var i=t.path.pop(),n=this.value(e,this.stringify(t.path)),o=t.value=r.call(e,n[i]);n[i]=o}),this),i},e.value=function(e,t,r){if(Le.ok(e instanceof Object,"obj needs to be an object"),Le.ok(t,"we need a path"),void 0!==r){var i=this.nodes(e,t).shift();if(!i)return this._vivify(e,t,r);var n=i.path.slice(-1).shift();this.parent(e,this.stringify(i.path))[n]=r}return this.query(e,this.stringify(t),1).shift()},e._vivify=function(e,t,r){var i=this;Le.ok(e instanceof Object,"obj needs to be an object"),Le.ok(t,"we need a path");var n=(new je).parse(t).map((function(e){return e.expression.value})),o=function(t,r){var n=t.pop(),s=i.value(e,t);s||(o(t.concat(),"string"==typeof n?{}:[]),s=i.value(e,t)),s[n]=r};return o(n,r),this.query(e,t)[0]},e.query=function(e,t,r){return Le.ok(e instanceof Object,"obj needs to be an object"),Le.ok("string"==typeof t,"we need a path"),this.nodes(e,t,r).map((function(e){return e.value}))},e.paths=function(e,t,r){return Le.ok(e instanceof Object,"obj needs to be an object"),Le.ok(t,"we need a path"),this.nodes(e,t,r).map((function(e){return e.path}))},e.nodes=function(e,t,r){if(Le.ok(e instanceof Object,"obj needs to be an object"),Le.ok(t,"we need a path"),0===r)return[];var i=(new je).parse(t),n=new Ne,o=[{path:["$"],value:e}],s=[];return i.length&&"root"==i[0].expression.type&&i.shift(),i.length?(i.forEach((function(e,t){if(!(s.length>=r)){var a=n.resolve(e),c=[];o.forEach((function(n){if(!(s.length>=r)){var o=a(e,n,r);t==i.length-1?s=s.concat(o||[]):c=c.concat(o||[])}})),o=c}})),r?s.slice(0,r):s):o},e.stringify=function(e){Le.ok(e,"we need a path");var t="$",r={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(e=this._normalize(e)).forEach((function(e){if("root"!=e.expression.type){var i,n=[e.scope,e.operation].join("-"),o=r[n];if(i="string_literal"==e.expression.type?JSON.stringify(e.expression.value):e.expression.value,!o)throw new Error("couldn't find template "+n);t+=o.replace(/{{value}}/,i)}})),t},e._normalize=function(e){if(Le.ok(e,"we need a path"),"string"==typeof e)return(new je).parse(e);if(Array.isArray(e)&&"string"==typeof e[0]){var t=[{expression:{type:"root",value:"$"}}];return e.forEach((function(e,r){if("$"!=e||0!==r)if("string"==typeof e&&e.match("^[a-zA-Z_]+[a-zA-Z0-9_]*$"))t.push({operation:"member",scope:"child",expression:{value:e,type:"identifier"}});else{var i="number"==typeof e?"numeric_literal":"string_literal";t.push({operation:"subscript",scope:"child",expression:{value:e,type:i}})}})),t}if(Array.isArray(e)&&"object"==typeof e[0])return e;throw new Error("couldn't understand path "+e)},e}()},19929:(e,t)=>{var r=function(){var e=function(e,t,r,i){for(r=r||{},i=e.length;i--;r[e[i]]=t);return r},t=[1,5],r=[1,6],i=[1,7],n=[1,8],o=[1,9],s=[1,18],a=[1,19],c=[1,20],u=[1,12,14,22],h=[1,29],d=[1,30],l=[1,33],f=[1,35],p=[1,31],A=[1,36],g=[1,37],m=[24,28],y={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(e,t,r,i,n,o,s){i.ast||(i.ast=I,I.initialize());var a=o.length-1;switch(n){case 1:return i.ast.set({expression:{type:"root",value:o[a]}}),i.ast.unshift(),i.ast.yield();case 2:return i.ast.set({expression:{type:"root",value:o[a-1]}}),i.ast.unshift(),i.ast.yield();case 3:return i.ast.unshift(),i.ast.yield();case 4:return i.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:o[a-1]}}),i.ast.unshift(),i.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:i.ast.set({operation:"member"}),i.ast.push();break;case 8:i.ast.set({operation:"subscript"}),i.ast.push();break;case 9:case 19:i.ast.set({scope:"child"});break;case 10:case 20:i.ast.set({scope:"descendant"});break;case 12:i.ast.set({scope:"child",operation:"member"});break;case 14:i.ast.set({expression:{type:"wildcard",value:o[a]}});break;case 15:i.ast.set({expression:{type:"identifier",value:o[a]}});break;case 16:i.ast.set({expression:{type:"script_expression",value:o[a]}});break;case 17:i.ast.set({expression:{type:"numeric_literal",value:parseInt(o[a])}});break;case 24:o[a].length>1?i.ast.set({expression:{type:"union",value:o[a]}}):this.$=o[a];break;case 25:this.$=[o[a]];break;case 26:this.$=o[a-2].concat(o[a]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(o[a])}},i.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:o[a]}},i.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:o[a]}},i.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:o[a]}},i.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:o[a]}},i.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:o[a]}},i.ast.set(this.$);break;case 33:case 34:this.$=o[a]}},table:[{3:1,4:[1,2],6:3,13:4,15:t,16:r,17:i,18:n,19:o},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:s,14:a,20:16,21:17,22:c},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:s,14:a,20:16,21:17,22:c},e(u,[2,12]),e(u,[2,14]),e(u,[2,15]),e(u,[2,16]),e(u,[2,17]),e(u,[2,18]),{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:s,14:a,20:16,21:17,22:c},e(u,[2,5]),e(u,[2,7]),e(u,[2,8]),e(u,[2,9]),e(u,[2,10]),e(u,[2,19]),e(u,[2,20]),{13:23,15:t,16:r,17:i,18:n,19:o},{13:24,15:t,16:r,17:i,18:n,19:o,22:[1,25]},{15:h,17:d,18:l,23:26,25:27,26:28,27:32,29:34,30:f,31:p,32:A,33:g},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:s,14:a,20:16,21:17,22:c},e(u,[2,6]),e(u,[2,11]),e(u,[2,13]),{15:h,17:d,18:l,23:38,25:27,26:28,27:32,29:34,30:f,31:p,32:A,33:g},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},e(m,[2,25]),e(m,[2,27]),e(m,[2,28]),e(m,[2,29]),e(m,[2,33]),e(m,[2,34]),{24:[1,41]},e(u,[2,21]),{18:l,27:42,29:34,30:f,32:A,33:g},e(u,[2,22]),e(m,[2,26])],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],i=[null],n=[],o=this.table,s="",a=0,c=0,u=0,h=n.slice.call(arguments,1),d=Object.create(this.lexer),l={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(l.yy[f]=this.yy[f]);d.setInput(e,l.yy),l.yy.lexer=d,l.yy.parser=this,void 0===d.yylloc&&(d.yylloc={});var p=d.yylloc;n.push(p);var A,g=d.options&&d.options.ranges;"function"==typeof l.yy.parseError?this.parseError=l.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,y,I,w,b,v,E,C,B,S={};;){if(I=r[r.length-1],this.defaultActions[I]?w=this.defaultActions[I]:(null==m&&(A=void 0,"number"!=typeof(A=d.lex()||1)&&(A=t.symbols_[A]||A),m=A),w=o[I]&&o[I][m]),void 0===w||!w.length||!w[0]){var _;for(v in B=[],o[I])this.terminals_[v]&&v>2&&B.push("'"+this.terminals_[v]+"'");_=d.showPosition?"Parse error on line "+(a+1)+":\n"+d.showPosition()+"\nExpecting "+B.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==m?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(_,{text:d.match,token:this.terminals_[m]||m,line:d.yylineno,loc:p,expected:B})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+m);switch(w[0]){case 1:r.push(m),i.push(d.yytext),n.push(d.yylloc),r.push(w[1]),m=null,y?(m=y,y=null):(c=d.yyleng,s=d.yytext,a=d.yylineno,p=d.yylloc,u>0&&u--);break;case 2:if(E=this.productions_[w[1]][1],S.$=i[i.length-E],S._$={first_line:n[n.length-(E||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(E||1)].first_column,last_column:n[n.length-1].last_column},g&&(S._$.range=[n[n.length-(E||1)].range[0],n[n.length-1].range[1]]),void 0!==(b=this.performAction.apply(S,[s,c,a,l.yy,w[1],i,n].concat(h))))return b;E&&(r=r.slice(0,-1*E*2),i=i.slice(0,-1*E),n=n.slice(0,-1*E)),r.push(this.productions_[w[1]][0]),i.push(S.$),n.push(S._$),C=o[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}},I={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(e){for(var t in e)this._node[t]=e[t];return this._node},node:function(e){return arguments.length&&(this._node=e),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var e=this._nodes;return this.initialize(),e}},w={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===i.length?this.yylloc.first_column:0)+i[i.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,i,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in n)this[o]=n[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),o=0;o<n.length;o++)if((r=this._input.match(this.rules[n[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,n[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,n[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,i){switch(r){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return t.yytext=t.yytext.substr(1,t.yyleng-2),32;case 11:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function b(){this.yy={}}return y.lexer=w,b.prototype=y,y.Parser=b,new b}();t._b=r.Parser},24603:function(e,t){var r="undefined"!=typeof self?self:this,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function A(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&n&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var e,t,r,i=f(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=p(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=u(e),t=h(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=h(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},i&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function I(e,t){var r,i,n=(t=t||{}).body;if(e instanceof I){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),y.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})},m.call(I.prototype),m.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];b.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise((function(i,o){var s=new I(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new b(n,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=l,e.Request=I,e.Response=b),t.Headers=l,t.Request=I,t.Response=b,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=i;(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t},74861:(e,t,r)=>{const i=r(24603),n=r(18962),o=r(48764).Buffer;e.exports=class{static randomHexString(){const e=Math.floor(Math.random()*Math.floor(500)),t=[...Array(e)].map((()=>Math.floor(16*Math.random()).toString(16))).join("");return o.from(t).toString("hex")}static async submitIonRequestUntilSuccess(e,t,r){let i;for(;void 0===i;)i=await this.submitIonRequest(e,t,r)}static async submitIonRequest(e,t,r){console.log(`Getting challenge from: ${e}`);const s=await i(e,{mode:"cors"});if(!s.ok)throw new Error("Get challenge service not available");const a=await s.json();console.log(a);const c=a.challengeNonce,u=a.largestAllowedHash,h=60*a.validDurationInMinutes*1e3;let d="",l="";console.log(`Solving for body:\n${r}`);const f=Date.now();do{l=this.randomHexString(),d=await n.argon2id({password:o.from(l,"hex").toString()+r,salt:o.from(c,"hex"),parallelism:1,iterations:1,memorySize:1e3,hashLength:32,outputType:"hex"}),console.log(d),console.log(u)}while(d>u&&Date.now()-f<h);if(Date.now()-f>h)return;console.log("3");const p=await i(t,{method:"POST",mode:"cors",body:r,headers:{"Challenge-Nonce":c,"Answer-Nonce":l,"Content-Type":"application/json"}});if(p.status>=500)console.log(`Unexpected 5xx response: ${await p.text()}`);else if(p.status>=400)console.log(`Bed request: ${await p.text()}`),console.log("Retrying with new challenge and difficulty");else{if(!(p.status>=300)){console.log("Successful registration");const e=await p.text();return console.log(e),e}console.log(`Unexpected 3xx response: ${await p.text()}`)}}}},28820:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var n=e.charAt(i),o=n.charCodeAt(0);if(255!==t[o])throw new TypeError(n+" is ambiguous");t[o]=i}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var r=0;if(" "!==e[r]){for(var i=0,n=0;e[r]===a;)i++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var h=t[e.charCodeAt(r)];if(255===h)return;for(var d=0,l=o-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=s*u[l]>>>0,u[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,r++}if(" "!==e[r]){for(var f=o-n;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(i+(o-f)),A=i;f!==o;)p[A++]=u[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var c=(o-n)*u+1>>>0,h=new Uint8Array(c);n!==o;){for(var d=t[n],l=0,f=c-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=256*h[f]>>>0,h[f]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var p=c-i;p!==c&&0===h[p];)p++;for(var A=a.repeat(r);p<c;++p)A+=e.charAt(h[p]);return A},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},79082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCurve=t.getHash=void 0;const i=r(79569),n=r(98089),o=r(96551);function s(e){return{hash:e,hmac:(t,...r)=>(0,i.hmac)(e,t,(0,n.concatBytes)(...r)),randomBytes:n.randomBytes}}t.getHash=s,t.createCurve=function(e,t){const r=t=>(0,o.weierstrass)({...e,...s(t)});return Object.freeze({...r(t),create:r})}},81525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateBasic=t.wNAF=void 0;const i=r(94632),n=r(40219),o=BigInt(0),s=BigInt(1);t.wNAF=function(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},i=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let i=e.ZERO,n=t;for(;r>o;)r&s&&(i=i.add(n)),n=n.double(),r>>=s;return i},precomputeWindow(e,t){const{windows:r,windowSize:n}=i(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<n;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,n,o){const{windows:a,windowSize:c}=i(t);let u=e.ZERO,h=e.BASE;const d=BigInt(2**t-1),l=2**t,f=BigInt(t);for(let e=0;e<a;e++){const t=e*c;let i=Number(o&d);o>>=f,i>c&&(i-=l,o+=s);const a=t,p=t+Math.abs(i)-1,A=e%2!=0,g=i<0;0===i?h=h.add(r(A,n[a])):u=u.add(r(g,n[p]))}return{p:u,f:h}},wNAFCached(e,t,r,i){const n=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,n),1!==n&&t.set(e,i(o))),this.wNAF(n,o,r)}}},t.validateBasic=function(e){return(0,i.validateField)(e.Fp),(0,n.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,i.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},15134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHasher=t.isogenyMap=t.hash_to_field=t.expand_message_xof=t.expand_message_xmd=void 0;const i=r(94632),n=r(40219),o=n.bytesToNumberBE;function s(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let i=t-1;i>=0;i--)r[i]=255&e,e>>>=8;return new Uint8Array(r)}function a(e,t){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e[i]^t[i];return r}function c(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function u(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function h(e,t,r,i){c(e),c(t),u(r),t.length>255&&(t=i((0,n.concatBytes)((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:o,blockLen:h}=i,d=Math.ceil(r/o);if(d>255)throw new Error("Invalid xmd length");const l=(0,n.concatBytes)(t,s(t.length,1)),f=s(0,h),p=s(r,2),A=new Array(d),g=i((0,n.concatBytes)(f,e,p,s(0,1),l));A[0]=i((0,n.concatBytes)(g,s(1,1),l));for(let e=1;e<=d;e++){const t=[a(g,A[e-1]),s(e+1,1),l];A[e]=i((0,n.concatBytes)(...t))}return(0,n.concatBytes)(...A).slice(0,r)}function d(e,t,r,i,o){if(c(e),c(t),u(r),t.length>255){const e=Math.ceil(2*i/8);t=o.create({dkLen:e}).update((0,n.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return o.create({dkLen:r}).update(e).update(s(r,2)).update(t).update(s(t.length,1)).digest()}function l(e,t,r){(0,n.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:s,k:a,m:l,hash:f,expand:p,DST:A}=r;c(e),u(t);const g=function(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)return(0,n.utf8ToBytes)(e);throw new Error("DST must be Uint8Array or string")}(A),m=s.toString(2).length,y=Math.ceil((m+a)/8),I=t*l*y;let w;if("xmd"===p)w=h(e,g,I,f);else if("xof"===p)w=d(e,g,I,a,f);else{if("_internal_pass"!==p)throw new Error('expand must be "xmd" or "xof"');w=e}const b=new Array(t);for(let e=0;e<t;e++){const t=new Array(l);for(let r=0;r<l;r++){const n=y*(r+e*l),a=w.subarray(n,n+y);t[r]=(0,i.mod)(o(a),s)}b[e]=t}return b}t.expand_message_xmd=h,t.expand_message_xof=d,t.hash_to_field=l,t.isogenyMap=function(e,t){const r=t.map((e=>Array.from(e).reverse()));return(t,i)=>{const[n,o,s,a]=r.map((r=>r.reduce(((r,i)=>e.add(e.mul(r,t),i)))));return t=e.div(n,o),i=e.mul(i,e.div(s,a)),{x:t,y:i}}},t.createHasher=function(e,t,r){if("function"!=typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(i,n){const o=l(i,2,{...r,DST:r.DST,...n}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),c=s.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(i,n){const o=l(i,1,{...r,DST:r.encodeDST,...n}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s}}}},94632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashToPrivateScalar=t.FpSqrtEven=t.FpSqrtOdd=t.Field=t.nLength=t.FpIsSquare=t.FpDiv=t.FpInvertBatch=t.FpPow=t.validateField=t.isNegativeLE=t.FpSqrt=t.tonelliShanks=t.invert=t.pow2=t.pow=t.mod=void 0;const i=r(40219),n=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),c=BigInt(4),u=BigInt(5),h=BigInt(8);function d(e,t){const r=e%t;return r>=n?r:t+r}function l(e,t,r){if(r<=n||t<n)throw new Error("Expected power/modulo > 0");if(r===o)return n;let i=o;for(;t>n;)t&o&&(i=i*e%r),e=e*e%r,t>>=o;return i}function f(e,t){if(e===n||t<=n)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d(e,t),i=t,s=n,a=o,c=o,u=n;for(;r!==n;){const e=i/r,t=i%r,n=s-c*e,o=a-u*e;i=r,r=t,s=c,a=u,c=n,u=o}if(i!==o)throw new Error("invert: does not exist");return d(s,t)}function p(e){const t=(e-o)/s;let r,i,a;for(r=e-o,i=0;r%s===n;r/=s,i++);for(a=s;a<e&&l(a,t,e)!==e-o;a++);if(1===i){const t=(e+o)/c;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}const u=(r+o)/s;return function(e,n){if(e.pow(n,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let s=i,c=e.pow(e.mul(e.ONE,a),r),h=e.pow(n,u),d=e.pow(n,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,o<<BigInt(s-t-1));c=e.sqr(r),h=e.mul(h,r),d=e.mul(d,c),s=t}return h}}function A(e){if(e%c===a){const t=(e+o)/c;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%h===u){const t=(e-u)/h;return function(e,r){const i=e.mul(r,s),n=e.pow(i,t),o=e.mul(r,n),a=e.mul(e.mul(o,s),n),c=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return p(e)}BigInt(9),BigInt(16),t.mod=d,t.pow=l,t.pow2=function(e,t,r){let i=e;for(;t-- >n;)i*=i,i%=r;return i},t.invert=f,t.tonelliShanks=p,t.FpSqrt=A,t.isNegativeLE=(e,t)=>(d(e,t)&o)===o;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function m(e,t,r){if(r<n)throw new Error("Expected power > 0");if(r===n)return e.ONE;if(r===o)return t;let i=e.ONE,s=t;for(;r>n;)r&o&&(i=e.mul(i,s)),s=e.sqr(s),r>>=o;return i}function y(e,t){const r=new Array(t.length),i=t.reduce(((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i))),e.ONE),n=e.inv(i);return t.reduceRight(((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i))),n),r}function I(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}t.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,i.validateObject)(e,t)},t.FpPow=m,t.FpInvertBatch=y,t.FpDiv=function(e,t,r){return e.mul(t,"bigint"==typeof r?f(r,e.ORDER):e.inv(r))},t.FpIsSquare=function(e){const t=(e.ORDER-o)/s;return r=>{const i=e.pow(r,t);return e.eql(i,e.ZERO)||e.eql(i,e.ONE)}},t.nLength=I,t.Field=function(e,t,r=!1,s={}){if(e<=n)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:c}=I(e,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const u=A(e),h=Object.freeze({ORDER:e,BITS:a,BYTES:c,MASK:(0,i.bitMask)(a),ZERO:n,ONE:o,create:t=>d(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return n<=t&&t<e},is0:e=>e===n,isOdd:e=>(e&o)===o,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>m(h,e,t),div:(t,r)=>d(t*f(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>f(t,e),sqrt:s.sqrt||(e=>u(h,e)),invertBatch:e=>y(h,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,i.numberToBytesLE)(e,c):(0,i.numberToBytesBE)(e,c),fromBytes:e=>{if(e.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${e.length}`);return r?(0,i.bytesToNumberLE)(e):(0,i.bytesToNumberBE)(e)}});return Object.freeze(h)},t.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)},t.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r},t.hashToPrivateScalar=function(e,t,r=!1){const n=(e=(0,i.ensureBytes)("privateHash",e)).length,s=I(t).nByteLength+8;if(s<24||n<s||n>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${n}`);return d(r?(0,i.bytesToNumberLE)(e):(0,i.bytesToNumberBE)(e),t-o)+o}},40219:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateObject=t.createHmacDrbg=t.bitMask=t.bitSet=t.bitGet=t.bitLen=t.utf8ToBytes=t.equalBytes=t.concatBytes=t.ensureBytes=t.numberToVarBytesBE=t.numberToBytesLE=t.numberToBytesBE=t.bytesToNumberLE=t.bytesToNumberBE=t.hexToBytes=t.hexToNumber=t.numberToHexUnpadded=t.bytesToHex=void 0;const r=BigInt(0),i=BigInt(1),n=BigInt(2),o=e=>e instanceof Uint8Array,s=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function a(e){if(!o(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t}function c(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function u(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function h(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const i=2*t,n=e.slice(i,i+2),o=Number.parseInt(n,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[t]=o}return r}function d(e,t){return h(e.toString(16).padStart(2*t,"0"))}function l(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!o(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}t.bytesToHex=a,t.numberToHexUnpadded=c,t.hexToNumber=u,t.hexToBytes=h,t.bytesToNumberBE=function(e){return u(a(e))},t.bytesToNumberLE=function(e){if(!o(e))throw new Error("Uint8Array expected");return u(a(Uint8Array.from(e).reverse()))},t.numberToBytesBE=d,t.numberToBytesLE=function(e,t){return d(e,t).reverse()},t.numberToVarBytesBE=function(e){return h(c(e))},t.ensureBytes=function(e,t,r){let i;if("string"==typeof t)try{i=h(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!o(t))throw new Error(`${e} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const n=i.length;if("number"==typeof r&&n!==r)throw new Error(`${e} expected ${r} bytes, got ${n}`);return i},t.concatBytes=l,t.equalBytes=function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},t.utf8ToBytes=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))},t.bitLen=function(e){let t;for(t=0;e>r;e>>=i,t+=1);return t},t.bitGet=function(e,t){return e>>BigInt(t)&i},t.bitSet=(e,t,n)=>e|(n?i:r)<<BigInt(t),t.bitMask=e=>(n<<BigInt(e-1))-i;const f=e=>new Uint8Array(e),p=e=>Uint8Array.from(e);t.createHmacDrbg=function(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let i=f(e),n=f(e),o=0;const s=()=>{i.fill(1),n.fill(0),o=0},a=(...e)=>r(n,i,...e),c=(e=f())=>{n=a(p([0]),e),i=a(),0!==e.length&&(n=a(p([1]),e),i=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){i=a();const t=i.slice();r.push(t),e+=i.length}return l(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(u()));)c();return s(),r}};const A={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};t.validateObject=function(e,t,r={}){const i=(t,r,i)=>{const n=A[r];if("function"!=typeof n)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(i&&void 0===o||n(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))i(e,r,!1);for(const[e,t]of Object.entries(r))i(e,t,!0);return e}},96551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;const i=r(94632),n=r(40219),o=r(40219),s=r(81525),{bytesToNumberBE:a,hexToBytes:c}=n;t.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:r}=t.DER;if(e.length<2||2!==e[0])throw new r("Invalid signature integer tag");const i=e[1],n=e.subarray(2,i+2);if(!i||n.length!==i)throw new r("Invalid signature integer: wrong length");if(128&n[0])throw new r("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:a(n),l:e.subarray(i+2)}},toSig(e){const{Err:r}=t.DER,i="string"==typeof e?c(e):e;if(!(i instanceof Uint8Array))throw new Error("ui8a expected");let n=i.length;if(n<2||48!=i[0])throw new r("Invalid signature tag");if(i[1]!==n-2)throw new r("Invalid signature: incorrect length");const{d:o,l:s}=t.DER._parseInt(i.subarray(2)),{d:a,l:u}=t.DER._parseInt(s);if(u.length)throw new r("Invalid signature: left bytes after parsing");return{r:o,s:a}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},i=t(r(e.s)),n=t(r(e.r)),o=i.length/2,s=n.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${n}02${a}${i}`}};const u=BigInt(0),h=BigInt(1),d=BigInt(2),l=BigInt(3),f=BigInt(4);function p(e){const t=function(e){const t=(0,s.validateBasic)(e);n.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:o}=t;if(r){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,a=t.toBytes||((e,t,i)=>{const o=t.toAffine();return n.concatBytes(Uint8Array.from([4]),r.toBytes(o.x),r.toBytes(o.y))}),c=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function d(e){const{a:i,b:n}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,i)),n)}if(!r.eql(r.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function f(e){return"bigint"==typeof e&&u<e&&e<t.n}function p(e){if(!f(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function A(e){const{allowedPrivateKeyLengths:r,nByteLength:s,wrapPrivateKey:a,n:c}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=n.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*s,"0")}let u;try{u="bigint"==typeof e?e:n.bytesToNumberBE((0,o.ensureBytes)("private key",e,s))}catch(t){throw new Error(`private key must be ${s} bytes, hex or bigint, not ${typeof e}`)}return a&&(u=i.mod(u,c)),p(u),u}const g=new Map;function m(e){if(!(e instanceof y))throw new Error("ProjectivePoint expected")}class y{constructor(e,t,i){if(this.px=e,this.py=t,this.pz=i,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==i||!r.isValid(i))throw new Error("z required")}static fromAffine(e){const{x:t,y:i}=e||{};if(!e||!r.isValid(t)||!r.isValid(i))throw new Error("invalid affine point");if(e instanceof y)throw new Error("projective point not allowed");const n=e=>r.eql(e,r.ZERO);return n(t)&&n(i)?y.ZERO:new y(t,i,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(y.fromAffine)}static fromHex(e){const t=y.fromAffine(c((0,o.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return y.BASE.multiply(A(e))}_setWindowSize(e){this._WINDOW_SIZE=e,g.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:i}=this.toAffine();if(!r.isValid(e)||!r.isValid(i))throw new Error("bad point: x or y not FE");const n=r.sqr(i),o=d(e);if(!r.eql(n,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){m(e);const{px:t,py:i,pz:n}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,n)),u=r.eql(r.mul(i,a),r.mul(s,n));return c&&u}negate(){return new y(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:i}=t,n=r.mul(i,l),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,h=r.ZERO,d=r.mul(o,o),f=r.mul(s,s),p=r.mul(a,a),A=r.mul(o,s);return A=r.add(A,A),h=r.mul(o,a),h=r.add(h,h),c=r.mul(e,h),u=r.mul(n,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(A,c),h=r.mul(n,h),p=r.mul(e,p),A=r.sub(d,p),A=r.mul(e,A),A=r.add(A,h),h=r.add(d,d),d=r.add(h,d),d=r.add(d,p),d=r.mul(d,A),u=r.add(u,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,A),c=r.sub(c,d),h=r.mul(p,f),h=r.add(h,h),h=r.add(h,h),new y(c,u,h)}add(e){m(e);const{px:i,py:n,pz:o}=this,{px:s,py:a,pz:c}=e;let u=r.ZERO,h=r.ZERO,d=r.ZERO;const f=t.a,p=r.mul(t.b,l);let A=r.mul(i,s),g=r.mul(n,a),I=r.mul(o,c),w=r.add(i,n),b=r.add(s,a);w=r.mul(w,b),b=r.add(A,g),w=r.sub(w,b),b=r.add(i,o);let v=r.add(s,c);return b=r.mul(b,v),v=r.add(A,I),b=r.sub(b,v),v=r.add(n,o),u=r.add(a,c),v=r.mul(v,u),u=r.add(g,I),v=r.sub(v,u),d=r.mul(f,b),u=r.mul(p,I),d=r.add(u,d),u=r.sub(g,d),d=r.add(g,d),h=r.mul(u,d),g=r.add(A,A),g=r.add(g,A),I=r.mul(f,I),b=r.mul(p,b),g=r.add(g,I),I=r.sub(A,I),I=r.mul(f,I),b=r.add(b,I),A=r.mul(g,b),h=r.add(h,A),A=r.mul(v,b),u=r.mul(w,u),u=r.sub(u,A),A=r.mul(w,g),d=r.mul(v,d),d=r.add(d,A),new y(u,h,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(y.ZERO)}wNAF(e){return w.wNAFCached(this,g,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(y.fromAffine)}))}multiplyUnsafe(e){const i=y.ZERO;if(e===u)return i;if(p(e),e===h)return this;const{endo:n}=t;if(!n)return w.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:a,k2:c}=n.splitScalar(e),d=i,l=i,f=this;for(;s>u||c>u;)s&h&&(d=d.add(f)),c&h&&(l=l.add(f)),f=f.double(),s>>=h,c>>=h;return o&&(d=d.negate()),a&&(l=l.negate()),l=new y(r.mul(l.px,n.beta),l.py,l.pz),d.add(l)}multiply(e){p(e);let i,n,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:h}=this.wNAF(t),{p:d,f:l}=this.wNAF(c);u=w.constTimeNegate(e,u),d=w.constTimeNegate(a,d),d=new y(r.mul(d.px,s.beta),d.py,d.pz),i=u.add(d),n=h.add(l)}else{const{p:e,f:t}=this.wNAF(o);i=e,n=t}return y.normalizeZ([i,n])[0]}multiplyAndAddUnsafe(e,t,r){const i=y.BASE,n=(e,t)=>t!==u&&t!==h&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t),o=n(this,t).add(n(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:i,pz:n}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(n));const s=r.mul(t,e),a=r.mul(i,e),c=r.mul(n,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===h)return!0;if(r)return r(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===h?this:r?r(y,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),a(y,this,e)}toHex(e=!0){return n.bytesToHex(this.toRawBytes(e))}}y.BASE=new y(t.Gx,t.Gy,r.ONE),y.ZERO=new y(r.ZERO,r.ONE,r.ZERO);const I=t.nBitLength,w=(0,s.wNAF)(y,t.endo?Math.ceil(I/2):I);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:A,weierstrassEquation:d,isWithinCurveOrder:f}}function A(e,t){const r=e.ORDER;let i=u;for(let e=r-h;e%d===u;e/=d)i+=h;const n=i,o=d<<n-h-h,s=o*d,a=(r-h)/s,c=(a-h)/d,p=s-h,A=o,g=e.pow(t,a),m=e.pow(t,(a+h)/d);let y=(t,r)=>{let i=g,o=e.pow(r,p),s=e.sqr(o);s=e.mul(s,r);let a=e.mul(t,s);a=e.pow(a,c),a=e.mul(a,o),o=e.mul(a,r),s=e.mul(a,t);let u=e.mul(s,o);a=e.pow(u,A);let l=e.eql(a,e.ONE);o=e.mul(s,m),a=e.mul(u,i),s=e.cmov(o,s,l),u=e.cmov(a,u,l);for(let t=n;t>h;t--){let r=t-d;r=d<<r-h;let n=e.pow(u,r);const a=e.eql(n,e.ONE);o=e.mul(s,i),i=e.mul(i,i),n=e.mul(u,i),s=e.cmov(o,s,a),u=e.cmov(n,u,a)}return{isValid:l,value:s}};if(e.ORDER%f===l){const r=(e.ORDER-l)/f,i=e.sqrt(e.neg(t));y=(t,n)=>{let o=e.sqr(n);const s=e.mul(t,n);o=e.mul(o,s);let a=e.pow(o,r);a=e.mul(a,s);const c=e.mul(a,i),u=e.mul(e.sqr(a),n),h=e.eql(u,t);return{isValid:h,value:e.cmov(c,a,h)}}}return y}t.weierstrassPoints=p,t.weierstrass=function(e){const r=function(e){const t=(0,s.validateBasic)(e);return n.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:a,n:c}=r,d=a.BYTES+1,l=2*a.BYTES+1;function f(e){return i.mod(e,c)}function A(e){return i.invert(e,c)}const{ProjectivePoint:g,normPrivateKeyToScalar:m,weierstrassEquation:y,isWithinCurveOrder:I}=p({...r,toBytes(e,t,r){const i=t.toAffine(),o=a.toBytes(i.x),s=n.concatBytes;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,a.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],i=e.subarray(1);if(t!==d||2!==r&&3!==r){if(t===l&&4===r)return{x:a.fromBytes(i.subarray(0,a.BYTES)),y:a.fromBytes(i.subarray(a.BYTES,2*a.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${d} compressed bytes or ${l} uncompressed bytes`)}{const e=n.bytesToNumberBE(i);if(!(u<(o=e)&&o<a.ORDER))throw new Error("Point is not on curve");const t=y(e);let s=a.sqrt(t);return 1==(1&r)!=((s&h)===h)&&(s=a.neg(s)),{x:e,y:s}}var o}}),w=e=>n.bytesToHex(n.numberToBytesBE(e,r.nByteLength));function b(e){return e>c>>h}const v=(e,t,r)=>n.bytesToNumberBE(e.slice(t,r));class E{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const t=r.nByteLength;return e=(0,o.ensureBytes)("compactSignature",e,2*t),new E(v(e,0,t),v(e,t,2*t))}static fromDER(e){const{r,s:i}=t.DER.toSig((0,o.ensureBytes)("DER",e));return new E(r,i)}assertValidity(){if(!I(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!I(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new E(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:i,recovery:n}=this,s=_((0,o.ensureBytes)("msgHash",e));if(null==n||![0,1,2,3].includes(n))throw new Error("recovery id invalid");const c=2===n||3===n?t+r.n:t;if(c>=a.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0==(1&n)?"02":"03",h=g.fromHex(u+w(c)),d=A(c),l=f(-s*d),p=f(i*d),m=g.BASE.multiplyAndAddUnsafe(h,l,p);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,f(-this.s),this.recovery):this}toDERRawBytes(){return n.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const C={isValidPrivateKey(e){try{return m(e),!0}catch(e){return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const e=r.randomBytes(a.BYTES+8),t=i.hashToPrivateScalar(e,c);return n.numberToBytesBE(t,r.nByteLength)},precompute:(e=8,t=g.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function B(e){const t=e instanceof Uint8Array,r="string"==typeof e,i=(t||r)&&e.length;return t?i===d||i===l:r?i===2*d||i===2*l:e instanceof g}const S=r.bits2int||function(e){const t=n.bytesToNumberBE(e),i=8*e.length-r.nBitLength;return i>0?t>>BigInt(i):t},_=r.bits2int_modN||function(e){return f(S(e))},Q=n.bitMask(r.nBitLength);function D(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(u<=e&&e<Q))throw new Error(`bigint expected < 2^${r.nBitLength}`);return n.numberToBytesBE(e,r.nByteLength)}const k={lowS:r.lowS,prehash:!1},M={lowS:r.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return g.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(B(e))throw new Error("first arg must be private key");if(!B(t))throw new Error("second arg must be public key");return g.fromHex(t).multiply(m(e)).toRawBytes(r)},sign:function(e,t,i=k){const{seed:s,k2sig:c}=function(e,t,i=k){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:c}=r;let{lowS:d,prehash:l,extraEntropy:p}=i;null==d&&(d=!0),e=(0,o.ensureBytes)("msgHash",e),l&&(e=(0,o.ensureBytes)("prehashed msgHash",s(e)));const y=_(e),w=m(t),v=[D(w),D(y)];if(null!=p){const e=!0===p?c(a.BYTES):p;v.push((0,o.ensureBytes)("extraEntropy",e,a.BYTES))}const C=n.concatBytes(...v),B=y;return{seed:C,k2sig:function(e){const t=S(e);if(!I(t))return;const r=A(t),i=g.BASE.multiply(t).toAffine(),n=f(i.x);if(n===u)return;const o=f(r*f(B+n*w));if(o===u)return;let s=(i.x===n?0:2)|Number(i.y&h),a=o;return d&&b(o)&&(a=function(e){return b(e)?f(-e):e}(o),s^=1),new E(n,a,s)}}}(e,t,i),d=r;return n.createHmacDrbg(d.hash.outputLen,d.nByteLength,d.hmac)(s,c)},verify:function(e,i,n,s=M){const a=e;if(i=(0,o.ensureBytes)("msgHash",i),n=(0,o.ensureBytes)("publicKey",n),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:u}=s;let h,d;try{if("string"==typeof a||a instanceof Uint8Array)try{h=E.fromDER(a)}catch(e){if(!(e instanceof t.DER.Err))throw e;h=E.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:t}=a;h=new E(e,t)}}d=g.fromHex(n)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&h.hasHighS())return!1;u&&(i=r.hash(i));const{r:l,s:p}=h,m=_(i),y=A(p),I=f(m*y),w=f(l*y),b=g.BASE.multiplyAndAddUnsafe(d,I,w)?.toAffine();return!!b&&f(b.x)===l},ProjectivePoint:g,Signature:E,utils:C}},t.SWUFpSqrtRatio=A,t.mapToCurveSimpleSWU=function(e,t){if(i.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=A(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return i=>{let n,o,s,a,c,u,h,d;n=e.sqr(i),n=e.mul(n,t.Z),o=e.sqr(n),o=e.add(o,n),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),u=e.sqr(a),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,s),u=e.mul(u,a),c=e.mul(u,t.B),o=e.add(o,c),h=e.mul(n,s);const{isValid:l,value:f}=r(o,u);d=e.mul(n,i),d=e.mul(d,f),h=e.cmov(h,s,l),d=e.cmov(d,f,l);const p=e.isOdd(i)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),h=e.div(h,a),{x:h,y:d}}}},33497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const i=r(23061),n=r(98089),o=r(94632),s=r(96551),a=r(40219),c=r(15134),u=r(79082),h=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l=BigInt(1),f=BigInt(2),p=(e,t)=>(e+t/f)/t;function A(e){const t=h,r=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),a=BigInt(23),c=BigInt(44),u=BigInt(88),d=e*e*e%t,l=d*d*e%t,p=(0,o.pow2)(l,r,t)*l%t,A=(0,o.pow2)(p,r,t)*l%t,m=(0,o.pow2)(A,f,t)*d%t,y=(0,o.pow2)(m,n,t)*m%t,I=(0,o.pow2)(y,s,t)*y%t,w=(0,o.pow2)(I,c,t)*I%t,b=(0,o.pow2)(w,u,t)*w%t,v=(0,o.pow2)(b,c,t)*I%t,E=(0,o.pow2)(v,r,t)*l%t,C=(0,o.pow2)(E,a,t)*y%t,B=(0,o.pow2)(C,i,t)*d%t,S=(0,o.pow2)(B,f,t);if(!g.eql(g.sqr(S),e))throw new Error("Cannot find square root");return S}const g=(0,o.Field)(h,void 0,void 0,{sqrt:A});t.secp256k1=(0,u.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-l*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),c=p(s*e,t),u=p(-i*e,t);let h=(0,o.mod)(e-c*r-u*n,t),f=(0,o.mod)(-c*i-u*s,t);const A=h>a,g=f>a;if(A&&(h=t-h),g&&(f=t-f),h>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:A,k1:h,k2neg:g,k2:f}}}},i.sha256);const m=BigInt(0),y=e=>"bigint"==typeof e&&m<e&&e<h,I=e=>"bigint"==typeof e&&m<e&&e<d,w={};function b(e,...t){let r=w[e];if(void 0===r){const t=(0,i.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=(0,a.concatBytes)(t,t),w[e]=r}return(0,i.sha256)((0,a.concatBytes)(r,...t))}const v=e=>e.toRawBytes(!0).slice(1),E=e=>(0,a.numberToBytesBE)(e,32),C=e=>(0,o.mod)(e,h),B=e=>(0,o.mod)(e,d),S=t.secp256k1.ProjectivePoint,_=(e,t,r)=>S.BASE.multiplyAndAddUnsafe(e,t,r);function Q(e){let r=t.secp256k1.utils.normPrivateKeyToScalar(e),i=S.fromPrivateKey(r);return{scalar:i.hasEvenY()?r:B(-r),bytes:v(i)}}function D(e){if(!y(e))throw new Error("bad x: need 0 < x < p");const t=C(e*e);let r=A(C(t*e+BigInt(7)));r%f!==m&&(r=C(-r));const i=new S(e,r,l);return i.assertValidity(),i}function k(...e){return B((0,a.bytesToNumberBE)(b("BIP0340/challenge",...e)))}function M(e,t,r){const i=(0,a.ensureBytes)("signature",e,64),n=(0,a.ensureBytes)("message",t),o=(0,a.ensureBytes)("publicKey",r,32);try{const e=D((0,a.bytesToNumberBE)(o)),t=(0,a.bytesToNumberBE)(i.subarray(0,32));if(!y(t))return!1;const r=(0,a.bytesToNumberBE)(i.subarray(32,64));if(!I(r))return!1;const s=k(E(t),v(e),n),c=_(e,r,B(-s));return!(!c||!c.hasEvenY()||c.toAffine().x!==t)}catch(e){return!1}}t.schnorr={getPublicKey:function(e){return Q(e).bytes},sign:function(e,t,r=(0,n.randomBytes)(32)){const i=(0,a.ensureBytes)("message",e),{bytes:o,scalar:s}=Q(t),c=(0,a.ensureBytes)("auxRand",r,32),u=E(s^(0,a.bytesToNumberBE)(b("BIP0340/aux",c))),h=b("BIP0340/nonce",u,o,i),d=B((0,a.bytesToNumberBE)(h));if(d===m)throw new Error("sign failed: k is zero");const{bytes:l,scalar:f}=Q(d),p=k(l,o,i),A=new Uint8Array(64);if(A.set(l,0),A.set(E(B(f+p*s)),32),!M(A,i,o))throw new Error("sign: Invalid signature produced");return A},verify:M,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:D,pointToBytes:v,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:b,mod:o.mod}};const P=(()=>(0,c.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),x=(()=>(0,s.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),F=(()=>(0,c.createHasher)(t.secp256k1.ProjectivePoint,(e=>{const{x:t,y:r}=x(g.create(e[0]));return P(t,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:i.sha256}))();t.hashToCurve=F.hashToCurve,t.encodeToCurve=F.encodeToCurve},27320:(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function i(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function n(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function o(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function a(e,t){n(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=r,t.bool=i,t.bytes=n,t.hash=o,t.exists=s,t.output=a;const c={number:r,bool:i,bytes:n,hash:o,exists:s,output:a};t.default=c},27505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const i=r(27320),n=r(98089);class o extends n.Hash{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){i.default.exists(this);const{view:t,buffer:r,blockLen:o}=this,s=(e=(0,n.toBytes)(e)).length;for(let i=0;i<s;){const a=Math.min(o-this.pos,s-i);if(a!==o)r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,n.createView)(e);for(;o<=s-i;i+=o)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){i.default.exists(this),i.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let e=a;e<o;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),a=Number(r&o),c=i?4:0,u=i?0:4;e.setUint32(t+c,s,i),e.setUint32(t+u,a,i)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const c=(0,n.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=u/4,d=this.get();if(h>d.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<h;e++)c.setUint32(4*e,d[e],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=n,e.destroyed=o,i%t&&e.buffer.set(r),e}}t.SHA2=o},31945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},4330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hkdf=t.expand=t.extract=void 0;const i=r(27320),n=r(98089),o=r(79569);function s(e,t,r){return i.default.hash(e),void 0===r&&(r=new Uint8Array(e.outputLen)),(0,o.hmac)(e,(0,n.toBytes)(r),(0,n.toBytes)(t))}t.extract=s;const a=new Uint8Array([0]),c=new Uint8Array;function u(e,t,r,n=32){if(i.default.hash(e),i.default.number(n),n>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/e.outputLen);void 0===r&&(r=c);const u=new Uint8Array(s*e.outputLen),h=o.hmac.create(e,t),d=h._cloneInto(),l=new Uint8Array(h.outputLen);for(let t=0;t<s;t++)a[0]=t+1,d.update(0===t?c:l).update(r).update(a).digestInto(l),u.set(l,e.outputLen*t),h._cloneInto(d);return h.destroy(),d.destroy(),l.fill(0),a.fill(0),u.slice(0,n)}t.expand=u,t.hkdf=(e,t,r,i,n)=>u(e,s(e,t,r),i,n)},79569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const i=r(27320),n=r(98089);class o extends n.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,i.default.hash(e);const r=(0,n.toBytes)(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return i.default.exists(this),this.iHash.update(e),this}digestInto(e){i.default.exists(this),i.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:o,outputLen:s}=this;return e.finished=i,e.destroyed=n,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o,t.hmac=(e,t,r)=>new o(e,t).update(r).digest(),t.hmac.create=(e,t)=>new o(e,t)},23061:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const i=r(27505),n=r(98089),o=(e,t,r)=>e&t^e&r^t&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint32Array(64);class u extends i.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:i,E:n,F:o,G:s,H:a}=this;return[e,t,r,i,n,o,s,a]}set(e,t,r,i,n,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)c[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=c[e-15],r=c[e-2],i=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,o=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;c[e]=o+c[e-7]+i+c[e-16]|0}let{A:r,B:i,C:a,D:u,E:h,F:d,G:l,H:f}=this;for(let e=0;e<64;e++){const t=f+((0,n.rotr)(h,6)^(0,n.rotr)(h,11)^(0,n.rotr)(h,25))+((p=h)&d^~p&l)+s[e]+c[e]|0,A=((0,n.rotr)(r,2)^(0,n.rotr)(r,13)^(0,n.rotr)(r,22))+o(r,i,a)|0;f=l,l=d,d=h,h=u+t|0,u=a,a=i,i=r,r=t+A|0}var p;r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,u=u+this.D|0,h=h+this.E|0,d=d+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(r,i,a,u,h,d,l,f)}roundClean(){c.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class h extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,n.wrapConstructor)((()=>new u)),t.sha224=(0,n.wrapConstructor)((()=>new h))},98089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const i=r(31945),n=e=>e instanceof Uint8Array;if(t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function s(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function a(e){if("string"==typeof e&&(e=s(e)),!n(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.bytesToHex=function(e){if(!n(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t},t.hexToBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const i=2*t,n=e.slice(i,i+2),o=Number.parseInt(n,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[t]=o}return r},t.nextTick=async()=>{},t.asyncLoop=async function(e,r,i){let n=Date.now();for(let o=0;o<e;o++){i(o);const e=Date.now()-n;e>=0&&e<r||(await(0,t.nextTick)(),n+=e)}},t.utf8ToBytes=s,t.toBytes=a,t.concatBytes=function(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!n(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t},t.Hash=class{clone(){return this._cloneInto()}},t.checkOpts=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new Error("Options should be object or undefined");var r;return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(a(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(a(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(a(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(i.crypto&&"function"==typeof i.crypto.getRandomValues)return i.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},89707:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(52559),t)},63163:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},16184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},81406:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},75722:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Directives=void 0,t.Directives={Required:"required",Allowed:"allowed",Disallowed:"disallowed"}},92808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExchangeStatus=void 0,t.ExchangeStatus={Created:"CREATED",Submitted:"SUBMITTED",HolderDeclined:"HOLDER_DECLINED",Expired:"EXPIRED",Accepted:"ACCEPTED",VerifierDeclined:"VERIFIER_DECLINED"}},36998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},76783:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},79841:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},58759:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},78340:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},43960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},15204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},49824:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53194:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3815:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},57644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},56568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},42190:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},89405:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4335:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},52559:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(63163),t),n(r(94782),t),n(r(5729),t),n(r(16184),t),n(r(81406),t),n(r(75722),t),n(r(92808),t),n(r(36998),t),n(r(76783),t),n(r(79841),t),n(r(58759),t),n(r(78340),t),n(r(43960),t),n(r(15204),t),n(r(49824),t),n(r(53194),t),n(r(3815),t),n(r(57644),t),n(r(56568),t),n(r(42190),t),n(r(89405),t),n(r(4335),t),n(r(29987),t),n(r(76669),t),n(r(98306),t),n(r(56106),t),n(r(88083),t),n(r(10556),t),n(r(74958),t),n(r(67697),t),n(r(34119),t),n(r(3973),t),n(r(96404),t),n(r(50874),t),n(r(71625),t),n(r(16344),t),n(r(29306),t),n(r(32991),t),n(r(91344),t),n(r(49549),t)},29987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},76669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Optionality=void 0,t.Optionality={Required:"required",Preferred:"preferred"}},98306:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},56106:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},88083:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},10556:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},67697:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},34119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},96404:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},50874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rules=void 0,t.Rules={All:"all",Pick:"pick"}},71625:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},16344:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0,t.Status={Success:"SUCCESS",Warn:"WARN",Error:"ERROR"}},29306:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},32991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91344:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},49549:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84901:(e,t,r)=>{"use strict";t.hn=void 0;const i=r(72969);Object.defineProperty(t,"hn",{enumerable:!0,get:function(){return i.PEX}})},84964:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasErrors=t.Checked=t.Status=void 0,t.Status={INFO:"info",WARN:"warn",ERROR:"error"},t.Checked=class{constructor(e,t,r){this.tag=e,this.status=t,this.message=r}},t.hasErrors=e=>e.filter((e=>function(e){return e.status===t.Status.ERROR}(e))).length>0},21525:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PEX=void 0;const n=r(84964),o=r(65023),s=r(86373),a=r(26653),c=r(72252),u=r(52004);class h{constructor(){this._evaluationClientWrapper=new o.EvaluationClientWrapper}evaluatePresentation(e,t,r){const i=void 0!==(null==r?void 0:r.generatePresentationSubmission)?r.generatePresentationSubmission:void 0!==(null==r?void 0:r.presentationSubmission),s=a.SSITypesBuilder.toInternalPresentationDefinition(e),c=JSON.parse(JSON.stringify(t)),u=a.SSITypesBuilder.mapExternalVerifiablePresentationToWrappedVP(c),h=(null==r?void 0:r.presentationSubmission)||u.presentation.presentation_submission;if(!h&&!i)throw Error("Either a presentation submission as part of the VP or provided separately was expected");const d=u.presentation.holder?[u.presentation.holder]:[],l=Object.assign(Object.assign({},r),{holderDIDs:d,presentationSubmission:h,generatePresentationSubmission:i}),f=this._evaluationClientWrapper.evaluate(s,u.vcs,l);return f.value&&f.value.descriptor_map.length&&(new o.EvaluationClientWrapper).selectFrom(s,u.vcs,l).areRequiredCredentialsPresent!==n.Status.ERROR&&(f.errors=[]),f}evaluateCredentials(e,t,r){const i=a.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(t);this._evaluationClientWrapper=new o.EvaluationClientWrapper;const s=a.SSITypesBuilder.toInternalPresentationDefinition(e),c=this._evaluationClientWrapper.evaluate(s,i,r);if(c.value&&c.value.descriptor_map.length){const e=(new o.EvaluationClientWrapper).selectFrom(s,i,r);c.areRequiredCredentialsPresent=e.areRequiredCredentialsPresent,c.errors=e.errors}else c.areRequiredCredentialsPresent=n.Status.ERROR;return c}selectFrom(e,t,r){const i=JSON.parse(JSON.stringify(t)),n=a.SSITypesBuilder.toInternalPresentationDefinition(e);return this._evaluationClientWrapper=new o.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(n,a.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(i),r)}presentationSubmissionFrom(e,t){const r=a.SSITypesBuilder.toInternalPresentationDefinition(e);return this._evaluationClientWrapper.submissionFrom(r,a.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(t))}presentationFrom(e,t,r){var i;const n=null!==(i=null==r?void 0:r.presentationSubmissionLocation)&&void 0!==i?i:s.PresentationSubmissionLocation.PRESENTATION,o=this.presentationSubmissionFrom(e,t);return{presentation:h.constructPresentation(t,Object.assign(Object.assign({},r),{presentationSubmission:n===s.PresentationSubmissionLocation.PRESENTATION?o:void 0})),presentationSubmissionLocation:n,presentationSubmission:o}}static constructPresentation(e,t){var r,i,n,o;const s=null==t?void 0:t.holderDID,a=Array.isArray(null===(r=null==t?void 0:t.basePresentationPayload)||void 0===r?void 0:r.type)?(null===(i=null==t?void 0:t.basePresentationPayload)||void 0===i?void 0:i.type)||[]:(null===(n=null==t?void 0:t.basePresentationPayload)||void 0===n?void 0:n.type)?[t.basePresentationPayload.type]:[],c=(null===(o=null==t?void 0:t.basePresentationPayload)||void 0===o?void 0:o["@context"])?Array.isArray(t.basePresentationPayload["@context"])?t.basePresentationPayload["@context"]:[t.basePresentationPayload["@context"]]:[];return c.includes("https://www.w3.org/2018/credentials/v1")||c.push("https://www.w3.org/2018/credentials/v1"),a.includes("VerifiablePresentation")||a.push("VerifiablePresentation"),(null==t?void 0:t.presentationSubmission)&&(a.includes("PresentationSubmission")||a.push("PresentationSubmission"),c.includes("https://identity.foundation/presentation-exchange/submission/v1")||c.push("https://identity.foundation/presentation-exchange/submission/v1")),Object.assign(Object.assign(Object.assign(Object.assign({},null==t?void 0:t.basePresentationPayload),{"@context":c,type:a,holder:s}),!!(null==t?void 0:t.presentationSubmission)&&{presentation_submission:t.presentationSubmission}),{verifiableCredential:Array.isArray(e)?e:[e]})}static validateDefinition(e){const t=(0,c.definitionVersionDiscovery)(e);if(t.error)throw t.error;const r=[];return t.version===a.PEVersion.v1?r.push({bundler:new u.PresentationDefinitionV1VB("root"),target:a.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(e)}):r.push({bundler:new u.PresentationDefinitionV2VB("root"),target:a.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(e)}),(new u.ValidationEngine).validate(r)}static validateSubmission(e){return(new u.ValidationEngine).validate([{bundler:new u.PresentationSubmissionVB("root"),target:e}])}verifiablePresentationFrom(e,t,r,n){var o;return i(this,void 0,void 0,(function*(){const{holderDID:i,signatureOptions:a,proofOptions:c}=n,u=null!==(o=n.presentationSubmissionLocation)&&void 0!==o?o:s.PresentationSubmissionLocation.PRESENTATION,h=i?[i]:[],d=function(){let e=[];if(null==c?void 0:c.typeSupportsSelectiveDisclosure){if(!(null==c?void 0:c.type))throw Error("Please provide a proof type if you enable selective disclosure");e=[c.type]}return e}(),l=this.evaluateCredentials(e,t,{holderDIDs:h,limitDisclosureSignatureSuites:d}),f=this.presentationFrom(e,l.verifiableCredential,Object.assign(Object.assign({},n),{presentationSubmissionLocation:u})),p=this.evaluatePresentation(e,f.presentation,{limitDisclosureSignatureSuites:d});if(!p.value)throw new Error("Could not get evaluation results from presentationResult");const A={type:null==c?void 0:c.type,verificationMethod:null==a?void 0:a.verificationMethod,created:(null==c?void 0:c.created)?c.created:(new Date).toISOString(),proofPurpose:null==c?void 0:c.proofPurpose,proofValue:null==a?void 0:a.proofValue,jws:null==a?void 0:a.jws,challenge:null==c?void 0:c.challenge,nonce:null==c?void 0:c.nonce,domain:null==c?void 0:c.domain},g={options:n,presentation:f.presentation,presentationDefinition:e,selectedCredentials:t,proof:A,presentationSubmission:p.value,evaluationResults:p};return{verifiablePresentation:yield r(g),presentationSubmissionLocation:u,presentationSubmission:p.value}}))}static definitionVersionDiscovery(e){return(0,c.definitionVersionDiscovery)(e)}}t.PEX=h},55892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PEXv1=void 0;const i=r(21525),n=r(65023),o=r(86373),s=r(26653),a=r(52004);class c extends i.PEX{constructor(){super()}evaluatePresentation(e,t,r){return s.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(e),super.evaluatePresentation(e,t,r)}evaluateCredentials(e,t,r){return s.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(e),super.evaluateCredentials(e,t,r)}selectFrom(e,t,r){const i=JSON.parse(JSON.stringify(t));return this._evaluationClientWrapper=new n.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(s.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(e),s.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(i),r)}presentationFrom(e,t,r){var n;const a=null!==(n=null==r?void 0:r.presentationSubmissionLocation)&&void 0!==n?n:o.PresentationSubmissionLocation.PRESENTATION,c=this._evaluationClientWrapper.submissionFrom(s.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(e),s.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(t));return{presentation:i.PEX.constructPresentation(t,Object.assign(Object.assign({},r),{presentationSubmission:a===o.PresentationSubmissionLocation.PRESENTATION?c:void 0})),presentationSubmissionLocation:a,presentationSubmission:c}}static validateDefinition(e){const t=s.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(e);return(new a.ValidationEngine).validate([{bundler:new a.PresentationDefinitionV1VB("root"),target:t}])}static validateSubmission(e){return i.PEX.validateSubmission(e)}}t.PEXv1=c},61113:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PEXv2=void 0;const i=r(21525),n=r(65023),o=r(86373),s=r(26653),a=r(52004);class c extends i.PEX{constructor(){super()}evaluatePresentation(e,t,r){return s.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(e),super.evaluatePresentation(e,t,r)}evaluateCredentials(e,t,r){return s.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(e),super.evaluateCredentials(e,t,r)}selectFrom(e,t,r){return this._evaluationClientWrapper=new n.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(s.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(e),s.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(t),r)}presentationFrom(e,t,r){var n;const a=null!==(n=null==r?void 0:r.presentationSubmissionLocation)&&void 0!==n?n:o.PresentationSubmissionLocation.PRESENTATION,c=this._evaluationClientWrapper.submissionFrom(s.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(e),s.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(t));return{presentation:i.PEX.constructPresentation(t,Object.assign(Object.assign({},r),{presentationSubmission:a===o.PresentationSubmissionLocation.PRESENTATION?c:void 0})),presentationSubmissionLocation:a,presentationSubmission:c}}static validateDefinition(e){const t=s.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(e);return(new a.ValidationEngine).validate([{bundler:new a.PresentationDefinitionV2VB("root"),target:t}])}static validateSubmission(e){return i.PEX.validateSubmission(e)}}t.PEXv2=c},41036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},23461:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerCheckResult=void 0,t.HandlerCheckResult=class{constructor(e,t,r,i,n,o){this.input_descriptor_path=e,this.verifiable_credential_path=t,this.evaluator=r,this.status=i,this.message=n,this.payload=o}}},15863:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(41036),t),n(r(23461),t),n(r(85633),t),n(r(11178),t)},85633:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},11178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},27014:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationClient=void 0;const n=r(7663),o=r(84964),s=i(r(23133)),a=r(72252),c=r(16346),u=[n.IProofType.BbsBlsSignatureProof2020];t.EvaluationClient=class{constructor(){this.failed_catched={tag:"root",status:o.Status.ERROR,message:s.default.UNKNOWN_EXCEPTION,stacktrace:""},this._results=[],this._wrappedVcs=[],this._presentationSubmission={},this._dids=[],this._limitDisclosureSignatureSuites=u,this._restrictToDIDMethods=[],this._generatePresentationSubmission=!0}evaluate(e,t,r){this._restrictToDIDMethods=(null==r?void 0:r.restrictToDIDMethods)?(0,a.uniformDIDMethods)(null==r?void 0:r.restrictToDIDMethods):[],this._dids=(null==r?void 0:r.holderDIDs)?(0,a.filterToRestrictedDIDs)(r.holderDIDs,this._restrictToDIDMethods):[],this._limitDisclosureSignatureSuites=null==r?void 0:r.limitDisclosureSignatureSuites,this._restrictToFormats=null==r?void 0:r.restrictToFormats,this._generatePresentationSubmission=void 0===(null==r?void 0:r.generatePresentationSubmission)||r.generatePresentationSubmission,(null==r?void 0:r.presentationSubmission)&&(this._presentationSubmission=r.presentationSubmission);let i=this.initEvaluationHandlers();for(null==i||i.handle(e,t);null==i?void 0:i.hasNext();){i=i.getNext();try{null==i||i.handle(e,t)}catch(e){throw this.failed_catched.message+=e.message,this.failed_catched.stacktrace=e,this.failed_catched}}}get results(){return this._results}get dids(){return this._dids}set dids(e){this._dids=e}assertPresentationSubmission(){if(!(this.generatePresentationSubmission||this.presentationSubmission&&0!==Object.keys(this.presentationSubmission).length))throw Error("No presentation submission present, but required option was set")}get generatePresentationSubmission(){return this._generatePresentationSubmission}set generatePresentationSubmission(e){this._generatePresentationSubmission=e}get presentationSubmission(){return this._presentationSubmission}set presentationSubmission(e){this._presentationSubmission=e}get wrappedVcs(){return this._wrappedVcs}set wrappedVcs(e){this._wrappedVcs=e}get limitDisclosureSignatureSuites(){return this._limitDisclosureSignatureSuites||u}set limitDisclosureSignatureSuites(e){this._limitDisclosureSignatureSuites=e}get restrictToDIDMethods(){return this._restrictToDIDMethods}set restrictToDIDMethods(e){this._restrictToDIDMethods=(0,a.uniformDIDMethods)(e)}hasRestrictToDIDMethods(){return this.restrictToDIDMethods&&this.restrictToDIDMethods.length>0}get restrictToFormats(){return this._restrictToFormats}set restrictToFormats(e){this._restrictToFormats=e}initEvaluationHandlers(){const e=new c.UriEvaluationHandler(this);return e.setNext(new c.DIDRestrictionEvaluationHandler(this)).setNext(new c.FormatRestrictionEvaluationHandler(this)).setNext(new c.InputDescriptorFilterEvaluationHandler(this)).setNext(new c.PredicateRelatedFieldEvaluationHandler(this)).setNext(new c.LimitDisclosureEvaluationHandler(this)).setNext(new c.SubjectIsIssuerEvaluationHandler(this)).setNext(new c.SubjectIsHolderEvaluationHandler(this)).setNext(new c.SameSubjectEvaluationHandler(this)).setNext(new c.MarkForSubmissionEvaluationHandler(this)),e}}},14850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationClientWrapper=void 0;const i=r(35557),n=r(89707),o=r(84964),s=r(72252),a=r(27014);t.EvaluationClientWrapper=class{constructor(){this._client=new a.EvaluationClient}getEvaluationClient(){return this._client}selectFrom(e,t,r){var n;let s;this._client.evaluate(e,t,r);const a=[...this.formatNotInfo(o.Status.WARN)],c=[...this.formatNotInfo(o.Status.ERROR)];if(e.submission_requirements){const t=this._client.results.filter((e=>"MarkForSubmissionEvaluation"===e.evaluator&&e.payload.group&&e.status!==o.Status.ERROR)),r=Array.from(new Set(t));let n;try{n=this.matchSubmissionRequirements(e,e.submission_requirements,r)}catch(e){const t={status:o.Status.ERROR,message:JSON.stringify(e),tag:"matchSubmissionRequirements"};return{errors:c?[...c,t]:[t],warnings:a,areRequiredCredentialsPresent:o.Status.ERROR}}const u=this.extractMatches(n).map((e=>i.JSONPath.nodes(this._client.wrappedVcs.map((e=>e.original)),e)[0].value)),h=this.determineAreRequiredCredentialsPresent(e,n);s={errors:h===o.Status.INFO?[]:c,matches:[...n],areRequiredCredentialsPresent:h,verifiableCredential:u,warnings:a}}else{const r=this._client.results.filter((e=>"MarkForSubmissionEvaluation"===e.evaluator&&e.status!==o.Status.ERROR));if(this.checkWithoutSubmissionRequirements(r,e).length)return{errors:c,matches:[],areRequiredCredentialsPresent:o.Status.ERROR,verifiableCredential:t.map((e=>e.original)),warnings:a};{const t=this.matchWithoutSubmissionRequirements(r,e),n=this.extractMatches(t).map((e=>i.JSONPath.nodes(this._client.wrappedVcs.map((e=>e.original)),e)[0].value));s={errors:[],matches:[...t],areRequiredCredentialsPresent:o.Status.INFO,verifiableCredential:n,warnings:a}}}return this.fillSelectableCredentialsToVerifiableCredentialsMapping(s,t),s.areRequiredCredentialsPresent=this.determineAreRequiredCredentialsPresent(e,null==s?void 0:s.matches),this.remapMatches(t.map((e=>e.original)),s.matches,null==s?void 0:s.verifiableCredential),null===(n=s.matches)||void 0===n||n.forEach((e=>{this.updateSubmissionRequirementMatchPathToAlias(e,"verifiableCredential")})),s.areRequiredCredentialsPresent===o.Status.INFO?s.errors=[]:(s.errors=c,s.warnings=a,s.verifiableCredential=t.map((e=>e.original))),s}remapMatches(e,t,r){null==t||t.forEach((t=>{t.from_nested?this.remapMatches(e,t.from_nested,r):(t.vc_path.forEach(((t,n,o)=>{const s=i.JSONPath.query(e,t)[0],a=null==r?void 0:r.findIndex((e=>JSON.stringify(e)===JSON.stringify(s)));if(-1===a)throw new Error(`The index of the VerifiableCredential in your current call can't be found in your previously submitted credentials. Are you trying to send a new Credential?\nverifiableCredential: ${s}`);o[n]=`$[${a}]`})),t.name)}))}extractMatches(e){const t=[];return e.forEach((e=>{t.push(...e.vc_path),e.from_nested&&t.push(...this.extractMatches(e.from_nested))})),Array.from(new Set(t))}checkWithoutSubmissionRequirements(e,t){const r=[];if(!t.input_descriptors)return[];if(!e.length)return[{input_descriptor_path:"",evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:o.Status.ERROR,payload:"Not all the InputDescriptors are addressed"}];const i=t.input_descriptors,n=s.ObjectUtils.getDistinctFieldInObject(e,"input_descriptor_path");if(n.length!==i.length){const e=n.map((e=>s.JsonPathUtils.extractInputField(t,[e])[0].value)).map((e=>e.id));for(let i=0;i<t.input_descriptors.length;i++)-1==e.indexOf(t.input_descriptors[i].id)&&r.push({input_descriptor_path:`$.input_descriptors[${i}]`,evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:o.Status.ERROR,payload:"Not all the InputDescriptors are addressed"})}return r}matchSubmissionRequirements(e,t,r){const i=[];for(const n of t){const t={name:e.name||e.id,rule:n.rule,vc_path:[]};if(n.from&&(t.from=n.from),n.min&&(t.min=n.min),n.max&&(t.max=n.max),n.count&&(t.count=n.count),n.from){const o=this.mapMatchingDescriptors(e,n,r);o&&(t.vc_path.push(...o.vc_path),t.name=o.name,i.push(t))}else{if(!n.from_nested)throw new Error("Invalid SubmissionRequirement object: Must contain either 'from' or 'from_nested'");try{t.from_nested=this.matchSubmissionRequirements(e,n.from_nested,r),i.push(t)}catch(e){throw new Error(`Error in handling value of from_nested: ${n.from_nested}: err: ${e}`)}}}return i}matchWithoutSubmissionRequirements(e,t){const r=[],i=this.createIdToVcMap(e);for(const[e,o]of i.entries())if(o&&o.length)for(const i of o){const o=s.JsonPathUtils.extractInputField(t,[e]);o.length&&r.push({name:o[0].value.name||o[0].value.id,rule:n.Rules.All,vc_path:[i]})}return this.removeDuplicateSubmissionRequirementMatches(r)}mapMatchingDescriptors(e,t,r){var n;const o={rule:t.rule,vc_path:[]};if(null==t?void 0:t.from){o.from=t.from;for(const s of r){const r=i.JSONPath.query(e,s.input_descriptor_path)[0];r.group&&-1===r.group.indexOf(t.from)||(o.name=r.name||r.id,s.payload.group.includes(t.from)&&-1===(null===(n=o.vc_path)||void 0===n?void 0:n.indexOf(s.verifiable_credential_path))&&o.vc_path.push(s.verifiable_credential_path))}}return o}evaluate(e,t,r){var i,n,s,a;this._client.evaluate(e,t,r);const c={areRequiredCredentialsPresent:o.Status.INFO,verifiableCredential:t.map((e=>e.original))};if(c.warnings=this.formatNotInfo(o.Status.WARN),c.errors=this.formatNotInfo(o.Status.ERROR),this._client.assertPresentationSubmission(),null===(i=this._client.presentationSubmission)||void 0===i?void 0:i.descriptor_map.length){const e=null===(n=this._client.presentationSubmission)||void 0===n?void 0:n.descriptor_map.length;for(let t=0;t<e;t++)this._client.presentationSubmission.descriptor_map[t]&&this._client.presentationSubmission.descriptor_map.push(this._client.presentationSubmission.descriptor_map[t]);this._client.presentationSubmission.descriptor_map.splice(0,e),c.value=JSON.parse(JSON.stringify(this._client.presentationSubmission))}return this._client.generatePresentationSubmission&&this.updatePresentationSubmissionPathToAlias("verifiableCredential",c.value),c.verifiableCredential=this._client.wrappedVcs.map((e=>e.original)),c.areRequiredCredentialsPresent=(null===(a=null===(s=c.value)||void 0===s?void 0:s.descriptor_map)||void 0===a?void 0:a.length)?o.Status.INFO:o.Status.ERROR,c}formatNotInfo(e){return this._client.results.filter((t=>t.status===e)).map((e=>{const t=e.verifiable_credential_path.substring(1);return{tag:e.evaluator,status:e.status,message:`${e.message}: ${e.input_descriptor_path}: $.verifiableCredential${t}`}}))}submissionFrom(e,t){if(!this._client.results.length)throw Error("You need to call evaluate() before pex.presentationFrom()");if(!this._client.generatePresentationSubmission)return this._client.presentationSubmission;if(e.submission_requirements){const r=this._client.results.filter((e=>"MarkForSubmissionEvaluation"===e.evaluator&&e.payload.group&&e.status!==o.Status.ERROR)),[i,n]=this.matchUserSelectedVcs(r,t),s=new Map;"input_descriptors"in e&&e.input_descriptors.forEach((e=>{e.group&&e.group.forEach((e=>{s.has(e)?s.set(e,s.get(e)+1):s.set(e,1)}))}));const a=this.evaluateRequirements(e.submission_requirements,i,s,0),c=n.filter((e=>a[1].find((t=>t.verifiable_credential_path===e[1]))));return this.updatePresentationSubmission(c),this.updatePresentationSubmissionPathToAlias("verifiableCredential"),this._client.presentationSubmission}const r=this._client.results.filter((e=>"MarkForSubmissionEvaluation"===e.evaluator&&e.status!==o.Status.ERROR)),i=this.matchUserSelectedVcs(r,t);return this.updatePresentationSubmission(i[1]),this.updatePresentationSubmissionPathToAlias("verifiableCredential"),this._client.presentationSubmission}updatePresentationSubmission(e){this._client.generatePresentationSubmission&&(this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.filter((t=>e.find((e=>e[0]===t.path)))).map((t=>{const r=e.find((e=>e[0]===t.path));return r&&(t.path=r[1]),t})))}matchUserSelectedVcs(e,t){const r=t.map(((e,t)=>[t,JSON.stringify(e.original)])),i=this._client.wrappedVcs.map(((e,t)=>[t,JSON.stringify(e.original)])),n=[];return r.forEach(((e,t)=>{i.forEach(((r,i)=>{r[1]===e[1]&&n.push([`$[${i}]`,`$[${t}]`])}))})),[e=e.filter((e=>n.find((t=>t[0]===e.verifiable_credential_path)))).map((e=>{const t=n.find((t=>t[0]===e.verifiable_credential_path));return t&&(e.verifiable_credential_path=t[1]),e})),n]}evaluateRequirements(e,t,r,i){let o=0;const s=[];for(const a of e)if(a.from){if(a.rule===n.Rules.All){const[e,i]=this.countMatchingInputDescriptors(a,t);if(e!==r.get(a.from))throw Error(`Not all input descriptors are members of group ${a.from}`);o++,s.push(...i)}else if(a.rule===n.Rules.Pick){const[e,r]=this.countMatchingInputDescriptors(a,t);try{this.handleCount(a,e,i),o++}catch(e){if(0===i)throw e}s.push(...r)}}else if(a.from_nested){const[e,n]=this.evaluateRequirements(a.from_nested,t,r,++i);o+=e,s.push(...n),this.handleCount(a,e,i)}return[o,s]}countMatchingInputDescriptors(e,t){let r=0;const i=[];for(const n of t)n.payload.group.includes(e.from)&&(i.push(n),r++);return[r,i]}handleCount(e,t,r){if(e.count&&t!==e.count)throw Error(`Count: expected: ${e.count} actual: ${t} at level: ${r}`);if(e.min&&t<e.min)throw Error(`Min: expected: ${e.min} actual: ${t} at level: ${r}`);if(e.max&&t>e.max)throw Error(`Max: expected: ${e.max} actual: ${t} at level: ${r}`)}removeDuplicateSubmissionRequirementMatches(e){return e.filter(((t,r)=>{const i=JSON.stringify(t);return r===e.findIndex((e=>JSON.stringify(e)===i))}))}fillSelectableCredentialsToVerifiableCredentialsMapping(e,t){var r;e&&(null===(r=e.verifiableCredential)||void 0===r||r.forEach((r=>{var i;const n=s.ObjectUtils.isString(r)?t.findIndex((e=>r===e.original)):t.findIndex((e=>JSON.stringify(r.proof)===JSON.stringify(e.credential.proof)));if(-1===n)throw new Error("index is not right");null===(i=e.vcIndexes)||void 0===i||i.push(n)})))}determineAreRequiredCredentialsPresent(e,t,r){if(!t||!t.length)return o.Status.ERROR;const i=t.map((t=>this.determineSubmissionRequirementStatus(e,t)));if(!r)return i.includes(o.Status.ERROR)?o.Status.ERROR:i.includes(o.Status.WARN)?o.Status.WARN:o.Status.INFO;{if(r.rule===n.Rules.All&&i.includes(o.Status.ERROR))return o.Status.ERROR;const e=i.filter((e=>e!==o.Status.ERROR)).length;if(r.count)return r.count>e?o.Status.ERROR:r.count<e?o.Status.WARN:o.Status.INFO;if(r.min&&r.min>e)return o.Status.ERROR;if(r.max&&r.max<e)return o.Status.WARN}return o.Status.INFO}determineSubmissionRequirementStatus(e,t){if(t.from&&t.from_nested)throw new Error("Invalid submission_requirement object: MUST contain either a from or from_nested property.");if(!t.from&&!t.from_nested&&1!==t.vc_path.length)return o.Status.ERROR;if(t.from){const r=this.countGroupIDs(e.input_descriptors,t.from);switch(t.rule){case n.Rules.All:return t.vc_path.length===r?o.Status.INFO:o.Status.WARN;case n.Rules.Pick:return this.getPickRuleStatus(t);default:return o.Status.ERROR}}else if(t.from_nested)return this.determineAreRequiredCredentialsPresent(e,t.from_nested,t);return o.Status.INFO}getPickRuleStatus(e){return 0===e.vc_path.length?o.Status.ERROR:e.count&&e.vc_path.length!==e.count?e.vc_path.length>e.count?o.Status.WARN:o.Status.ERROR:e.min&&e.vc_path.length<e.min?o.Status.ERROR:e.max&&e.vc_path.length>e.max?o.Status.WARN:o.Status.INFO}updateSubmissionRequirementMatchPathToAlias(e,t){const r=[];e.vc_path.forEach((e=>{r.push(e.replace("$","$."+t))})),e.vc_path=r,e.from_nested&&e.from_nested.forEach((e=>{this.updateSubmissionRequirementMatchPathToAlias(e,t)}))}updatePresentationSubmissionPathToAlias(e,t){t?t.descriptor_map.forEach((t=>{this.replacePathWithAlias(t,e)})):this._client.generatePresentationSubmission&&this._client.presentationSubmission.descriptor_map.forEach((t=>{this.replacePathWithAlias(t,e)}))}replacePathWithAlias(e,t){e.path=e.path.replace("$","$."+t),e.path_nested&&this.replacePathWithAlias(e.path_nested,t)}createIdToVcMap(e){const t=new Map,r=new Map;for(let t=0;t<e.length;t++){const i=e[t].input_descriptor_path;if(r.has(i)){const n=r.get(i);n&&n.push(e[t])}else r.set(i,[e[t]])}for(const[e,i]of r.entries()){const r=[];for(let e=0;e<i.length;e++)-1===r.indexOf(i[e].verifiable_credential_path)&&r.push(i[e].verifiable_credential_path);t.set(e,r)}return t}countGroupIDs(e,t){let r=0;for(const i of e)i.group&&i.group.includes(t)&&r++;return r}}},34499:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractEvaluationHandler=void 0;const i=r(35557),n=r(84964);t.AbstractEvaluationHandler=class{constructor(e){this._client=e}setNext(e){return this.nextHandler=e,e}getNext(){return this.nextHandler}hasNext(){return null!=this.nextHandler}get client(){return this._client}get wrappedVcs(){return this._client.wrappedVcs}set wrappedVcs(e){this._client.wrappedVcs=e}get presentationSubmission(){return this._client.presentationSubmission}set presentationSubmission(e){this._client.presentationSubmission=e}getResults(){return this._client.results}updatePresentationSubmission(e){this._client.assertPresentationSubmission(),this.presentationSubmission.descriptor_map.forEach(((t,r,o)=>{let s;this.getResults().filter((e=>e.status===n.Status.ERROR&&e.evaluator===this.getName())).find((r=>(s=i.JSONPath.query(e,r.input_descriptor_path)[0],r.verifiable_credential_path===t.path&&(null==s?void 0:s.id)===t.id)))&&delete o[r]}))}removeDuplicate(e){return e.reduce(((e,t)=>e.find((e=>e.input_descriptor_path===t.input_descriptor_path&&e.verifiable_credential_path===t.verifiable_credential_path))?e:e.concat([t])),[])}}},48410:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DIDRestrictionEvaluationHandler=void 0;const n=r(84964),o=i(r(23133)),s=r(72252),a=r(34499);class c extends a.AbstractEvaluationHandler{constructor(e){super(e)}getName(){return"DIDRestrictionEvaluation"}handle(e,t){e.input_descriptors.forEach(((e,r)=>{t.forEach(((e,t)=>{const i="object"==typeof e.credential.issuer?e.credential.issuer.id:e.credential.issuer;this.client.hasRestrictToDIDMethods()&&i&&!(0,s.isRestrictedDID)(i,this.client.restrictToDIDMethods)&&i.toLowerCase().startsWith("did:")?this.getResults().push(this.generateErrorResult(r,`$[${t}]`,e)):this.getResults().push(this.generateSuccessResult(r,`$[${t}]`,e,`${i} is allowed`))}))})),this.updatePresentationSubmission(e)}generateErrorResult(e,t,r){return{input_descriptor_path:`$.input_descriptors[${e}]`,evaluator:this.getName(),status:n.Status.ERROR,message:o.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:t,payload:{format:r.format}}}generateSuccessResult(e,t,r,i){return{input_descriptor_path:`$.input_descriptors[${e}]`,evaluator:this.getName(),status:n.Status.INFO,message:null!=i?i:o.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:t,payload:{format:r.format}}}}t.DIDRestrictionEvaluationHandler=c},56135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},45785:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FormatRestrictionEvaluationHandler=void 0;const n=r(84964),o=i(r(23133)),s=r(34499);class a extends s.AbstractEvaluationHandler{constructor(e){super(e)}getName(){return"FormatRestrictionEvaluation"}handle(e,t){e.input_descriptors.forEach(((e,r)=>{t.forEach(((e,t)=>{!this.client.restrictToFormats||Object.keys(this.client.restrictToFormats).includes(e.format)?this.getResults().push(this.generateSuccessResult(r,`$[${t}]`,e,`${e.format} is allowed`)):this.getResults().push(this.generateErrorResult(r,`$[${t}]`,e))}))})),this.updatePresentationSubmission(e)}generateErrorResult(e,t,r){return{input_descriptor_path:`$.input_descriptors[${e}]`,evaluator:this.getName(),status:n.Status.ERROR,message:o.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:t,payload:{format:r.format}}}generateSuccessResult(e,t,r,i){return{input_descriptor_path:`$.input_descriptors[${e}]`,evaluator:this.getName(),status:n.Status.INFO,message:null!=i?i:o.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:t,payload:{format:r.format}}}}t.FormatRestrictionEvaluationHandler=a},16346:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(34499),t),n(r(56135),t),n(r(45430),t),n(r(14965),t),n(r(66163),t),n(r(52856),t),n(r(76466),t),n(r(44697),t),n(r(95928),t),n(r(58382),t),n(r(45785),t),n(r(48410),t)},45430:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputDescriptorFilterEvaluationHandler=void 0;const n=r(35557),o=i(r(1581)),s=i(r(5477)),a=r(84964),c=i(r(23133)),u=r(72252),h=r(34499);class d extends h.AbstractEvaluationHandler{constructor(e){super(e)}getName(){return"FilterEvaluation"}handle(e,t){const r=n.JSONPath.nodes(e,"$..fields[*]");t.forEach(((t,i)=>{this.createNoFieldResults(e,i,t),r.forEach((e=>{let r=[];e.value.path&&(r=u.JsonPathUtils.extractInputField(t.credential,e.value.path));let o=!1;for(const s of r)if(this.evaluateFilter(s,e.value)){o=!0;const s={result:Object.assign({},r[0]),valid:!0,format:t.format};this.getResults().push(Object.assign({},this.createResultObject(n.JSONPath.stringify(e.path.slice(0,3)),i,s)))}if(!o)if(r.length){const n={result:Object.assign({},r[0]),valid:!1,format:t.format};this.createResponse(e,i,n,c.default.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION)}else{const r={valid:!1,format:t.format};this.createResponse(e,i,r,c.default.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY)}}))})),this.updatePresentationSubmission(e)}createNoFieldResults(e,t,r){e.input_descriptors.map(((e,t)=>({index:t,inDesc:e}))).filter((e=>{var t,r,i;return void 0===(null===(t=e.inDesc.constraints)||void 0===t?void 0:t.fields)||0===(null===(i=null===(r=e.inDesc.constraints)||void 0===r?void 0:r.fields)||void 0===i?void 0:i.length)})).forEach((e=>{const i={result:[],valid:!0,format:r.format};this.getResults().push(Object.assign({},this.createResultObject(`$.input_descriptors[${e.index}]`,t,i)))}))}createResponse(e,t,r,i){this.getResults().push(Object.assign(Object.assign({},this.createResultObject(n.JSONPath.stringify(e.path.slice(0,3)),t,r)),{status:a.Status.ERROR,message:i}))}createResultObject(e,t,r){return{input_descriptor_path:e,verifiable_credential_path:`$[${t}]`,evaluator:this.getName(),status:a.Status.INFO,message:c.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:r}}evaluateFilter(e,t){var r;(null===(r=t.filter)||void 0===r?void 0:r.format)&&"date"===t.filter.format&&this.transformDateFormat(e);const i=new o.default({verbose:!0,code:{source:!0,lines:!0,esm:!1},allowUnionTypes:!0,allErrors:!0,strict:!1});return(0,s.default)(i),!t.filter||i.validate(t.filter,e.value)}transformDateFormat(e){const t=new Date(e.value);let r=t.getUTCMonth()+1+"";1===r.length&&(r="0"+r);let i=t.getUTCDate()+"";1===i.length&&(i="0"+i),e.value=t.getUTCFullYear()+"-"+r+"-"+i,e.value=t.toISOString().substring(0,t.toISOString().indexOf("T"))}}t.InputDescriptorFilterEvaluationHandler=d},66163:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LimitDisclosureEvaluationHandler=void 0;const n=r(89707),o=r(84964),s=i(r(23133)),a=r(72252),c=r(34499);class u extends c.AbstractEvaluationHandler{constructor(e){super(e)}getName(){return"LimitDisclosureEvaluation"}handle(e,t){e.input_descriptors.forEach(((e,r)=>{var i,o,s;!(null===(i=e.constraints)||void 0===i?void 0:i.fields)||(null===(o=e.constraints)||void 0===o?void 0:o.limit_disclosure)!==n.Optionality.Required&&(null===(s=e.constraints)||void 0===s?void 0:s.limit_disclosure)!==n.Optionality.Preferred||this.evaluateLimitDisclosure(t,e.constraints,r)}))}isLimitDisclosureSupported(e,t,r,i){const o=this.client.limitDisclosureSignatureSuites,s=e.decoded.proof;return!(!s||Array.isArray(s)||!s.type||!(null==o?void 0:o.includes(s.type))&&(i==n.Optionality.Required&&this.createLimitDisclosureNotSupportedResult(r,t),1))}evaluateLimitDisclosure(e,t,r){const i=null==t?void 0:t.fields,n=t.limit_disclosure;e.forEach(((t,o)=>{n&&this.isLimitDisclosureSupported(t,o,r,n)&&this.enforceLimitDisclosure(t.credential,i,r,o,e,n)}))}enforceLimitDisclosure(e,t,r,i,n,o){const s=this.createVcWithRequiredFields(e,t,r,i);s&&(n[i].credential=s,this.createSuccessResult(r,`$[${i}]`,o))}createVcWithRequiredFields(e,t,r,i){let n={};n=Object.assign(n,e),n.credentialSubject={};for(const o of t)if(o.path){const t=a.JsonPathUtils.extractInputField(e,o.path);if(!(t.length>0))return void this.createMandatoryFieldNotFoundResult(r,i,o.path);n=this.copyResultPathToDestinationCredential(t[0],e,n)}return n}copyResultPathToDestinationCredential(e,t,r){let i=Object.assign({},t.credentialSubject);return e.path.forEach((e=>{i[e]&&(i={[e]:i[e]})})),r.credentialSubject=Object.assign(Object.assign({},r.credentialSubject),i),r}createSuccessResult(e,t,r){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${e}]`,verifiable_credential_path:`${t}`,evaluator:this.getName(),status:r===n.Optionality.Required?o.Status.INFO:o.Status.WARN,message:s.default.LIMIT_DISCLOSURE_APPLIED,payload:void 0})}createMandatoryFieldNotFoundResult(e,t,r){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${e}]`,verifiable_credential_path:`$[${t}]`,evaluator:this.getName(),status:o.Status.ERROR,message:s.default.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT,payload:r})}createLimitDisclosureNotSupportedResult(e,t){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${e}]`,verifiable_credential_path:`$[${t}]`,evaluator:this.getName(),status:o.Status.ERROR,message:s.default.LIMIT_DISCLOSURE_NOT_SUPPORTED})}}t.LimitDisclosureEvaluationHandler=u},52856:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MarkForSubmissionEvaluationHandler=void 0;const n=r(35557),o=r(84964),s=i(r(23133)),a=r(34499);class c extends a.AbstractEvaluationHandler{constructor(e){super(e)}getName(){return"MarkForSubmissionEvaluation"}handle(e,t){const r=[...this.getResults()],i=r.filter((e=>e.status===o.Status.ERROR)),n=this.retrieveNoErrorStatus(r,i);this.client.wrappedVcs=t,this.produceErrorResults(i),this.produceSuccessResults(n,e)}retrieveNoErrorStatus(e,t){return e.filter((e=>e.status!==o.Status.ERROR)).filter((e=>!t.find((t=>e.input_descriptor_path===t.input_descriptor_path&&e.verifiable_credential_path===t.verifiable_credential_path))))}produceSuccessResults(e,t){this.removeDuplicate(e).forEach((e=>{const r=n.JSONPath.nodes(t,e.input_descriptor_path)[0].value.group;this.getResults().push({input_descriptor_path:e.input_descriptor_path,verifiable_credential_path:e.verifiable_credential_path,evaluator:this.getName(),status:o.Status.INFO,payload:{group:r},message:s.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION})}))}produceErrorResults(e){this.removeDuplicate(e).forEach((e=>{const t=Object.assign({},e.payload);t.evaluator=e.evaluator,this.getResults().push(Object.assign(Object.assign({},e),{evaluator:this.getName(),message:s.default.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:t}))}))}}t.MarkForSubmissionEvaluationHandler=c},76466:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PredicateRelatedFieldEvaluationHandler=void 0;const n=r(89707),o=r(84964),s=i(r(23133)),a=r(34499);class c extends a.AbstractEvaluationHandler{constructor(e){super(e)}getName(){return"PredicateRelatedFieldEvaluation"}handle(e){e.input_descriptors.forEach(((e,t)=>{e.constraints&&this.examinePredicateRelatedField(t,e.constraints)}))}examinePredicateRelatedField(e,t){if(null==t?void 0:t.fields)for(let r=0;r<t.fields.length;r++)for(let i=0;i<this.getResults().length;i++)this.examinePredicateForFilterEvaluationResult(this.getResults(),i,e,t,r)}examinePredicateForFilterEvaluationResult(e,t,r,i,o){var s;const a=this.retrieveResultInputDescriptorIdx(e[t].input_descriptor_path);if(e[t].payload&&e[t].payload.result&&e[t].payload.result.path&&"FilterEvaluation"===e[t].evaluator&&r===a&&i&&i.fields&&i.fields[o]&&i.fields[o].predicate&&i.fields[o].path&&(null===(s=i.fields[o].path)||void 0===s?void 0:s.includes(this.concatenatePath(e[t].payload.result.path)))){const s=Object.assign({},e[t].payload.result),a=this.createResultObject(r,t,s,e);i.fields[o].predicate===n.Optionality.Required||(a.payload.value=!0),e.push(a)}}retrieveResultInputDescriptorIdx(e){const t=e.indexOf("$.input_descriptors["),r=e.substring(t+20),i=r.indexOf("]"),n=r.substring(0,i);return parseInt(n)}concatenatePath(e){let t="";for(let r=0;r<e.length;r++)"number"==typeof e[r]?(t=t.substring(0,t.length-1),t+="[*]."):t+=e[r]+".";return t.substring(0,t.length-1)}createResultObject(e,t,r,i){return{input_descriptor_path:`$.input_descriptors[${e}]`,verifiable_credential_path:i[t].verifiable_credential_path,evaluator:this.getName(),status:o.Status.INFO,message:s.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:r}}}t.PredicateRelatedFieldEvaluationHandler=c},44697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SameSubjectEvaluationHandler=void 0;const i=r(35557),n=r(89707),o=r(84964),s=r(34499);class a extends s.AbstractEvaluationHandler{constructor(e){super(e),this.fieldIds=[],this.sameSubject=[],this.messages=new Map,this.messages.set(o.Status.INFO,"The field ids requiring the same subject to belong to same subject"),this.messages.set(o.Status.WARN,"The field ids preferring the same subject to belong to same subject"),this.messages.set(o.Status.ERROR,"The fields ids not belong to the same subject")}getName(){return"SameSubjectEvaluation"}handle(e,t){const r=this.mapSameSubjectFieldIdsToInputDescriptors(e),i=this.mapCredentialsToResultObjecs(t,r),n=this.countSameSubjectOccurrences(r,i);this.generateErrorResults(n,i),this.updatePresentationSubmission(e)}mapSameSubjectFieldIdsToInputDescriptors(e){this.fieldIds.push(...i.JSONPath.nodes(e,"$..fields[*].id")),this.sameSubject.push(...i.JSONPath.nodes(e,"$..same_subject[*]"));const t=[];return this.fieldIds.forEach((e=>{const r=this.sameSubject.find((t=>t.value.field_id.includes(e.value)));r&&t.push([e,r])})),t}generateErrorResults(e,t){e.forEach(((e,r)=>{const i=t.filter((e=>r===e.payload.fieldIdSet)).map((e=>e.payload.credentialSubject.id));i.length===e&&1===new Set(i).size||t.forEach(((e,t,i)=>{e.payload.fieldIdSet===r&&(e.status=o.Status.ERROR,e.message=this.messages.get(o.Status.ERROR),i[t]=e)}))})),this.client.results.push(...t)}countSameSubjectOccurrences(e,t){const r=new Map;return e.forEach((e=>{t.filter((t=>e[1].value.field_id===t.payload.fieldIdSet))&&(r.has(e[1].value.field_id)&&r.get(e[1].value.field_id)?r.set(e[1].value.field_id,r.get(e[1].value.field_id)+1):r.set(e[1].value.field_id,1))})),r}mapCredentialsToResultObjecs(e,t){const r=[...i.JSONPath.nodes(e.map((e=>e.credential)),"$..credentialSubject")],s=[];return r.forEach((e=>{const r=t.find((t=>0!==i.JSONPath.query(e.value,`$..${t[0].value}`).length));r&&r[1].value.directive===n.Optionality.Required?s.push({input_descriptor_path:i.JSONPath.stringify(r[0].path.slice(0,3)),status:o.Status.INFO,evaluator:this.getName(),payload:{fieldIdSet:r[1].value.field_id,credentialSubject:e.value},message:this.messages.get(o.Status.INFO),verifiable_credential_path:i.JSONPath.stringify(e.path.slice(0,2))}):r&&r[1].value.directive===n.Optionality.Preferred&&s.push({input_descriptor_path:i.JSONPath.stringify(r[0].path.slice(0,3)),status:o.Status.WARN,evaluator:this.getName(),payload:{fieldIdSet:r[1].value.field_id,credentialSubject:e.value},message:this.messages.get(o.Status.WARN),verifiable_credential_path:i.JSONPath.stringify(e.path.slice(0,2))})})),s}}t.SameSubjectEvaluationHandler=a},14965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubjectIsHolderEvaluationHandler=void 0;const i=r(35557),n=r(89707),o=r(84964),s=r(34499);class a extends s.AbstractEvaluationHandler{constructor(e){super(e),this.fieldIdzInputDescriptorsSameSubjectRequired=new Map,this.fieldIdzInputDescriptorsSameSubjectPreferred=new Map,this.isHolder=[],this.fieldIds=[],this.credentialsSubjectsByPath=new Map,this.credentialsByPath=new Map,this.messages=new Map,this.messages.set(o.Status.INFO,"The field ids requiring the subject to be the holder"),this.messages.set(o.Status.WARN,"The field ids preferring the subject to be the holder"),this.messages.set(o.Status.ERROR,"The field id missing")}getName(){return"IsHolderEvaluation"}handle(e,t){this.findIsHolderFieldIdsToInputDescriptorsSets(e),this.findAllCredentialSubjects(t),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectRequired,o.Status.INFO,n.Optionality.Required),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectPreferred,o.Status.WARN,n.Optionality.Preferred),this.updatePresentationSubmission(e)}findIsHolderFieldIdsToInputDescriptorsSets(e){var t;this.fieldIds.push(...i.JSONPath.nodes(e,"$..fields[*].id")),this.isHolder.push(...i.JSONPath.nodes(e,"$..is_holder[*]"));const r=null===(t=this.fieldIds)||void 0===t?void 0:t.map((e=>e.value)),s=[];s.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectPreferred,this.isHolder,r,n.Optionality.Preferred)),s.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectRequired,this.isHolder,r,n.Optionality.Required)),s.forEach((e=>this.getResults().push(this.createResult(e[1],e[0],["",{}],o.Status.ERROR,void 0))))}evaluateFields(e,t,r,n){const o=[];return t.filter((e=>e.value.directive===n)).filter((e=>e.value.field_id.every((e=>r.includes(e))))).forEach((t=>e.set(i.JSONPath.stringify(t.path.slice(0,3)),t.value.field_id))),t.filter((e=>e.value.directive===n)).filter((e=>!e.value.field_id.every((e=>r.includes(e))))).forEach((e=>o.push([i.JSONPath.stringify(e.path.slice(0,3)),e.value.field_id]))),o}findAllCredentialSubjects(e){const t=i.JSONPath.nodes(e.map((e=>e.credential)),"$..credentialSubject");for(let r=0;r<t.length;r++){const n=t[r],o=i.JSONPath.stringify(n.path.slice(0,2));this.credentialsSubjectsByPath.set(o,n.value),this.credentialsByPath.set(o,e[r])}}confirmAllFieldSetHasSameSubject(e,t,r){const i=Array.from(e).flatMap((e=>Array.from(this.credentialsSubjectsByPath).filter((t=>e[1].find((e=>Object.keys(t[1]).includes(e))))))),n=this.mapCredentialPathsToInputDescriptors(r),s=Array.from(i).flatMap((e=>Object.keys(e[1]).filter((e=>"id"!==e)))),a=Array.from(e.values()).flatMap((e=>e.every((e=>s.includes(e)))))[0];i.forEach((e=>{const r=n.get(e[0]);a&&e[1].id&&this.client.dids.includes(e[1].id)?this.getResults().push(this.createResult(Object.keys(e[1]).filter((e=>"id"!==e)),r,e,t,this.credentialsByPath.get(e[0]))):this.getResults().push(this.createResult(Object.keys(e[1]).filter((e=>"id"!==e)),r,e,o.Status.ERROR,this.credentialsByPath.get(e[0])))}))}mapCredentialPathsToInputDescriptors(e){var t;const r=new Map;return null===(t=this.fieldIds)||void 0===t||t.forEach((t=>{const n=i.JSONPath.stringify(t.path.slice(0,3));this.credentialsSubjectsByPath.forEach(((o,s)=>{const a=this.isHolder.find((e=>i.JSONPath.stringify(e.path.slice(0,3))===n));Object.keys(o).includes(t.value)&&(null==a?void 0:a.value.directive)===e&&r.set(s,n)}))})),r}createResult(e,t,r,i,n,o){return{input_descriptor_path:t,verifiable_credential_path:r[0],evaluator:this.getName(),status:i,payload:Object.assign({fieldIdSet:e,credentialSubject:r[1]},n?{format:n.format}:{}),message:null!=o?o:this.messages.get(i)}}}t.SubjectIsHolderEvaluationHandler=a},95928:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubjectIsIssuerEvaluationHandler=void 0;const n=r(89707),o=r(7663),s=r(84964),a=i(r(23133)),c=r(72252),u=r(34499);class h extends u.AbstractEvaluationHandler{constructor(e){super(e)}getName(){return"SubjectIsIssuerEvaluation"}handle(e,t){e.input_descriptors.forEach(((e,r)=>{const i=e.constraints;(null==i?void 0:i.subject_is_issuer)===n.Optionality.Required?this.checkSubjectIsIssuer(e.id,t,r):this.getResults().push(...t.map(((e,t)=>this.generateSuccessResult(r,`$[${t}]`,e,"not applicable"))))})),this.updatePresentationSubmission(e)}checkSubjectIsIssuer(e,t,r){this.client.presentationSubmission.descriptor_map.forEach((i=>{if(i.id===e){const e=c.JsonPathUtils.extractInputField(t.map((e=>e.credential)),[i.path]);for(const t of e){const e=(0,c.getIssuerString)(t.value);t&&t.value&&(0,c.getSubjectIdsAsString)(t.value).every((t=>t===e))?this.getResults().push(this.generateSuccessResult(r,i.path,o.CredentialMapper.toWrappedVerifiableCredential(t.value))):this.getResults().push(this.generateErrorResult(r,i.path,o.CredentialMapper.toWrappedVerifiableCredential(t.value)))}}}))}generateErrorResult(e,t,r){return{input_descriptor_path:`$.input_descriptors[${e}]`,evaluator:this.getName(),status:s.Status.ERROR,message:a.default.SUBJECT_IS_NOT_ISSUER,verifiable_credential_path:t,payload:{format:r.format}}}generateSuccessResult(e,t,r,i){return{input_descriptor_path:`$.input_descriptors[${e}]`,evaluator:this.getName(),status:s.Status.INFO,message:null!=i?i:a.default.SUBJECT_IS_ISSUER,verifiable_credential_path:t,payload:{format:r.format}}}}t.SubjectIsIssuerEvaluationHandler=h},58382:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UriEvaluationHandler=void 0;const n=r(35557),o=r(64296),s=r(84964),a=r(26653),c=i(r(23133)),u=r(34499);class h extends u.AbstractEvaluationHandler{constructor(e){super(e)}getName(){return"UriEvaluation"}handle(e,t){e.input_descriptors.forEach(((r,i)=>{const n=e.getVersion()!==a.PEVersion.v2?r.schema.map((e=>e.uri)):[];t.forEach(((t,r)=>{const o=h.buildVcContextAndSchemaUris(t.credential,e.getVersion());this.evaluateUris(t,o,n,i,r,e.getVersion())}))}));const r=this.getResults().filter((e=>e.status===s.Status.INFO)).map((t=>{var r;return{id:n.JSONPath.nodes(e,t.input_descriptor_path)[0].value.id,format:null===(r=t.payload)||void 0===r?void 0:r.format,path:t.verifiable_credential_path}}));!this.client.generatePresentationSubmission||this.presentationSubmission&&0!==Object.keys(this.presentationSubmission).length||(this.presentationSubmission={id:(0,o.nanoid)(),definition_id:e.id,descriptor_map:r})}evaluateUris(e,t,r,i,n,o){let s=!1;if(o===a.PEVersion.v1){for(let e=0;e<r.length;e++)h.containsHashlink(r[e])&&this.getResults().push(this.createWarnResultObject(i,n));for(let e=0;e<t.length;e++)null!=r.find((r=>r===t[e]))&&(s=!0)}else s=!0;s?this.getResults().push(this.createSuccessResultObject(e,r,i,n)):this.getResults().push(this.createErrorResultObject(e,r,i,n))}static buildVcContextAndSchemaUris(e,t){const r=[];return Array.isArray(e["@context"])?e["@context"].forEach((e=>r.push(e))):r.push(e["@context"]),Array.isArray(e.credentialSchema)&&e.credentialSchema.length>0?e.credentialSchema.forEach((e=>r.push(e.id))):e.credentialSchema&&r.push(e.credentialSchema.id),t===a.PEVersion.v1&&(Array.isArray(e.type)?e.type.forEach((e=>r.push(e))):e.type&&r.push(e.type)),r}createSuccessResultObject(e,t,r,i){const n=this.createResult(r,i);return n.status=s.Status.INFO,n.message=c.default.URI_EVALUATION_PASSED,n.payload={format:e.format,vcContext:e.credential["@context"],vcCredentialSchema:e.credential.credentialSchema,inputDescriptorsUris:t},n}createErrorResultObject(e,t,r,i){const n=this.createResult(r,i);return n.status=s.Status.ERROR,n.message=c.default.URI_EVALUATION_DIDNT_PASS,n.payload={format:e.format,vcContext:e.credential["@context"],vcCredentialSchema:e.credential.credentialSchema,inputDescriptorsUris:t},n}createWarnResultObject(e,t){const r=this.createResult(e,t);return r.status=s.Status.WARN,r.message=c.default.URI_EVALUATION_DIDNT_PASS,r.payload=c.default.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED,r}createResult(e,t){return{input_descriptor_path:`$.input_descriptors[${e}]`,verifiable_credential_path:`$[${t}]`,evaluator:this.getName(),status:s.Status.INFO,message:void 0}}static containsHashlink(e){return!(this.matchAll(e,h.HASHLINK_QUERY_URL_REGEX).next().done&&this.matchAll(e,h.HASHLINK_URL_ENCODED_REGEX).next().done)}}t.UriEvaluationHandler=h,h.matchAll=r(94956),h.HASHLINK_URL_ENCODED_REGEX=/hl:[a-zA-Z0-9]+:[a-zA-Z0-9]+/g,h.HASHLINK_QUERY_URL_REGEX=/https*?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(hl=[a-zA-Z0-9]+)/g},65023:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerCheckResult=t.EvaluationClientWrapper=t.EvaluationClient=void 0;const i=r(15863);Object.defineProperty(t,"HandlerCheckResult",{enumerable:!0,get:function(){return i.HandlerCheckResult}});const n=r(27014);Object.defineProperty(t,"EvaluationClient",{enumerable:!0,get:function(){return n.EvaluationClient}});var o=r(14850);Object.defineProperty(t,"EvaluationClientWrapper",{enumerable:!0,get:function(){return o.EvaluationClientWrapper}})},72969:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.PEXv2=t.PEXv1=t.PEX=t.Status=t.Checked=t.PEVersion=t.ValidationEngine=t.HandlerCheckResult=void 0;const o=r(84964);Object.defineProperty(t,"Checked",{enumerable:!0,get:function(){return o.Checked}}),Object.defineProperty(t,"Status",{enumerable:!0,get:function(){return o.Status}});const s=r(21525);Object.defineProperty(t,"PEX",{enumerable:!0,get:function(){return s.PEX}});const a=r(55892);Object.defineProperty(t,"PEXv1",{enumerable:!0,get:function(){return a.PEXv1}});const c=r(61113);Object.defineProperty(t,"PEXv2",{enumerable:!0,get:function(){return c.PEXv2}});const u=r(65023);Object.defineProperty(t,"HandlerCheckResult",{enumerable:!0,get:function(){return u.HandlerCheckResult}});const h=r(26653);Object.defineProperty(t,"PEVersion",{enumerable:!0,get:function(){return h.PEVersion}});const d=r(52004);Object.defineProperty(t,"ValidationEngine",{enumerable:!0,get:function(){return d.ValidationEngine}}),n(r(86373),t)},86373:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(68922),t)},68922:(e,t)=>{"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyEncoding=t.PresentationSubmissionLocation=void 0,(i=t.PresentationSubmissionLocation||(t.PresentationSubmissionLocation={}))[i.EXTERNAL=0]="EXTERNAL",i[i.PRESENTATION=1]="PRESENTATION",(r=t.KeyEncoding||(t.KeyEncoding={})).Jwk="Jwk",r.Base58="Base58",r.Hex="Hex",r.Multibase="Multibase"},32367:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PEVersion=t.InternalPresentationDefinitionV2=t.InternalPresentationDefinitionV1=void 0,t.InternalPresentationDefinitionV1=class{constructor(e,t,r,i,n,o){this.id=e,this.input_descriptors=t,this.format=r,this.name=i,this.purpose=n,this.submission_requirements=o}getVersion(){return r.v1}},t.InternalPresentationDefinitionV2=class{constructor(e,t,r,i,n,o,s){this.format=r,this.frame=i,this.id=e,this.input_descriptors=t,this.name=n,this.purpose=o,this.submission_requirements=s}getVersion(){return r.v2}},function(e){e.v1="v1",e.v2="v2"}(r=t.PEVersion||(t.PEVersion={}))},23133:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY="Input candidate does not contain property",e.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION="Input candidate failed filter evaluation",e.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is eligible for submission",e.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is not eligible for submission",e.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED="Input descriptor contains hashlink. This version doesn't support hashlink verification.",e.LIMIT_DISCLOSURE_APPLIED="added variable in the limit_disclosure to the verifiableCredential",e.LIMIT_DISCLOSURE_NOT_SUPPORTED="Limit disclosure not supported",e.SUBJECT_IS_NOT_ISSUER="subject is not issuer",e.SUBJECT_IS_ISSUER="subject is issuer",e.FORMAT_RESTRICTION_PASSED="the Credential format of the candidate inputs matches the required formats",e.FORMAT_RESTRICTION_DIDNT_PASS="the Credential format of the candidate inputs didn't match the required formats",e.URI_EVALUATION_PASSED="@context URI(s) for the schema of the candidate input is equal to one of the input_descriptors object uri values.",e.URI_EVALUATION_DIDNT_PASS="@context URI for the of the candidate input MUST be equal to one of the input_descriptors object uri values exactly.",e.UNKNOWN_EXCEPTION="unknown exception occurred: ",e.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT="mandatory field not present in the verifiableCredential"}(r||(r={})),t.default=r},6311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SSITypesBuilder=void 0;const i=r(7663),n=r(72252),o=r(32367);class s{static modelEntityToInternalPresentationDefinitionV1(e){const t=s.createCopyAndModifyPresentationDefinition(e);return new o.InternalPresentationDefinitionV1(t.id,t.input_descriptors,t.format,t.name,t.purpose,t.submission_requirements)}static modelEntityInternalPresentationDefinitionV2(e){const t=s.createCopyAndModifyPresentationDefinition(e);return new o.InternalPresentationDefinitionV2(t.id,t.input_descriptors,t.format,t.frame,t.name,t.purpose,t.submission_requirements)}static createCopyAndModifyPresentationDefinition(e){const t=JSON.parse(JSON.stringify(e));return n.JsonPathUtils.changePropertyNameRecursively(t,"_const","const"),n.JsonPathUtils.changePropertyNameRecursively(t,"_enum","enum"),n.JsonPathUtils.changeSpecialPathsRecursively(t),t}static mapExternalVerifiablePresentationToWrappedVP(e){return i.CredentialMapper.toWrappedVerifiablePresentation(e)}static mapExternalVerifiableCredentialsToWrappedVcs(e){return i.CredentialMapper.toWrappedVerifiableCredentials(Array.isArray(e)?e:[e])}static toInternalPresentationDefinition(e){const t=JSON.parse(JSON.stringify(e)),r=(0,n.definitionVersionDiscovery)(t);if(r.error)throw r.error;return r.version==o.PEVersion.v1?s.modelEntityToInternalPresentationDefinitionV1(t):s.modelEntityInternalPresentationDefinitionV2(t)}}t.SSITypesBuilder=s},26653:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(23133),t),n(r(32367),t),n(r(6311),t)},52646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUtils=void 0;class r{static asArray(e){return Array.isArray(e)?e:[e]}static isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}static isUrlAbsolute(e){r.isString(e)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(e)}static isString(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}static getDistinctFieldInObject(e,t){const r=e.map((e=>e[t]));return Array.from(new Set(r))}}t.ObjectUtils=r},37446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectValidationUtils=void 0,t.ObjectValidationUtils=class{static optionalNonEmptyString(e){return null==e||e.length>0}static nonEmptyString(e){return null!=e&&e.length>0}static isValidDIDURI(e){return new RegExp("^did:([a-z0-9]+)(:([a-zA-Z0-9\\.\\-_]|%[0-9a-fA-F]{2})+)+(/([a-zA-Z-\\._~]|%[0-9a-fA-F]{2}|[!$&'()*+,;=:@])*)?").test(e)}}},80574:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.filterToRestrictedDIDs=t.isRestrictedDID=t.uniformDIDMethods=t.definitionVersionDiscovery=t.getIssuerString=t.getSubjectIdsAsString=void 0;const n=r(26653),o=i(r(94813)),s=i(r(85191)),a=r(52646),c=r(64119);function u(e,t){var r;let i=null!==(r=null==e?void 0:e.map((e=>e.toLowerCase())).map((e=>e.startsWith("did:")?e:`did:${e}`)))&&void 0!==r?r:[];if(null==t?void 0:t.removePrefix){const e=t.removePrefix.endsWith(":")?t.removePrefix.length:t.removePrefix.length+1;i=i.map((r=>r.startsWith(t.removePrefix)?r.substring(e):r))}return i.includes("did")?[]:i}t.getSubjectIdsAsString=function(e){return(Array.isArray(e.credentialSubject)?e.credentialSubject:[e.credentialSubject]).filter((e=>!!e.id)).map((e=>e.id))},t.getIssuerString=function(e){return a.ObjectUtils.isString(e.issuer)?e.issuer:e.issuer.id},t.definitionVersionDiscovery=function(e){const t=JSON.parse(JSON.stringify(e));c.JsonPathUtils.changePropertyNameRecursively(t,"_const","const"),c.JsonPathUtils.changePropertyNameRecursively(t,"_enum","enum");const r={presentation_definition:t};let i=(0,s.default)(r);return i?{version:n.PEVersion.v2}:(i=(0,o.default)(r),i?{version:n.PEVersion.v1}:{error:"This is not a valid PresentationDefinition"})},t.uniformDIDMethods=u,t.isRestrictedDID=function(e,t){const r=u(t);return 0===r.length||r.some((t=>e.toLowerCase().startsWith(t)))},t.filterToRestrictedDIDs=function(e,t){const r=u(t);return 0===r.length?e:r.flatMap((t=>e.filter((e=>e.toLowerCase().startsWith(t)))))}},72252:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(64119),t),n(r(52646),t),n(r(37446),t),n(r(80574),t)},64119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonPathUtils=void 0;const i=r(35557);class n{static extractInputField(e,t){let r=[];if(t)for(const n of t)if(r=i.JSONPath.nodes(e,n),r.length)break;return r}static changePropertyNameRecursively(e,t,r){const i=n.extractInputField(e,["$.."+t]);for(const t of i)this.copyResultPathToDestinationDefinition(t.path,e,r)}static copyResultPathToDestinationDefinition(e,t,r){let i=t;for(let t=1;t<e.length;t++)if(t+1<e.length&&(i=i[e[t]]),e.length==t+1){i[r]=i[e[t]],delete i[e[t]];break}}static changeSpecialPathsRecursively(e){const t=n.extractInputField(e,["$..path"]);for(const r of t)this.modifyPathsWithSpecialCharacter(r.path,e)}static modifyPathsWithSpecialCharacter(e,t){let r=t;for(let t=1;t<e.length;t++)if(t+1<e.length&&(r=r[e[t]]),e.length==t+1){const i=r[e[t]],n=[];for(let e=0;e<i.length;e++)n.push(this.modifyPathWithSpecialCharacter(i[e]));r[e[t]]=n;break}}static modifyPathWithSpecialCharacter(e){const t=this.matchAll(e,this.REGEX_PATH);return this.modifyPathRecursive(t,e)}static modifyPathRecursive(e,t){let r=e.next(),i=!1;for(;r&&!r.done&&!i;){const n=r.value.index;if(n&&1==n)t=t.charAt(0)+"['"+r.value[0]+"']"+t.substring(n+r.value[0].length),i=!0,this.modifyPathRecursive(e,t);else if(n&&n>1&&"['"!==t.substring(n-2,n)&&'["'!==t.substring(n-2,n))if(".."===t.substring(n-2,n)){t=t.substring(0,n-2)+"..['"+r.value[0]+"']"+t.substring(n+r.value[0].length),i=!0;const e=this.matchAll(t,this.REGEX_PATH);this.modifyPathRecursive(e,t)}else"."===t.charAt(n-1)&&(t=t.substring(0,n-1)+"['"+r.value[0]+"']"+t.substring(n+r.value[0].length),i=!0,this.modifyPathRecursive(e,t));r=e.next()}return t}}t.JsonPathUtils=n,n.matchAll=r(94956),n.REGEX_PATH=/@\w+/g},53952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintsVB=void 0;const i=r(89707),n=r(28164),o=r(84095);class s extends o.ValidationBundler{constructor(e){super(e,"constraints"),this.disclosureLimitShouldHaveKnownValueMsg="limit_disclosure should have known value",this.statusShouldHaveKnownValueMsg="Unknown status property",this.statusDirectiveShouldHaveKnownValueMsg="status directive should have known value",this.subjectIsIssuerShouldBeKnownValueMsg="subject_is_issuer should be known value",this.fieldIdIsMandatoryMsg="field_id property is mandatory",this.fieldIdMustBeArrayOfStringsMsg="field_id property must be an array of strings",this.fieldIdMustCorrespondToFieldIdMsg="field_id must correspond to a present field object id property",this.directivePropertyIsMandatoryMsg="directive property is mandatory",this.oneOfTheKnownDirectivePropertiesMandatoryMsg="directive property must be one of [required, preferred]"}getValidations(e){let t=[];return e&&(t=[{tag:this.getTag(),target:e,predicate:e=>s.disclosureLimitShouldHaveKnownValue(e.limit_disclosure),message:this.disclosureLimitShouldHaveKnownValueMsg},{tag:this.getTag(),target:e,predicate:e=>s.statusShouldHaveKnownValue(e.statuses),message:this.statusShouldHaveKnownValueMsg},{tag:this.getTag(),target:e,predicate:s.statusDirectiveShouldHaveKnownValue(),message:this.statusDirectiveShouldHaveKnownValueMsg},{tag:this.getTag(),target:e,predicate:e=>s.shouldBeKnownOption(e.is_holder),message:this.subjectIsIssuerShouldBeKnownValueMsg},{tag:this.getTag(),target:e,predicate:e=>this.fieldIdInSubjectMustCorrespondToFieldId(e,e.is_holder),message:this.fieldIdMustCorrespondToFieldIdMsg},{tag:this.getTag(),target:e,predicate:e=>this.fieldIdInSubjectMustCorrespondToFieldId(e,e.same_subject),message:this.fieldIdMustCorrespondToFieldIdMsg},...this.getSubjectsValidations(null==e?void 0:e.is_holder),...this.getSubjectsValidations(null==e?void 0:e.same_subject),...this.getFieldsValidations(e)]),t}getFieldsValidations(e){var t;return(null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.length)?new n.FieldsVB(this.getTag()).getValidations(e.fields):[]}static disclosureLimitShouldHaveKnownValue(e){return!e||e===i.Optionality.Preferred||e===i.Optionality.Required}static statusShouldHaveKnownValue(e){return null==e||null!=e.active||null!=e.revoked||null!=e.suspended}static statusDirectiveShouldHaveKnownValue(){return e=>{var t,r,i;return this.pdStatusShouldBeKnown(null===(t=null==e?void 0:e.statuses)||void 0===t?void 0:t.active)&&this.pdStatusShouldBeKnown(null===(r=null==e?void 0:e.statuses)||void 0===r?void 0:r.revoked)&&this.pdStatusShouldBeKnown(null===(i=null==e?void 0:e.statuses)||void 0===i?void 0:i.suspended)}}static pdStatusShouldBeKnown(e){return!e||e.directive===i.Directives.Allowed||e.directive===i.Directives.Disallowed||e.directive===i.Directives.Required}static shouldBeKnownOption(e){return!e||0===e.filter((e=>e.directive!==i.Optionality.Preferred&&e.directive!==i.Optionality.Required)).length}getSubjectsValidations(e){if(e){let t=[];for(let r=0;r<e.length;r++)t=[{tag:this.getMyTag(r),target:e[r],predicate:e=>Array.isArray(e.field_id),message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(r),target:e[r],predicate:e=>!!e.field_id,message:this.fieldIdIsMandatoryMsg},{tag:this.getMyTag(r),target:e[r],predicate:e=>e.field_id.length===e.field_id.filter((e=>"string"==typeof e)).length,message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(r),target:e[r],predicate:e=>void 0!==e.directive,message:this.directivePropertyIsMandatoryMsg},{tag:this.getMyTag(r),target:e[r],predicate:e=>e.directive===i.Optionality.Preferred||e.directive===i.Optionality.Required,message:this.oneOfTheKnownDirectivePropertiesMandatoryMsg}];return t}return[]}getMyTag(e){return this.parentTag+"."+this.myTag+"["+e+"]"}fieldIdInSubjectMustCorrespondToFieldId(e,t){if(t)for(const r of t)for(const t of r.field_id)if(!s.isValidFieldId(e,t))return!1;return!0}static isValidFieldId(e,t){return!!(null==e?void 0:e.fields)&&e.fields.map((e=>e.id)).includes(t)}}t.ConstraintsVB=s},28164:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FieldsVB=void 0;const n=r(35557),o=r(89707),s=i(r(48640)),a=i(r(49349)),c=r(84095);class u extends c.ValidationBundler{constructor(e){super(e,"fields"),this.mustHaveValidJsonPathsMsg='field object "path" property must contain array of valid json paths',this.pathObjMustHaveValidJsonPathMsg='field object "path" property must contain valid json paths.',this.filterMustBeValidJsonSchemaMsg='field object "filter" property must be valid json schema',this.filterIsMustInPresenceOfPredicateMsg='field object must have a "filter" property if "predicate" is present',this.filterIsNotValidJsonSchemaDescriptorMsg='could not parse "filter" object as a valid json schema descriptor.',this.purposeShouldBeANonEmptyStringMsg="purpose should be a non empty string",this.shouldBeKnownOptionMsg="Unknown predicate property"}getValidations(e){let t=[];if(e)for(let r=0;r<e.length;r++)t=[...t,...this.getValidationsFor(e[r],r)];return t}getValidationsFor(e,t){return[{tag:this.getMyTag(t),target:e,predicate:this.mustHaveValidJsonPaths(),message:this.mustHaveValidJsonPathsMsg},{tag:this.getMyTag(t),target:e,predicate:this.filterMustBeValidJsonSchema(),message:this.filterMustBeValidJsonSchemaMsg},{tag:this.getMyTag(t),target:e,predicate:this.filterIsMustInPresenceOfPredicate(),message:this.filterIsMustInPresenceOfPredicateMsg},{tag:this.getMyTag(t),target:e,predicate:e=>u.optionalNonEmptyString(null==e?void 0:e.purpose),message:this.purposeShouldBeANonEmptyStringMsg},{tag:this.getMyTag(t),target:e,predicate:e=>u.shouldBeKnownOption(null==e?void 0:e.predicate),message:this.shouldBeKnownOptionMsg}]}getMyTag(e){return this.parentTag+"."+this.myTag+"["+e+"]"}mustHaveValidJsonPaths(){return e=>null!=e.path&&e.path.length>0&&this._validateJsonPaths(e.path)}_validateJsonPaths(e){const t=[];if(e.forEach((e=>{try{n.JSONPath.parse(e)}catch(r){t.push(e)}})),t.length>0)throw this.toChecked(this.pathObjMustHaveValidJsonPathMsg+" Got: "+JSON.stringify(t));return!0}filterMustBeValidJsonSchema(){return e=>this._validateFilter(e.filter)}_validateFilter(e){if(null==e)return!0;let t=!1;try{t=(0,a.default)(e),t||(t=(0,s.default)(e))}catch(t){throw this.toChecked(this.filterIsNotValidJsonSchemaDescriptorMsg+" Got "+JSON.stringify(e))}return t}filterIsMustInPresenceOfPredicate(){return e=>!(null!=e.predicate&&null==e.filter)}static optionalNonEmptyString(e){return null==e||e.length>0}static shouldBeKnownOption(e){return null==e||e==o.Optionality.Required||e==o.Optionality.Preferred}}t.FieldsVB=u},65086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameVB=void 0;const i=r(72252),n=r(84095);class o extends n.ValidationBundler{constructor(e){super(e,"frame"),this.frameIsValidMsg="frame value is not valid"}getValidations(e){let t=[];return t=[...t,...this.getMyValidations(e)],t}getMyValidations(e){return[{tag:this.getMyTag(),target:e,predicate:o.frameIsValid,message:this.frameIsValidMsg}]}getMyTag(){return this.parentTag+"."+this.myTag}static frameIsValid(e){if(!e||Array.isArray(e)||"object"!=typeof e)return!1;const t=e;if(t&&t["@id"])for(const t of i.ObjectUtils.asArray(e["@id"]))if(!i.ObjectUtils.isObject(t)&&!i.ObjectUtils.isUrlAbsolute(t)||i.ObjectUtils.isString(t)&&0===t.indexOf("_:"))return!1;if(t["@types"])for(const t of i.ObjectUtils.asArray(e["@types"]))if(!i.ObjectUtils.isObject(t)&&!i.ObjectUtils.isUrlAbsolute(t)||i.ObjectUtils.isString(t)&&0===t.indexOf("_:"))return!1;return!0}}t.FrameVB=o},18056:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(28164),t),n(r(55008),t),n(r(55331),t),n(r(9403),t),n(r(78160),t),n(r(65920),t),n(r(49216),t),n(r(84095),t),n(r(53952),t)},55008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputDescriptorsV1VB=void 0;const i=r(72252),n=r(53952),o=r(84095);class s extends o.ValidationBundler{constructor(e){super(e,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string",this.shouldHaveValidSchemaURIMsg="schema should have valid URI"}getValidations(e){let t=[];return t.push({tag:this.getTag(),target:e,predicate:e=>this.shouldHaveUniqueIds(e),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:e,predicate:e=>this.shouldHaveUniqueFieldsIds(e),message:"fields id must be unique"}),e.forEach(((e,r)=>{t=[...t,...this.getValidationFor(e,r),...this.constraintsValidations(e,r)]})),t}getValidationFor(e,t){return[{tag:this.getMyTag(t),target:e,predicate:e=>i.ObjectValidationUtils.nonEmptyString(null==e?void 0:e.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(t),target:e,predicate:this.isValidSchema(),message:this.shouldHaveValidSchemaURIMsg},{tag:this.getMyTag(t),target:e,predicate:e=>i.ObjectValidationUtils.optionalNonEmptyString(null==e?void 0:e.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(t),target:e,predicate:e=>i.ObjectValidationUtils.optionalNonEmptyString(null==e?void 0:e.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(e){const t=[],r=new Set,i=[];return e.map((e=>{var t;return null===(t=e.constraints)||void 0===t?void 0:t.fields})).forEach((e=>{e&&i.push(...e)})),i.forEach((e=>{e.id&&t.push(e.id)})),t.forEach((e=>r.add(e))),t.length===r.size}shouldHaveUniqueIds(e){const t=[],r=new Set;return e.forEach((e=>t.push(e.id))),t.forEach((e=>r.add(e))),t.length===r.size}getMyTag(e){return this.parentTag+"."+this.myTag+"["+e+"]"}isValidSchema(){return e=>e.schema.filter((e=>this.isAValidURI(e.uri)&&(null==e.required||"boolean"==typeof e.required))).length>0}isAValidURI(e){if(!e)return!1;if(!i.ObjectValidationUtils.nonEmptyString(e))return!1;if(e.startsWith("http://")||e.startsWith("https://"))try{new URL(e)}catch(t){return i.ObjectValidationUtils.isValidDIDURI(e)}return!0}constraintsValidations(e,t){return e.constraints?new n.ConstraintsVB(this.getMyTag(t)).getValidations(e.constraints):[]}}t.InputDescriptorsV1VB=s},55331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputDescriptorsV2VB=void 0;const i=r(72252),n=r(53952),o=r(84095);class s extends o.ValidationBundler{constructor(e){super(e,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string"}getValidations(e){let t=[];return t.push({tag:this.getTag(),target:e,predicate:e=>this.shouldNotHaveSchema(e),message:"input descriptor should not have schema property"},{tag:this.getTag(),target:e,predicate:e=>this.shouldHaveUniqueIds(e),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:e,predicate:e=>this.shouldHaveUniqueFieldsIds(e),message:"fields id must be unique"}),e.forEach(((e,r)=>{t=[...t,...this.getValidationFor(e,r),...this.constraintsValidations(e,r)]})),t}getValidationFor(e,t){return[{tag:this.getMyTag(t),target:e,predicate:e=>i.ObjectValidationUtils.nonEmptyString(null==e?void 0:e.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(t),target:e,predicate:e=>i.ObjectValidationUtils.optionalNonEmptyString(null==e?void 0:e.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(t),target:e,predicate:e=>i.ObjectValidationUtils.optionalNonEmptyString(null==e?void 0:e.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(e){const t=[],r=new Set,i=[];return e.map((e=>{var t;return null===(t=e.constraints)||void 0===t?void 0:t.fields})).forEach((e=>{e&&i.push(...e)})),i.forEach((e=>{e.id&&t.push(e.id)})),t.forEach((e=>r.add(e))),t.length===r.size}shouldHaveUniqueIds(e){const t=[],r=new Set;return e.forEach((e=>t.push(e.id))),t.forEach((e=>r.add(e))),t.length===r.size}getMyTag(e){return this.parentTag+"."+this.myTag+"["+e+"]"}constraintsValidations(e,t){return e.constraints?new n.ConstraintsVB(this.getMyTag(t)).getValidations(e.constraints):[]}shouldNotHaveSchema(e){let t=!1;return e.forEach((e=>{e.schema&&(t=!0)})),!t}}t.InputDescriptorsV2VB=s},9403:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PresentationDefinitionV1VB=void 0;const n=r(68278),o=r(76282),s=i(r(94813)),a=r(55008),c=r(49216),u=r(84095);class h extends u.ValidationBundler{constructor(e){super(e,"presentation_definition")}getValidations(e){return e.submission_requirements?[...this.myValidations(e),...new a.InputDescriptorsV1VB(this.myTag).getValidations(e.input_descriptors),...new c.SubmissionRequirementVB(this.myTag).getValidations(e.submission_requirements)]:[...this.myValidations(e),...new a.InputDescriptorsV1VB(this.myTag).getValidations(e.input_descriptors)]}myValidations(e){return[{tag:this.getTag(),target:e,predicate:e=>null!=e,message:"presentation_definition should be non null."},{tag:this.getTag(),target:e,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:e,predicate:e=>h.nonEmptyString(null==e?void 0:e.id),message:"id should not be empty"},{tag:this.getTag(),target:e,predicate:e=>h.optionalNonEmptyString(null==e?void 0:e.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:e,predicate:e=>h.optionalNonEmptyString(null==e?void 0:e.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:e,predicate:e=>h.formatValuesShouldNotBeEmpty(null==e?void 0:e.format),message:"formats values should not empty"},{tag:this.getTag(),target:e,predicate:e=>h.formatValuesShouldBeAmongKnownValues(null==e?void 0:e.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:e,predicate:e=>h.groupShouldMatchSubmissionRequirements(e),message:"input descriptor group should match the from in submission requirements."},{tag:this.getTag(),target:e,predicate:e=>h.shouldNotHaveFrameProperty(e),message:"input descriptor should not have frame property."}]}static optionalNonEmptyString(e){return null==e||e.length>0}static nonEmptyString(e){return null!=e&&e.length>0}static formatValuesShouldNotBeEmpty(e){var t,r,i,n,o,s;let a=!0;return null!=(null==e?void 0:e.jwt)&&(a=a&&(null===(t=e.jwt.alg)||void 0===t?void 0:t.length)>0),null!=(null==e?void 0:e.jwt_vc)&&(a=a&&(null===(r=e.jwt_vc.alg)||void 0===r?void 0:r.length)>0),null!=(null==e?void 0:e.jwt_vp)&&(a=a&&(null===(i=e.jwt_vp.alg)||void 0===i?void 0:i.length)>0),null!=(null==e?void 0:e.ldp)&&(a=a&&(null===(n=e.ldp.proof_type)||void 0===n?void 0:n.length)>0),null!=(null==e?void 0:e.ldp_vc)&&(a=a&&(null===(o=e.ldp_vc.proof_type)||void 0===o?void 0:o.length)>0),null!=(null==e?void 0:e.ldp_vp)&&(a=a&&(null===(s=e.ldp_vp.proof_type)||void 0===s?void 0:s.length)>0),a}static formatValuesShouldBeAmongKnownValues(e){let t=[];if(e){const r=n.JwtAlgos.getJwtAlgos(),i=o.LdpTypes.getLdpTypes();t=[];for(const[n,o]of Object.entries(e))n.startsWith("jwt")?t.push(...h.isJWTAlgoKnown(o,r)):t.push(...h.isLDPProofKnown(o,i))}return 0===t.length}static isJWTAlgoKnown(e,t){const r=[];if(null!=e&&null!=e.alg)for(const i of e.alg)t.includes(i)||r.push(i);return r}static isLDPProofKnown(e,t){const r=[];if(null!=e&&null!=e.proof_type)for(const i of e.proof_type)t.includes(i)||r.push(i);return r}static groupShouldMatchSubmissionRequirements(e){if(null!=e.submission_requirements&&e.submission_requirements.length>0){const t=[];e.input_descriptors.forEach((e=>{e.group&&t.push(...e.group)}));const r=new Set(t),i=[];h.flatten(e.submission_requirements).forEach((e=>{e.from&&(Array.isArray(e.from)?i.push(...e.from):i.push(e.from))}));const n=new Set(i);return 0===new Set([...n].filter((e=>null!=e&&e.length>0&&!r.has(e)))).size}return!0}static flatten(e){return null==e?void 0:e.reduce(((e,t)=>e.concat(Array.isArray(t.from_nested)?this.flatten(t.from_nested):t)),[])}shouldBeAsPerJsonSchema(){return e=>(0,s.default)({presentation_definition:e})}static shouldNotHaveFrameProperty(e){return!e.frame}}t.PresentationDefinitionV1VB=h},78160:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PresentationDefinitionV2VB=void 0;const n=r(68278),o=r(76282),s=i(r(85191)),a=r(65086),c=r(55331),u=r(49216),h=r(84095);class d extends h.ValidationBundler{constructor(e){super(e,"presentation_definition")}getValidations(e){let t=[];return t=e.submission_requirements?[...this.myValidations(e),...new c.InputDescriptorsV2VB(this.myTag).getValidations(e.input_descriptors),...new u.SubmissionRequirementVB(this.myTag).getValidations(e.submission_requirements)]:[...this.myValidations(e),...new c.InputDescriptorsV2VB(this.myTag).getValidations(e.input_descriptors)],e.frame&&t.push(...new a.FrameVB(this.myTag).getValidations(e.frame)),t}myValidations(e){return[{tag:this.getTag(),target:e,predicate:e=>null!=e,message:"presentation_definition should be non null."},{tag:this.getTag(),target:e,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:e,predicate:e=>d.nonEmptyString(null==e?void 0:e.id),message:"id should not be empty"},{tag:this.getTag(),target:e,predicate:e=>d.optionalNonEmptyString(null==e?void 0:e.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:e,predicate:e=>d.optionalNonEmptyString(null==e?void 0:e.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:e,predicate:e=>d.formatValuesShouldNotBeEmpty(null==e?void 0:e.format),message:"formats values should not empty"},{tag:this.getTag(),target:e,predicate:e=>d.formatValuesShouldBeAmongKnownValues(null==e?void 0:e.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:e,predicate:e=>d.groupShouldMatchSubmissionRequirements(e),message:"input descriptor group should match the from in submission requirements."}]}static optionalNonEmptyString(e){return null==e||e.length>0}static nonEmptyString(e){return null!=e&&e.length>0}static formatValuesShouldNotBeEmpty(e){var t,r,i,n,o,s;let a=!0;return null!=(null==e?void 0:e.jwt)&&(a=a&&(null===(t=e.jwt.alg)||void 0===t?void 0:t.length)>0),null!=(null==e?void 0:e.jwt_vc)&&(a=a&&(null===(r=e.jwt_vc.alg)||void 0===r?void 0:r.length)>0),null!=(null==e?void 0:e.jwt_vp)&&(a=a&&(null===(i=e.jwt_vp.alg)||void 0===i?void 0:i.length)>0),null!=(null==e?void 0:e.ldp)&&(a=a&&(null===(n=e.ldp.proof_type)||void 0===n?void 0:n.length)>0),null!=(null==e?void 0:e.ldp_vc)&&(a=a&&(null===(o=e.ldp_vc.proof_type)||void 0===o?void 0:o.length)>0),null!=(null==e?void 0:e.ldp_vp)&&(a=a&&(null===(s=e.ldp_vp.proof_type)||void 0===s?void 0:s.length)>0),a}static formatValuesShouldBeAmongKnownValues(e){let t=[];if(e){const r=n.JwtAlgos.getJwtAlgos(),i=o.LdpTypes.getLdpTypes();t=[];for(const[n,o]of Object.entries(e))n.startsWith("jwt")?t.push(...d.isJWTAlgoKnown(o,r)):t.push(...d.isLDPProofKnown(o,i))}return 0===t.length}static isJWTAlgoKnown(e,t){const r=[];if(null!=e&&null!=e.alg)for(const i of e.alg)t.includes(i)||r.push(i);return r}static isLDPProofKnown(e,t){const r=[];if(null!=e&&null!=e.proof_type)for(const i of e.proof_type)t.includes(i)||r.push(i);return r}static groupShouldMatchSubmissionRequirements(e){if(null!=e.submission_requirements&&e.submission_requirements.length>0){const t=[];e.input_descriptors.forEach((e=>{e.group&&t.push(...e.group)}));const r=new Set(t),i=[];d.flatten(e.submission_requirements).forEach((e=>{e.from&&i.push(...e.from)}));const n=new Set(i);return 0===new Set([...n].filter((e=>null!=e&&e.length>0&&!r.has(e)))).size}return!0}static flatten(e){return null==e?void 0:e.reduce(((e,t)=>e.concat(Array.isArray(t.from_nested)?this.flatten(t.from_nested):t)),[])}shouldBeAsPerJsonSchema(){return e=>(0,s.default)({presentation_definition:e})}}t.PresentationDefinitionV2VB=d},65920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PresentationSubmissionVB=void 0;const i=r(35557),n=r(84964),o=r(84095);class s extends o.ValidationBundler{constructor(e){super(e,"presentation_submission")}getValidations(e){return[{tag:this.getTag(),target:e,predicate:e=>null!=e,message:"presentation_submission should be non null."},{tag:this.getTag(),target:e,predicate:e=>s.nonEmptyString(null==e?void 0:e.id),message:"id should not be empty"},{tag:this.getTag(),target:e,predicate:e=>s.nonEmptyString(null==e?void 0:e.definition_id),message:"presentation_definition_id should not be empty"},{tag:this.getTag(),target:e,predicate:e=>s.descriptorMapMustBePresent(null==e?void 0:e.descriptor_map),message:"descriptor_map should be a non-empty list"},{tag:this.getTag(),target:e,predicate:e=>s.idMustBeSameForEachLevelOfNesting(null==e?void 0:e.descriptor_map),message:"each descriptor should have a one id in it, on all levels"},{tag:this.getTag(),target:e,predicate:e=>s.formatsShouldBeKnown(null==e?void 0:e.descriptor_map),message:"each format should be one of the known format"},{tag:this.getTag(),target:e,predicate:e=>s.pathsShouldBeValidJsonPaths(null==e?void 0:e.descriptor_map),message:"each path should be a valid jsonPath"}]}static nonEmptyString(e){return null!=e&&e.length>0}static descriptorMapMustBePresent(e){return null!=e&&e.length>0}static idMustBeSameForEachLevelOfNesting(e){let t=!0;if(null!=e)for(let r=0;r<e.length;r++)t=t&&s.isIdSameForEachLevelOfNesting(e[r],e[r].id);return t}static isIdSameForEachLevelOfNesting(e,t){let r=!0;return null!=e&&null!=e.path_nested&&(r=e.path_nested.id==t&&r&&s.isIdSameForEachLevelOfNesting(e.path_nested,t)),r}static formatsShouldBeKnown(e){let t=!0;if(null!=e){const r=["jwt","jwt_vc","jwt_vp","ldp","ldp_vc","ldp_vp"];for(let i=0;i<e.length;i++)t=s.formatShouldBeKnown(e[i],r)}return t}static formatShouldBeKnown(e,t){let r=!0;return null!=e&&(r=t.includes(e.format)),null!=e.path_nested&&(r=r&&s.formatShouldBeKnown(e.path_nested,t)),r}static pathsShouldBeValidJsonPaths(e){let t=!0;if(null!=e)for(let r=0;r<e.length;r++)t=s.pathShouldBeValid(e[r],[]);return t}static pathShouldBeValid(e,t){if(null!=e){try{i.JSONPath.parse(e.path)}catch(r){t.push(e.path)}null!=e.path_nested&&s.pathShouldBeValid(e.path_nested,t)}if(t.length>0)throw new n.Checked("",n.Status.ERROR,"These were not parsable json paths: "+JSON.stringify(t));return!0}}t.PresentationSubmissionVB=s},49216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubmissionRequirementVB=void 0;const i=r(84095);class n extends i.ValidationBundler{constructor(e){super(e,"submission_requirements"),this.ruleIsMandatoryMsg="rule is a mandatory field",this.needsOneFromOrFromNestedMsg="needs exactly one of from or from_nested",this.fromNestedShouldBeArrayMsg="The value of the from_nested property MUST be an array",this.isCountPositiveIntMsg="count must be a practical positive number",this.isMinPositiveIntMsg="min must be a practical positive number",this.isMaxPositiveIntMsg="max must be a practical positive number",this.ruleShouldBePickOrAllMsg="rule should be either pick or all"}getValidations(e){let t=[];if(null!=e&&e.length>0)for(let r=0;r<e.length;r++)t=[...t,...this.getMyValidations(r,e),...this.getSubValidations(r,e)];return t}getMyValidations(e,t){return[{tag:this.getMyTag(e),target:t[e],predicate:n.ruleIsMandatory,message:this.ruleIsMandatoryMsg},{tag:this.getMyTag(e),target:t[e],predicate:n.needsOneFromOrFromNested,message:this.needsOneFromOrFromNestedMsg},{tag:this.getMyTag(e),target:t[e],predicate:n.fromNestedShouldBeArray,message:this.fromNestedShouldBeArrayMsg},{tag:this.getMyTag(e),target:t[e],predicate:this.isCountPositiveInt,message:this.isCountPositiveIntMsg},{tag:this.getMyTag(e),target:t[e],predicate:this.isMinPositiveInt,message:this.isMinPositiveIntMsg},{tag:this.getMyTag(e),target:t[e],predicate:this.isMaxPositiveInt,message:this.isMaxPositiveIntMsg},{tag:this.getMyTag(e),target:t[e],predicate:n.ruleShouldBePickOrAll,message:this.ruleShouldBePickOrAllMsg}]}getMyTag(e){return this.parentTag+"."+this.myTag+"["+e+"]"}getSubValidations(e,t){const r=t[e].from_nested;return null!=r?new n(this.getFromNestedTag(e)).getValidations(r):[]}getFromNestedTag(e){return this.getMyTag(e)+".from_nested"}isCountPositiveInt(e){return"pick"!==e.rule||null==e.count||0<e.count}isMinPositiveInt(e){return"pick"!==e.rule||null==e.min||0<=e.min}isMaxPositiveInt(e){return"pick"!==e.rule||null==e.max||0<e.max}static ruleIsMandatory(e){return null!=e.rule}static needsOneFromOrFromNested(e){return null==e.from!=(null==e.from_nested)}static fromNestedShouldBeArray(e){return null==e.from_nested||Array.isArray(e.from_nested)}static ruleShouldBePickOrAll(e){return"pick"===e.rule||"all"===e.rule}}t.SubmissionRequirementVB=n},84095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationBundler=void 0;const i=r(84964);t.ValidationBundler=class{constructor(e,t){this.parentTag=e,this.myTag=t}getTag(){return null!=this.parentTag?this.parentTag+"."+this.myTag:this.myTag}toChecked(e){return new i.Checked(this.getTag(),i.Status.ERROR,e)}}},64245:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(55165),t),n(r(51365),t),n(r(72040),t)},68278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwtAlgos=void 0,t.JwtAlgos=class{static getJwtAlgos(){return["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none","RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"]}}},76282:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LdpTypes=void 0,t.LdpTypes=class{static getLdpTypes(){return["Ed25519VerificationKey2018","Ed25519Signature2018","RsaSignature2018","EcdsaSecp256k1Signature2019","EcdsaSecp256k1RecoverySignature2020","JsonWebSignature2020","GpgSignature2020","JcsEd25519Signature2020","BbsBlsSignature2020","Bls12381G2Key2020"]}}},51365:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},72040:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationEngine=void 0;const i=r(64245);t.ValidationEngine=class{validate(e){let t=[];for(const r of e)t=t.concat(r.bundler.getValidations(r.target));return(0,i.validate)(t)}}},55165:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=void 0;const i=r(84964);t.validate=e=>{function t(e){return new i.Checked(e.tag,i.Status.ERROR,e.message)}function r(e){return new i.Checked(e,i.Status.INFO,"ok")}const n=e.map((e=>function(e){let i;try{i=e.predicate(e.target)?r(e.tag):t(e)}catch(r){i=t(e)}return i}(e))).reduce(((e,t)=>(t.status!==i.Status.INFO&&e.push(t),e)),[]);return(0,i.hasErrors)(n)?n:[r("root")]}},52004:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(18056),t),n(r(64245),t)},48640:e=>{"use strict";e.exports=s,e.exports.default=s;const t={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberString"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},r=Object.prototype.hasOwnProperty,i={type:["number","string"]};function n(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:s=e}={}){let a=null,c=0;if("number"!=typeof e&&"string"!=typeof e){const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:i.type},message:"must be number,string",schema:i.type,parentSchema:i,data:e};null===a?a=[r]:a.push(r),c++}return n.errors=a,0===c}function o(e,{instancePath:i="",parentData:s,parentDataProperty:a,rootData:c=e}={}){let u=null,h=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.type){const r={instancePath:i,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:t.required,parentSchema:t,data:e};null===u?u=[r]:u.push(r),h++}for(const n in e)if(!r.call(t.properties,n)){const r={instancePath:i,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties",schema:!1,parentSchema:t,data:e};null===u?u=[r]:u.push(r),h++}if(void 0!==e.const&&(n(e.const,{instancePath:i+"/const",parentData:e,parentDataProperty:"const",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.enum){let r=e.enum;if(Array.isArray(r)){const e=r.length;for(let t=0;t<e;t++)n(r[t],{instancePath:i+"/enum/"+t,parentData:r,parentDataProperty:t,rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)}else{const e={instancePath:i+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:t.properties.enum.type,parentSchema:t.properties.enum,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.exclusiveMaximum&&(n(e.exclusiveMaximum,{instancePath:i+"/exclusiveMaximum",parentData:e,parentDataProperty:"exclusiveMaximum",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.exclusiveMinimum&&(n(e.exclusiveMinimum,{instancePath:i+"/exclusiveMinimum",parentData:e,parentDataProperty:"exclusiveMinimum",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.format){let r=e.format;if("string"!=typeof r){const e={instancePath:i+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.format.type,parentSchema:t.properties.format,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.maxLength){let r=e.maxLength;if("number"!=typeof r){const e={instancePath:i+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:t.properties.maxLength.type,parentSchema:t.properties.maxLength,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.maximum&&(n(e.maximum,{instancePath:i+"/maximum",parentData:e,parentDataProperty:"maximum",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.minLength){let r=e.minLength;if("number"!=typeof r){const e={instancePath:i+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:t.properties.minLength.type,parentSchema:t.properties.minLength,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.minimum&&(n(e.minimum,{instancePath:i+"/minimum",parentData:e,parentDataProperty:"minimum",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.not){let r=e.not;if(!r||"object"!=typeof r||Array.isArray(r)){const e={instancePath:i+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:t.properties.not.type,parentSchema:t.properties.not,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.pattern){let r=e.pattern;if("string"!=typeof r){const e={instancePath:i+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.pattern.type,parentSchema:t.properties.pattern,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.type){let r=e.type;if("string"!=typeof r){const e={instancePath:i+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.type.type,parentSchema:t.properties.type,data:r};null===u?u=[e]:u.push(e),h++}}}else{const r={instancePath:i,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:t.type,parentSchema:t,data:e};null===u?u=[r]:u.push(r),h++}return o.errors=u,0===h}function s(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let a=null,c=0;return o(e,{instancePath:t,parentData:r,parentDataProperty:i,rootData:n})||(a=null===a?o.errors:a.concat(o.errors),c=a.length),s.errors=a,0===c}},49349:e=>{"use strict";e.exports=s,e.exports.default=s;const t={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberString"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},formatExclusiveMaximum:{type:"string"},formatExclusiveMinimum:{type:"string"},formatMaximum:{type:"string"},formatMinimum:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},r=Object.prototype.hasOwnProperty,i={type:["number","string"]};function n(e,{instancePath:t="",parentData:r,parentDataProperty:o,rootData:s=e}={}){let a=null,c=0;if("number"!=typeof e&&"string"!=typeof e){const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:i.type},message:"must be number,string",schema:i.type,parentSchema:i,data:e};null===a?a=[r]:a.push(r),c++}return n.errors=a,0===c}function o(e,{instancePath:i="",parentData:s,parentDataProperty:a,rootData:c=e}={}){let u=null,h=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.type){const r={instancePath:i,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:t.required,parentSchema:t,data:e};null===u?u=[r]:u.push(r),h++}for(const n in e)if(!r.call(t.properties,n)){const r={instancePath:i,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties",schema:!1,parentSchema:t,data:e};null===u?u=[r]:u.push(r),h++}if(void 0!==e.const&&(n(e.const,{instancePath:i+"/const",parentData:e,parentDataProperty:"const",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.enum){let r=e.enum;if(Array.isArray(r)){const e=r.length;for(let t=0;t<e;t++)n(r[t],{instancePath:i+"/enum/"+t,parentData:r,parentDataProperty:t,rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)}else{const e={instancePath:i+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:t.properties.enum.type,parentSchema:t.properties.enum,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.exclusiveMaximum&&(n(e.exclusiveMaximum,{instancePath:i+"/exclusiveMaximum",parentData:e,parentDataProperty:"exclusiveMaximum",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.exclusiveMinimum&&(n(e.exclusiveMinimum,{instancePath:i+"/exclusiveMinimum",parentData:e,parentDataProperty:"exclusiveMinimum",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.format){let r=e.format;if("string"!=typeof r){const e={instancePath:i+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.format.type,parentSchema:t.properties.format,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.formatExclusiveMaximum){let r=e.formatExclusiveMaximum;if("string"!=typeof r){const e={instancePath:i+"/formatExclusiveMaximum",schemaPath:"#/properties/formatExclusiveMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.formatExclusiveMaximum.type,parentSchema:t.properties.formatExclusiveMaximum,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.formatExclusiveMinimum){let r=e.formatExclusiveMinimum;if("string"!=typeof r){const e={instancePath:i+"/formatExclusiveMinimum",schemaPath:"#/properties/formatExclusiveMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.formatExclusiveMinimum.type,parentSchema:t.properties.formatExclusiveMinimum,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.formatMaximum){let r=e.formatMaximum;if("string"!=typeof r){const e={instancePath:i+"/formatMaximum",schemaPath:"#/properties/formatMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.formatMaximum.type,parentSchema:t.properties.formatMaximum,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.formatMinimum){let r=e.formatMinimum;if("string"!=typeof r){const e={instancePath:i+"/formatMinimum",schemaPath:"#/properties/formatMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.formatMinimum.type,parentSchema:t.properties.formatMinimum,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.maxLength){let r=e.maxLength;if("number"!=typeof r){const e={instancePath:i+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:t.properties.maxLength.type,parentSchema:t.properties.maxLength,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.maximum&&(n(e.maximum,{instancePath:i+"/maximum",parentData:e,parentDataProperty:"maximum",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.minLength){let r=e.minLength;if("number"!=typeof r){const e={instancePath:i+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:t.properties.minLength.type,parentSchema:t.properties.minLength,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.minimum&&(n(e.minimum,{instancePath:i+"/minimum",parentData:e,parentDataProperty:"minimum",rootData:c})||(u=null===u?n.errors:u.concat(n.errors),h=u.length)),void 0!==e.not){let r=e.not;if(!r||"object"!=typeof r||Array.isArray(r)){const e={instancePath:i+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:t.properties.not.type,parentSchema:t.properties.not,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.pattern){let r=e.pattern;if("string"!=typeof r){const e={instancePath:i+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.pattern.type,parentSchema:t.properties.pattern,data:r};null===u?u=[e]:u.push(e),h++}}if(void 0!==e.type){let r=e.type;if("string"!=typeof r){const e={instancePath:i+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.type.type,parentSchema:t.properties.type,data:r};null===u?u=[e]:u.push(e),h++}}}else{const r={instancePath:i,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:t.type,parentSchema:t,data:e};null===u?u=[r]:u.push(r),h++}return o.errors=u,0===h}function s(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let a=null,c=0;return o(e,{instancePath:t,parentData:r,parentDataProperty:i,rootData:n})||(a=null===a?o.errors:a.concat(o.errors),c=a.length),s.errors=a,0===c}},94813:e=>{"use strict";e.exports=b,e.exports.default=b;const t={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{schema:{type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1},issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},filter:{type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},format:{type:"object",patternProperties:{"^jwt$|^jwt_vc$|^jwt_vp$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},r={type:"object",patternProperties:{"^jwt$|^jwt_vc$|^jwt_vp$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},i=new RegExp("^jwt$|^jwt_vc$|^jwt_vp$","u"),n=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),o=new RegExp("additionalProperties","u");function s(e,{instancePath:t="",parentData:a,parentDataProperty:c,rootData:u=e}={}){let h=null,d=0;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const s in e)if(!(i.test(s)||n.test(s)||o.test(s))){const i={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:s},message:"must NOT have additional properties",schema:!1,parentSchema:r,data:e};null===h?h=[i]:h.push(i),d++}for(const n in e)if(i.test(n)){let i=e[n];if(i&&"object"==typeof i&&!Array.isArray(i)){if(void 0===i.alg){const e={instancePath:t+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].required,parentSchema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"],data:i};null===h?h=[e]:h.push(e),d++}for(const e in i)if("alg"!==e){const o={instancePath:t+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"],data:i};null===h?h=[o]:h.push(o),d++}if(void 0!==i.alg){let e=i.alg;if(Array.isArray(e)){if(e.length<1){const i={instancePath:t+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg,data:e};null===h?h=[i]:h.push(i),d++}const i=e.length;for(let o=0;o<i;o++){let i=e[o];if("string"!=typeof i){const e={instancePath:t+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+o,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg.items.type,parentSchema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg.items,data:i};null===h?h=[e]:h.push(e),d++}}}else{const i={instancePath:t+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg.type,parentSchema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].properties.alg,data:e};null===h?h=[i]:h.push(i),d++}}}else{const e={instancePath:t+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"].type,parentSchema:r.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$"],data:i};null===h?h=[e]:h.push(e),d++}}for(const i in e)if(n.test(i)){let n=e[i];if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.proof_type){const e={instancePath:t+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:n};null===h?h=[e]:h.push(e),d++}for(const e in n)if("proof_type"!==e){const o={instancePath:t+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:n};null===h?h=[o]:h.push(o),d++}if(void 0!==n.proof_type){let e=n.proof_type;if(Array.isArray(e)){if(e.length<1){const n={instancePath:t+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:e};null===h?h=[n]:h.push(n),d++}const n=e.length;for(let o=0;o<n;o++){let n=e[o];if("string"!=typeof n){const e={instancePath:t+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+o,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:n};null===h?h=[e]:h.push(e),d++}}}else{const n={instancePath:t+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:e};null===h?h=[n]:h.push(n),d++}}}else{const e={instancePath:t+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:r.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:n};null===h?h=[e]:h.push(e),d++}}for(const i in e)if(o.test(i)){const n={instancePath:t+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:r.patternProperties.additionalProperties,data:e[i]};null===h?h=[n]:h.push(n),d++}}else{const i={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:r.type,parentSchema:r,data:e};null===h?h=[i]:h.push(i),d++}return s.errors=h,0===d}const a={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},c={validate:u};function u(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(!e||"object"!=typeof e||Array.isArray(e)){const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.type,parentSchema:a,data:e};null===o?o=[r]:o.push(r),s++}const h=s;let d=!1,l=null;const f=s;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.rule){const r={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:a.oneOf[0].required,parentSchema:a.oneOf[0],data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.from){const r={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:a.oneOf[0].required,parentSchema:a.oneOf[0],data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("name"!==r&&"purpose"!==r&&"rule"!==r&&"count"!==r&&"min"!==r&&"max"!==r&&"from"!==r){const i={instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:a.oneOf[0],data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.name){let r=e.name;if("string"!=typeof r){const e={instancePath:t+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.oneOf[0].properties.name.type,parentSchema:a.oneOf[0].properties.name,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.oneOf[0].properties.purpose.type,parentSchema:a.oneOf[0].properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.rule){let r=e.rule;if("string"!=typeof r){const e={instancePath:t+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.oneOf[0].properties.rule.type,parentSchema:a.oneOf[0].properties.rule,data:r};null===o?o=[e]:o.push(e),s++}if("all"!==r&&"pick"!==r){const e={instancePath:t+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:a.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:a.oneOf[0].properties.rule.enum,parentSchema:a.oneOf[0].properties.rule,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.count){let r=e.count;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:a.oneOf[0].properties.count.type,parentSchema:a.oneOf[0].properties.count,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<1||isNaN(r))){const e={instancePath:t+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:a.oneOf[0].properties.count,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.min){let r=e.min;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:a.oneOf[0].properties.min.type,parentSchema:a.oneOf[0].properties.min,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<0||isNaN(r))){const e={instancePath:t+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:a.oneOf[0].properties.min,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.max){let r=e.max;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:a.oneOf[0].properties.max.type,parentSchema:a.oneOf[0].properties.max,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<0||isNaN(r))){const e={instancePath:t+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:a.oneOf[0].properties.max,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.from){let r=e.from;if("string"!=typeof r){const e={instancePath:t+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.oneOf[0].properties.from.type,parentSchema:a.oneOf[0].properties.from,data:r};null===o?o=[e]:o.push(e),s++}}}f===s&&(d=!0,l=0);const p=s;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.rule){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:a.oneOf[1].required,parentSchema:a.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.from_nested){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:a.oneOf[1].required,parentSchema:a.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("name"!==r&&"purpose"!==r&&"rule"!==r&&"count"!==r&&"min"!==r&&"max"!==r&&"from_nested"!==r){const i={instancePath:t,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:a.oneOf[1],data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.name){let r=e.name;if("string"!=typeof r){const e={instancePath:t+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.oneOf[1].properties.name.type,parentSchema:a.oneOf[1].properties.name,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.oneOf[1].properties.purpose.type,parentSchema:a.oneOf[1].properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.rule){let r=e.rule;if("string"!=typeof r){const e={instancePath:t+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.oneOf[1].properties.rule.type,parentSchema:a.oneOf[1].properties.rule,data:r};null===o?o=[e]:o.push(e),s++}if("all"!==r&&"pick"!==r){const e={instancePath:t+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:a.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:a.oneOf[1].properties.rule.enum,parentSchema:a.oneOf[1].properties.rule,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.count){let r=e.count;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:a.oneOf[1].properties.count.type,parentSchema:a.oneOf[1].properties.count,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<1||isNaN(r))){const e={instancePath:t+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:a.oneOf[1].properties.count,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.min){let r=e.min;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:a.oneOf[1].properties.min.type,parentSchema:a.oneOf[1].properties.min,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<0||isNaN(r))){const e={instancePath:t+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:a.oneOf[1].properties.min,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.max){let r=e.max;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:a.oneOf[1].properties.max.type,parentSchema:a.oneOf[1].properties.max,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<0||isNaN(r))){const e={instancePath:t+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:a.oneOf[1].properties.max,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.from_nested){let r=e.from_nested;if(Array.isArray(r)){if(r.length<1){const e={instancePath:t+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:a.oneOf[1].properties.from_nested,data:r};null===o?o=[e]:o.push(e),s++}const e=r.length;for(let i=0;i<e;i++)c.validate(r[i],{instancePath:t+"/from_nested/"+i,parentData:r,parentDataProperty:i,rootData:n})||(o=null===o?c.validate.errors:o.concat(c.validate.errors),s=o.length)}else{const e={instancePath:t+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.oneOf[1].properties.from_nested.type,parentSchema:a.oneOf[1].properties.from_nested,data:r};null===o?o=[e]:o.push(e),s++}}}var A;if((A=p===s)&&d?(d=!1,l=[l,1]):A&&(d=!0,l=1),d)s=h,null!==o&&(h?o.length=h:o=null);else{const r={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf",schema:a.oneOf,parentSchema:a,data:e};null===o?o=[r]:o.push(r),s++}return u.errors=o,0===s}const h={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},d={type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1};function l(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.uri){const r={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"uri"},message:"must have required property 'uri'",schema:d.required,parentSchema:d,data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("uri"!==r&&"required"!==r){const i={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:d,data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.uri){let r=e.uri;if("string"!=typeof r){const e={instancePath:t+"/uri",schemaPath:"#/properties/uri/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.properties.uri.type,parentSchema:d.properties.uri,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.required){let r=e.required;if("boolean"!=typeof r){const e={instancePath:t+"/required",schemaPath:"#/properties/required/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:d.properties.required.type,parentSchema:d.properties.required,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.type,parentSchema:d,data:e};null===o?o=[r]:o.push(r),s++}return l.errors=o,0===s}const f={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function p(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.manifest){let r=e.manifest;if("string"!=typeof r){const e={instancePath:t+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.properties.manifest.type,parentSchema:f.properties.manifest,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:f.type,parentSchema:f,data:e};null===o?o=[r]:o.push(r),s++}return p.errors=o,0===s}const A={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]},g={type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},m=Object.prototype.hasOwnProperty;function y(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.type){const r={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:g.required,parentSchema:g,data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if(!m.call(g.properties,r)){const i={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:g,data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.type){let r=e.type;if("string"!=typeof r){const e={instancePath:t+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.type.type,parentSchema:g.properties.type,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.format){let r=e.format;if("string"!=typeof r){const e={instancePath:t+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.format.type,parentSchema:g.properties.format,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.pattern){let r=e.pattern;if("string"!=typeof r){const e={instancePath:t+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.pattern.type,parentSchema:g.properties.pattern,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.minimum){let r=e.minimum;if("number"!=typeof r&&"string"!=typeof r){const e={instancePath:t+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:g.properties.minimum.type},message:"must be number,string",schema:g.properties.minimum.type,parentSchema:g.properties.minimum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.minLength){let r=e.minLength;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:g.properties.minLength.type,parentSchema:g.properties.minLength,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.maxLength){let r=e.maxLength;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:g.properties.maxLength.type,parentSchema:g.properties.maxLength,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.exclusiveMinimum){let r=e.exclusiveMinimum;if("number"!=typeof r&&"string"!=typeof r){const e={instancePath:t+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:g.properties.exclusiveMinimum.type},message:"must be number,string",schema:g.properties.exclusiveMinimum.type,parentSchema:g.properties.exclusiveMinimum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.exclusiveMaximum){let r=e.exclusiveMaximum;if("number"!=typeof r&&"string"!=typeof r){const e={instancePath:t+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:g.properties.exclusiveMaximum.type},message:"must be number,string",schema:g.properties.exclusiveMaximum.type,parentSchema:g.properties.exclusiveMaximum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.maximum){let r=e.maximum;if("number"!=typeof r&&"string"!=typeof r){const e={instancePath:t+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:g.properties.maximum.type},message:"must be number,string",schema:g.properties.maximum.type,parentSchema:g.properties.maximum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.const){let r=e.const;if("number"!=typeof r&&"string"!=typeof r){const e={instancePath:t+"/const",schemaPath:"#/properties/const/type",keyword:"type",params:{type:g.properties.const.type},message:"must be number,string",schema:g.properties.const.type,parentSchema:g.properties.const,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.enum){let r=e.enum;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){let e=r[i];if("number"!=typeof e&&"string"!=typeof e){const r={instancePath:t+"/enum/"+i,schemaPath:"#/properties/enum/items/type",keyword:"type",params:{type:g.properties.enum.items.type},message:"must be number,string",schema:g.properties.enum.items.type,parentSchema:g.properties.enum.items,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:g.properties.enum.type,parentSchema:g.properties.enum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.not){let r=e.not;if(r&&"object"==typeof r&&!Array.isArray(r)){if(Object.keys(r).length<1){const e={instancePath:t+"/not",schemaPath:"#/properties/not/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties",schema:1,parentSchema:g.properties.not,data:r};null===o?o=[e]:o.push(e),s++}}else{const e={instancePath:t+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:g.properties.not.type,parentSchema:g.properties.not,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:g.type,parentSchema:g,data:e};null===o?o=[r]:o.push(r),s++}return y.errors=o,0===s}function I(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(!e||"object"!=typeof e||Array.isArray(e)){const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.type,parentSchema:A,data:e};null===o?o=[r]:o.push(r),s++}const a=s;let c=!1,u=null;const h=s;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.path){const r={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:A.oneOf[0].required,parentSchema:A.oneOf[0],data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("id"!==r&&"path"!==r&&"purpose"!==r&&"filter"!==r){const i={instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:A.oneOf[0],data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.id){let r=e.id;if("string"!=typeof r){const e={instancePath:t+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[0].properties.id.type,parentSchema:A.oneOf[0].properties.id,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.path){let r=e.path;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){let e=r[i];if("string"!=typeof e){const r={instancePath:t+"/path/"+i,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[0].properties.path.items.type,parentSchema:A.oneOf[0].properties.path.items,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.oneOf[0].properties.path.type,parentSchema:A.oneOf[0].properties.path,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[0].properties.purpose.type,parentSchema:A.oneOf[0].properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}void 0!==e.filter&&(y(e.filter,{instancePath:t+"/filter",parentData:e,parentDataProperty:"filter",rootData:n})||(o=null===o?y.errors:o.concat(y.errors),s=o.length))}h===s&&(c=!0,u=0);const d=s;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.path){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:A.oneOf[1].required,parentSchema:A.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.filter){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:A.oneOf[1].required,parentSchema:A.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.predicate){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:A.oneOf[1].required,parentSchema:A.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("id"!==r&&"path"!==r&&"purpose"!==r&&"filter"!==r&&"predicate"!==r){const i={instancePath:t,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:A.oneOf[1],data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.id){let r=e.id;if("string"!=typeof r){const e={instancePath:t+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.id.type,parentSchema:A.oneOf[1].properties.id,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.path){let r=e.path;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){let e=r[i];if("string"!=typeof e){const r={instancePath:t+"/path/"+i,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.path.items.type,parentSchema:A.oneOf[1].properties.path.items,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.oneOf[1].properties.path.type,parentSchema:A.oneOf[1].properties.path,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.purpose.type,parentSchema:A.oneOf[1].properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.filter&&(y(e.filter,{instancePath:t+"/filter",parentData:e,parentDataProperty:"filter",rootData:n})||(o=null===o?y.errors:o.concat(y.errors),s=o.length)),void 0!==e.predicate){let r=e.predicate;if("string"!=typeof r){const e={instancePath:t+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.predicate.type,parentSchema:A.oneOf[1].properties.predicate,data:r};null===o?o=[e]:o.push(e),s++}if("required"!==r&&"preferred"!==r){const e={instancePath:t+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:A.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:A.oneOf[1].properties.predicate.enum,parentSchema:A.oneOf[1].properties.predicate,data:r};null===o?o=[e]:o.push(e),s++}}}var l;if((l=d===s)&&c?(c=!1,u=[u,1]):l&&(c=!0,u=1),c)s=a,null!==o&&(a?o.length=a:o=null);else{const r={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:u},message:"must match exactly one schema in oneOf",schema:A.oneOf,parentSchema:A,data:e};null===o?o=[r]:o.push(r),s++}return I.errors=o,0===s}function w(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.id){const r={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:h.required,parentSchema:h,data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.schema){const r={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"schema"},message:"must have required property 'schema'",schema:h.required,parentSchema:h,data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("id"!==r&&"name"!==r&&"purpose"!==r&&"group"!==r&&"schema"!==r&&"issuance"!==r&&"constraints"!==r){const i={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:h,data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.id){let r=e.id;if("string"!=typeof r){const e={instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.id.type,parentSchema:h.properties.id,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.name){let r=e.name;if("string"!=typeof r){const e={instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.name.type,parentSchema:h.properties.name,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.purpose.type,parentSchema:h.properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.group){let r=e.group;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){let e=r[i];if("string"!=typeof e){const r={instancePath:t+"/group/"+i,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.group.items.type,parentSchema:h.properties.group.items,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.group.type,parentSchema:h.properties.group,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.schema){let r=e.schema;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++)l(r[i],{instancePath:t+"/schema/"+i,parentData:r,parentDataProperty:i,rootData:n})||(o=null===o?l.errors:o.concat(l.errors),s=o.length)}else{const e={instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.schema.type,parentSchema:h.properties.schema,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.issuance){let r=e.issuance;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++)p(r[i],{instancePath:t+"/issuance/"+i,parentData:r,parentDataProperty:i,rootData:n})||(o=null===o?p.errors:o.concat(p.errors),s=o.length)}else{const e={instancePath:t+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.issuance.type,parentSchema:h.properties.issuance,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.constraints){let r=e.constraints;if(r&&"object"==typeof r&&!Array.isArray(r)){for(const e in r)if("limit_disclosure"!==e&&"statuses"!==e&&"fields"!==e&&"subject_is_issuer"!==e&&"is_holder"!==e&&"same_subject"!==e){const i={instancePath:t+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.constraints,data:r};null===o?o=[i]:o.push(i),s++}if(void 0!==r.limit_disclosure){let e=r.limit_disclosure;if("string"!=typeof e){const r={instancePath:t+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.limit_disclosure.type,parentSchema:h.properties.constraints.properties.limit_disclosure,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"preferred"!==e){const r={instancePath:t+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.limit_disclosure.enum,parentSchema:h.properties.constraints.properties.limit_disclosure,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.statuses){let e=r.statuses;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.active){let r=e.active;if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:h.properties.constraints.properties.statuses.properties.active.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"allowed"!==e&&"disallowed"!==e){const r={instancePath:t+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:h.properties.constraints.properties.statuses.properties.active.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.statuses.properties.active.type,parentSchema:h.properties.constraints.properties.statuses.properties.active,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.suspended){let r=e.suspended;if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:h.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"allowed"!==e&&"disallowed"!==e){const r={instancePath:t+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:h.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:h.properties.constraints.properties.statuses.properties.suspended,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.revoked){let r=e.revoked;if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:h.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"allowed"!==e&&"disallowed"!==e){const r={instancePath:t+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:h.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:h.properties.constraints.properties.statuses.properties.revoked,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.statuses.type,parentSchema:h.properties.constraints.properties.statuses,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.fields){let e=r.fields;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++)I(e[i],{instancePath:t+"/constraints/fields/"+i,parentData:e,parentDataProperty:i,rootData:n})||(o=null===o?I.errors:o.concat(I.errors),s=o.length)}else{const r={instancePath:t+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.fields.type,parentSchema:h.properties.constraints.properties.fields,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.subject_is_issuer){let e=r.subject_is_issuer;if("string"!=typeof e){const r={instancePath:t+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.subject_is_issuer.type,parentSchema:h.properties.constraints.properties.subject_is_issuer,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"preferred"!==e){const r={instancePath:t+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.subject_is_issuer.enum,parentSchema:h.properties.constraints.properties.subject_is_issuer,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.is_holder){let e=r.is_holder;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++){let r=e[i];if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0===r.field_id){const e={instancePath:t+"/constraints/is_holder/"+i,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:h.properties.constraints.properties.is_holder.items.required,parentSchema:h.properties.constraints.properties.is_holder.items,data:r};null===o?o=[e]:o.push(e),s++}if(void 0===r.directive){const e={instancePath:t+"/constraints/is_holder/"+i,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:h.properties.constraints.properties.is_holder.items.required,parentSchema:h.properties.constraints.properties.is_holder.items,data:r};null===o?o=[e]:o.push(e),s++}for(const e in r)if("field_id"!==e&&"directive"!==e){const n={instancePath:t+"/constraints/is_holder/"+i,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.constraints.properties.is_holder.items,data:r};null===o?o=[n]:o.push(n),s++}if(void 0!==r.field_id){let e=r.field_id;if(Array.isArray(e)){const r=e.length;for(let n=0;n<r;n++){let r=e[n];if("string"!=typeof r){const e={instancePath:t+"/constraints/is_holder/"+i+"/field_id/"+n,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:h.properties.constraints.properties.is_holder.items.properties.field_id.items,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/is_holder/"+i+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:h.properties.constraints.properties.is_holder.items.properties.field_id,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/is_holder/"+i+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:h.properties.constraints.properties.is_holder.items.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"preferred"!==e){const r={instancePath:t+"/constraints/is_holder/"+i+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:h.properties.constraints.properties.is_holder.items.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/is_holder/"+i,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.is_holder.items.type,parentSchema:h.properties.constraints.properties.is_holder.items,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.is_holder.type,parentSchema:h.properties.constraints.properties.is_holder,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.same_subject){let e=r.same_subject;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++){let r=e[i];if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0===r.field_id){const e={instancePath:t+"/constraints/same_subject/"+i,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:h.properties.constraints.properties.same_subject.items.required,parentSchema:h.properties.constraints.properties.same_subject.items,data:r};null===o?o=[e]:o.push(e),s++}if(void 0===r.directive){const e={instancePath:t+"/constraints/same_subject/"+i,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:h.properties.constraints.properties.same_subject.items.required,parentSchema:h.properties.constraints.properties.same_subject.items,data:r};null===o?o=[e]:o.push(e),s++}for(const e in r)if("field_id"!==e&&"directive"!==e){const n={instancePath:t+"/constraints/same_subject/"+i,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.constraints.properties.same_subject.items,data:r};null===o?o=[n]:o.push(n),s++}if(void 0!==r.field_id){let e=r.field_id;if(Array.isArray(e)){const r=e.length;for(let n=0;n<r;n++){let r=e[n];if("string"!=typeof r){const e={instancePath:t+"/constraints/same_subject/"+i+"/field_id/"+n,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:h.properties.constraints.properties.same_subject.items.properties.field_id.items,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/same_subject/"+i+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:h.properties.constraints.properties.same_subject.items.properties.field_id,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/same_subject/"+i+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:h.properties.constraints.properties.same_subject.items.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"preferred"!==e){const r={instancePath:t+"/constraints/same_subject/"+i+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:h.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:h.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:h.properties.constraints.properties.same_subject.items.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/same_subject/"+i,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.properties.same_subject.items.type,parentSchema:h.properties.constraints.properties.same_subject.items,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.constraints.properties.same_subject.type,parentSchema:h.properties.constraints.properties.same_subject,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.constraints.type,parentSchema:h.properties.constraints,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.type,parentSchema:h,data:e};null===o?o=[r]:o.push(r),s++}return w.errors=o,0===s}function b(e,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=e}={}){let a=null,c=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.presentation_definition){let i=e.presentation_definition;if(i&&"object"==typeof i&&!Array.isArray(i)){if(void 0===i.id){const e={instancePath:r+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:t.properties.presentation_definition.required,parentSchema:t.properties.presentation_definition,data:i};null===a?a=[e]:a.push(e),c++}if(void 0===i.input_descriptors){const e={instancePath:r+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:t.properties.presentation_definition.required,parentSchema:t.properties.presentation_definition,data:i};null===a?a=[e]:a.push(e),c++}for(const e in i)if("id"!==e&&"name"!==e&&"purpose"!==e&&"format"!==e&&"submission_requirements"!==e&&"input_descriptors"!==e){const n={instancePath:r+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:t.properties.presentation_definition,data:i};null===a?a=[n]:a.push(n),c++}if(void 0!==i.id){let e=i.id;if("string"!=typeof e){const i={instancePath:r+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.presentation_definition.properties.id.type,parentSchema:t.properties.presentation_definition.properties.id,data:e};null===a?a=[i]:a.push(i),c++}}if(void 0!==i.name){let e=i.name;if("string"!=typeof e){const i={instancePath:r+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.presentation_definition.properties.name.type,parentSchema:t.properties.presentation_definition.properties.name,data:e};null===a?a=[i]:a.push(i),c++}}if(void 0!==i.purpose){let e=i.purpose;if("string"!=typeof e){const i={instancePath:r+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:t.properties.presentation_definition.properties.purpose.type,parentSchema:t.properties.presentation_definition.properties.purpose,data:e};null===a?a=[i]:a.push(i),c++}}if(void 0!==i.format&&(s(i.format,{instancePath:r+"/presentation_definition/format",parentData:i,parentDataProperty:"format",rootData:o})||(a=null===a?s.errors:a.concat(s.errors),c=a.length)),void 0!==i.submission_requirements){let e=i.submission_requirements;if(Array.isArray(e)){const t=e.length;for(let i=0;i<t;i++)u(e[i],{instancePath:r+"/presentation_definition/submission_requirements/"+i,parentData:e,parentDataProperty:i,rootData:o})||(a=null===a?u.errors:a.concat(u.errors),c=a.length)}else{const i={instancePath:r+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:t.properties.presentation_definition.properties.submission_requirements.type,parentSchema:t.properties.presentation_definition.properties.submission_requirements,data:e};null===a?a=[i]:a.push(i),c++}}if(void 0!==i.input_descriptors){let e=i.input_descriptors;if(Array.isArray(e)){const t=e.length;for(let i=0;i<t;i++)w(e[i],{instancePath:r+"/presentation_definition/input_descriptors/"+i,parentData:e,parentDataProperty:i,rootData:o})||(a=null===a?w.errors:a.concat(w.errors),c=a.length)}else{const i={instancePath:r+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:t.properties.presentation_definition.properties.input_descriptors.type,parentSchema:t.properties.presentation_definition.properties.input_descriptors,data:e};null===a?a=[i]:a.push(i),c++}}}else{const e={instancePath:r+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:t.properties.presentation_definition.type,parentSchema:t.properties.presentation_definition,data:i};null===a?a=[e]:a.push(e),c++}}}else{const i={instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:t.type,parentSchema:t,data:e};null===a?a=[i]:a.push(i),c++}return b.errors=a,0===c}},85191:(e,t,r)=>{"use strict";e.exports=M,e.exports.default=M;const i={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},format:{type:"object",patternProperties:{"^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},frame:{type:"object",additionalProperties:!0},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},n={type:"object",patternProperties:{"^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},o=new RegExp("^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$","u"),s=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),a=new RegExp("additionalProperties","u");function c(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:u=e}={}){let h=null,d=0;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const r in e)if(!(o.test(r)||s.test(r)||a.test(r))){const i={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:n,data:e};null===h?h=[i]:h.push(i),d++}for(const r in e)if(o.test(r)){let i=e[r];if(i&&"object"==typeof i&&!Array.isArray(i)){if(void 0===i.alg){const e={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].required,parentSchema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"],data:i};null===h?h=[e]:h.push(e),d++}for(const e in i)if("alg"!==e){const o={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"],data:i};null===h?h=[o]:h.push(o),d++}if(void 0!==i.alg){let e=i.alg;if(Array.isArray(e)){if(e.length<1){const i={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg,data:e};null===h?h=[i]:h.push(i),d++}const i=e.length;for(let o=0;o<i;o++){let i=e[o];if("string"!=typeof i){const e={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+o,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg.items.type,parentSchema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg.items,data:i};null===h?h=[e]:h.push(e),d++}}}else{const i={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg.type,parentSchema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].properties.alg,data:e};null===h?h=[i]:h.push(i),d++}}}else{const e={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vp%24%7C%5Emso_mdoc%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"].type,parentSchema:n.patternProperties["^jwt$|^jwt_vc$|^jwt_vp$|^mso_mdoc$"],data:i};null===h?h=[e]:h.push(e),d++}}for(const r in e)if(s.test(r)){let i=e[r];if(i&&"object"==typeof i&&!Array.isArray(i)){if(void 0===i.proof_type){const e={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:i};null===h?h=[e]:h.push(e),d++}for(const e in i)if("proof_type"!==e){const o={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:i};null===h?h=[o]:h.push(o),d++}if(void 0!==i.proof_type){let e=i.proof_type;if(Array.isArray(e)){if(e.length<1){const i={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:e};null===h?h=[i]:h.push(i),d++}const i=e.length;for(let o=0;o<i;o++){let i=e[o];if("string"!=typeof i){const e={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+o,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:i};null===h?h=[e]:h.push(e),d++}}}else{const i={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:e};null===h?h=[i]:h.push(i),d++}}}else{const e={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:n.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:i};null===h?h=[e]:h.push(e),d++}}for(const r in e)if(a.test(r)){const i={instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:n.patternProperties.additionalProperties,data:e[r]};null===h?h=[i]:h.push(i),d++}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:n.type,parentSchema:n,data:e};null===h?h=[r]:h.push(r),d++}return c.errors=h,0===d}const u={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},h={validate:d};function d(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(!e||"object"!=typeof e||Array.isArray(e)){const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:u.type,parentSchema:u,data:e};null===o?o=[r]:o.push(r),s++}const a=s;let c=!1,l=null;const f=s;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.rule){const r={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:u.oneOf[0].required,parentSchema:u.oneOf[0],data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.from){const r={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:u.oneOf[0].required,parentSchema:u.oneOf[0],data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("name"!==r&&"purpose"!==r&&"rule"!==r&&"count"!==r&&"min"!==r&&"max"!==r&&"from"!==r){const i={instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:u.oneOf[0],data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.name){let r=e.name;if("string"!=typeof r){const e={instancePath:t+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:u.oneOf[0].properties.name.type,parentSchema:u.oneOf[0].properties.name,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:u.oneOf[0].properties.purpose.type,parentSchema:u.oneOf[0].properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.rule){let r=e.rule;if("string"!=typeof r){const e={instancePath:t+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:u.oneOf[0].properties.rule.type,parentSchema:u.oneOf[0].properties.rule,data:r};null===o?o=[e]:o.push(e),s++}if("all"!==r&&"pick"!==r){const e={instancePath:t+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:u.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:u.oneOf[0].properties.rule.enum,parentSchema:u.oneOf[0].properties.rule,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.count){let r=e.count;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:u.oneOf[0].properties.count.type,parentSchema:u.oneOf[0].properties.count,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<1||isNaN(r))){const e={instancePath:t+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:u.oneOf[0].properties.count,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.min){let r=e.min;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:u.oneOf[0].properties.min.type,parentSchema:u.oneOf[0].properties.min,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<0||isNaN(r))){const e={instancePath:t+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:u.oneOf[0].properties.min,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.max){let r=e.max;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:u.oneOf[0].properties.max.type,parentSchema:u.oneOf[0].properties.max,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<0||isNaN(r))){const e={instancePath:t+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:u.oneOf[0].properties.max,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.from){let r=e.from;if("string"!=typeof r){const e={instancePath:t+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:u.oneOf[0].properties.from.type,parentSchema:u.oneOf[0].properties.from,data:r};null===o?o=[e]:o.push(e),s++}}}f===s&&(c=!0,l=0);const p=s;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.rule){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:u.oneOf[1].required,parentSchema:u.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.from_nested){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:u.oneOf[1].required,parentSchema:u.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("name"!==r&&"purpose"!==r&&"rule"!==r&&"count"!==r&&"min"!==r&&"max"!==r&&"from_nested"!==r){const i={instancePath:t,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:u.oneOf[1],data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.name){let r=e.name;if("string"!=typeof r){const e={instancePath:t+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:u.oneOf[1].properties.name.type,parentSchema:u.oneOf[1].properties.name,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:u.oneOf[1].properties.purpose.type,parentSchema:u.oneOf[1].properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.rule){let r=e.rule;if("string"!=typeof r){const e={instancePath:t+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:u.oneOf[1].properties.rule.type,parentSchema:u.oneOf[1].properties.rule,data:r};null===o?o=[e]:o.push(e),s++}if("all"!==r&&"pick"!==r){const e={instancePath:t+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:u.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:u.oneOf[1].properties.rule.enum,parentSchema:u.oneOf[1].properties.rule,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.count){let r=e.count;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:u.oneOf[1].properties.count.type,parentSchema:u.oneOf[1].properties.count,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<1||isNaN(r))){const e={instancePath:t+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:u.oneOf[1].properties.count,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.min){let r=e.min;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:u.oneOf[1].properties.min.type,parentSchema:u.oneOf[1].properties.min,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<0||isNaN(r))){const e={instancePath:t+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:u.oneOf[1].properties.min,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.max){let r=e.max;if("number"!=typeof r||r%1||isNaN(r)){const e={instancePath:t+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:u.oneOf[1].properties.max.type,parentSchema:u.oneOf[1].properties.max,data:r};null===o?o=[e]:o.push(e),s++}if("number"==typeof r&&(r<0||isNaN(r))){const e={instancePath:t+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:u.oneOf[1].properties.max,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.from_nested){let r=e.from_nested;if(Array.isArray(r)){if(r.length<1){const e={instancePath:t+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:u.oneOf[1].properties.from_nested,data:r};null===o?o=[e]:o.push(e),s++}const e=r.length;for(let i=0;i<e;i++)h.validate(r[i],{instancePath:t+"/from_nested/"+i,parentData:r,parentDataProperty:i,rootData:n})||(o=null===o?h.validate.errors:o.concat(h.validate.errors),s=o.length)}else{const e={instancePath:t+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:u.oneOf[1].properties.from_nested.type,parentSchema:u.oneOf[1].properties.from_nested,data:r};null===o?o=[e]:o.push(e),s++}}}var A;if((A=p===s)&&c?(c=!1,l=[l,1]):A&&(c=!0,l=1),c)s=a,null!==o&&(a?o.length=a:o=null);else{const r={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf",schema:u.oneOf,parentSchema:u,data:e};null===o?o=[r]:o.push(r),s++}return d.errors=o,0===s}const l={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},f={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function p(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.manifest){let r=e.manifest;if("string"!=typeof r){const e={instancePath:t+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.properties.manifest.type,parentSchema:f.properties.manifest,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:f.type,parentSchema:f,data:e};null===o?o=[r]:o.push(r),s++}return p.errors=o,0===s}const A={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]},g={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},m={type:"integer",minimum:0};function y(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if("number"!=typeof e||e%1||isNaN(e)){const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:m.type,parentSchema:m,data:e};null===o?o=[r]:o.push(r),s++}if("number"==typeof e&&(e<0||isNaN(e))){const r={instancePath:t,schemaPath:"#/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:m,data:e};null===o?o=[r]:o.push(r),s++}return y.errors=o,0===s}function I(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;return y(e,{instancePath:t,parentData:r,parentDataProperty:i,rootData:n})||(o=null===o?y.errors:o.concat(y.errors),s=o.length),I.errors=o,0===s}const w={type:"array",minItems:1,items:{$ref:"#"}},b={validate:Q};function v(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(Array.isArray(e)){if(e.length<1){const r={instancePath:t,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:w,data:e};null===o?o=[r]:o.push(r),s++}const r=e.length;for(let i=0;i<r;i++)b.validate(e[i],{instancePath:t+"/"+i,parentData:e,parentDataProperty:i,rootData:n})||(o=null===o?b.validate.errors:o.concat(b.validate.errors),s=o.length)}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:w.type,parentSchema:w,data:e};null===o?o=[r]:o.push(r),s++}return v.errors=o,0===s}const E={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};function C(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++){let r=e[i];if("string"!=typeof r){const e={instancePath:t+"/"+i,schemaPath:"#/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:E.items.type,parentSchema:E.items,data:r};null===o?o=[e]:o.push(e),s++}}let i,n=e.length;if(n>1){const r={};for(;n--;){let a=e[n];if("string"==typeof a){if("number"==typeof r[a]){i=r[a];const c={instancePath:t,schemaPath:"#/uniqueItems",keyword:"uniqueItems",params:{i:n,j:i},message:"must NOT have duplicate items (items ## "+i+" and "+n+" are identical)",schema:!0,parentSchema:E,data:e};null===o?o=[c]:o.push(c),s++;break}r[a]=n}}}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:E.type,parentSchema:E,data:e};null===o?o=[r]:o.push(r),s++}return C.errors=o,0===s}const B={enum:["array","boolean","integer","null","number","object","string"]};function S(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if("array"!==e&&"boolean"!==e&&"integer"!==e&&"null"!==e&&"number"!==e&&"object"!==e&&"string"!==e){const r={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:B.enum},message:"must be equal to one of the allowed values",schema:B.enum,parentSchema:B,data:e};null===o?o=[r]:o.push(r),s++}return S.errors=o,0===s}const _=r(43510).default;function Q(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if((!e||"object"!=typeof e||Array.isArray(e))&&"boolean"!=typeof e){const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:g.type},message:"must be object,boolean",schema:g.type,parentSchema:g,data:e};null===o?o=[r]:o.push(r),s++}if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.$id){let r=e.$id;if("string"!=typeof r){const e={instancePath:t+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.$id.type,parentSchema:g.properties.$id,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.$schema){let r=e.$schema;if("string"!=typeof r){const e={instancePath:t+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.$schema.type,parentSchema:g.properties.$schema,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.$ref){let r=e.$ref;if("string"!=typeof r){const e={instancePath:t+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.$ref.type,parentSchema:g.properties.$ref,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.$comment){let r=e.$comment;if("string"!=typeof r){const e={instancePath:t+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.$comment.type,parentSchema:g.properties.$comment,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.title){let r=e.title;if("string"!=typeof r){const e={instancePath:t+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.title.type,parentSchema:g.properties.title,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.description){let r=e.description;if("string"!=typeof r){const e={instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.description.type,parentSchema:g.properties.description,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.readOnly){let r=e.readOnly;if("boolean"!=typeof r){const e={instancePath:t+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:g.properties.readOnly.type,parentSchema:g.properties.readOnly,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.examples){let r=e.examples;if(!Array.isArray(r)){const e={instancePath:t+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array",schema:g.properties.examples.type,parentSchema:g.properties.examples,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.multipleOf){let r=e.multipleOf;if("number"==typeof r){if(r<=0||isNaN(r)){const e={instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0",schema:0,parentSchema:g.properties.multipleOf,data:r};null===o?o=[e]:o.push(e),s++}}else{const e={instancePath:t+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number",schema:g.properties.multipleOf.type,parentSchema:g.properties.multipleOf,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.maximum){let r=e.maximum;if("number"!=typeof r){const e={instancePath:t+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:g.properties.maximum.type,parentSchema:g.properties.maximum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.exclusiveMaximum){let r=e.exclusiveMaximum;if("number"!=typeof r){const e={instancePath:t+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:g.properties.exclusiveMaximum.type,parentSchema:g.properties.exclusiveMaximum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.minimum){let r=e.minimum;if("number"!=typeof r){const e={instancePath:t+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:g.properties.minimum.type,parentSchema:g.properties.minimum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.exclusiveMinimum){let r=e.exclusiveMinimum;if("number"!=typeof r){const e={instancePath:t+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:g.properties.exclusiveMinimum.type,parentSchema:g.properties.exclusiveMinimum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.maxLength&&(y(e.maxLength,{instancePath:t+"/maxLength",parentData:e,parentDataProperty:"maxLength",rootData:n})||(o=null===o?y.errors:o.concat(y.errors),s=o.length)),void 0!==e.minLength&&(I(e.minLength,{instancePath:t+"/minLength",parentData:e,parentDataProperty:"minLength",rootData:n})||(o=null===o?I.errors:o.concat(I.errors),s=o.length)),void 0!==e.pattern){let r=e.pattern;if("string"!=typeof r){const e={instancePath:t+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.pattern.type,parentSchema:g.properties.pattern,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.additionalItems&&(Q(e.additionalItems,{instancePath:t+"/additionalItems",parentData:e,parentDataProperty:"additionalItems",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.items){let r=e.items;const i=s;let c=!1;const u=s;Q(r,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length);var a=u===s;if(c=c||a,!c){const i=s;v(r,{instancePath:t+"/items",parentData:e,parentDataProperty:"items",rootData:n})||(o=null===o?v.errors:o.concat(v.errors),s=o.length),a=i===s,c=c||a}if(c)s=i,null!==o&&(i?o.length=i:o=null);else{const e={instancePath:t+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:g.properties.items.anyOf,parentSchema:g.properties.items,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.maxItems&&(y(e.maxItems,{instancePath:t+"/maxItems",parentData:e,parentDataProperty:"maxItems",rootData:n})||(o=null===o?y.errors:o.concat(y.errors),s=o.length)),void 0!==e.minItems&&(I(e.minItems,{instancePath:t+"/minItems",parentData:e,parentDataProperty:"minItems",rootData:n})||(o=null===o?I.errors:o.concat(I.errors),s=o.length)),void 0!==e.uniqueItems){let r=e.uniqueItems;if("boolean"!=typeof r){const e={instancePath:t+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:g.properties.uniqueItems.type,parentSchema:g.properties.uniqueItems,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.contains&&(Q(e.contains,{instancePath:t+"/contains",parentData:e,parentDataProperty:"contains",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.maxProperties&&(y(e.maxProperties,{instancePath:t+"/maxProperties",parentData:e,parentDataProperty:"maxProperties",rootData:n})||(o=null===o?y.errors:o.concat(y.errors),s=o.length)),void 0!==e.minProperties&&(I(e.minProperties,{instancePath:t+"/minProperties",parentData:e,parentDataProperty:"minProperties",rootData:n})||(o=null===o?I.errors:o.concat(I.errors),s=o.length)),void 0!==e.required&&(C(e.required,{instancePath:t+"/required",parentData:e,parentDataProperty:"required",rootData:n})||(o=null===o?C.errors:o.concat(C.errors),s=o.length)),void 0!==e.additionalProperties&&(Q(e.additionalProperties,{instancePath:t+"/additionalProperties",parentData:e,parentDataProperty:"additionalProperties",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.definitions){let r=e.definitions;if(r&&"object"==typeof r&&!Array.isArray(r))for(const e in r)Q(r[e],{instancePath:t+"/definitions/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:e,rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length);else{const e={instancePath:t+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object",schema:g.properties.definitions.type,parentSchema:g.properties.definitions,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.properties){let r=e.properties;if(r&&"object"==typeof r&&!Array.isArray(r))for(const e in r)Q(r[e],{instancePath:t+"/properties/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:e,rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length);else{const e={instancePath:t+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:g.properties.properties.type,parentSchema:g.properties.properties,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.patternProperties){let r=e.patternProperties;if(r&&"object"==typeof r&&!Array.isArray(r)){for(const e in r)if(s!=s){const i={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:e},message:"property name must be valid",schema:g.properties.patternProperties.propertyNames,parentSchema:g.properties.patternProperties,data:r};null===o?o=[i]:o.push(i),s++}for(const e in r)Q(r[e],{instancePath:t+"/patternProperties/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:e,rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)}else{const e={instancePath:t+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:g.properties.patternProperties.type,parentSchema:g.properties.patternProperties,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.dependencies){let r=e.dependencies;if(r&&"object"==typeof r&&!Array.isArray(r))for(const e in r){let i=r[e];const a=s;let u=!1;const h=s;Q(i,{instancePath:t+"/dependencies/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:e,rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length);var c=h===s;if(u=u||c,!u){const a=s;C(i,{instancePath:t+"/dependencies/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:e,rootData:n})||(o=null===o?C.errors:o.concat(C.errors),s=o.length),c=a===s,u=u||c}if(u)s=a,null!==o&&(a?o.length=a:o=null);else{const r={instancePath:t+"/dependencies/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:g.properties.dependencies.additionalProperties.anyOf,parentSchema:g.properties.dependencies.additionalProperties,data:i};null===o?o=[r]:o.push(r),s++}}else{const e={instancePath:t+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object",schema:g.properties.dependencies.type,parentSchema:g.properties.dependencies,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.propertyNames&&(Q(e.propertyNames,{instancePath:t+"/propertyNames",parentData:e,parentDataProperty:"propertyNames",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.enum){let r=e.enum;if(Array.isArray(r)){if(r.length<1){const e={instancePath:t+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:g.properties.enum,data:r};null===o?o=[e]:o.push(e),s++}let e,i=r.length;if(i>1)e:for(;i--;)for(e=i;e--;)if(_(r[i],r[e])){const n={instancePath:t+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+i+" are identical)",schema:!0,parentSchema:g.properties.enum,data:r};null===o?o=[n]:o.push(n),s++;break e}}else{const e={instancePath:t+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:g.properties.enum.type,parentSchema:g.properties.enum,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.type){let r=e.type;const i=s;let a=!1;const c=s;S(r,{instancePath:t+"/type",parentData:e,parentDataProperty:"type",rootData:n})||(o=null===o?S.errors:o.concat(S.errors),s=o.length);var u=c===s;if(a=a||u,!a){const e=s;if(Array.isArray(r)){if(r.length<1){const e={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:g.properties.type.anyOf[1],data:r};null===o?o=[e]:o.push(e),s++}const e=r.length;for(let i=0;i<e;i++)S(r[i],{instancePath:t+"/type/"+i,parentData:r,parentDataProperty:i,rootData:n})||(o=null===o?S.errors:o.concat(S.errors),s=o.length);let i,a=r.length;if(a>1)e:for(;a--;)for(i=a;i--;)if(_(r[a],r[i])){const e={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:a,j:i},message:"must NOT have duplicate items (items ## "+i+" and "+a+" are identical)",schema:!0,parentSchema:g.properties.type.anyOf[1],data:r};null===o?o=[e]:o.push(e),s++;break e}}else{const e={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:g.properties.type.anyOf[1].type,parentSchema:g.properties.type.anyOf[1],data:r};null===o?o=[e]:o.push(e),s++}u=e===s,a=a||u}if(a)s=i,null!==o&&(i?o.length=i:o=null);else{const e={instancePath:t+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:g.properties.type.anyOf,parentSchema:g.properties.type,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.format){let r=e.format;if("string"!=typeof r){const e={instancePath:t+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.format.type,parentSchema:g.properties.format,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.contentMediaType){let r=e.contentMediaType;if("string"!=typeof r){const e={instancePath:t+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.contentMediaType.type,parentSchema:g.properties.contentMediaType,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.contentEncoding){let r=e.contentEncoding;if("string"!=typeof r){const e={instancePath:t+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string",schema:g.properties.contentEncoding.type,parentSchema:g.properties.contentEncoding,data:r};null===o?o=[e]:o.push(e),s++}}void 0!==e.if&&(Q(e.if,{instancePath:t+"/if",parentData:e,parentDataProperty:"if",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.then&&(Q(e.then,{instancePath:t+"/then",parentData:e,parentDataProperty:"then",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.else&&(Q(e.else,{instancePath:t+"/else",parentData:e,parentDataProperty:"else",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.allOf&&(v(e.allOf,{instancePath:t+"/allOf",parentData:e,parentDataProperty:"allOf",rootData:n})||(o=null===o?v.errors:o.concat(v.errors),s=o.length)),void 0!==e.anyOf&&(v(e.anyOf,{instancePath:t+"/anyOf",parentData:e,parentDataProperty:"anyOf",rootData:n})||(o=null===o?v.errors:o.concat(v.errors),s=o.length)),void 0!==e.oneOf&&(v(e.oneOf,{instancePath:t+"/oneOf",parentData:e,parentDataProperty:"oneOf",rootData:n})||(o=null===o?v.errors:o.concat(v.errors),s=o.length)),void 0!==e.not&&(Q(e.not,{instancePath:t+"/not",parentData:e,parentDataProperty:"not",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length))}return Q.errors=o,0===s}function D(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(!e||"object"!=typeof e||Array.isArray(e)){const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:A.type,parentSchema:A,data:e};null===o?o=[r]:o.push(r),s++}const a=s;let c=!1,u=null;const h=s;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.path){const r={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:A.oneOf[0].required,parentSchema:A.oneOf[0],data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("id"!==r&&"path"!==r&&"purpose"!==r&&"intent_to_retain"!==r&&"filter"!==r&&"name"!==r){const i={instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:A.oneOf[0],data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.id){let r=e.id;if("string"!=typeof r){const e={instancePath:t+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[0].properties.id.type,parentSchema:A.oneOf[0].properties.id,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.path){let r=e.path;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){let e=r[i];if("string"!=typeof e){const r={instancePath:t+"/path/"+i,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[0].properties.path.items.type,parentSchema:A.oneOf[0].properties.path.items,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.oneOf[0].properties.path.type,parentSchema:A.oneOf[0].properties.path,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[0].properties.purpose.type,parentSchema:A.oneOf[0].properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.intent_to_retain){let r=e.intent_to_retain;if("boolean"!=typeof r){const e={instancePath:t+"/intent_to_retain",schemaPath:"#/oneOf/0/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:A.oneOf[0].properties.intent_to_retain.type,parentSchema:A.oneOf[0].properties.intent_to_retain,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.filter&&(Q(e.filter,{instancePath:t+"/filter",parentData:e,parentDataProperty:"filter",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.name){let r=e.name;if("string"!=typeof r){const e={instancePath:t+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[0].properties.name.type,parentSchema:A.oneOf[0].properties.name,data:r};null===o?o=[e]:o.push(e),s++}}}h===s&&(c=!0,u=0);const d=s;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.path){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:A.oneOf[1].required,parentSchema:A.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.filter){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:A.oneOf[1].required,parentSchema:A.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}if(void 0===e.predicate){const r={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:A.oneOf[1].required,parentSchema:A.oneOf[1],data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("id"!==r&&"path"!==r&&"purpose"!==r&&"intent_to_retain"!==r&&"filter"!==r&&"predicate"!==r&&"name"!==r){const i={instancePath:t,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:A.oneOf[1],data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.id){let r=e.id;if("string"!=typeof r){const e={instancePath:t+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.id.type,parentSchema:A.oneOf[1].properties.id,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.path){let r=e.path;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){let e=r[i];if("string"!=typeof e){const r={instancePath:t+"/path/"+i,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.path.items.type,parentSchema:A.oneOf[1].properties.path.items,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:A.oneOf[1].properties.path.type,parentSchema:A.oneOf[1].properties.path,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.purpose.type,parentSchema:A.oneOf[1].properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.intent_to_retain){let r=e.intent_to_retain;if("boolean"!=typeof r){const e={instancePath:t+"/intent_to_retain",schemaPath:"#/oneOf/1/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:A.oneOf[1].properties.intent_to_retain.type,parentSchema:A.oneOf[1].properties.intent_to_retain,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.filter&&(Q(e.filter,{instancePath:t+"/filter",parentData:e,parentDataProperty:"filter",rootData:n})||(o=null===o?Q.errors:o.concat(Q.errors),s=o.length)),void 0!==e.predicate){let r=e.predicate;if("string"!=typeof r){const e={instancePath:t+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.predicate.type,parentSchema:A.oneOf[1].properties.predicate,data:r};null===o?o=[e]:o.push(e),s++}if("required"!==r&&"preferred"!==r){const e={instancePath:t+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:A.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:A.oneOf[1].properties.predicate.enum,parentSchema:A.oneOf[1].properties.predicate,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.name){let r=e.name;if("string"!=typeof r){const e={instancePath:t+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:A.oneOf[1].properties.name.type,parentSchema:A.oneOf[1].properties.name,data:r};null===o?o=[e]:o.push(e),s++}}}var l;if((l=d===s)&&c?(c=!1,u=[u,1]):l&&(c=!0,u=1),c)s=a,null!==o&&(a?o.length=a:o=null);else{const r={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:u},message:"must match exactly one schema in oneOf",schema:A.oneOf,parentSchema:A,data:e};null===o?o=[r]:o.push(r),s++}return D.errors=o,0===s}function k(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.id){const r={instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:l.required,parentSchema:l,data:e};null===o?o=[r]:o.push(r),s++}for(const r in e)if("id"!==r&&"name"!==r&&"purpose"!==r&&"issuance"!==r&&"group"!==r&&"format"!==r&&"constraints"!==r){const i={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties",schema:!1,parentSchema:l,data:e};null===o?o=[i]:o.push(i),s++}if(void 0!==e.id){let r=e.id;if("string"!=typeof r){const e={instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.id.type,parentSchema:l.properties.id,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.name){let r=e.name;if("string"!=typeof r){const e={instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.name.type,parentSchema:l.properties.name,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.purpose){let r=e.purpose;if("string"!=typeof r){const e={instancePath:t+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.purpose.type,parentSchema:l.properties.purpose,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.issuance){let r=e.issuance;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++)p(r[i],{instancePath:t+"/issuance/"+i,parentData:r,parentDataProperty:i,rootData:n})||(o=null===o?p.errors:o.concat(p.errors),s=o.length)}else{const e={instancePath:t+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.issuance.type,parentSchema:l.properties.issuance,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.group){let r=e.group;if(Array.isArray(r)){const e=r.length;for(let i=0;i<e;i++){let e=r[i];if("string"!=typeof e){const r={instancePath:t+"/group/"+i,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.group.items.type,parentSchema:l.properties.group.items,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.group.type,parentSchema:l.properties.group,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.format&&(c(e.format,{instancePath:t+"/format",parentData:e,parentDataProperty:"format",rootData:n})||(o=null===o?c.errors:o.concat(c.errors),s=o.length)),void 0!==e.constraints){let r=e.constraints;if(r&&"object"==typeof r&&!Array.isArray(r)){for(const e in r)if("limit_disclosure"!==e&&"statuses"!==e&&"fields"!==e&&"subject_is_issuer"!==e&&"is_holder"!==e&&"same_subject"!==e){const i={instancePath:t+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints,data:r};null===o?o=[i]:o.push(i),s++}if(void 0!==r.limit_disclosure){let e=r.limit_disclosure;if("string"!=typeof e){const r={instancePath:t+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.limit_disclosure.type,parentSchema:l.properties.constraints.properties.limit_disclosure,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"preferred"!==e){const r={instancePath:t+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.limit_disclosure.enum,parentSchema:l.properties.constraints.properties.limit_disclosure,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.statuses){let e=r.statuses;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.active){let r=e.active;if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.active.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"allowed"!==e&&"disallowed"!==e){const r={instancePath:t+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.active.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.active.type,parentSchema:l.properties.constraints.properties.statuses.properties.active,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.suspended){let r=e.suspended;if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"allowed"!==e&&"disallowed"!==e){const r={instancePath:t+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:l.properties.constraints.properties.statuses.properties.suspended,data:r};null===o?o=[e]:o.push(e),s++}}if(void 0!==e.revoked){let r=e.revoked;if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"allowed"!==e&&"disallowed"!==e){const r={instancePath:t+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:l.properties.constraints.properties.statuses.properties.revoked,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.type,parentSchema:l.properties.constraints.properties.statuses,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.fields){let e=r.fields;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++)D(e[i],{instancePath:t+"/constraints/fields/"+i,parentData:e,parentDataProperty:i,rootData:n})||(o=null===o?D.errors:o.concat(D.errors),s=o.length)}else{const r={instancePath:t+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.fields.type,parentSchema:l.properties.constraints.properties.fields,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.subject_is_issuer){let e=r.subject_is_issuer;if("string"!=typeof e){const r={instancePath:t+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.subject_is_issuer.type,parentSchema:l.properties.constraints.properties.subject_is_issuer,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"preferred"!==e){const r={instancePath:t+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.subject_is_issuer.enum,parentSchema:l.properties.constraints.properties.subject_is_issuer,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.is_holder){let e=r.is_holder;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++){let r=e[i];if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0===r.field_id){const e={instancePath:t+"/constraints/is_holder/"+i,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:l.properties.constraints.properties.is_holder.items.required,parentSchema:l.properties.constraints.properties.is_holder.items,data:r};null===o?o=[e]:o.push(e),s++}if(void 0===r.directive){const e={instancePath:t+"/constraints/is_holder/"+i,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:l.properties.constraints.properties.is_holder.items.required,parentSchema:l.properties.constraints.properties.is_holder.items,data:r};null===o?o=[e]:o.push(e),s++}for(const e in r)if("field_id"!==e&&"directive"!==e){const n={instancePath:t+"/constraints/is_holder/"+i,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints.properties.is_holder.items,data:r};null===o?o=[n]:o.push(n),s++}if(void 0!==r.field_id){let e=r.field_id;if(Array.isArray(e)){const r=e.length;for(let n=0;n<r;n++){let r=e[n];if("string"!=typeof r){const e={instancePath:t+"/constraints/is_holder/"+i+"/field_id/"+n,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.field_id.items,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/is_holder/"+i+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.field_id,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/is_holder/"+i+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"preferred"!==e){const r={instancePath:t+"/constraints/is_holder/"+i+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:l.properties.constraints.properties.is_holder.items.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/is_holder/"+i,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.is_holder.items.type,parentSchema:l.properties.constraints.properties.is_holder.items,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.is_holder.type,parentSchema:l.properties.constraints.properties.is_holder,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.same_subject){let e=r.same_subject;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++){let r=e[i];if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0===r.field_id){const e={instancePath:t+"/constraints/same_subject/"+i,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:l.properties.constraints.properties.same_subject.items.required,parentSchema:l.properties.constraints.properties.same_subject.items,data:r};null===o?o=[e]:o.push(e),s++}if(void 0===r.directive){const e={instancePath:t+"/constraints/same_subject/"+i,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:l.properties.constraints.properties.same_subject.items.required,parentSchema:l.properties.constraints.properties.same_subject.items,data:r};null===o?o=[e]:o.push(e),s++}for(const e in r)if("field_id"!==e&&"directive"!==e){const n={instancePath:t+"/constraints/same_subject/"+i,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints.properties.same_subject.items,data:r};null===o?o=[n]:o.push(n),s++}if(void 0!==r.field_id){let e=r.field_id;if(Array.isArray(e)){const r=e.length;for(let n=0;n<r;n++){let r=e[n];if("string"!=typeof r){const e={instancePath:t+"/constraints/same_subject/"+i+"/field_id/"+n,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.field_id.items,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/same_subject/"+i+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.field_id,data:e};null===o?o=[r]:o.push(r),s++}}if(void 0!==r.directive){let e=r.directive;if("string"!=typeof e){const r={instancePath:t+"/constraints/same_subject/"+i+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}if("required"!==e&&"preferred"!==e){const r={instancePath:t+"/constraints/same_subject/"+i+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:l.properties.constraints.properties.same_subject.items.properties.directive,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints/same_subject/"+i,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.same_subject.items.type,parentSchema:l.properties.constraints.properties.same_subject.items,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.same_subject.type,parentSchema:l.properties.constraints.properties.same_subject,data:e};null===o?o=[r]:o.push(r),s++}}}else{const e={instancePath:t+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.type,parentSchema:l.properties.constraints,data:r};null===o?o=[e]:o.push(e),s++}}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.type,parentSchema:l,data:e};null===o?o=[r]:o.push(r),s++}return k.errors=o,0===s}function M(e,{instancePath:t="",parentData:r,parentDataProperty:n,rootData:o=e}={}){let s=null,a=0;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.presentation_definition){let r=e.presentation_definition;if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0===r.id){const e={instancePath:t+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:i.properties.presentation_definition.required,parentSchema:i.properties.presentation_definition,data:r};null===s?s=[e]:s.push(e),a++}if(void 0===r.input_descriptors){const e={instancePath:t+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:i.properties.presentation_definition.required,parentSchema:i.properties.presentation_definition,data:r};null===s?s=[e]:s.push(e),a++}for(const e in r)if("id"!==e&&"name"!==e&&"purpose"!==e&&"format"!==e&&"frame"!==e&&"submission_requirements"!==e&&"input_descriptors"!==e){const n={instancePath:t+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties",schema:!1,parentSchema:i.properties.presentation_definition,data:r};null===s?s=[n]:s.push(n),a++}if(void 0!==r.id){let e=r.id;if("string"!=typeof e){const r={instancePath:t+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.presentation_definition.properties.id.type,parentSchema:i.properties.presentation_definition.properties.id,data:e};null===s?s=[r]:s.push(r),a++}}if(void 0!==r.name){let e=r.name;if("string"!=typeof e){const r={instancePath:t+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.presentation_definition.properties.name.type,parentSchema:i.properties.presentation_definition.properties.name,data:e};null===s?s=[r]:s.push(r),a++}}if(void 0!==r.purpose){let e=r.purpose;if("string"!=typeof e){const r={instancePath:t+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.presentation_definition.properties.purpose.type,parentSchema:i.properties.presentation_definition.properties.purpose,data:e};null===s?s=[r]:s.push(r),a++}}if(void 0!==r.format&&(c(r.format,{instancePath:t+"/presentation_definition/format",parentData:r,parentDataProperty:"format",rootData:o})||(s=null===s?c.errors:s.concat(c.errors),a=s.length)),void 0!==r.frame){let e=r.frame;if(e&&"object"==typeof e&&!Array.isArray(e));else{const r={instancePath:t+"/presentation_definition/frame",schemaPath:"#/properties/presentation_definition/properties/frame/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.properties.presentation_definition.properties.frame.type,parentSchema:i.properties.presentation_definition.properties.frame,data:e};null===s?s=[r]:s.push(r),a++}}if(void 0!==r.submission_requirements){let e=r.submission_requirements;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++)d(e[i],{instancePath:t+"/presentation_definition/submission_requirements/"+i,parentData:e,parentDataProperty:i,rootData:o})||(s=null===s?d.errors:s.concat(d.errors),a=s.length)}else{const r={instancePath:t+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.properties.presentation_definition.properties.submission_requirements.type,parentSchema:i.properties.presentation_definition.properties.submission_requirements,data:e};null===s?s=[r]:s.push(r),a++}}if(void 0!==r.input_descriptors){let e=r.input_descriptors;if(Array.isArray(e)){const r=e.length;for(let i=0;i<r;i++)k(e[i],{instancePath:t+"/presentation_definition/input_descriptors/"+i,parentData:e,parentDataProperty:i,rootData:o})||(s=null===s?k.errors:s.concat(k.errors),a=s.length)}else{const r={instancePath:t+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.properties.presentation_definition.properties.input_descriptors.type,parentSchema:i.properties.presentation_definition.properties.input_descriptors,data:e};null===s?s=[r]:s.push(r),a++}}}else{const e={instancePath:t+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.properties.presentation_definition.type,parentSchema:i.properties.presentation_definition,data:r};null===s?s=[e]:s.push(e),a++}}}else{const r={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.type,parentSchema:i,data:e};null===s?s=[r]:s.push(r),a++}return M.errors=s,0===a}},7663:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(73328),t),n(r(23703),t),n(r(94666),t)},69162:function(e,t,r){"use strict";var i=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialMapper=void 0;const o=r(73328),s=n(r(96245)),a=r(23703);class c{static decodeVerifiablePresentation(e){var t;if(c.isJwtEncoded(e)){const r=(0,s.default)(e),i=(0,s.default)(e,{header:!0});return r.vp.proof={type:o.IProofType.JwtProof2020,created:r.nbf,proofPurpose:o.IProofPurpose.authentication,verificationMethod:null!==(t=i.kid)&&void 0!==t?t:r.iss,jwt:e},r}return c.isJwtDecodedPresentation(e)?e:c.isJsonLdAsString(e)?JSON.parse(e):e}static decodeVerifiableCredential(e){var t;if(c.isJwtEncoded(e)){const r=(0,s.default)(e),i=(0,s.default)(e,{header:!0});return r.vc.proof={type:o.IProofType.JwtProof2020,created:r.nbf,proofPurpose:o.IProofPurpose.authentication,verificationMethod:null!==(t=i.kid)&&void 0!==t?t:r.iss,jwt:e},r}return c.isJwtDecodedCredential(e)?e:c.isJsonLdAsString(e)?JSON.parse(e):e}static toWrappedVerifiablePresentation(e,t){const r=c.getFirstProof(e),i="string"!=typeof e&&c.hasJWTProofType(e)?null==r?void 0:r.jwt:e;if(!i)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const n=c.decodeVerifiablePresentation(i),s=c.isJwtEncoded(i),a=c.isJwtDecodedPresentation(i),u=s?o.OriginalType.JWT_ENCODED:a?o.OriginalType.JWT_DECODED:o.OriginalType.JSONLD,h=a||s?"jwt_vp":"ldp_vp";let d;if(d=s||a?c.jwtDecodedPresentationToUniformPresentation(n,!1,t):n,!d||!("verifiableCredential"in d)||!d.verifiableCredential||0===d.verifiableCredential.length)throw Error("VP needs to have at least one verifiable credential at this point");const l=c.toWrappedVerifiableCredentials(d.verifiableCredential,t);return{type:u,format:h,original:i,decoded:n,presentation:Object.assign(Object.assign({},d),{verifiableCredential:l}),vcs:l}}static toWrappedVerifiableCredentials(e,t){return e.map((e=>c.toWrappedVerifiableCredential(e,t)))}static toWrappedVerifiableCredential(e,t){var r;const i=c.getFirstProof(e),n=c.hasJWTProofType(e)&&i&&null!==(r=i.jwt)&&void 0!==r?r:e;if(!n)throw Error("Could not determine original credential, probably it was a converted JWT credential, that is now missing the JWT value in the proof");const s=c.decodeVerifiableCredential(n),a=c.isJwtEncoded(n),u=c.isJwtDecodedCredential(n);return{original:n,decoded:s,format:a||u?"jwt_vc":"ldp_vc",type:a?o.OriginalType.JWT_ENCODED:u?o.OriginalType.JWT_DECODED:o.OriginalType.JSONLD,credential:a||u?c.jwtDecodedCredentialToUniformCredential(s,t):s}}static isJwtEncoded(e){return a.ObjectUtils.isString(e)&&e.startsWith("ey")}static isJsonLdAsString(e){return a.ObjectUtils.isString(e)&&e.includes("@context")}static isJwtDecodedCredential(e){return void 0!==e.vc&&void 0!==e.iss}static isJwtDecodedPresentation(e){return void 0!==e.vp&&void 0!==e.iss}static jwtEncodedPresentationToUniformPresentation(e,t=!0,r){return c.jwtDecodedPresentationToUniformPresentation((0,s.default)(e),t,r)}static jwtDecodedPresentationToUniformPresentation(e,t=!0,r){const{iss:n,aud:o,jti:s,vp:a}=e,u=i(e,["iss","aud","jti","vp"]),h=Object.assign(Object.assign({},u),a);if(t){if(!a.verifiableCredential)throw Error("Verifiable Presentation should have a verifiable credential at this point");h.verifiableCredential=a.verifiableCredential.map((e=>c.toUniformCredential(e,r)))}if(n){const e=h.holder;if(e&&e!==n)throw new Error(`Inconsistent holders between JWT claim (${n}) and VC value (${e})`);h.holder=n}if(o){const e=h.verifier;if(e&&e!==o)throw new Error(`Inconsistent holders between JWT claim (${o}) and VC value (${e})`);h.verifier=o}if(s){const e=h.id;if(e&&e!==s)throw new Error(`Inconsistent VP ids between JWT claim (${s}) and VP value (${e})`);h.id=s}return h}static toUniformCredential(e,t){var r;const i="string"!=typeof e&&c.hasJWTProofType(e)?null===(r=c.getFirstProof(e))||void 0===r?void 0:r.jwt:e;if(!i)throw Error("Could not determine original credential from passed in credential. Probably because a JWT proof type was present, but now is not available anymore");const n=c.decodeVerifiableCredential(i),o=c.isJwtEncoded(i);return c.isJwtDecodedCredential(i)||o?c.jwtDecodedCredentialToUniformCredential(n,t):n}static toUniformPresentation(e,t){var r;const i=c.getFirstProof(e),n="string"!=typeof e&&c.hasJWTProofType(e)?null==i?void 0:i.jwt:e;if(!n)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const o=c.decodeVerifiablePresentation(n),s=c.isJwtEncoded(n),a=c.isJwtDecodedPresentation(n),u=s||a?c.jwtDecodedPresentationToUniformPresentation(o,!1):o;return(null==t?void 0:t.addContextIfMissing)&&!u["@context"]&&(u["@context"]=["https://www.w3.org/2018/credentials/v1"]),u.verifiableCredential=null===(r=u.verifiableCredential)||void 0===r?void 0:r.map((e=>c.toUniformCredential(e,t))),u}static jwtEncodedCredentialToUniformCredential(e,t){return c.jwtDecodedCredentialToUniformCredential((0,s.default)(e),t)}static jwtDecodedCredentialToUniformCredential(e,t){const{exp:r,nbf:n,iss:o,vc:s,sub:a,jti:c}=e,u=i(e,["exp","nbf","iss","vc","sub","jti"]),h=Object.assign(Object.assign({},u),s),d=void 0!==(null==t?void 0:t.maxTimeSkewInMS)?t.maxTimeSkewInMS:999;if(r){const e=h.expirationDate,t=parseInt(r.toString()),i=t<9999999999?new Date(1e3*t).toISOString().replace(/\.000Z/,"Z"):new Date(t).toISOString();if(e&&e!==i){const t=Math.abs(new Date(i).getTime()-new Date(e).getTime());if(!d||t>d)throw new Error(`Inconsistent expiration dates between JWT claim (${i}) and VC value (${e})`)}h.expirationDate=i}if(n){const e=h.issuanceDate,t=parseInt(n.toString()),r=t<9999999999?new Date(1e3*t).toISOString().replace(/\.000Z/,"Z"):new Date(t).toISOString();if(e&&e!==r){const t=Math.abs(new Date(r).getTime()-new Date(e).getTime());if(!d||t>d)throw new Error(`Inconsistent issuance dates between JWT claim (${r}) and VC value (${e})`)}h.issuanceDate=r}if(o){const e=h.issuer;if(e){if("string"==typeof e){if(e!==o)throw new Error(`Inconsistent issuers between JWT claim (${o}) and VC value (${e})`)}else if(e.id!==o)throw new Error(`Inconsistent issuers between JWT claim (${o}) and VC value (${e.id})`)}else h.issuer=o}if(a){const e=Array.isArray(h.credentialSubject)?h.credentialSubject:[h.credentialSubject];for(let t=0;t<e.length;t++){const r=e[t].id;if(r&&r!==a)throw new Error(`Inconsistent credential subject ids between JWT claim (${a}) and VC value (${r})`);Array.isArray(h.credentialSubject)?h.credentialSubject[t].id=a:h.credentialSubject.id=a}}if(c){const e=h.id;if(e&&e!==c)throw new Error(`Inconsistent credential ids between JWT claim (${c}) and VC value (${e})`);h.id=c}return h}static toExternalVerifiableCredential(e){let t;if(e.proof){if(!e.proof.type)throw new Error("Verifiable credential proof is missing a type");if(!e.proof.created)throw new Error("Verifiable credential proof is missing a created date");if(!e.proof.proofPurpose)throw new Error("Verifiable credential proof is missing a proof purpose");if(!e.proof.verificationMethod)throw new Error("Verifiable credential proof is missing a verification method");t=Object.assign(Object.assign({},e.proof),{type:e.proof.type,created:e.proof.created,proofPurpose:e.proof.proofPurpose,verificationMethod:e.proof.verificationMethod})}return Object.assign(Object.assign({},e),{type:e.type?"string"==typeof e.type?[e.type]:e.type:["VerifiableCredential"],proof:t})}static storedCredentialToOriginalFormat(e){const t=c.detectDocumentType(e);if("string"==typeof e){if(0===t)return c.toCompactJWT(e);if(1===t)return JSON.parse(e)}return e}static storedPresentationToOriginalFormat(e){const t=c.detectDocumentType(e);if("string"==typeof e){if(0===t)return c.toCompactJWT(e);if(1===t)return JSON.parse(e)}return e}static toCompactJWT(e){if(!e||0!==c.detectDocumentType(e))throw Error("Cannot convert non JWT credential to JWT");if("string"==typeof e)return e;let t;if(t="vp"in e?e.vp.proof:"vc"in e?e.vc.proof:Array.isArray(e.proof)?e.proof[0].jwt:e.proof.jwt,!t)throw Error("Could not get JWT from supplied document");return t}static detectDocumentType(e){if("string"==typeof e)return this.isJsonLdAsString(e)?1:0;const t="vc"in e?e.vc.proof:"vp"in e?e.vp.proof:e.proof,r=Array.isArray(t)?t[0]:t;return(null==r?void 0:r.jwt)?0:"EthereumEip712Signature2021"===(null==r?void 0:r.type)?2:1}static hasJWTProofType(e){var t;return"string"!=typeof e&&!!(null===(t=c.getFirstProof(e))||void 0===t?void 0:t.jwt)}static getFirstProof(e){if(!e||"string"==typeof e)return;const t="vc"in e?e.vc.proof:"vp"in e?e.vp.proof:e.proof;return Array.isArray(t)?t[0]:t}}t.CredentialMapper=c},94666:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(69162),t)},55392:(e,t)=>{"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.parseDid=t.IProofType=t.IProofPurpose=void 0,(i=t.IProofPurpose||(t.IProofPurpose={})).verificationMethod="verificationMethod",i.assertionMethod="assertionMethod",i.authentication="authentication",i.keyAgreement="keyAgreement",i.contractAgreement="contactAgreement",i.capabilityInvocation="capabilityInvocation",i.capabilityDelegation="capabilityDelegation",(r=t.IProofType||(t.IProofType={})).Ed25519Signature2018="Ed25519Signature2018",r.Ed25519Signature2020="Ed25519Signature2020",r.EcdsaSecp256k1Signature2019="EcdsaSecp256k1Signature2019",r.EcdsaSecp256k1RecoverySignature2020="EcdsaSecp256k1RecoverySignature2020",r.JsonWebSignature2020="JsonWebSignature2020",r.RsaSignature2018="RsaSignature2018",r.GpgSignature2020="GpgSignature2020",r.JcsEd25519Signature2020="JcsEd25519Signature2020",r.BbsBlsSignatureProof2020="BbsBlsSignatureProof2020",r.BbsBlsBoundSignatureProof2020="BbsBlsBoundSignatureProof2020",r.JwtProof2020="JwtProof2020",t.parseDid=e=>{const t=n(e);if(null===t)throw new Error("invalid did");return t};const n=e=>{const t="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",r="[a-zA-Z0-9_.:%-]",i=new RegExp(`^did:([a-z0-9]+):((?:${t}*:)*(${t}+))((;${r}+=${r}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`);if(""===e||!e)return null;const n=e.match(i);if(n){const t={did:`did:${n[1]}:${n[2]}`,method:n[1],id:n[2],didUrl:e};if(n[4]){const e=n[4].slice(1).split(";");t.params={};for(const r of e){const e=r.split("=");t.params[e[0]]=e[1]}}return n[6]&&(t.path=n[6]),n[7]&&(t.query=n[7].slice(1)),n[8]&&(t.fragment=n[8].slice(1)),t}return null}},50532:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},73328:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(55392),t),n(r(90764),t),n(r(2967),t),n(r(50532),t)},90764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2967:(e,t)=>{"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.JWT_PROOF_TYPE_2020=t.DocumentFormat=t.OriginalType=void 0,(i=t.OriginalType||(t.OriginalType={})).JSONLD="json-ld",i.JWT_ENCODED="jwt-encoded",i.JWT_DECODED="jwt-decoded",(r=t.DocumentFormat||(t.DocumentFormat={}))[r.JWT=0]="JWT",r[r.JSONLD=1]="JSONLD",r[r.EIP712=2]="EIP712",t.JWT_PROOF_TYPE_2020="JwtProof2020"},23703:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(57229),t)},57229:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUtils=void 0;class r{static asArray(e){return Array.isArray(e)?e:[e]}static isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}static isUrlAbsolute(e){r.isString(e)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(e)}static isString(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)}}t.ObjectUtils=r},89757:(e,t,r)=>{"use strict";const{AbortError:i,codes:n}=r(52446),{isNodeStream:o,isWebStream:s,kControllerErrorFunction:a}=r(96654),c=r(86456),{ERR_INVALID_ARG_TYPE:u}=n;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new u("signal","AbortSignal",e)})(t),!o(r)&&!s(r))throw new u("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const r=o(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[a](new i(void 0,{cause:e.reason}))};return e.aborted?r():(e.addEventListener("abort",r),c(t,(()=>e.removeEventListener("abort",r)))),t}},61314:(e,t,r)=>{"use strict";const{StringPrototypeSlice:i,SymbolIterator:n,TypedArrayPrototypeSet:o,Uint8Array:s}=r(78996),{Buffer:a}=r(48764),{inspect:c}=r(74009);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return a.alloc(0);const t=a.allocUnsafe(e>>>0);let r=this.head,i=0;for(;r;)o(t,r.data,i),i+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[n](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,n=0;do{const o=r.data;if(!(e>o.length)){e===o.length?(t+=o,++n,r.next?this.head=r.next:this.head=this.tail=null):(t+=i(o,0,e),this.head=r,r.data=i(o,e));break}t+=o,e-=o.length,++n}while(null!==(r=r.next));return this.length-=n,t}_getBuffer(e){const t=a.allocUnsafe(e),r=e;let i=this.head,n=0;do{const a=i.data;if(!(e>a.length)){e===a.length?(o(t,a,r-e),++n,i.next?this.head=i.next:this.head=this.tail=null):(o(t,new s(a.buffer,a.byteOffset,e),r-e),this.head=i,i.data=a.slice(e));break}o(t,a,r-e),e-=a.length,++n}while(null!==(i=i.next));return this.length-=n,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},1323:(e,t,r)=>{"use strict";const{pipeline:i}=r(7911),n=r(866),{destroyer:o}=r(27054),{isNodeStream:s,isReadable:a,isWritable:c,isWebStream:u,isTransformStream:h,isWritableStream:d,isReadableStream:l}=r(96654),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:A}}=r(52446),g=r(86456);e.exports=function(...e){if(0===e.length)throw new A("streams");if(1===e.length)return n.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=n.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=n.from(e[t])}for(let r=0;r<e.length;++r)if(s(e[r])||u(e[r])){if(r<e.length-1&&!(a(e[r])||l(e[r])||h(e[r])))throw new p(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(c(e[r])||d(e[r])||h(e[r])))throw new p(`streams[${r}]`,t[r],"must be writable")}let r,m,y,I,w;const b=e[0],v=i(e,(function(e){const t=I;I=null,t?t(e):e?w.destroy(e):C||E||w.destroy()})),E=!!(c(b)||d(b)||h(b)),C=!!(a(v)||l(v)||h(v));if(w=new n({writableObjectMode:!(null==b||!b.writableObjectMode),readableObjectMode:!(null==v||!v.writableObjectMode),writable:E,readable:C}),E){if(s(b))w._write=function(e,t,i){b.write(e,t)?i():r=i},w._final=function(e){b.end(),m=e},b.on("drain",(function(){if(r){const e=r;r=null,e()}}));else if(u(b)){const e=(h(b)?b.writable:b).getWriter();w._write=async function(t,r,i){try{await e.ready,e.write(t).catch((()=>{})),i()}catch(e){i(e)}},w._final=async function(t){try{await e.ready,e.close().catch((()=>{})),m=t}catch(e){t(e)}}}const e=h(v)?v.readable:v;g(e,(()=>{if(m){const e=m;m=null,e()}}))}if(C)if(s(v))v.on("readable",(function(){if(y){const e=y;y=null,e()}})),v.on("end",(function(){w.push(null)})),w._read=function(){for(;;){const e=v.read();if(null===e)return void(y=w._read);if(!w.push(e))return}};else if(u(v)){const e=(h(v)?v.readable:v).getReader();w._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!w.push(t))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===I||(e=new f),y=null,r=null,m=null,null===I?t(e):(I=t,s(v)&&o(v,e))},w}},27054:(e,t,r)=>{"use strict";const i=r(34155),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=r(52446),{Symbol:a}=r(78996),{kDestroyed:c,isDestroyed:u,isFinished:h,isServerRequest:d}=r(96654),l=a("kDestroy"),f=a("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function A(e,t,r){let n=!1;function o(t){if(n)return;n=!0;const o=e._readableState,s=e._writableState;p(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?i.nextTick(g,e,t):i.nextTick(m,e)}try{e._destroy(t||null,o)}catch(t){o(t)}}function g(e,t){y(e,t),m(e)}function m(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function y(e,t){const r=e._readableState,i=e._writableState;null!=i&&i.errorEmitted||null!=r&&r.errorEmitted||(i&&(i.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function I(e,t,r){const n=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=n&&n.destroyed)return this;null!=n&&n.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),n&&!n.errored&&(n.errored=t),r?i.nextTick(y,e,t):y(e,t))}function w(e){let t=!1;function r(r){if(t)return void I(e,null!=r?r:new o);t=!0;const n=e._readableState,s=e._writableState,a=s||n;n&&(n.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(l,r):r?I(e,r,!0):i.nextTick(b,e)}try{e._construct((e=>{i.nextTick(r,e)}))}catch(e){i.nextTick(r,e)}}function b(e){e.emit(f)}function v(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function E(e){e.emit("close")}function C(e,t){e.emit("error",t),i.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,n=e._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),e.once(f,t),e.listenerCount(f)>1||i.nextTick(w,e)},destroyer:function(e,t){e&&!u(e)&&(t||h(e)||(t=new s),d(e)?(e.socket=null,e.destroy(t)):v(e)?e.abort():v(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?i.nextTick(C,e,t):i.nextTick(E,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,i=this._writableState,o=i||r;return null!=i&&i.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,i,r),i&&(i.destroyed=!0),r&&(r.destroyed=!0),o.constructed?A(this,e,t):this.once(l,(function(r){A(this,n(r,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:I}},866:(e,t,r)=>{"use strict";const{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:o,ObjectSetPrototypeOf:s}=r(78996);e.exports=u;const a=r(8328),c=r(50402);s(u.prototype,a.prototype),s(u,a);{const e=o(c.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let h,d;function l(){return void 0===h&&(h={}),h}i(u.prototype,{writable:{__proto__:null,...n(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(c.prototype,"writableLength")},writableFinished:{__proto__:null,...n(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return l().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return l().newReadableWritablePairFromDuplex(e)},u.from=function(e){return d||(d=r(89814)),d(e,"body")}},89814:(e,t,r)=>{const i=r(34155),n=r(48764),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:c,isReadableNodeStream:u,isWritableNodeStream:h,isDuplexNodeStream:d}=r(96654),l=r(86456),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:A}}=r(52446),{destroyer:g}=r(27054),m=r(866),y=r(8328),{createDeferredPromise:I}=r(74009),w=r(24134),b=globalThis.Blob||n.Blob,v=void 0!==b?function(e){return e instanceof b}:function(e){return!1},E=globalThis.AbortController||r(28599).AbortController,{FunctionPrototypeCall:C}=r(78996);class B extends m{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function S(e){const t=e.readable&&"function"!=typeof e.readable.read?y.wrap(e.readable):e.readable,r=e.writable;let i,n,a,c,u,h=!!o(t),d=!!s(r);function p(e){const t=c;c=null,t?t(e):e&&u.destroy(e)}return u=new B({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:h,writable:d}),d&&(l(r,(e=>{d=!1,e&&g(t,e),p(e)})),u._write=function(e,t,n){r.write(e,t)?n():i=n},u._final=function(e){r.end(),n=e},r.on("drain",(function(){if(i){const e=i;i=null,e()}})),r.on("finish",(function(){if(n){const e=n;n=null,e()}}))),h&&(l(t,(e=>{h=!1,e&&g(t,e),p(e)})),t.on("readable",(function(){if(a){const e=a;a=null,e()}})),t.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const e=t.read();if(null===e)return void(a=u._read);if(!u.push(e))return}}),u._destroy=function(e,o){e||null===c||(e=new f),a=null,i=null,n=null,null===c?o(e):(c=o,g(r,e),g(t,e))},u}e.exports=function e(t,r){if(d(t))return t;if(u(t))return S({readable:t});if(h(t))return S({writable:t});if(c(t))return S({writable:!1,readable:!1});if("function"==typeof t){const{value:e,write:n,final:o,destroy:s}=function(e){let{promise:t,resolve:r}=I();const n=new E,o=n.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:n,done:s,cb:a}=await e;if(i.nextTick(a),s)return;if(o.aborted)throw new f(void 0,{cause:o.reason});({promise:t,resolve:r}=I()),yield n}}(),{signal:o}),write(e,t,i){const n=r;r=null,n({chunk:e,done:!1,cb:i})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){n.abort(),t(e)}}}(t);if(a(e))return w(B,e,{objectMode:!0,write:n,final:o,destroy:s});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const r=C(c,e,(e=>{if(null!=e)throw new A("nully","body",e)}),(e=>{g(t,e)}));return t=new B({objectMode:!0,readable:!1,write:n,final(e){o((async()=>{try{await r,i.nextTick(e,null)}catch(t){i.nextTick(e,t)}}))},destroy:s})}throw new A("Iterable, AsyncIterable or AsyncFunction",r,e)}if(v(t))return e(t.arrayBuffer());if(a(t))return w(B,t,{objectMode:!0,writable:!1});if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return S({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?h(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const n=null==t?void 0:t.then;if("function"==typeof n){let e;return C(n,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{g(e,t)})),e=new B({objectMode:!0,writable:!1,read(){}})}throw new p(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},86456:(e,t,r)=>{const i=r(34155),{AbortError:n,codes:o}=r(52446),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:a}=o,{kEmptyObject:c,once:u}=r(74009),{validateAbortSignal:h,validateFunction:d,validateObject:l,validateBoolean:f}=r(57700),{Promise:p,PromisePrototypeThen:A}=r(78996),{isClosed:g,isReadable:m,isReadableNodeStream:y,isReadableStream:I,isReadableFinished:w,isReadableErrored:b,isWritable:v,isWritableNodeStream:E,isWritableStream:C,isWritableFinished:B,isWritableErrored:S,isNodeStream:_,willEmitClose:Q,kIsClosedPromise:D}=r(96654),k=()=>{};function M(e,t,r){var o,f;if(2===arguments.length?(r=t,t=c):null==t?t=c:l(t,"options"),d(r,"callback"),h(t.signal,"options.signal"),r=u(r),I(e)||C(e))return function(e,t,r){let o=!1,s=k;if(t.signal)if(s=()=>{o=!0,r.call(e,new n(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(s);else{const i=r;r=u(((...r)=>{t.signal.removeEventListener("abort",s),i.apply(e,r)})),t.signal.addEventListener("abort",s)}const a=(...t)=>{o||i.nextTick((()=>r.apply(e,t)))};return A(e[D].promise,a,a),k}(e,t,r);if(!_(e))throw new s("stream",["ReadableStream","WritableStream","Stream"],e);const p=null!==(o=t.readable)&&void 0!==o?o:y(e),M=null!==(f=t.writable)&&void 0!==f?f:E(e),P=e._writableState,x=e._readableState,F=()=>{e.writable||T()};let R=Q(e)&&y(e)===p&&E(e)===M,O=B(e,!1);const T=()=>{O=!0,e.destroyed&&(R=!1),(!R||e.readable&&!p)&&(p&&!N||r.call(e))};let N=w(e,!1);const U=()=>{N=!0,e.destroyed&&(R=!1),(!R||e.writable&&!M)&&(M&&!O||r.call(e))},j=t=>{r.call(e,t)};let L=g(e);const q=()=>{L=!0;const t=S(e)||b(e);return t&&"boolean"!=typeof t?r.call(e,t):p&&!N&&y(e,!0)&&!w(e,!1)?r.call(e,new a):!M||O||B(e,!1)?void r.call(e):r.call(e,new a)},K=()=>{L=!0;const t=S(e)||b(e);if(t&&"boolean"!=typeof t)return r.call(e,t);r.call(e)},H=()=>{e.req.on("finish",T)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?M&&!P&&(e.on("end",F),e.on("close",F)):(e.on("complete",T),R||e.on("abort",q),e.req?H():e.on("request",H)),R||"boolean"!=typeof e.aborted||e.on("aborted",q),e.on("end",U),e.on("finish",T),!1!==t.error&&e.on("error",j),e.on("close",q),L?i.nextTick(q):null!=P&&P.errorEmitted||null!=x&&x.errorEmitted?R||i.nextTick(K):(p||R&&!m(e)||!O&&!1!==v(e))&&(M||R&&!v(e)||!N&&!1!==m(e))?x&&e.req&&e.aborted&&i.nextTick(K):i.nextTick(K);const G=()=>{r=k,e.removeListener("aborted",q),e.removeListener("complete",T),e.removeListener("abort",q),e.removeListener("request",H),e.req&&e.req.removeListener("finish",T),e.removeListener("end",F),e.removeListener("close",F),e.removeListener("finish",T),e.removeListener("end",U),e.removeListener("error",j),e.removeListener("close",q)};if(t.signal&&!L){const o=()=>{const i=r;G(),i.call(e,new n(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(o);else{const i=r;r=u(((...r)=>{t.signal.removeEventListener("abort",o),i.apply(e,r)})),t.signal.addEventListener("abort",o)}}return G}e.exports=M,e.exports.finished=function(e,t){var r;let i=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(f(t.cleanup,"cleanup"),i=t.cleanup),new p(((r,n)=>{const o=M(e,t,(e=>{i&&o(),e?n(e):r()}))}))}},24134:(e,t,r)=>{"use strict";const i=r(34155),{PromisePrototypeThen:n,SymbolAsyncIterator:o,SymbolIterator:s}=r(78996),{Buffer:a}=r(48764),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:u}=r(52446).codes;e.exports=function(e,t,r){let h,d;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])d=!0,h=t[o]();else{if(!t||!t[s])throw new c("iterable",["Iterable"],t);d=!1,h=t[s]()}const l=new e({objectMode:!0,highWaterMark:1,...r});let f=!1;return l._read=function(){f||(f=!0,async function(){for(;;){try{const{value:e,done:t}=d?await h.next():h.next();if(t)l.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw f=!1,new u;if(l.push(t))continue;f=!1}}catch(e){l.destroy(e)}break}}())},l._destroy=function(e,t){n(async function(e){const t=null!=e,r="function"==typeof h.throw;if(t&&r){const{value:t,done:r}=await h.throw(e);if(await t,r)return}if("function"==typeof h.return){const{value:e}=await h.return();await e}}(e),(()=>i.nextTick(t,e)),(r=>i.nextTick(t,r||e)))},l}},46391:(e,t,r)=>{"use strict";const{ArrayIsArray:i,ObjectSetPrototypeOf:n}=r(78996),{EventEmitter:o}=r(17187);function s(e){o.call(this,e)}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}n(s.prototype,o.prototype),n(s,o),s.prototype.pipe=function(e,t){const r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function n(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",n),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",u));let s=!1;function c(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function h(e){d(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",i),e.removeListener("drain",n),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",h),e.removeListener("error",h),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return a(r,"error",h),a(e,"error",h),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:s,prependListener:a}},81744:(e,t,r)=>{"use strict";const i=globalThis.AbortController||r(28599).AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:c}=r(52446),{validateAbortSignal:u,validateInteger:h,validateObject:d}=r(57700),l=r(78996).Symbol("kWeak"),{finished:f}=r(86456),p=r(1323),{addAbortSignalNoValidate:A}=r(89757),{isWritable:g,isNodeStream:m}=r(96654),{ArrayPrototypePush:y,MathFloor:I,Number:w,NumberIsNaN:b,Promise:v,PromiseReject:E,PromisePrototypeThen:C,Symbol:B}=r(78996),S=B("kEmpty"),_=B("kEof");function Q(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal");let r=1;return null!=(null==t?void 0:t.concurrency)&&(r=I(t.concurrency)),h(r,"concurrency",1),async function*(){var n,o;const s=new i,a=this,u=[],h=s.signal,d={signal:h},l=()=>s.abort();let f,p;null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted&&l(),null==t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",l);let A=!1;function g(){A=!0}!async function(){try{for await(let t of a){var i;if(A)return;if(h.aborted)throw new c;try{t=e(t,d)}catch(e){t=E(e)}t!==S&&("function"==typeof(null===(i=t)||void 0===i?void 0:i.catch)&&t.catch(g),u.push(t),f&&(f(),f=null),!A&&u.length&&u.length>=r&&await new v((e=>{p=e})))}u.push(_)}catch(e){const t=E(e);C(t,void 0,g),u.push(t)}finally{var n;A=!0,f&&(f(),f=null),null==t||null===(n=t.signal)||void 0===n||n.removeEventListener("abort",l)}}();try{for(;;){for(;u.length>0;){const e=await u[0];if(e===_)return;if(h.aborted)throw new c;e!==S&&(yield e),u.shift(),p&&(p(),p=null)}await new v((e=>{f=e}))}}finally{s.abort(),A=!0,p&&(p(),p=null)}}.call(this)}async function D(e,t=void 0){for await(const r of k.call(this,e,t))return!0;return!1}function k(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return Q.call(this,(async function(t,r){return await e(t,r)?t:S}),t)}class M extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function P(e){if(e=w(e),b(e))return 0;if(e<0)throw new a("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:function(e=void 0){return null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),async function*(){let t=0;for await(const i of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c({cause:e.signal.reason});yield[t++,i]}}.call(this)},drop:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=P(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new c;e--<=0&&(yield r)}}.call(this)},filter:k,flatMap:function(e,t){const r=Q.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:Q,take:function(e,t=void 0){return null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=P(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new c;if(!(e-- >0))return;yield r}}.call(this)},compose:function(e,t){if(null!=t&&d(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),m(e)&&!g(e))throw new n("stream",e,"must be writable");const r=p(this,e);return null!=t&&t.signal&&A(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await D.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);for await(const r of Q.call(this,(async function(t,r){return await e(t,r),S}),t));},reduce:async function(e,t,r){var n;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&d(r,"options"),null!=(null==r?void 0:r.signal)&&u(r.signal,"options.signal");let s=arguments.length>1;if(null!=r&&null!==(n=r.signal)&&void 0!==n&&n.aborted){const e=new c(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await f(this.destroy(e)),e}const a=new i,h=a.signal;if(null!=r&&r.signal){const e={once:!0,[l]:this};r.signal.addEventListener("abort",(()=>a.abort()),e)}let p=!1;try{for await(const i of this){var A;if(p=!0,null!=r&&null!==(A=r.signal)&&void 0!==A&&A.aborted)throw new c;s?t=await e(t,i,{signal:h}):(t=i,s=!0)}if(!p&&!s)throw new M}finally{a.abort()}return t},toArray:async function(e){null!=e&&d(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal");const t=[];for await(const i of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c(void 0,{cause:e.signal.reason});y(t,i)}return t},some:D,find:async function(e,t){for await(const r of k.call(this,e,t))return r}}},26617:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:i}=r(78996);e.exports=o;const n=r(3091);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i(o.prototype,n.prototype),i(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},7911:(e,t,r)=>{const i=r(34155),{ArrayIsArray:n,Promise:o,SymbolAsyncIterator:s}=r(78996),a=r(86456),{once:c}=r(74009),u=r(27054),h=r(866),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:p,ERR_STREAM_DESTROYED:A,ERR_STREAM_PREMATURE_CLOSE:g},AbortError:m}=r(52446),{validateFunction:y,validateAbortSignal:I}=r(57700),{isIterable:w,isReadable:b,isReadableNodeStream:v,isNodeStream:E,isTransformStream:C,isWebStream:B,isReadableStream:S,isReadableEnded:_}=r(96654),Q=globalThis.AbortController||r(28599).AbortController;let D,k;function M(e,t,r){let i=!1;return e.on("close",(()=>{i=!0})),{destroy:t=>{i||(i=!0,u.destroyer(e,t||new A("pipe")))},cleanup:a(e,{readable:t,writable:r},(e=>{i=!e}))}}function P(e){if(w(e))return e;if(v(e))return async function*(e){k||(k=r(8328)),yield*k.prototype[s].call(e)}(e);throw new l("val",["Readable","Iterable","AsyncIterable"],e)}async function x(e,t,r,{end:i}){let n,s=null;const c=e=>{if(e&&(n=e),s){const e=s;s=null,e()}},u=()=>new o(((e,t)=>{n?t(n):s=()=>{n?t(n):e()}}));t.on("drain",c);const h=a(t,{readable:!1},c);try{t.writableNeedDrain&&await u();for await(const r of e)t.write(r)||await u();i&&t.end(),await u(),r()}catch(e){r(n!==e?d(n,e):e)}finally{h(),t.off("drain",c)}}async function F(e,t,r,{end:i}){C(t)&&(t=t.writable);const n=t.getWriter();try{for await(const t of e)await n.ready,n.write(t).catch((()=>{}));await n.ready,i&&await n.close(),r()}catch(e){try{await n.abort(e),r(e)}catch(e){r(e)}}}function R(e,t,o){if(1===e.length&&n(e[0])&&(e=e[0]),e.length<2)throw new p("streams");const s=new Q,a=s.signal,c=null==o?void 0:o.signal,u=[];function d(){T(new m)}let A,g;I(c,"options.signal"),null==c||c.addEventListener("abort",d);const y=[];let _,k=0;function R(e){T(e,0==--k)}function T(e,r){if(!e||A&&"ERR_STREAM_PREMATURE_CLOSE"!==A.code||(A=e),A||r){for(;y.length;)y.shift()(A);null==c||c.removeEventListener("abort",d),s.abort(),r&&(A||u.forEach((e=>e())),i.nextTick(t,A,g))}}for(let L=0;L<e.length;L++){const q=e[L],K=L<e.length-1,H=L>0,G=K||!1!==(null==o?void 0:o.end),z=L===e.length-1;if(E(q)){if(G){const{destroy:J,cleanup:Y}=M(q,K,H);y.push(J),b(q)&&z&&u.push(Y)}function N(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&R(e)}q.on("error",N),b(q)&&z&&u.push((()=>{q.removeListener("error",N)}))}if(0===L)if("function"==typeof q){if(_=q({signal:a}),!w(_))throw new f("Iterable, AsyncIterable or Stream","source",_)}else _=w(q)||v(q)||C(q)?q:h.from(q);else if("function"==typeof q){var U;if(_=C(_)?P(null===(U=_)||void 0===U?void 0:U.readable):P(_),_=q(_,{signal:a}),K){if(!w(_,!0))throw new f("AsyncIterable",`transform[${L-1}]`,_)}else{var j;D||(D=r(26617));const V=new D({objectMode:!0}),$=null===(j=_)||void 0===j?void 0:j.then;if("function"==typeof $)k++,$.call(_,(e=>{g=e,null!=e&&V.write(e),G&&V.end(),i.nextTick(R)}),(e=>{V.destroy(e),i.nextTick(R,e)}));else if(w(_,!0))k++,x(_,V,R,{end:G});else{if(!S(_)&&!C(_))throw new f("AsyncIterable or Promise","destination",_);{const X=_.readable||_;k++,x(X,V,R,{end:G})}}_=V;const{destroy:W,cleanup:Z}=M(_,!1,!0);y.push(W),z&&u.push(Z)}}else if(E(q)){if(v(_)){k+=2;const ee=O(_,q,R,{end:G});b(q)&&z&&u.push(ee)}else if(C(_)||S(_)){const te=_.readable||_;k++,x(te,q,R,{end:G})}else{if(!w(_))throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],_);k++,x(_,q,R,{end:G})}_=q}else if(B(q)){if(v(_))k++,F(P(_),q,R,{end:G});else if(S(_)||w(_))k++,F(_,q,R,{end:G});else{if(!C(_))throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],_);k++,F(_.readable,q,R,{end:G})}_=q}else _=h.from(q)}return(null!=a&&a.aborted||null!=c&&c.aborted)&&i.nextTick(d),_}function O(e,t,r,{end:n}){let o=!1;if(t.on("close",(()=>{o||r(new g)})),e.pipe(t,{end:!1}),n){function s(){o=!0,t.end()}_(e)?i.nextTick(s):e.once("end",s)}else r();return a(e,{readable:!0,writable:!1},(t=>{const i=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&i&&i.ended&&!i.errored&&!i.errorEmitted?e.once("end",r).once("error",r):r(t)})),a(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:R,pipeline:function(...e){return R(e,c(function(e){return y(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},8328:(e,t,r)=>{const i=r(34155),{ArrayPrototypeIndexOf:n,NumberIsInteger:o,NumberIsNaN:s,NumberParseInt:a,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:h,Promise:d,SafeSet:l,SymbolAsyncIterator:f,Symbol:p}=r(78996);e.exports=U,U.ReadableState=N;const{EventEmitter:A}=r(17187),{Stream:g,prependListener:m}=r(46391),{Buffer:y}=r(48764),{addAbortSignal:I}=r(89757),w=r(86456);let b=r(74009).debuglog("stream",(e=>{b=e}));const v=r(61314),E=r(27054),{getHighWaterMark:C,getDefaultHighWaterMark:B}=r(35105),{aggregateTwoErrors:S,codes:{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:Q,ERR_OUT_OF_RANGE:D,ERR_STREAM_PUSH_AFTER_EOF:k,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:M}}=r(52446),{validateObject:P}=r(57700),x=p("kPaused"),{StringDecoder:F}=r(32553),R=r(24134);h(U.prototype,g.prototype),h(U,g);const O=()=>{},{errorOrDestroy:T}=E;function N(e,t,i){"boolean"!=typeof i&&(i=t instanceof r(866)),this.objectMode=!(!e||!e.objectMode),i&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?C(this,e,"readableHighWaterMark",i):B(!1),this.buffer=new v,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[x]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new F(e.encoding),this.encoding=e.encoding)}function U(e){if(!(this instanceof U))return new U(e);const t=this instanceof r(866);this._readableState=new N(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&I(e.signal,this)),g.call(this,e),E.construct(this,(()=>{this._readableState.needReadable&&G(this,this._readableState)}))}function j(e,t,r,i){b("readableAddChunk",t);const n=e._readableState;let o;if(n.objectMode||("string"==typeof t?(r=r||n.defaultEncoding,n.encoding!==r&&(i&&n.encoding?t=y.from(t,r).toString(n.encoding):(t=y.from(t,r),r=""))):t instanceof y?r="":g._isUint8Array(t)?(t=g._uint8ArrayToBuffer(t),r=""):null!=t&&(o=new _("chunk",["string","Buffer","Uint8Array"],t))),o)T(e,o);else if(null===t)n.reading=!1,function(e,t){if(b("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?K(e):(t.needReadable=!1,t.emittedReadable=!0,H(e))}}(e,n);else if(n.objectMode||t&&t.length>0)if(i)if(n.endEmitted)T(e,new M);else{if(n.destroyed||n.errored)return!1;L(e,n,t,!0)}else if(n.ended)T(e,new k);else{if(n.destroyed||n.errored)return!1;n.reading=!1,n.decoder&&!r?(t=n.decoder.write(t),n.objectMode||0!==t.length?L(e,n,t,!1):G(e,n)):L(e,n,t,!1)}else i||(n.reading=!1,G(e,n));return!n.ended&&(n.length<n.highWaterMark||0===n.length)}function L(e,t,r,i){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&K(e)),G(e,t)}function q(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:s(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function K(e){const t=e._readableState;b("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(H,e))}function H(e){const t=e._readableState;b("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,$(e)}function G(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(z,e,t))}function z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(b("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function J(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[x]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Y(e){b("readable nexttick read 0"),e.read(0)}function V(e,t){b("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),$(e),t.flowing&&!t.reading&&e.read(0)}function $(e){const t=e._readableState;for(b("flow",t.flowing);t.flowing&&null!==e.read(););}function W(e,t){"function"!=typeof e.read&&(e=U.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,i=O;function n(t){this===e?(i(),i=O):i=t}e.on("readable",n);const o=w(e,{writable:!1},(e=>{r=e?S(r,e):null,i(),i=O}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new d(n)}}}catch(e){throw r=S(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",n),o()):E.destroyer(e,null)}}(e,t);return r.stream=e,r}function Z(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function X(e){const t=e._readableState;b("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(ee,t,e))}function ee(e,t){if(b("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(te,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function te(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let re;function ie(){return void 0===re&&(re={}),re}U.prototype.destroy=E.destroy,U.prototype._undestroy=E.undestroy,U.prototype._destroy=function(e,t){t(e)},U.prototype[A.captureRejectionSymbol]=function(e){this.destroy(e)},U.prototype.push=function(e,t){return j(this,e,t,!1)},U.prototype.unshift=function(e,t){return j(this,e,t,!0)},U.prototype.isPaused=function(){const e=this._readableState;return!0===e[x]||!1===e.flowing},U.prototype.setEncoding=function(e){const t=new F(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let i="";for(const e of r)i+=t.write(e);return r.clear(),""!==i&&r.push(i),this._readableState.length=i.length,this},U.prototype.read=function(e){b("read",e),void 0===e?e=NaN:o(e)||(e=a(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new D("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return b("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?X(this):K(this),null;if(0===(e=q(e,t))&&t.ended)return 0===t.length&&X(this),null;let i,n=t.needReadable;if(b("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,b("length less than watermark",n)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)n=!1,b("reading, ended or constructing",n);else if(n){b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(e){T(this,e)}t.sync=!1,t.reading||(e=q(r,t))}return i=e>0?Z(e,t):null,null===i?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&X(this)),null===i||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",i)),i},U.prototype._read=function(e){throw new Q("_read()")},U.prototype.pipe=function(e,t){const r=this,n=this._readableState;1===n.pipes.length&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new l(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),b("pipe count=%d opts=%j",n.pipes.length,t);const o=t&&!1===t.end||e===i.stdout||e===i.stderr?A:s;function s(){b("onend"),e.end()}let a;n.endEmitted?i.nextTick(o):r.once("end",o),e.on("unpipe",(function t(i,o){b("onunpipe"),i===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,b("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),a&&e.removeListener("drain",a),e.removeListener("error",d),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",A),r.removeListener("data",h),c=!0,a&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a())}));let c=!1;function u(){c||(1===n.pipes.length&&n.pipes[0]===e?(b("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(b("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),a||(a=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(b("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(b("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",a))}function h(t){b("ondata");const r=e.write(t);b("dest.write",r),!1===r&&u()}function d(t){if(b("onerror",t),A(),e.removeListener("error",d),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?T(e,t):e.emit("error",t)}}function f(){e.removeListener("finish",p),A()}function p(){b("onfinish"),e.removeListener("close",f),A()}function A(){b("unpipe"),r.unpipe(e)}return r.on("data",h),m(e,"error",d),e.once("close",f),e.once("finish",p),e.emit("pipe",r),!0===e.writableNeedDrain?n.flowing&&u():n.flowing||(b("pipe resume"),r.resume()),e},U.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=n(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},U.prototype.on=function(e,t){const r=g.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,b("on readable",n.length,n.reading),n.length?K(this):n.reading||i.nextTick(Y,this))),r},U.prototype.addListener=U.prototype.on,U.prototype.removeListener=function(e,t){const r=g.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(J,this),r},U.prototype.off=U.prototype.removeListener,U.prototype.removeAllListeners=function(e){const t=g.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(J,this),t},U.prototype.resume=function(){const e=this._readableState;return e.flowing||(b("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(V,e,t))}(this,e)),e[x]=!1,this},U.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[x]=!0,this},U.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{T(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let t=1;t<r.length;t++){const i=r[t];void 0===this[i]&&"function"==typeof e[i]&&(this[i]=e[i].bind(e))}return this},U.prototype[f]=function(){return W(this)},U.prototype.iterator=function(e){return void 0!==e&&P(e,"options"),W(this,e)},c(U.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(N.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[x]},set(e){this[x]=!!e}}}),U._fromList=Z,U.from=function(e,t){return R(U,e,t)},U.fromWeb=function(e,t){return ie().newStreamReadableFromReadableStream(e,t)},U.toWeb=function(e,t){return ie().newReadableStreamFromStreamReadable(e,t)},U.wrap=function(e,t){var r,i;return new U({objectMode:null===(r=null!==(i=e.readableObjectMode)&&void 0!==i?i:e.objectMode)||void 0===r||r,...t,destroy(t,r){E.destroyer(e,t),r(t)}}).wrap(e)}},35105:(e,t,r)=>{"use strict";const{MathFloor:i,NumberIsInteger:n}=r(78996),{ERR_INVALID_ARG_VALUE:o}=r(52446).codes;function s(e){return e?16:16384}e.exports={getHighWaterMark:function(e,t,r,a){const c=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,r);if(null!=c){if(!n(c)||c<0)throw new o(a?`options.${r}`:"options.highWaterMark",c);return i(c)}return s(e.objectMode)},getDefaultHighWaterMark:s}},3091:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:i,Symbol:n}=r(78996);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(52446).codes,s=r(866),{getHighWaterMark:a}=r(35105);i(u.prototype,s.prototype),i(u,s);const c=n("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function h(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function d(){this._final!==h&&h.call(this)}u.prototype._final=h,u.prototype._transform=function(e,t,r){throw new o("_transform()")},u.prototype._write=function(e,t,r){const i=this._readableState,n=this._writableState,o=i.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),n.ended||o===i.length||i.length<i.highWaterMark?r():this[c]=r)}))},u.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},96654:(e,t,r)=>{"use strict";const{Symbol:i,SymbolAsyncIterator:n,SymbolIterator:o,SymbolFor:s}=r(78996),a=i("kDestroyed"),c=i("kIsErrored"),u=i("kIsReadable"),h=i("kIsDisturbed"),d=s("nodejs.webstream.isClosedPromise"),l=s("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function A(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!(!e||A(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function m(e){return!(!e||A(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function y(e){return!(!e||A(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function I(e){if(!A(e))return null;const t=e._writableState,r=e._readableState,i=t||r;return!!(e.destroyed||e[a]||null!=i&&i.destroyed)}function w(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function b(e,t){if(!f(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function v(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!I(e)&&f(e)&&e.readable&&!b(e)}function E(e){return"boolean"!=typeof(null==e?void 0:e.writable)?null:!I(e)&&p(e)&&e.writable&&!w(e)}function C(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function B(e){return"boolean"==typeof e._sent100&&C(e)}e.exports={kDestroyed:a,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[h])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:h,isErrored:function(e){var t,r,i,n,o,s,a,u,h,d;return!(!e||!(null!==(t=null!==(r=null!==(i=null!==(n=null!==(o=null!==(s=e[c])&&void 0!==s?s:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==n?n:null===(a=e._readableState)||void 0===a?void 0:a.errorEmitted)&&void 0!==i?i:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(h=e._readableState)||void 0===h?void 0:h.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:c,isReadable:v,kIsReadable:u,kIsClosedPromise:d,kControllerErrorFunction:l,isClosed:function(e){if(!A(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&C(e)?e._closed:null},isDestroyed:I,isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return A(e)?!(!I(e)&&(!1!==(null==t?void 0:t.readable)&&v(e)||!1!==(null==t?void 0:t.writable)&&E(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[o]:"function"==typeof e[n]||"function"==typeof e[o])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:b,isReadableErrored:function(e){var t,r;return A(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:A,isWebStream:function(e){return g(e)||m(e)||y(e)},isWritable:E,isWritableNodeStream:p,isWritableStream:m,isWritableEnded:w,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return A(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:B,willEmitClose:function(e){if(!A(e))return null;const t=e._writableState,r=e._readableState,i=t||r;return!i&&B(e)||!!(i&&i.autoDestroy&&i.emitClose&&!1===i.closed)},isTransformStream:y}},50402:(e,t,r)=>{const i=r(34155),{ArrayPrototypeSlice:n,Error:o,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:a,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:h,Symbol:d,SymbolHasInstance:l}=r(78996);e.exports=F,F.WritableState=P;const{EventEmitter:f}=r(17187),p=r(46391).Stream,{Buffer:A}=r(48764),g=r(27054),{addAbortSignal:m}=r(89757),{getHighWaterMark:y,getDefaultHighWaterMark:I}=r(35105),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:b,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:C,ERR_STREAM_ALREADY_FINISHED:B,ERR_STREAM_NULL_VALUES:S,ERR_STREAM_WRITE_AFTER_END:_,ERR_UNKNOWN_ENCODING:Q}=r(52446).codes,{errorOrDestroy:D}=g;function k(){}u(F.prototype,p.prototype),u(F,p);const M=d("kOnFinished");function P(e,t,i){"boolean"!=typeof i&&(i=t instanceof r(866)),this.objectMode=!(!e||!e.objectMode),i&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?y(this,e,"writableHighWaterMark",i):I(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const n=!(!e||!1!==e.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=N.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,x(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[M]=[]}function x(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function F(e){const t=this instanceof r(866);if(!t&&!s(F,this))return new F(e);this._writableState=new P(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),p.call(this,e),g.construct(this,(()=>{const e=this._writableState;e.writing||q(this,e),H(this,e)}))}function R(e,t,r,n){const o=e._writableState;if("function"==typeof r)n=r,r=o.defaultEncoding;else{if(r){if("buffer"!==r&&!A.isEncoding(r))throw new Q(r)}else r=o.defaultEncoding;"function"!=typeof n&&(n=k)}if(null===t)throw new S;if(!o.objectMode)if("string"==typeof t)!1!==o.decodeStrings&&(t=A.from(t,r),r="buffer");else if(t instanceof A)r="buffer";else{if(!p._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let s;return o.ending?s=new _:o.destroyed&&(s=new C("write")),s?(i.nextTick(n,s),D(e,s,!0),s):(o.pendingcb++,function(e,t,r,i,n){const o=t.objectMode?1:r.length;t.length+=o;const s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:i,callback:n}),t.allBuffers&&"buffer"!==i&&(t.allBuffers=!1),t.allNoop&&n!==k&&(t.allNoop=!1)):(t.writelen=o,t.writecb=n,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,o,t,r,n))}function O(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new C("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function T(e,t,r,i){--t.pendingcb,i(r),L(t),D(e,r)}function N(e,t){const r=e._writableState,n=r.sync,o=r.writecb;"function"==typeof o?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?i.nextTick(T,e,r,t,o):T(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&q(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},i.nextTick(U,r.afterWriteTickInfo)):j(e,r,1,o))):D(e,new v)}function U({stream:e,state:t,count:r,cb:i}){return t.afterWriteTickInfo=null,j(e,t,r,i)}function j(e,t,r,i){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,i();t.destroyed&&L(t),H(e,t)}function L(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:i,callback:n}=e.buffered[r],o=e.objectMode?1:i.length;e.length-=o,n(null!==(t=e.errored)&&void 0!==t?t:new C("write"))}const r=e[M].splice(0);for(let t=0;t<r.length;t++){var i;r[t](null!==(i=e.errored)&&void 0!==i?i:new C("end"))}x(e)}function q(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:i,objectMode:o}=t,s=r.length-i;if(!s)return;let a=i;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;const i=t.allNoop?k:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},o=t.allNoop&&0===a?r:n(r,a);o.allBuffers=t.allBuffers,O(e,t,!0,t.length,o,"",i),x(t)}else{do{const{chunk:i,encoding:n,callback:s}=r[a];r[a++]=null,O(e,t,!1,o?1:i.length,i,n,s)}while(a<r.length&&!t.writing);a===r.length?x(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function K(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function H(e,t,r){K(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function n(n){if(r)D(e,null!=n?n:v());else if(r=!0,t.pendingcb--,n){const r=t[M].splice(0);for(let e=0;e<r.length;e++)r[e](n);D(e,n,t.sync)}else K(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(G,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(e){n(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(r?(t.pendingcb++,i.nextTick(((e,t)=>{K(t)?G(e,t):t.pendingcb--}),e,t)):K(t)&&(t.pendingcb++,G(e,t))))}function G(e,t){t.pendingcb--,t.finished=!0;const r=t[M].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}P.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},a(P.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(F,l,{__proto__:null,value:function(e){return!!s(this,e)||this===F&&e&&e._writableState instanceof P}}),F.prototype.pipe=function(){D(this,new E)},F.prototype.write=function(e,t,r){return!0===R(this,e,t,r)},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||q(this,e))},F.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=h(e)),!A.isEncoding(e))throw new Q(e);return this._writableState.defaultEncoding=e,this},F.prototype._write=function(e,t,r){if(!this._writev)throw new b("_write()");this._writev([{chunk:e,encoding:t}],r)},F.prototype._writev=null,F.prototype.end=function(e,t,r){const n=this._writableState;let s;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=R(this,e,t);r instanceof o&&(s=r)}return n.corked&&(n.corked=1,this.uncork()),s||(n.errored||n.ending?n.finished?s=new B("end"):n.destroyed&&(s=new C("end")):(n.ending=!0,H(this,n,!0),n.ended=!0)),"function"==typeof r&&(s||n.finished?i.nextTick(r,s):n[M].push(r)),this},c(F.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const z=g.destroy;let J;function Y(){return void 0===J&&(J={}),J}F.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[M].length)&&i.nextTick(L,r),z.call(this,e,t),this},F.prototype._undestroy=g.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[f.captureRejectionSymbol]=function(e){this.destroy(e)},F.fromWeb=function(e,t){return Y().newStreamWritableFromWritableStream(e,t)},F.toWeb=function(e){return Y().newWritableStreamFromStreamWritable(e)}},57700:(e,t,r)=>{"use strict";const{ArrayIsArray:i,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:h,NumberParseInt:d,ObjectPrototypeHasOwnProperty:l,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:A,StringPrototypeTrim:g}=r(78996),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:y,ERR_INVALID_ARG_TYPE:I,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:b,ERR_UNKNOWN_SIGNAL:v}}=r(52446),{normalizeEncoding:E}=r(74009),{isAsyncFunction:C,isArrayBufferView:B}=r(74009).types,S={},_=/^[0-7]+$/,Q=m(((e,t,r=h,i=u)=>{if("number"!=typeof e)throw new I(t,"number",e);if(!a(e))throw new b(t,"an integer",e);if(e<r||e>i)throw new b(t,`>= ${r} && <= ${i}`,e)})),D=m(((e,t,r=-2147483648,i=2147483647)=>{if("number"!=typeof e)throw new I(t,"number",e);if(!a(e))throw new b(t,"an integer",e);if(e<r||e>i)throw new b(t,`>= ${r} && <= ${i}`,e)})),k=m(((e,t,r=!1)=>{if("number"!=typeof e)throw new I(t,"number",e);if(!a(e))throw new b(t,"an integer",e);const i=r?1:0,n=4294967295;if(e<i||e>n)throw new b(t,`>= ${i} && <= ${n}`,e)}));function M(e,t){if("string"!=typeof e)throw new I(t,"string",e)}const P=m(((e,t,r)=>{if(!n(r,e)){const i=o(s(r,(e=>"string"==typeof e?`'${e}'`:p(e))),", ");throw new w(t,e,"must be one of: "+i)}}));function x(e,t){if("boolean"!=typeof e)throw new I(t,"boolean",e)}function F(e,t,r){return null!=e&&l(e,t)?e[t]:r}const R=m(((e,t,r=null)=>{const n=F(r,"allowArray",!1),o=F(r,"allowFunction",!1);if(!F(r,"nullable",!1)&&null===e||!n&&i(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new I(t,"Object",e)})),O=m(((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new I(t,"a dictionary",e)})),T=m(((e,t,r=0)=>{if(!i(e))throw new I(t,"Array",e);if(e.length<r)throw new w(t,e,`must be longer than ${r}`)})),N=m(((e,t="buffer")=>{if(!B(e))throw new I(t,["Buffer","TypedArray","DataView"],e)})),U=m(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new I(t,"AbortSignal",e)})),j=m(((e,t)=>{if("function"!=typeof e)throw new I(t,"Function",e)})),L=m(((e,t)=>{if("function"!=typeof e||C(e))throw new I(t,"Function",e)})),q=m(((e,t)=>{if(void 0!==e)throw new I(t,"undefined",e)})),K=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function H(e,t){if(void 0===e||!f(K,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===f(_,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return k(e,t),e},validateArray:T,validateStringArray:function(e,t){T(e,t);for(let r=0;r<e.length;r++)M(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){T(e,t);for(let r=0;r<e.length;r++)x(e[r],`${t}[${r}]`)},validateBoolean:x,validateBuffer:N,validateDictionary:O,validateEncoding:function(e,t){const r=E(t),i=e.length;if("hex"===r&&i%2!=0)throw new w("encoding",t,`is invalid for data of length ${i}`)},validateFunction:j,validateInt32:D,validateInteger:Q,validateNumber:function(e,t,r=void 0,i){if("number"!=typeof e)throw new I(t,"number",e);if(null!=r&&e<r||null!=i&&e>i||(null!=r||null!=i)&&c(e))throw new b(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=i?" && ":""}${null!=i?`<= ${i}`:""}`,e)},validateObject:R,validateOneOf:P,validatePlainFunction:L,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new y(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(M(e,t),void 0===S[e]){if(void 0!==S[A(e)])throw new v(e+" (signals must use all capital letters)");throw new v(e)}},validateString:M,validateUint32:k,validateUndefined:q,validateUnion:function(e,t,r){if(!n(r,e))throw new I(t,`('${o(r,"|")}')`,e)},validateAbortSignal:U,validateLinkHeaderValue:function(e){if("string"==typeof e)return H(e,"hints"),e;if(i(e)){const t=e.length;let r="";if(0===t)return r;for(let i=0;i<t;i++){const n=e[i];H(n,"hints"),r+=n,i!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},38149:(e,t,r)=>{"use strict";const i=r(77754),n=r(44009),o=i.Readable.destroy;e.exports=i.Readable,e.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,e.exports._isUint8Array=i._isUint8Array,e.exports.isDisturbed=i.isDisturbed,e.exports.isErrored=i.isErrored,e.exports.isReadable=i.isReadable,e.exports.Readable=i.Readable,e.exports.Writable=i.Writable,e.exports.Duplex=i.Duplex,e.exports.Transform=i.Transform,e.exports.PassThrough=i.PassThrough,e.exports.addAbortSignal=i.addAbortSignal,e.exports.finished=i.finished,e.exports.destroy=i.destroy,e.exports.destroy=o,e.exports.pipeline=i.pipeline,e.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get:()=>n}),e.exports.Stream=i.Stream,e.exports.default=e.exports},52446:(e,t,r)=>{"use strict";const{format:i,inspect:n,AggregateError:o}=r(74009),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,h={};function d(e,t){if(!e)throw new h.ERR_INTERNAL_ASSERTION(t)}function l(e){let t="",r=e.length;const i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function f(e,t,r){r||(r=Error);class n extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return d(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const n=(t.match(/%[dfijoOs]/g)||[]).length;return d(n===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),0===r.length?t:i(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=e,n.prototype[a]=!0,h[e]=n}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class A extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new h.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",((e,t,r)=>{d("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let i="The ";e.endsWith(" argument")?i+=`${e} `:i+=`"${e}" ${e.includes(".")?"property":"argument"} `,i+="must be ";const o=[],s=[],a=[];for(const e of t)d("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?o.push(e.toLowerCase()):u.test(e)?s.push(e):(d("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(s.length>0){const e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:i+=`of type ${o[0]}`;break;case 2:i+=`one of type ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();i+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||a.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+=`an instance of ${s[0]}`;break;case 2:i+=`an instance of ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();i+=`an instance of ${s.join(", ")}, or ${e}`}}a.length>0&&(i+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(i+="an "),i+=`${a[0]}`;break;case 2:i+=`one of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();i+=`one of ${a.join(", ")}, or ${e}`}}if(null==r)i+=`. Received ${r}`;else if("function"==typeof r&&r.name)i+=`. Received function ${r.name}`;else if("object"==typeof r){var h;null!==(h=r.constructor)&&void 0!==h&&h.name?i+=`. Received an instance of ${r.constructor.name}`:i+=`. Received ${n(r,{depth:-1})}`}else{let e=n(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),i+=`. Received type ${typeof r} (${e})`}return i}),TypeError),f("ERR_INVALID_ARG_VALUE",((e,t,r="is invalid")=>{let i=n(t);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${i}`}),TypeError),f("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var i;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(i=r.constructor)&&void 0!==i&&i.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),f("ERR_MISSING_ARGS",((...e)=>{let t;d(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`}),TypeError),f("ERR_OUT_OF_RANGE",((e,t,r)=>{let i;return d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32?i=l(String(r)):"bigint"==typeof r?(i=String(r),(r>2n**32n||r<-(2n**32n))&&(i=l(i)),i+="n"):i=n(r),`The value of "${e}" is out of range. It must be ${t}. Received ${i}`}),RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:A,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new s([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:p,codes:h}},78996:e=>{"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Uint8Array}},74009:(e,t,r)=>{"use strict";const i=r(48764),n=Object.getPrototypeOf((async function(){})).constructor,o=globalThis.Blob||i.Blob,s=void 0!==o?function(e){return e instanceof o}:function(e){return!1};class a extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,i)=>{e=r,t=i})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e(((e,...i)=>e?r(e):t(...i)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,r]){const i=t.shift();return"f"===r?i.toFixed(6):"j"===r?JSON.stringify(i):"s"===r&&"object"==typeof i?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof n,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:s},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},77754:(e,t,r)=>{const{Buffer:i}=r(48764),{ObjectDefineProperty:n,ObjectKeys:o,ReflectApply:s}=r(78996),{promisify:{custom:a}}=r(74009),{streamReturningOperators:c,promiseReturningOperators:u}=r(81744),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=r(52446),d=r(1323),{pipeline:l}=r(7911),{destroyer:f}=r(27054),p=r(86456),A=r(44009),g=r(96654),m=e.exports=r(46391).Stream;m.isDisturbed=g.isDisturbed,m.isErrored=g.isErrored,m.isReadable=g.isReadable,m.Readable=r(8328);for(const w of o(c)){const b=c[w];function y(...e){if(new.target)throw h();return m.Readable.from(s(b,this,e))}n(y,"name",{__proto__:null,value:b.name}),n(y,"length",{__proto__:null,value:b.length}),n(m.Readable.prototype,w,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}for(const v of o(u)){const E=u[v];function y(...e){if(new.target)throw h();return s(E,this,e)}n(y,"name",{__proto__:null,value:E.name}),n(y,"length",{__proto__:null,value:E.length}),n(m.Readable.prototype,v,{__proto__:null,value:y,enumerable:!1,configurable:!0,writable:!0})}m.Writable=r(50402),m.Duplex=r(866),m.Transform=r(3091),m.PassThrough=r(26617),m.pipeline=l;const{addAbortSignal:I}=r(89757);m.addAbortSignal=I,m.finished=p,m.destroy=f,m.compose=d,n(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>A}),n(l,a,{__proto__:null,enumerable:!0,get:()=>A.pipeline}),n(p,a,{__proto__:null,enumerable:!0,get:()=>A.finished}),m.Stream=m,m._isUint8Array=function(e){return e instanceof Uint8Array},m._uint8ArrayToBuffer=function(e){return i.from(e.buffer,e.byteOffset,e.byteLength)}},44009:(e,t,r)=>{"use strict";const{ArrayPrototypePop:i,Promise:n}=r(78996),{isIterable:o,isNodeStream:s,isWebStream:a}=r(96654),{pipelineImpl:c}=r(7911),{finished:u}=r(86456);r(42830),e.exports={finished:u,pipeline:function(...e){return new n(((t,r)=>{let n,u;const h=e[e.length-1];if(h&&"object"==typeof h&&!s(h)&&!o(h)&&!a(h)){const t=i(e);n=t.signal,u=t.end}c(e,((e,i)=>{e?r(e):t(i)}),{signal:n,end:u})}))}}},28599:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},19464:(e,t,r)=>{"use strict";const{fromCallback:i}=r(16957),n=r(94473),{getCallback:o,getOptions:s}=r(92520),a=Symbol("promise"),c=Symbol("status"),u=Symbol("operations"),h=Symbol("finishClose"),d=Symbol("closeCallbacks");t.AbstractChainedBatch=class{constructor(e){if("object"!=typeof e||null===e)throw new TypeError("The first argument must be an abstract-level database, received "+(null===e?"null":typeof e));this[u]=[],this[d]=[],this[c]="open",this[h]=this[h].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[u].length}put(e,t,r){if("open"!==this[c])throw new n("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const i=this.db._checkKey(e)||this.db._checkValue(t);if(i)throw i;const o=r&&null!=r.sublevel?r.sublevel:this.db,s=r,a=o.keyEncoding(r&&r.keyEncoding),h=o.valueEncoding(r&&r.valueEncoding),d=a.format;r={...r,keyEncoding:d,valueEncoding:h.format},o!==this.db&&(r.sublevel=null);const l=o.prefixKey(a.encode(e),d),f=h.encode(t);return this._put(l,f,r),this[u].push({...s,type:"put",key:e,value:t}),this}_put(e,t,r){}del(e,t){if("open"!==this[c])throw new n("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const r=this.db._checkKey(e);if(r)throw r;const i=t&&null!=t.sublevel?t.sublevel:this.db,o=t,s=i.keyEncoding(t&&t.keyEncoding),a=s.format;return t={...t,keyEncoding:a},i!==this.db&&(t.sublevel=null),this._del(i.prefixKey(s.encode(e),a),t),this[u].push({...o,type:"del",key:e}),this}_del(e,t){}clear(){if("open"!==this[c])throw new n("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[u]=[],this}_clear(){}write(e,t){return t=o(e,t),t=i(t,a),e=s(e),"open"!==this[c]?this.nextTick(t,new n("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(t):(this[c]="writing",this._write(e,(e=>{this[c]="closing",this[d].push((()=>t(e))),e||this.db.emit("batch",this[u]),this._close(this[h])}))),t[a]}_write(e,t){}close(e){return e=i(e,a),"closing"===this[c]?this[d].push(e):"closed"===this[c]?this.nextTick(e):(this[d].push(e),"writing"!==this[c]&&(this[c]="closing",this._close(this[h]))),e[a]}_close(e){this.nextTick(e)}[h](){this[c]="closed",this.db.detachResource(this);const e=this[d];this[d]=[];for(const t of e)t()}}},33961:(e,t,r)=>{"use strict";const{fromCallback:i}=r(16957),n=r(94473),{getOptions:o,getCallback:s}=r(92520),a=Symbol("promise"),c=Symbol("callback"),u=Symbol("working"),h=Symbol("handleOne"),d=Symbol("handleMany"),l=Symbol("autoClose"),f=Symbol("finishWork"),p=Symbol("returnMany"),A=Symbol("closing"),g=Symbol("handleClose"),m=Symbol("closed"),y=Symbol("closeCallbacks"),I=Symbol("keyEncoding"),w=Symbol("valueEncoding"),b=Symbol("abortOnClose"),v=Symbol("legacy"),E=Symbol("keys"),C=Symbol("values"),B=Symbol("limit"),S=Symbol("count"),_=Object.freeze({}),Q=()=>{};let D=!1;class k{constructor(e,t,r){if("object"!=typeof e||null===e)throw new TypeError("The first argument must be an abstract-level database, received "+(null===e?"null":typeof e));if("object"!=typeof t||null===t)throw new TypeError("The second argument must be an options object");this[m]=!1,this[y]=[],this[u]=!1,this[A]=!1,this[l]=!1,this[c]=null,this[h]=this[h].bind(this),this[d]=this[d].bind(this),this[g]=this[g].bind(this),this[I]=t[I],this[w]=t[w],this[v]=r,this[B]=Number.isInteger(t.limit)&&t.limit>=0?t.limit:1/0,this[S]=0,this[b]=!!t.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[S]}get limit(){return this[B]}next(e){let t;if(void 0===e)t=new Promise(((t,r)=>{e=(e,i,n)=>{e?r(e):this[v]?void 0===i&&void 0===n?t():t([i,n]):t(i)}}));else if("function"!=typeof e)throw new TypeError("Callback must be a function");return this[A]?this.nextTick(e,new n("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[u]?this.nextTick(e,new n("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[u]=!0,this[c]=e,this[S]>=this[B]?this.nextTick(this[h],null):this._next(this[h])),t}_next(e){this.nextTick(e)}nextv(e,t,r){return r=s(t,r),r=i(r,a),t=o(t,_),Number.isInteger(e)?(this[A]?this.nextTick(r,new n("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[u]?this.nextTick(r,new n("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[B]<1/0&&(e=Math.min(e,this[B]-this[S])),this[u]=!0,this[c]=r,e<=0?this.nextTick(this[d],null,[]):this._nextv(e,t,this[d])),r[a]):(this.nextTick(r,new TypeError("The first argument 'size' must be an integer")),r[a])}_nextv(e,t,r){const i=[],n=(t,o,s)=>t?r(t):(this[v]?void 0===o&&void 0===s:void 0===o)?r(null,i):(i.push(this[v]?[o,s]:o),void(i.length===e?r(null,i):this._next(n)));this._next(n)}all(e,t){return t=s(e,t),t=i(t,a),e=o(e,_),this[A]?this.nextTick(t,new n("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[u]?this.nextTick(t,new n("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[u]=!0,this[c]=t,this[l]=!0,this[S]>=this[B]?this.nextTick(this[d],null,[]):this._all(e,this[d])),t[a]}_all(e,t){let r=this[S];const i=[],n=()=>{const e=this[B]<1/0?Math.min(1e3,this[B]-r):1e3;e<=0?this.nextTick(t,null,i):this._nextv(e,_,o)},o=(e,o)=>{e?t(e):0===o.length?t(null,i):(i.push.apply(i,o),r+=o.length,n())};n()}[f](){const e=this[c];return this[b]&&null===e?Q:(this[u]=!1,this[c]=null,this[A]&&this._close(this[g]),e)}[p](e,t,r){this[l]?this.close(e.bind(null,t,r)):e(t,r)}seek(e,t){if(t=o(t,_),this[A]);else{if(this[u])throw new n("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const r=this.db.keyEncoding(t.keyEncoding||this[I]),i=r.format;t.keyEncoding!==i&&(t={...t,keyEncoding:i});const n=this.db.prefixKey(r.encode(e),i);this._seek(n,t)}}}_seek(e,t){throw new n("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=i(e,a),this[m]?this.nextTick(e):this[A]?this[y].push(e):(this[A]=!0,this[y].push(e),this[u]?this[b]&&this[f]()(new n("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[g])),e[a]}_close(e){this.nextTick(e)}[g](){this[m]=!0,this.db.detachResource(this);const e=this[y];this[y]=[];for(const t of e)t()}async*[Symbol.asyncIterator](){try{let e;for(;void 0!==(e=await this.next());)yield e}finally{this[m]||await this.close()}}}class M extends k{constructor(e,t){super(e,t,!0),this[E]=!1!==t.keys,this[C]=!1!==t.values}[h](e,t,r){const i=this[f]();if(e)return i(e);try{t=this[E]&&void 0!==t?this[I].decode(t):void 0,r=this[C]&&void 0!==r?this[w].decode(r):void 0}catch(e){return i(new P("entry",e))}void 0===t&&void 0===r||this[S]++,i(null,t,r)}[d](e,t){const r=this[f]();if(e)return this[p](r,e);try{for(const e of t){const t=e[0],r=e[1];e[0]=this[E]&&void 0!==t?this[I].decode(t):void 0,e[1]=this[C]&&void 0!==r?this[w].decode(r):void 0}}catch(e){return this[p](r,new P("entries",e))}this[S]+=t.length,this[p](r,null,t)}end(e){return D||"undefined"==typeof console||(D=!0,console.warn(new n("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}}class P extends n{constructor(e,t){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:t})}}for(const e of["_ended property","_nexting property","_end method"])Object.defineProperty(M.prototype,e.split(" ")[0],{get(){throw new n(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new n(`The ${e} has been removed`,{code:"LEVEL_LEGACY"})}});M.keyEncoding=I,M.valueEncoding=w,t.AbstractIterator=M,t.AbstractKeyIterator=class extends k{constructor(e,t){super(e,t,!1)}[h](e,t){const r=this[f]();if(e)return r(e);try{t=void 0!==t?this[I].decode(t):void 0}catch(e){return r(new P("key",e))}void 0!==t&&this[S]++,r(null,t)}[d](e,t){const r=this[f]();if(e)return this[p](r,e);try{for(let e=0;e<t.length;e++){const r=t[e];t[e]=void 0!==r?this[I].decode(r):void 0}}catch(e){return this[p](r,new P("keys",e))}this[S]+=t.length,this[p](r,null,t)}},t.AbstractValueIterator=class extends k{constructor(e,t){super(e,t,!1)}[h](e,t){const r=this[f]();if(e)return r(e);try{t=void 0!==t?this[w].decode(t):void 0}catch(e){return r(new P("value",e))}void 0!==t&&this[S]++,r(null,t)}[d](e,t){const r=this[f]();if(e)return this[p](r,e);try{for(let e=0;e<t.length;e++){const r=t[e];t[e]=void 0!==r?this[w].decode(r):void 0}}catch(e){return this[p](r,new P("values",e))}this[S]+=t.length,this[p](r,null,t)}}},69071:(e,t,r)=>{"use strict";const{supports:i}=r(51675),{Transcoder:n}=r(58499),{EventEmitter:o}=r(17187),{fromCallback:s}=r(16957),a=r(94473),{AbstractIterator:c}=r(33961),{DefaultKeyIterator:u,DefaultValueIterator:h}=r(95429),{DeferredIterator:d,DeferredKeyIterator:l,DeferredValueIterator:f}=r(30593),{DefaultChainedBatch:p}=r(4765),{getCallback:A,getOptions:g}=r(92520),m=r(70056),y=Symbol("promise"),I=Symbol("landed"),w=Symbol("resources"),b=Symbol("closeResources"),v=Symbol("operations"),E=Symbol("undefer"),C=Symbol("deferOpen"),B=Symbol("options"),S=Symbol("status"),_=Symbol("defaultOptions"),Q=Symbol("transcoder"),D=Symbol("keyEncoding"),k=Symbol("valueEncoding"),M=()=>{};class P extends o{constructor(e,t){if(super(),"object"!=typeof e||null===e)throw new TypeError("The first argument 'manifest' must be an object");t=g(t);const{keyEncoding:r,valueEncoding:o,passive:s,...a}=t;this[w]=new Set,this[v]=[],this[C]=!0,this[B]=a,this[S]="opening",this.supports=i(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==e.snapshots,permanence:!1!==e.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Q]=new n(R(this)),this[D]=this[Q].encoding(r||"utf8"),this[k]=this[Q].encoding(o||"utf8");for(const e of this[Q].encodings())this.supports.encodings[e.commonName]||(this.supports.encodings[e.commonName]=!0);this[_]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[D].commonName,valueEncoding:this[k].commonName}),key:Object.freeze({keyEncoding:this[D].commonName})},this.nextTick((()=>{this[C]&&this.open({passive:!1},M)}))}get status(){return this[S]}keyEncoding(e){return this[Q].encoding(null!=e?e:this[D])}valueEncoding(e){return this[Q].encoding(null!=e?e:this[k])}open(e,t){t=A(e,t),t=s(t,y),(e={...this[B],...g(e)}).createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists;const r=e=>{"closing"===this[S]||"opening"===this[S]?this.once(I,e?()=>r(e):r):"open"!==this[S]?t(new a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:e})):t()};return e.passive?"opening"===this[S]?this.once(I,r):this.nextTick(r):"closed"===this[S]||this[C]?(this[C]=!1,this[S]="opening",this.emit("opening"),this._open(e,(e=>{if(e)return this[S]="closed",this[b]((()=>{this.emit(I),r(e)})),void this[E]();this[S]="open",this[E](),this.emit(I),"open"===this[S]&&this.emit("open"),"open"===this[S]&&this.emit("ready"),r()}))):"open"===this[S]?this.nextTick(r):this.once(I,(()=>this.open(e,t))),t[y]}_open(e,t){this.nextTick(t)}close(e){e=s(e,y);const t=r=>{"opening"===this[S]||"closing"===this[S]?this.once(I,r?t(r):t):"closed"!==this[S]?e(new a("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:r})):e()};if("open"===this[S]){this[S]="closing",this.emit("closing");const e=e=>{this[S]="open",this[E](),this.emit(I),t(e)};this[b]((()=>{this._close((r=>{if(r)return e(r);this[S]="closed",this[E](),this.emit(I),"closed"===this[S]&&this.emit("closed"),t()}))}))}else"closed"===this[S]?this.nextTick(t):this.once(I,(()=>this.close(e)));return e[y]}[b](e){if(0===this[w].size)return this.nextTick(e);let t=this[w].size,r=!0;const i=()=>{0==--t&&(r?this.nextTick(e):e())};for(const e of this[w])e.close(i);r=!1,this[w].clear()}_close(e){this.nextTick(e)}get(e,t,r){if(r=A(t,r),r=s(r,y),t=g(t,this[_].entry),"opening"===this[S])return this.defer((()=>this.get(e,t,r))),r[y];if(F(this,r))return r[y];const i=this._checkKey(e);if(i)return this.nextTick(r,i),r[y];const n=this.keyEncoding(t.keyEncoding),o=this.valueEncoding(t.valueEncoding),c=n.format,u=o.format;return t.keyEncoding===c&&t.valueEncoding===u||(t=Object.assign({},t,{keyEncoding:c,valueEncoding:u})),this._get(this.prefixKey(n.encode(e),c),t,((e,t)=>{if(e)return("LEVEL_NOT_FOUND"===e.code||e.notFound||/NotFound/i.test(e))&&(e.code||(e.code="LEVEL_NOT_FOUND"),e.notFound||(e.notFound=!0),e.status||(e.status=404)),r(e);try{t=o.decode(t)}catch(e){return r(new a("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:e}))}r(null,t)})),r[y]}_get(e,t,r){this.nextTick(r,new Error("NotFound"))}getMany(e,t,r){if(r=A(t,r),r=s(r,y),t=g(t,this[_].entry),"opening"===this[S])return this.defer((()=>this.getMany(e,t,r))),r[y];if(F(this,r))return r[y];if(!Array.isArray(e))return this.nextTick(r,new TypeError("The first argument 'keys' must be an array")),r[y];if(0===e.length)return this.nextTick(r,null,[]),r[y];const i=this.keyEncoding(t.keyEncoding),n=this.valueEncoding(t.valueEncoding),o=i.format,c=n.format;t.keyEncoding===o&&t.valueEncoding===c||(t=Object.assign({},t,{keyEncoding:o,valueEncoding:c}));const u=new Array(e.length);for(let t=0;t<e.length;t++){const n=e[t],s=this._checkKey(n);if(s)return this.nextTick(r,s),r[y];u[t]=this.prefixKey(i.encode(n),o)}return this._getMany(u,t,((e,t)=>{if(e)return r(e);try{for(let e=0;e<t.length;e++)void 0!==t[e]&&(t[e]=n.decode(t[e]))}catch(e){return r(new a(`Could not decode one or more of ${t.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:e}))}r(null,t)})),r[y]}_getMany(e,t,r){this.nextTick(r,null,new Array(e.length).fill(void 0))}put(e,t,r,i){if(i=A(r,i),i=s(i,y),r=g(r,this[_].entry),"opening"===this[S])return this.defer((()=>this.put(e,t,r,i))),i[y];if(F(this,i))return i[y];const n=this._checkKey(e)||this._checkValue(t);if(n)return this.nextTick(i,n),i[y];const o=this.keyEncoding(r.keyEncoding),a=this.valueEncoding(r.valueEncoding),c=o.format,u=a.format;r.keyEncoding===c&&r.valueEncoding===u||(r=Object.assign({},r,{keyEncoding:c,valueEncoding:u}));const h=this.prefixKey(o.encode(e),c),d=a.encode(t);return this._put(h,d,r,(r=>{if(r)return i(r);this.emit("put",e,t),i()})),i[y]}_put(e,t,r,i){this.nextTick(i)}del(e,t,r){if(r=A(t,r),r=s(r,y),t=g(t,this[_].key),"opening"===this[S])return this.defer((()=>this.del(e,t,r))),r[y];if(F(this,r))return r[y];const i=this._checkKey(e);if(i)return this.nextTick(r,i),r[y];const n=this.keyEncoding(t.keyEncoding),o=n.format;return t.keyEncoding!==o&&(t=Object.assign({},t,{keyEncoding:o})),this._del(this.prefixKey(n.encode(e),o),t,(t=>{if(t)return r(t);this.emit("del",e),r()})),r[y]}_del(e,t,r){this.nextTick(r)}batch(e,t,r){if(!arguments.length){if("opening"===this[S])return new p(this);if("open"!==this[S])throw new a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(r="function"==typeof e?e:A(t,r),r=s(r,y),t=g(t,this[_].empty),"opening"===this[S])return this.defer((()=>this.batch(e,t,r))),r[y];if(F(this,r))return r[y];if(!Array.isArray(e))return this.nextTick(r,new TypeError("The first argument 'operations' must be an array")),r[y];if(0===e.length)return this.nextTick(r),r[y];const i=new Array(e.length),{keyEncoding:n,valueEncoding:o,...c}=t;for(let t=0;t<e.length;t++){if("object"!=typeof e[t]||null===e[t])return this.nextTick(r,new TypeError("A batch operation must be an object")),r[y];const s=Object.assign({},e[t]);if("put"!==s.type&&"del"!==s.type)return this.nextTick(r,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),r[y];const a=this._checkKey(s.key);if(a)return this.nextTick(r,a),r[y];const c=null!=s.sublevel?s.sublevel:this,u=c.keyEncoding(s.keyEncoding||n),h=u.format;if(s.key=c.prefixKey(u.encode(s.key),h),s.keyEncoding=h,"put"===s.type){const e=this._checkValue(s.value);if(e)return this.nextTick(r,e),r[y];const t=c.valueEncoding(s.valueEncoding||o);s.value=t.encode(s.value),s.valueEncoding=t.format}c!==this&&(s.sublevel=null),i[t]=s}return this._batch(i,c,(t=>{if(t)return r(t);this.emit("batch",e),r()})),r[y]}_batch(e,t,r){this.nextTick(r)}sublevel(e,t){return this._sublevel(e,x.defaults(t))}_sublevel(e,t){return new x(this,e,t)}prefixKey(e,t){return e}clear(e,t){if(t=A(e,t),t=s(t,y),e=g(e,this[_].empty),"opening"===this[S])return this.defer((()=>this.clear(e,t))),t[y];if(F(this,t))return t[y];const r=e,i=this.keyEncoding(e.keyEncoding);return(e=m(e,i)).keyEncoding=i.format,0===e.limit?this.nextTick(t):this._clear(e,(e=>{if(e)return t(e);this.emit("clear",r),t()})),t[y]}_clear(e,t){this.nextTick(t)}iterator(e){const t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=m(e,t)).keys=!1!==e.keys,e.values=!1!==e.values,e[c.keyEncoding]=t,e[c.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[S])return new d(this,e);if("open"!==this[S])throw new a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new c(this,e)}keys(e){const t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=m(e,t))[c.keyEncoding]=t,e[c.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[S])return new l(this,e);if("open"!==this[S])throw new a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new u(this,e)}values(e){const t=this.keyEncoding(e&&e.keyEncoding),r=this.valueEncoding(e&&e.valueEncoding);if((e=m(e,t))[c.keyEncoding]=t,e[c.valueEncoding]=r,e.keyEncoding=t.format,e.valueEncoding=r.format,"opening"===this[S])return new f(this,e);if("open"!==this[S])throw new a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new h(this,e)}defer(e){if("function"!=typeof e)throw new TypeError("The first argument must be a function");this[v].push(e)}[E](){if(0===this[v].length)return;const e=this[v];this[v]=[];for(const t of e)t()}attachResource(e){if("object"!=typeof e||null===e||"function"!=typeof e.close)throw new TypeError("The first argument must be a resource object");this[w].add(e)}detachResource(e){this[w].delete(e)}_chainedBatch(){return new p(this)}_checkKey(e){if(null==e)return new a("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(null==e)return new a("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}P.prototype.nextTick=r(56909);const{AbstractSublevel:x}=r(59650)({AbstractLevel:P});t.AbstractLevel=P,t.AbstractSublevel=x;const F=function(e,t){return"open"!==e[S]&&(e.nextTick(t,new a("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},R=function(e){return Object.keys(e.supports.encodings).filter((t=>!!e.supports.encodings[t]))}},50875:(e,t,r)=>{"use strict";t.AbstractLevel=r(69071).AbstractLevel,t.AbstractSublevel=r(69071).AbstractSublevel,t.AbstractIterator=r(33961).AbstractIterator,t.AbstractKeyIterator=r(33961).AbstractKeyIterator,t.AbstractValueIterator=r(33961).AbstractValueIterator,t.AbstractChainedBatch=r(19464).AbstractChainedBatch},82970:(e,t,r)=>{"use strict";const{AbstractIterator:i,AbstractKeyIterator:n,AbstractValueIterator:o}=r(33961),s=Symbol("unfix"),a=Symbol("iterator"),c=Symbol("handleOne"),u=Symbol("handleMany"),h=Symbol("callback");class d extends i{constructor(e,t,r,i){super(e,t),this[a]=r,this[s]=i,this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[h]=null}[c](e,t,r){const i=this[h];if(e)return i(e);void 0!==t&&(t=this[s](t)),i(e,t,r)}[u](e,t){const r=this[h];if(e)return r(e);for(const e of t){const t=e[0];void 0!==t&&(e[0]=this[s](t))}r(e,t)}}class l extends n{constructor(e,t,r,i){super(e,t),this[a]=r,this[s]=i,this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[h]=null}[c](e,t){const r=this[h];if(e)return r(e);void 0!==t&&(t=this[s](t)),r(e,t)}[u](e,t){const r=this[h];if(e)return r(e);for(let e=0;e<t.length;e++){const r=t[e];void 0!==r&&(t[e]=this[s](r))}r(e,t)}}class f extends o{constructor(e,t,r){super(e,t),this[a]=r}}for(const e of[d,l])e.prototype._next=function(e){this[h]=e,this[a].next(this[c])},e.prototype._nextv=function(e,t,r){this[h]=r,this[a].nextv(e,t,this[u])},e.prototype._all=function(e,t){this[h]=t,this[a].all(e,this[u])};for(const e of[f])e.prototype._next=function(e){this[a].next(e)},e.prototype._nextv=function(e,t,r){this[a].nextv(e,t,r)},e.prototype._all=function(e,t){this[a].all(e,t)};for(const e of[d,l,f])e.prototype._seek=function(e,t){this[a].seek(e,t)},e.prototype._close=function(e){this[a].close(e)};t.AbstractSublevelIterator=d,t.AbstractSublevelKeyIterator=l,t.AbstractSublevelValueIterator=f},59650:(e,t,r)=>{"use strict";const i=r(94473),{Buffer:n}=r(48764)||{},{AbstractSublevelIterator:o,AbstractSublevelKeyIterator:s,AbstractSublevelValueIterator:a}=r(82970),c=Symbol("prefix"),u=Symbol("upperBound"),h=Symbol("prefixRange"),d=Symbol("parent"),l=Symbol("unfix"),f=new TextEncoder,p={separator:"!"};e.exports=function({AbstractLevel:e}){class t extends e{static defaults(e){if("string"==typeof e)throw new i("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(e&&e.open)throw new i("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==e?p:e.separator?e:{...e,separator:"!"}}constructor(e,r,n){const{separator:o,manifest:s,...a}=t.defaults(n);r=I(r,o);const h=o.charCodeAt(0)+1,p=e[d]||e;if(!f.encode(r).every((e=>e>h&&e<127)))throw new i(`Prefix must use bytes > ${h} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(A(p,s),a);const g=(e.prefix||"")+o+r+o,w=g.slice(0,-1)+String.fromCharCode(h);this[d]=p,this[c]=new m(g),this[u]=new m(w),this[l]=new y,this.nextTick=p.nextTick}prefixKey(e,t){if("utf8"===t)return this[c].utf8+e;if(0===e.byteLength)return this[c][t];if("view"===t){const t=this[c].view,r=new Uint8Array(t.byteLength+e.byteLength);return r.set(t,0),r.set(e,t.byteLength),r}{const t=this[c].buffer;return n.concat([t,e],t.byteLength+e.byteLength)}}[h](e,t){void 0!==e.gte?e.gte=this.prefixKey(e.gte,t):void 0!==e.gt?e.gt=this.prefixKey(e.gt,t):e.gte=this[c][t],void 0!==e.lte?e.lte=this.prefixKey(e.lte,t):void 0!==e.lt?e.lt=this.prefixKey(e.lt,t):e.lte=this[u][t]}get prefix(){return this[c].utf8}get db(){return this[d]}_open(e,t){this[d].open({passive:!0},t)}_put(e,t,r,i){this[d].put(e,t,r,i)}_get(e,t,r){this[d].get(e,t,r)}_getMany(e,t,r){this[d].getMany(e,t,r)}_del(e,t,r){this[d].del(e,t,r)}_batch(e,t,r){this[d].batch(e,t,r)}_clear(e,t){this[h](e,e.keyEncoding),this[d].clear(e,t)}_iterator(e){this[h](e,e.keyEncoding);const t=this[d].iterator(e),r=this[l].get(this[c].utf8.length,e.keyEncoding);return new o(this,e,t,r)}_keys(e){this[h](e,e.keyEncoding);const t=this[d].keys(e),r=this[l].get(this[c].utf8.length,e.keyEncoding);return new s(this,e,t,r)}_values(e){this[h](e,e.keyEncoding);const t=this[d].values(e);return new a(this,e,t)}}return{AbstractSublevel:t}};const A=function(e,t){return{...e.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...t,encodings:{utf8:g(e,"utf8"),buffer:g(e,"buffer"),view:g(e,"view")}}},g=function(e,t){return!!e.supports.encodings[t]&&e.keyEncoding(t).name===t};class m{constructor(e){this.utf8=e,this.view=f.encode(e),this.buffer=n?n.from(this.view.buffer,0,this.view.byteLength):{}}}class y{constructor(){this.cache=new Map}get(e,t){let r=this.cache.get(t);return void 0===r&&(r="view"===t?function(e,t){return t.subarray(e)}.bind(null,e):function(e,t){return t.slice(e)}.bind(null,e),this.cache.set(t,r)),r}}const I=function(e,t){let r=0,i=e.length;for(;r<i&&e[r]===t;)r++;for(;i>r&&e[i-1]===t;)i--;return e.slice(r,i)}},92520:(e,t)=>{"use strict";t.getCallback=function(e,t){return"function"==typeof e?e:t},t.getOptions=function(e,t){return"object"==typeof e&&null!==e?e:void 0!==t?t:{}}},4765:(e,t,r)=>{"use strict";const{AbstractChainedBatch:i}=r(19464),n=r(94473),o=Symbol("encoded");t.DefaultChainedBatch=class extends i{constructor(e){super(e),this[o]=[]}_put(e,t,r){this[o].push({...r,type:"put",key:e,value:t})}_del(e,t){this[o].push({...t,type:"del",key:e})}_clear(){this[o]=[]}_write(e,t){"opening"===this.db.status?this.db.defer((()=>this._write(e,t))):"open"===this.db.status?0===this[o].length?this.nextTick(t):this.db._batch(this[o],e,t):this.nextTick(t,new n("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},95429:(e,t,r)=>{"use strict";const{AbstractKeyIterator:i,AbstractValueIterator:n}=r(33961),o=Symbol("iterator"),s=Symbol("callback"),a=Symbol("handleOne"),c=Symbol("handleMany");class u extends i{constructor(e,t){super(e,t),this[o]=e.iterator({...t,keys:!0,values:!1}),this[a]=this[a].bind(this),this[c]=this[c].bind(this)}}class h extends n{constructor(e,t){super(e,t),this[o]=e.iterator({...t,keys:!1,values:!0}),this[a]=this[a].bind(this),this[c]=this[c].bind(this)}}for(const e of[u,h]){const t=e===u,r=t?e=>e[0]:e=>e[1];e.prototype._next=function(e){this[s]=e,this[o].next(this[a])},e.prototype[a]=function(e,r,i){const n=this[s];e?n(e):n(null,t?r:i)},e.prototype._nextv=function(e,t,r){this[s]=r,this[o].nextv(e,t,this[c])},e.prototype._all=function(e,t){this[s]=t,this[o].all(e,this[c])},e.prototype[c]=function(e,t){const i=this[s];e?i(e):i(null,t.map(r))},e.prototype._seek=function(e,t){this[o].seek(e,t)},e.prototype._close=function(e){this[o].close(e)}}t.DefaultKeyIterator=u,t.DefaultValueIterator=h},30593:(e,t,r)=>{"use strict";const{AbstractIterator:i,AbstractKeyIterator:n,AbstractValueIterator:o}=r(33961),s=r(94473),a=Symbol("nut"),c=Symbol("undefer"),u=Symbol("factory");class h extends i{constructor(e,t){super(e,t),this[a]=null,this[u]=()=>e.iterator(t),this.db.defer((()=>this[c]()))}}class d extends n{constructor(e,t){super(e,t),this[a]=null,this[u]=()=>e.keys(t),this.db.defer((()=>this[c]()))}}class l extends o{constructor(e,t){super(e,t),this[a]=null,this[u]=()=>e.values(t),this.db.defer((()=>this[c]()))}}for(const e of[h,d,l])e.prototype[c]=function(){"open"===this.db.status&&(this[a]=this[u]())},e.prototype._next=function(e){null!==this[a]?this[a].next(e):"opening"===this.db.status?this.db.defer((()=>this._next(e))):this.nextTick(e,new s("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._nextv=function(e,t,r){null!==this[a]?this[a].nextv(e,t,r):"opening"===this.db.status?this.db.defer((()=>this._nextv(e,t,r))):this.nextTick(r,new s("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._all=function(e,t){null!==this[a]?this[a].all(t):"opening"===this.db.status?this.db.defer((()=>this._all(e,t))):this.nextTick(t,new s("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},e.prototype._seek=function(e,t){null!==this[a]?this[a]._seek(e,t):"opening"===this.db.status&&this.db.defer((()=>this._seek(e,t)))},e.prototype._close=function(e){null!==this[a]?this[a].close(e):"opening"===this.db.status?this.db.defer((()=>this._close(e))):this.nextTick(e)};t.DeferredIterator=h,t.DeferredKeyIterator=d,t.DeferredValueIterator=l},56909:(e,t,r)=>{"use strict";const i=r(54375);e.exports=function(e,...t){0===t.length?i(e):i((()=>e(...t)))}},70056:(e,t,r)=>{"use strict";const i=r(94473),n=Object.prototype.hasOwnProperty,o=new Set(["lt","lte","gt","gte"]);e.exports=function(e,t){const r={};for(const s in e)if(n.call(e,s)&&"keyEncoding"!==s&&"valueEncoding"!==s){if("start"===s||"end"===s)throw new i(`The legacy range option '${s}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===s)throw new i("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});o.has(s)?r[s]=t.encode(e[s]):r[s]=e[s]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}},16870:(e,t)=>{"use strict";function r(e,t){return{validate:e,compare:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0,t.fullFormats={date:r(o,s),time:r(c,u),"date-time":r((function(e){const t=e.split(h);return 2===t.length&&o(t[0])&&c(t[1],!0)}),d),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function(e){return l.test(e)&&f.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function(e){return p.lastIndex=0,p.test(e)},int32:{type:"number",validate:function(e){return Number.isInteger(e)&&e<=g&&e>=A}},int64:{type:"number",validate:function(e){return Number.isInteger(e)}},float:{type:"number",validate:m},double:{type:"number",validate:m},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:r(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:r(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":r(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);const i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,n=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(e){const t=i.exec(e);if(!t)return!1;const r=+t[1],o=+t[2],s=+t[3];return o>=1&&o<=12&&s>=1&&s<=(2===o&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:n[o])}function s(e,t){if(e&&t)return e>t?1:e<t?-1:0}const a=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function c(e,t){const r=a.exec(e);if(!r)return!1;const i=+r[1],n=+r[2],o=+r[3],s=r[5];return(i<=23&&n<=59&&o<=59||23===i&&59===n&&60===o)&&(!t||""!==s)}function u(e,t){if(!e||!t)return;const r=a.exec(e),i=a.exec(t);return r&&i?(e=r[1]+r[2]+r[3]+(r[4]||""))>(t=i[1]+i[2]+i[3]+(i[4]||""))?1:e<t?-1:0:void 0}const h=/t|\s/i;function d(e,t){if(!e||!t)return;const[r,i]=e.split(h),[n,o]=t.split(h),a=s(r,n);return void 0!==a?a||u(i,o):void 0}const l=/\/|:/,f=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,A=-(2**31),g=2**31-1;function m(){return!0}const y=/[^\\]\\Z/},5477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(16870),n=r(57963),o=r(93487),s=new o.Name("fullFormats"),a=new o.Name("fastFormats"),c=(e,t={keywords:!0})=>{if(Array.isArray(t))return u(e,t,i.fullFormats,s),e;const[r,o]="fast"===t.mode?[i.fastFormats,a]:[i.fullFormats,s];return u(e,t.formats||i.formatNames,r,o),t.keywords&&n.default(e),e};function u(e,t,r,i){var n,s;null!==(n=(s=e.opts.code).formats)&&void 0!==n||(s.formats=o._`require("ajv-formats/dist/formats").${i}`);for(const i of t)e.addFormat(i,r[i])}c.get=(e,t="full")=>{const r=("fast"===t?i.fastFormats:i.fullFormats)[e];if(!r)throw new Error(`Unknown format "${e}"`);return r},e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c},57963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const i=r(1581),n=r(93487),o=n.operators,s={formatMaximum:{okStr:"<=",ok:o.LTE,fail:o.GT},formatMinimum:{okStr:">=",ok:o.GTE,fail:o.LT},formatExclusiveMaximum:{okStr:"<",ok:o.LT,fail:o.GTE},formatExclusiveMinimum:{okStr:">",ok:o.GT,fail:o.LTE}},a={message:({keyword:e,schemaCode:t})=>n.str`should be ${s[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${s[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:a,code(e){const{gen:t,data:r,schemaCode:o,keyword:a,it:c}=e,{opts:u,self:h}=c;if(!u.validateFormats)return;const d=new i.KeywordCxt(c,h.RULES.all.format.definition,"format");function l(e){return n._`${e}.compare(${r}, ${o}) ${s[a].fail} 0`}d.$data?function(){const r=t.scopeValue("formats",{ref:h.formats,code:u.code.formats}),i=t.const("fmt",n._`${r}[${d.schemaCode}]`);e.fail$data(n.or(n._`typeof ${i} != "object"`,n._`${i} instanceof RegExp`,n._`typeof ${i}.compare != "function"`,l(i)))}():function(){const r=d.schema,i=h.formats[r];if(!i||!0===i)return;if("object"!=typeof i||i instanceof RegExp||"function"!=typeof i.compare)throw new Error(`"${a}": format "${r}" does not define "compare" function`);const o=t.scopeValue("formats",{key:r,ref:i,code:u.code.formats?n._`${u.code.formats}${n.getProperty(r)}`:void 0});e.fail$data(l(o))}()},dependencies:["format"]},t.default=e=>(e.addKeyword(t.formatLimitDefinition),e)},1581:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const i=r(27159),n=r(93924),o=r(1240),s=r(98),a=["/properties"],c="http://json-schema.org/draft-07/schema";class u extends i.default{_addVocabularies(){super._addVocabularies(),n.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var h=r(74815);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var d=r(93487);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var l=r(67426);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return l.default}});var f=r(6646);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return f.default}})},57023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class r{}t._CodeOrName=r,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class i extends r{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=i;class n extends r{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof i&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function o(e,...t){const r=[e[0]];let i=0;for(;i<t.length;)c(r,t[i]),r.push(e[++i]);return new n(r)}t._Code=n,t.nil=new n(""),t._=o;const s=new n("+");function a(e,...t){const r=[h(e[0])];let i=0;for(;i<t.length;)r.push(s),c(r,t[i]),r.push(s,h(e[++i]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===s){const r=u(e[t-1],e[t+1]);if(void 0!==r){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}(r),new n(r)}function c(e,t){var r;t instanceof n?e.push(...t._items):t instanceof i?e.push(t):e.push("number"==typeof(r=t)||"boolean"==typeof r||null===r?r:h(Array.isArray(r)?r.join(","):r))}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof i||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof i?void 0:`"${e}${t.slice(1)}`}function h(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.str=a,t.addCodeArg=c,t.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:a`${e}${t}`},t.stringify=function(e){return new n(h(e))},t.safeStringify=h,t.getProperty=function(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new n(`.${e}`):o`[${e}]`},t.getEsmExportName=function(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new n(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},t.regexpCode=function(e){return new n(e.toString())}},93487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const i=r(57023),n=r(98490);var o=r(57023);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var s=r(98490);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new i._Code(">"),GTE:new i._Code(">="),LT:new i._Code("<"),LTE:new i._Code("<="),EQ:new i._Code("==="),NEQ:new i._Code("!=="),NOT:new i._Code("!"),OR:new i._Code("||"),AND:new i._Code("&&"),ADD:new i._Code("+")};class a{optimizeNodes(){return this}optimizeNames(e,t){return this}}class c extends a{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){const r=e?n.varKinds.var:this.varKind,i=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${i};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=M(this.rhs,e,t)),this}get names(){return this.rhs instanceof i._CodeOrName?this.rhs.names:{}}}class u extends a{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof i.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=M(this.rhs,e,t),this}get names(){return k(this.lhs instanceof i.Name?{}:{...this.lhs.names},this.rhs)}}class h extends u{constructor(e,t,r,i){super(e,r,i),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class l extends a{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class f extends a{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends a{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=M(this.code,e,t),this}get names(){return this.code instanceof i._CodeOrName?this.code.names:{}}}class A extends a{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:r}=this;let i=r.length;for(;i--;){const n=r[i];n.optimizeNames(e,t)||(P(e,n.names),r.splice(i,1))}return r.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>D(e,t.names)),{})}}class g extends A{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class m extends A{}class y extends g{}y.kind="else";class I extends g{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new y(e):e}return t?!1===e?t instanceof I?t:t.nodes:this.nodes.length?this:new I(x(e),t instanceof I?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null===(r=this.else)||void 0===r?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=M(this.condition,e,t),this}get names(){const e=super.names;return k(e,this.condition),this.else&&D(e,this.else.names),e}}I.kind="if";class w extends g{}w.kind="for";class b extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=M(this.iteration,e,t),this}get names(){return D(super.names,this.iteration.names)}}class v extends w{constructor(e,t,r,i){super(),this.varKind=e,this.name=t,this.from=r,this.to=i}render(e){const t=e.es5?n.varKinds.var:this.varKind,{name:r,from:i,to:o}=this;return`for(${t} ${r}=${i}; ${r}<${o}; ${r}++)`+super.render(e)}get names(){const e=k(super.names,this.from);return k(e,this.to)}}class E extends w{constructor(e,t,r,i){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=i}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=M(this.iterable,e,t),this}get names(){return D(super.names,this.iterable.names)}}class C extends g{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}C.kind="func";class B extends A{render(e){return"return "+super.render(e)}}B.kind="return";class S extends g{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var r,i;return super.optimizeNames(e,t),null===(r=this.catch)||void 0===r||r.optimizeNames(e,t),null===(i=this.finally)||void 0===i||i.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&D(e,this.catch.names),this.finally&&D(e,this.finally.names),e}}class _ extends g{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}_.kind="catch";class Q extends g{render(e){return"finally"+super.render(e)}}function D(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function k(e,t){return t instanceof i._CodeOrName?D(e,t.names):e}function M(e,t,r){return e instanceof i.Name?o(e):(n=e)instanceof i._Code&&n._items.some((e=>e instanceof i.Name&&1===t[e.str]&&void 0!==r[e.str]))?new i._Code(e._items.reduce(((e,t)=>(t instanceof i.Name&&(t=o(t)),t instanceof i._Code?e.push(...t._items):e.push(t),e)),[])):e;var n;function o(e){const i=r[e.str];return void 0===i||1!==t[e.str]?e:(delete t[e.str],i)}}function P(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function x(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:i._`!${T(e)}`}Q.kind="finally",t.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new n.Scope({parent:e}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);return(this._values[r.prefix]||(this._values[r.prefix]=new Set)).add(r),r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,i){const n=this._scope.toName(t);return void 0!==r&&i&&(this._constants[n.str]=r),this._leafNode(new c(e,n,r)),n}const(e,t,r){return this._def(n.varKinds.const,e,t,r)}let(e,t,r){return this._def(n.varKinds.let,e,t,r)}var(e,t,r){return this._def(n.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new u(e,t,r))}add(e,r){return this._leafNode(new h(e,t.operators.ADD,r))}code(e){return"function"==typeof e?e():e!==i.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(const[r,n]of e)t.length>1&&t.push(","),t.push(r),(r!==n||this.opts.es5)&&(t.push(":"),(0,i.addCodeArg)(t,n));return t.push("}"),new i._Code(t)}if(e,t,r){if(this._blockNode(new I(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new I(e))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(I,y)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new b(e),t)}forRange(e,t,r,i,o=(this.opts.es5?n.varKinds.var:n.varKinds.let)){const s=this._scope.toName(e);return this._for(new v(o,s,t,r),(()=>i(s)))}forOf(e,t,r,o=n.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof i.Name?t:this.var("_arr",t);return this.forRange("_i",0,i._`${e}.length`,(t=>{this.var(s,i._`${e}[${t}]`),r(s)}))}return this._for(new E("of",o,s,t),(()=>r(s)))}forIn(e,t,r,o=(this.opts.es5?n.varKinds.var:n.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,i._`Object.keys(${t})`,r);const s=this._scope.toName(e);return this._for(new E("in",o,s,t),(()=>r(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new l(e))}return(e){const t=new B;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(B)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const i=new S;if(this._blockNode(i),this.code(e),t){const e=this.name("e");this._currNode=i.catch=new _(e),t(e)}return r&&(this._currNode=i.finally=new Q,this.code(r)),this._endBlockNode(_,Q)}throw(e){return this._leafNode(new f(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=i.nil,r,n){return this._blockNode(new C(e,t,r)),n&&this.code(n).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof I))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},t.not=x;const F=O(t.operators.AND);t.and=function(...e){return e.reduce(F)};const R=O(t.operators.OR);function O(e){return(t,r)=>t===i.nil?r:r===i.nil?t:i._`${T(t)} ${e} ${T(r)}`}function T(e){return e instanceof i.Name?e:i._`(${e})`}t.or=function(...e){return e.reduce(R)}},98490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const i=r(57023);class n extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var o;!function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"}(o=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new i.Name("const"),let:new i.Name("let"),var:new i.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof i.Name?e:this.name(e)}name(e){return new i.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,r;if((null===(r=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===r?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class a extends i.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=i._`.${new i.Name(t)}[${r}]`}}t.ValueScopeName=a;const c=i._`\n`;t.ValueScope=class extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?c:i.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){var r;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const i=this.toName(e),{prefix:n}=i,o=null!==(r=t.key)&&void 0!==r?r:t.ref;let s=this._values[n];if(s){const e=s.get(o);if(e)return e}else s=this._values[n]=new Map;s.set(o,i);const a=this._scope[n]||(this._scope[n]=[]),c=a.length;return a[c]=t.ref,i.setValue(t,{property:n,itemIndex:c}),i}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return i._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,s={},a){let c=i.nil;for(const u in e){const h=e[u];if(!h)continue;const d=s[u]=s[u]||new Map;h.forEach((e=>{if(d.has(e))return;d.set(e,o.Started);let s=r(e);if(s){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;c=i._`${c}${r} ${e} = ${s};${this.opts._n}`}else{if(!(s=null==a?void 0:a(e)))throw new n(e);c=i._`${c}${s}${this.opts._n}`}d.set(e,o.Completed)}))}return c}}},4181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const i=r(93487),n=r(76776),o=r(22141);function s(e,t){const r=e.const("err",t);e.if(i._`${o.default.vErrors} === null`,(()=>e.assign(o.default.vErrors,i._`[${r}]`)),i._`${o.default.vErrors}.push(${r})`),e.code(i._`${o.default.errors}++`)}function a(e,t){const{gen:r,validateName:n,schemaEnv:o}=e;o.$async?r.throw(i._`new ${e.ValidationError}(${t})`):(r.assign(i._`${n}.errors`,t),r.return(!1))}t.keywordError={message:({keyword:e})=>i.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?i.str`"${e}" keyword must be ${t} ($data)`:i.str`"${e}" keyword is invalid ($data)`},t.reportError=function(e,r=t.keywordError,n,o){const{it:c}=e,{gen:h,compositeRule:d,allErrors:l}=c,f=u(e,r,n);(null!=o?o:d||l)?s(h,f):a(c,i._`[${f}]`)},t.reportExtraError=function(e,r=t.keywordError,i){const{it:n}=e,{gen:c,compositeRule:h,allErrors:d}=n;s(c,u(e,r,i)),h||d||a(n,o.default.vErrors)},t.resetErrorsCount=function(e,t){e.assign(o.default.errors,t),e.if(i._`${o.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(i._`${o.default.vErrors}.length`,t)),(()=>e.assign(o.default.vErrors,null)))))},t.extendErrors=function({gen:e,keyword:t,schemaValue:r,data:n,errsCount:s,it:a}){if(void 0===s)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",s,o.default.errors,(s=>{e.const(c,i._`${o.default.vErrors}[${s}]`),e.if(i._`${c}.instancePath === undefined`,(()=>e.assign(i._`${c}.instancePath`,(0,i.strConcat)(o.default.instancePath,a.errorPath)))),e.assign(i._`${c}.schemaPath`,i.str`${a.errSchemaPath}/${t}`),a.opts.verbose&&(e.assign(i._`${c}.schema`,r),e.assign(i._`${c}.data`,n))}))};const c={keyword:new i.Name("keyword"),schemaPath:new i.Name("schemaPath"),params:new i.Name("params"),propertyName:new i.Name("propertyName"),message:new i.Name("message"),schema:new i.Name("schema"),parentSchema:new i.Name("parentSchema")};function u(e,t,r){const{createErrors:n}=e.it;return!1===n?i._`{}`:function(e,t,r={}){const{gen:n,it:s}=e,a=[h(s,r),d(e,r)];return function(e,{params:t,message:r},n){const{keyword:s,data:a,schemaValue:u,it:h}=e,{opts:d,propertyName:l,topSchemaRef:f,schemaPath:p}=h;n.push([c.keyword,s],[c.params,"function"==typeof t?t(e):t||i._`{}`]),d.messages&&n.push([c.message,"function"==typeof r?r(e):r]),d.verbose&&n.push([c.schema,u],[c.parentSchema,i._`${f}${p}`],[o.default.data,a]),l&&n.push([c.propertyName,l])}(e,t,a),n.object(...a)}(e,t,r)}function h({errorPath:e},{instancePath:t}){const r=t?i.str`${e}${(0,n.getErrorPath)(t,n.Type.Str)}`:e;return[o.default.instancePath,(0,i.strConcat)(o.default.instancePath,r)]}function d({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:o}){let s=o?t:i.str`${t}/${e}`;return r&&(s=i.str`${s}${(0,n.getErrorPath)(r,n.Type.Str)}`),[c.schemaPath,s]}},25173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const i=r(93487),n=r(67426),o=r(22141),s=r(32531),a=r(76776),c=r(74815);class u{constructor(e){var t;let r;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null==r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==r?void 0:r.$async,this.refs={}}}function h(e){const t=l.call(this,e);if(t)return t;const r=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:u}=this.opts.code,{ownProperties:h}=this.opts,d=new i.CodeGen(this.scope,{es5:a,lines:u,ownProperties:h});let f;e.$async&&(f=d.scopeValue("Error",{ref:n.default,code:i._`require("ajv/dist/runtime/validation_error").default`}));const p=d.scopeName("validate");e.validateName=p;const A={gen:d,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[i.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,i.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:i.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:i._`""`,opts:this.opts,self:this};let g;try{this._compilations.add(e),(0,c.validateFunctionCode)(A),d.optimize(this.opts.code.optimize);const t=d.toString();g=`${d.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(g=this.opts.code.process(g,e));const r=new Function(`${o.default.self}`,`${o.default.scope}`,g)(this,this.scope.get());if(this.scope.value(p,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:p,validateCode:t,scopeValues:d._values}),this.opts.unevaluated){const{props:e,items:t}=A;r.evaluated={props:e instanceof i.Name?void 0:e,items:t instanceof i.Name?void 0:t,dynamicProps:e instanceof i.Name,dynamicItems:t instanceof i.Name},r.source&&(r.source.evaluated=(0,i.stringify)(r.evaluated))}return e.validate=r,e}catch(t){throw delete e.validate,delete e.validateName,g&&this.logger.error("Error compiling schema, function code:",g),t}finally{this._compilations.delete(e)}}function d(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:h.call(this,e)}function l(e){for(const i of this._compilations)if(r=e,(t=i).schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return i;var t,r}function f(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||p.call(this,e,t)}function p(e,t){const r=this.opts.uriResolver.parse(t),i=(0,s._getFullPath)(this.opts.uriResolver,r);let n=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&i===n)return g.call(this,r,e);const o=(0,s.normalizeId)(i),a=this.refs[o]||this.schemas[o];if("string"==typeof a){const t=p.call(this,e,a);if("object"!=typeof(null==t?void 0:t.schema))return;return g.call(this,r,t)}if("object"==typeof(null==a?void 0:a.schema)){if(a.validate||h.call(this,a),o===(0,s.normalizeId)(t)){const{schema:t}=a,{schemaId:r}=this.opts,i=t[r];return i&&(n=(0,s.resolveUrl)(this.opts.uriResolver,n,i)),new u({schema:t,schemaId:r,root:e,baseId:n})}return g.call(this,r,a)}}t.SchemaEnv=u,t.compileSchema=h,t.resolveRef=function(e,t,r){var i;r=(0,s.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let o=f.call(this,e,r);if(void 0===o){const n=null===(i=e.localRefs)||void 0===i?void 0:i[r],{schemaId:s}=this.opts;n&&(o=new u({schema:n,schemaId:s,root:e,baseId:t}))}return void 0!==o?e.refs[r]=d.call(this,o):void 0},t.getCompilingSchema=l,t.resolveSchema=p;const A=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(e,{baseId:t,schema:r,root:i}){var n;if("/"!==(null===(n=e.fragment)||void 0===n?void 0:n[0]))return;for(const i of e.fragment.slice(1).split("/")){if("boolean"==typeof r)return;const e=r[(0,a.unescapeFragment)(i)];if(void 0===e)return;const n="object"==typeof(r=e)&&r[this.opts.schemaId];!A.has(i)&&n&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,n))}let o;if("boolean"!=typeof r&&r.$ref&&!(0,a.schemaHasRulesButRef)(r,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=p.call(this,i,e)}const{schemaId:c}=this.opts;return o=o||new u({schema:r,schemaId:c,root:i,baseId:t}),o.schema!==o.root.schema?o:void 0}},22141:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n={data:new i.Name("data"),valCxt:new i.Name("valCxt"),instancePath:new i.Name("instancePath"),parentData:new i.Name("parentData"),parentDataProperty:new i.Name("parentDataProperty"),rootData:new i.Name("rootData"),dynamicAnchors:new i.Name("dynamicAnchors"),vErrors:new i.Name("vErrors"),errors:new i.Name("errors"),this:new i.Name("this"),self:new i.Name("self"),scope:new i.Name("scope"),json:new i.Name("json"),jsonPos:new i.Name("jsonPos"),jsonLen:new i.Name("jsonLen"),jsonPart:new i.Name("jsonPart")};t.default=n},6646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(32531);class n extends Error{constructor(e,t,r,n){super(n||`can't resolve reference ${r} from id ${t}`),this.missingRef=(0,i.resolveUrl)(e,t,r),this.missingSchema=(0,i.normalizeId)((0,i.getFullPath)(e,this.missingRef))}}t.default=n},32531:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const i=r(76776),n=r(64063),o=r(49461),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);t.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)};const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(a.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if("object"==typeof r&&c(r))return!0}return!1}function u(e){let t=0;for(const r in e){if("$ref"===r)return 1/0;if(t++,!s.has(r)&&("object"==typeof e[r]&&(0,i.eachItem)(e[r],(e=>t+=u(e))),t===1/0))return 1/0}return t}function h(e,t="",r){!1!==r&&(t=f(t));const i=e.parse(t);return d(e,i)}function d(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=h,t._getFullPath=d;const l=/#\/?$/;function f(e){return e?e.replace(l,""):""}t.normalizeId=f,t.resolveUrl=function(e,t,r){return r=f(r),e.resolve(t,r)};const p=/^[a-z_][-a-z0-9._]*$/i;t.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:r,uriResolver:i}=this.opts,s=f(e[r]||t),a={"":s},c=h(i,s,!1),u={},d=new Set;return o(e,{allKeys:!0},((e,t,i,n)=>{if(void 0===n)return;const o=c+t;let s=a[n];function h(t){const r=this.opts.uriResolver.resolve;if(t=f(s?r(s,t):t),d.has(t))throw A(t);d.add(t);let i=this.refs[t];return"string"==typeof i&&(i=this.refs[i]),"object"==typeof i?l(e,i.schema,t):t!==f(o)&&("#"===t[0]?(l(e,u[t],t),u[t]=e):this.refs[t]=o),t}function g(e){if("string"==typeof e){if(!p.test(e))throw new Error(`invalid anchor "${e}"`);h.call(this,`#${e}`)}}"string"==typeof e[r]&&(s=h.call(this,e[r])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),a[t]=s})),u;function l(e,t,r){if(void 0!==t&&!n(e,t))throw A(r)}function A(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},13141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const r=new Set(["string","number","integer","boolean","null","object","array"]);t.isJSONType=function(e){return"string"==typeof e&&r.has(e)},t.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},76776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const i=r(93487),n=r(57023);function o(e,t=e.schema){const{opts:r,self:i}=e;if(!r.strictSchema)return;if("boolean"==typeof t)return;const n=i.RULES.keywords;for(const r in t)n[r]||p(e,`unknown keyword: "${r}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function a(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function c(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function u({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(o,s,a,c)=>{const u=void 0===a?s:a instanceof i.Name?(s instanceof i.Name?e(o,s,a):t(o,s,a),a):s instanceof i.Name?(t(o,a,s),s):r(s,a);return c!==i.Name||u instanceof i.Name?u:n(o,u)}}function h(e,t){if(!0===t)return e.var("props",!0);const r=e.var("props",i._`{}`);return void 0!==t&&d(e,r,t),r}function d(e,t,r){Object.keys(r).forEach((r=>e.assign(i._`${t}${(0,i.getProperty)(r)}`,!0)))}t.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},t.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(o(e,t),!s(t,e.self.RULES.all))},t.checkUnknownRules=o,t.schemaHasRules=s,t.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},t.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,n,o){if(!o){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return i._`${r}`}return i._`${e}${t}${(0,i.getProperty)(n)}`},t.unescapeFragment=function(e){return c(decodeURIComponent(e))},t.escapeFragment=function(e){return encodeURIComponent(a(e))},t.escapeJsonPointer=a,t.unescapeJsonPointer=c,t.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},t.mergeEvaluated={props:u({mergeNames:(e,t,r)=>e.if(i._`${r} !== true && ${t} !== undefined`,(()=>{e.if(i._`${t} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,i._`${r} || {}`).code(i._`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if(i._`${r} !== true`,(()=>{!0===t?e.assign(r,!0):(e.assign(r,i._`${r} || {}`),d(e,r,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:h}),items:u({mergeNames:(e,t,r)=>e.if(i._`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,i._`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if(i._`${r} !== true`,(()=>e.assign(r,!0===t||i._`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=h,t.setEvaluated=d;const l={};var f;function p(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,!0===r)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:l[t.code]||(l[t.code]=new n._Code(t.code))})},function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(f=t.Type||(t.Type={})),t.getErrorPath=function(e,t,r){if(e instanceof i.Name){const n=t===f.Num;return r?n?i._`"[" + ${e} + "]"`:i._`"['" + ${e} + "']"`:n?i._`"/" + ${e}`:i._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,i.getProperty)(e).toString():"/"+a(e)},t.checkStrictMode=p},58876:(e,t)=>{"use strict";function r(e,t){return t.rules.some((t=>i(e,t)))}function i(e,t){var r;return void 0!==e[t.keyword]||(null===(r=t.definition.implements)||void 0===r?void 0:r.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=function({schema:e,self:t},i){const n=t.RULES.types[i];return n&&!0!==n&&r(e,n)},t.shouldUseGroup=r,t.shouldUseRule=i},55667:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const i=r(4181),n=r(93487),o=r(22141),s={message:"boolean schema is false"};function a(e,t){const{gen:r,data:n}=e,o={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,i.reportError)(o,s,void 0,t)}t.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:i}=e;!1===r?a(e,!1):"object"==typeof r&&!0===r.$async?t.return(o.default.data):(t.assign(n._`${i}.errors`,null),t.return(!0))},t.boolOrEmptySchema=function(e,t){const{gen:r,schema:i}=e;!1===i?(r.var(t,!1),a(e)):r.var(t,!0)}},50453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const i=r(13141),n=r(58876),o=r(4181),s=r(93487),a=r(76776);var c;function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(i.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}!function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"}(c=t.DataType||(t.DataType={})),t.getSchemaTypes=function(e){const t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},t.getJSONTypes=u,t.coerceAndCheckDataType=function(e,t){const{gen:r,data:i,opts:o}=e,a=function(e,t){return t?e.filter((e=>h.has(e)||"array"===t&&"array"===e)):[]}(t,o.coerceTypes),u=t.length>0&&!(0===a.length&&1===t.length&&(0,n.schemaHasRulesForType)(e,t[0]));if(u){const n=l(t,i,o.strictNumbers,c.Wrong);r.if(n,(()=>{a.length?function(e,t,r){const{gen:i,data:n,opts:o}=e,a=i.let("dataType",s._`typeof ${n}`),c=i.let("coerced",s._`undefined`);"array"===o.coerceTypes&&i.if(s._`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,(()=>i.assign(n,s._`${n}[0]`).assign(a,s._`typeof ${n}`).if(l(t,n,o.strictNumbers),(()=>i.assign(c,n))))),i.if(s._`${c} !== undefined`);for(const e of r)(h.has(e)||"array"===e&&"array"===o.coerceTypes)&&u(e);function u(e){switch(e){case"string":return void i.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${n}`).elseIf(s._`${n} === null`).assign(c,s._`""`);case"number":return void i.elseIf(s._`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(c,s._`+${n}`);case"integer":return void i.elseIf(s._`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(c,s._`+${n}`);case"boolean":return void i.elseIf(s._`${n} === "false" || ${n} === 0 || ${n} === null`).assign(c,!1).elseIf(s._`${n} === "true" || ${n} === 1`).assign(c,!0);case"null":return i.elseIf(s._`${n} === "" || ${n} === 0 || ${n} === false`),void i.assign(c,null);case"array":i.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(c,s._`[${n}]`)}}i.else(),p(e),i.endIf(),i.if(s._`${c} !== undefined`,(()=>{i.assign(n,c),function({gen:e,parentData:t,parentDataProperty:r},i){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${r}]`,i)))}(e,c)}))}(e,t,a):p(e)}))}return u};const h=new Set(["string","number","integer","boolean","null"]);function d(e,t,r,i=c.Correct){const n=i===c.Correct?s.operators.EQ:s.operators.NEQ;let o;switch(e){case"null":return s._`${t} ${n} null`;case"array":o=s._`Array.isArray(${t})`;break;case"object":o=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=a(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=a();break;default:return s._`typeof ${t} ${n} ${e}`}return i===c.Correct?o:(0,s.not)(o);function a(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,r?s._`isFinite(${t})`:s.nil)}}function l(e,t,r,i){if(1===e.length)return d(e[0],t,r,i);let n;const o=(0,a.toHash)(e);if(o.array&&o.object){const e=s._`typeof ${t} != "object"`;n=o.null?e:s._`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else n=s.nil;o.number&&delete o.integer;for(const e in o)n=(0,s.and)(n,d(e,t,r,i));return n}t.checkDataType=d,t.checkDataTypes=l;const f={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function p(e){const t=function(e){const{gen:t,data:r,schema:i}=e,n=(0,a.schemaRefOrVal)(e,i,"type");return{gen:t,keyword:"type",data:r,schema:i.type,schemaCode:n,schemaValue:n,parentSchema:i,params:{},it:e}}(e);(0,o.reportError)(t,f)}t.reportTypeError=p},90313:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const i=r(93487),n=r(76776);function o(e,t,r){const{gen:o,compositeRule:s,data:a,opts:c}=e;if(void 0===r)return;const u=i._`${a}${(0,i.getProperty)(t)}`;if(s)return void(0,n.checkStrictMode)(e,`default is ignored for: ${u}`);let h=i._`${u} === undefined`;"empty"===c.useDefaults&&(h=i._`${h} || ${u} === null || ${u} === ""`),o.if(h,i._`${u} = ${(0,i.stringify)(r)}`)}t.assignDefaults=function(e,t){const{properties:r,items:i}=e.schema;if("object"===t&&r)for(const t in r)o(e,t,r[t].default);else"array"===t&&Array.isArray(i)&&i.forEach(((t,r)=>o(e,r,t.default)))}},74815:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const i=r(55667),n=r(50453),o=r(58876),s=r(50453),a=r(90313),c=r(95005),u=r(13099),h=r(93487),d=r(22141),l=r(32531),f=r(76776),p=r(4181);function A({gen:e,validateName:t,schema:r,schemaEnv:i,opts:n},o){n.code.es5?e.func(t,h._`${d.default.data}, ${d.default.valCxt}`,i.$async,(()=>{e.code(h._`"use strict"; ${g(r,n)}`),function(e,t){e.if(d.default.valCxt,(()=>{e.var(d.default.instancePath,h._`${d.default.valCxt}.${d.default.instancePath}`),e.var(d.default.parentData,h._`${d.default.valCxt}.${d.default.parentData}`),e.var(d.default.parentDataProperty,h._`${d.default.valCxt}.${d.default.parentDataProperty}`),e.var(d.default.rootData,h._`${d.default.valCxt}.${d.default.rootData}`),t.dynamicRef&&e.var(d.default.dynamicAnchors,h._`${d.default.valCxt}.${d.default.dynamicAnchors}`)}),(()=>{e.var(d.default.instancePath,h._`""`),e.var(d.default.parentData,h._`undefined`),e.var(d.default.parentDataProperty,h._`undefined`),e.var(d.default.rootData,d.default.data),t.dynamicRef&&e.var(d.default.dynamicAnchors,h._`{}`)}))}(e,n),e.code(o)})):e.func(t,h._`${d.default.data}, ${function(e){return h._`{${d.default.instancePath}="", ${d.default.parentData}, ${d.default.parentDataProperty}, ${d.default.rootData}=${d.default.data}${e.dynamicRef?h._`, ${d.default.dynamicAnchors}={}`:h.nil}}={}`}(n)}`,i.$async,(()=>e.code(g(r,n)).code(o)))}function g(e,t){const r="object"==typeof e&&e[t.schemaId];return r&&(t.code.source||t.code.process)?h._`/*# sourceURL=${r} */`:h.nil}function m({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function y(e){return"boolean"!=typeof e.schema}function I(e){(0,f.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:r,opts:i,self:n}=e;t.$ref&&i.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(t,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}(e)}function w(e,t){if(e.opts.jtd)return v(e,[],!1,t);const r=(0,n.getSchemaTypes)(e.schema);v(e,r,!(0,n.coerceAndCheckDataType)(e,r),t)}function b({gen:e,schemaEnv:t,schema:r,errSchemaPath:i,opts:n}){const o=r.$comment;if(!0===n.$comment)e.code(h._`${d.default.self}.logger.log(${o})`);else if("function"==typeof n.$comment){const r=h.str`${i}/$comment`,n=e.scopeValue("root",{ref:t.root});e.code(h._`${d.default.self}.opts.$comment(${o}, ${r}, ${n}.schema)`)}}function v(e,t,r,i){const{gen:n,schema:a,data:c,allErrors:u,opts:l,self:p}=e,{RULES:A}=p;function g(f){(0,o.shouldUseGroup)(a,f)&&(f.type?(n.if((0,s.checkDataType)(f.type,c,l.strictNumbers)),E(e,f),1===t.length&&t[0]===f.type&&r&&(n.else(),(0,s.reportTypeError)(e)),n.endIf()):E(e,f),u||n.if(h._`${d.default.errors} === ${i||0}`))}!a.$ref||!l.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(a,A)?(l.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{C(e.dataTypes,t)||B(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const r=[];for(const i of e.dataTypes)C(t,i)?r.push(i):t.includes("integer")&&"number"===i&&r.push("integer");e.dataTypes=r}(e,t)):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&B(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const r=e.self.RULES.all;for(const i in r){const n=r[i];if("object"==typeof n&&(0,o.shouldUseRule)(e.schema,n)){const{type:r}=n.definition;r.length&&!r.some((e=>{return i=e,(r=t).includes(i)||"number"===i&&r.includes("integer");var r,i}))&&B(e,`missing type "${r.join(",")}" for keyword "${i}"`)}}}(e,e.dataTypes))}(e,t),n.block((()=>{for(const e of A.rules)g(e);g(A.post)}))):n.block((()=>_(e,"$ref",A.all.$ref.definition)))}function E(e,t){const{gen:r,schema:i,opts:{useDefaults:n}}=e;n&&(0,a.assignDefaults)(e,t.type),r.block((()=>{for(const r of t.rules)(0,o.shouldUseRule)(i,r)&&_(e,r.keyword,r.definition,t.type)}))}function C(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function B(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,f.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=function(e){y(e)&&(I(e),m(e))?function(e){const{schema:t,opts:r,gen:i}=e;A(e,(()=>{r.$comment&&t.$comment&&b(e),function(e){const{schema:t,opts:r}=e;void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,f.checkStrictMode)(e,"default is ignored in the schema root")}(e),i.let(d.default.vErrors,null),i.let(d.default.errors,0),r.unevaluated&&function(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",h._`${r}.evaluated`),t.if(h._`${e.evaluated}.dynamicProps`,(()=>t.assign(h._`${e.evaluated}.props`,h._`undefined`))),t.if(h._`${e.evaluated}.dynamicItems`,(()=>t.assign(h._`${e.evaluated}.items`,h._`undefined`)))}(e),w(e),function(e){const{gen:t,schemaEnv:r,validateName:i,ValidationError:n,opts:o}=e;r.$async?t.if(h._`${d.default.errors} === 0`,(()=>t.return(d.default.data)),(()=>t.throw(h._`new ${n}(${d.default.vErrors})`))):(t.assign(h._`${i}.errors`,d.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:r,items:i}){r instanceof h.Name&&e.assign(h._`${t}.props`,r),i instanceof h.Name&&e.assign(h._`${t}.items`,i)}(e),t.return(h._`${d.default.errors} === 0`))}(e)}))}(e):A(e,(()=>(0,i.topBoolOrEmptySchema)(e)))};class S{constructor(e,t,r){if((0,c.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",k(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",d.default.errors))}result(e,t,r){this.failResult((0,h.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,h.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(h._`${t} !== undefined && (${(0,h.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?p.reportExtraError:p.reportError)(this,this.def.error,t)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=h.nil){this.gen.block((()=>{this.check$data(e,r),t()}))}check$data(e=h.nil,t=h.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:n,def:o}=this;r.if((0,h.or)(h._`${i} === undefined`,t)),e!==h.nil&&r.assign(e,!0),(n.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==h.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:i,it:n}=this;return(0,h.or)(function(){if(r.length){if(!(t instanceof h.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return h._`${(0,s.checkDataTypes)(e,t,n.opts.strictNumbers,s.DataType.Wrong)}`}return h.nil}(),function(){if(i.validateSchema){const r=e.scopeValue("validate$data",{ref:i.validateSchema});return h._`!${r}(${t})`}return h.nil}())}subschema(e,t){const r=(0,u.getSubschema)(this.it,e);(0,u.extendSubschemaData)(r,this.it,e),(0,u.extendSubschemaMode)(r,e);const n={...this.it,...r,items:void 0,props:void 0};return function(e,t){y(e)&&(I(e),m(e))?function(e,t){const{schema:r,gen:i,opts:n}=e;n.$comment&&r.$comment&&b(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,l.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=i.const("_errs",d.default.errors);w(e,o),i.var(t,h._`${o} === ${d.default.errors}`)}(e,t):(0,i.boolOrEmptySchema)(e,t)}(n,t),n}mergeEvaluated(e,t){const{it:r,gen:i}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=f.mergeEvaluated.props(i,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=f.mergeEvaluated.items(i,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return i.if(t,(()=>this.mergeEvaluated(e,h.Name))),!0}}function _(e,t,r,i){const n=new S(e,r,t);"code"in r?r.code(n,i):n.$data&&r.validate?(0,c.funcKeywordCode)(n,r):"macro"in r?(0,c.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,c.funcKeywordCode)(n,r)}t.KeywordCxt=S;const Q=/^\/(?:[^~]|~0|~1)*$/,D=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function k(e,{dataLevel:t,dataNames:r,dataPathArr:i}){let n,o;if(""===e)return d.default.rootData;if("/"===e[0]){if(!Q.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e,o=d.default.rootData}else{const s=D.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+s[1];if(n=s[2],"#"===n){if(a>=t)throw new Error(c("property/index",a));return i[t-a]}if(a>t)throw new Error(c("data",a));if(o=r[t-a],!n)return o}let s=o;const a=n.split("/");for(const e of a)e&&(o=h._`${o}${(0,h.getProperty)((0,f.unescapeJsonPointer)(e))}`,s=h._`${s} && ${o}`);return s;function c(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=k},95005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const i=r(93487),n=r(22141),o=r(10412),s=r(4181);function a(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,(()=>t.assign(r,i._`${n.parentData}[${n.parentDataProperty}]`)))}function c(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,i.stringify)(r)})}t.macroKeywordCode=function(e,t){const{gen:r,keyword:n,schema:o,parentSchema:s,it:a}=e,u=t.macro.call(a.self,o,s,a),h=c(r,n,u);!1!==a.opts.validateSchema&&a.self.validateSchema(u,!0);const d=r.name("valid");e.subschema({schema:u,schemaPath:i.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:h,compositeRule:!0},d),e.pass(d,(()=>e.error(!0)))},t.funcKeywordCode=function(e,t){var r;const{gen:u,keyword:h,schema:d,parentSchema:l,$data:f,it:p}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(p,t);const A=!f&&t.compile?t.compile.call(p.self,d,l,p):t.validate,g=c(u,h,A),m=u.let("valid");function y(r=(t.async?i._`await `:i.nil)){const s=p.opts.passContext?n.default.this:n.default.self,a=!("compile"in t&&!f||!1===t.schema);u.assign(m,i._`${r}${(0,o.callValidateCode)(e,g,s,a)}`,t.modifying)}function I(e){var r;u.if((0,i.not)(null!==(r=t.valid)&&void 0!==r?r:m),e)}e.block$data(m,(function(){if(!1===t.errors)y(),t.modifying&&a(e),I((()=>e.error()));else{const r=t.async?function(){const e=u.let("ruleErrs",null);return u.try((()=>y(i._`await `)),(t=>u.assign(m,!1).if(i._`${t} instanceof ${p.ValidationError}`,(()=>u.assign(e,i._`${t}.errors`)),(()=>u.throw(t))))),e}():function(){const e=i._`${g}.errors`;return u.assign(e,null),y(i.nil),e}();t.modifying&&a(e),I((()=>function(e,t){const{gen:r}=e;r.if(i._`Array.isArray(${t})`,(()=>{r.assign(n.default.vErrors,i._`${n.default.vErrors} === null ? ${t} : ${n.default.vErrors}.concat(${t})`).assign(n.default.errors,i._`${n.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}(e,r)))}})),e.ok(null!==(r=t.valid)&&void 0!==r?r:m)},t.validSchemaType=function(e,t,r=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||r&&void 0===e))},t.validateKeywordUsage=function({schema:e,opts:t,self:r,errSchemaPath:i},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");const s=n.dependencies;if(null==s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${s.join(",")}`);if(n.validateSchema&&!n.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);r.logger.error(e)}}},13099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const i=r(93487),n=r(76776);t.getSubschema=function(e,{keyword:t,schemaProp:r,schema:o,schemaPath:s,errSchemaPath:a,topSchemaRef:c}){if(void 0!==t&&void 0!==o)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const o=e.schema[t];return void 0===r?{schema:o,schemaPath:i._`${e.schemaPath}${(0,i.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:i._`${e.schemaPath}${(0,i.getProperty)(t)}${(0,i.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,n.escapeFragment)(r)}`}}if(void 0!==o){if(void 0===s||void 0===a||void 0===c)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:s,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},t.extendSubschemaData=function(e,t,{dataProp:r,dataPropType:o,data:s,dataTypes:a,propertyName:c}){if(void 0!==s&&void 0!==r)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:u}=t;if(void 0!==r){const{errorPath:s,dataPathArr:a,opts:c}=t;h(u.let("data",i._`${t.data}${(0,i.getProperty)(r)}`,!0)),e.errorPath=i.str`${s}${(0,n.getErrorPath)(r,o,c.jsPropertySyntax)}`,e.parentDataProperty=i._`${r}`,e.dataPathArr=[...a,e.parentDataProperty]}function h(r){e.data=r,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,r]}void 0!==s&&(h(s instanceof i.Name?s:u.let("data",s,!0)),void 0!==c&&(e.propertyName=c)),a&&(e.dataTypes=a)},t.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:o}){void 0!==i&&(e.compositeRule=i),void 0!==n&&(e.createErrors=n),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}},27159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var i=r(74815);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return i.KeywordCxt}});var n=r(93487);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const o=r(67426),s=r(6646),a=r(13141),c=r(25173),u=r(93487),h=r(32531),d=r(50453),l=r(76776),f=r(64775),p=r(43589),A=(e,t)=>new RegExp(e,t);A.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},I={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function w(e){var t,r,i,n,o,s,a,c,u,h,d,l,f,g,m,y,I,w,b,v,E,C,B,S,_;const Q=e.strict,D=null===(t=e.code)||void 0===t?void 0:t.optimize,k=!0===D||void 0===D?1:D||0,M=null!==(i=null===(r=e.code)||void 0===r?void 0:r.regExp)&&void 0!==i?i:A,P=null!==(n=e.uriResolver)&&void 0!==n?n:p.default;return{strictSchema:null===(s=null!==(o=e.strictSchema)&&void 0!==o?o:Q)||void 0===s||s,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:Q)||void 0===c||c,strictTypes:null!==(h=null!==(u=e.strictTypes)&&void 0!==u?u:Q)&&void 0!==h?h:"log",strictTuples:null!==(l=null!==(d=e.strictTuples)&&void 0!==d?d:Q)&&void 0!==l?l:"log",strictRequired:null!==(g=null!==(f=e.strictRequired)&&void 0!==f?f:Q)&&void 0!==g&&g,code:e.code?{...e.code,optimize:k,regExp:M}:{optimize:k,regExp:M},loopRequired:null!==(m=e.loopRequired)&&void 0!==m?m:200,loopEnum:null!==(y=e.loopEnum)&&void 0!==y?y:200,meta:null===(I=e.meta)||void 0===I||I,messages:null===(w=e.messages)||void 0===w||w,inlineRefs:null===(b=e.inlineRefs)||void 0===b||b,schemaId:null!==(v=e.schemaId)&&void 0!==v?v:"$id",addUsedSchema:null===(E=e.addUsedSchema)||void 0===E||E,validateSchema:null===(C=e.validateSchema)||void 0===C||C,validateFormats:null===(B=e.validateFormats)||void 0===B||B,unicodeRegExp:null===(S=e.unicodeRegExp)||void 0===S||S,int32range:null===(_=e.int32range)||void 0===_||_,uriResolver:P}}class b{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...w(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:m,es5:t,lines:r}),this.logger=function(e){if(!1===e)return Q;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const i=e.validateFormats;e.validateFormats=!1,this.RULES=(0,a.getRules)(),v.call(this,y,e,"NOT SUPPORTED"),v.call(this,I,e,"DEPRECATED","warn"),this._metaOpts=_.call(this),e.formats&&B.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&S.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),C.call(this),e.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let i=f;"id"===r&&(i={...f},i.id=i.$id,delete i.$id),t&&e&&this.addMetaSchema(i,i[r],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(r=this.getSchema(e),!r)throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);const i=r(t);return"$async"in r||(this.errors=r.errors),i}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:r}=this.opts;return i.call(this,e,t);async function i(e,t){await n.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||o.call(this,r)}async function n(e){e&&!this.getSchema(e)&&await i.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await c.call(this,t.missingSchema),o.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const r=await u.call(this,e);this.refs[e]||await n.call(this,r.$schema),this.refs[e]||this.addSchema(r,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,i=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,r,i);return this}let n;if("object"==typeof e){const{schemaId:t}=this.opts;if(n=e[t],void 0!==n&&"string"!=typeof n)throw new Error(`schema ${t} must be string`)}return t=(0,h.normalizeId)(t||n),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,i,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(r=e.$schema,void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(r=r||this.opts.defaultMeta||this.defaultMeta(),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(r,e);if(!i&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return i}getSchema(e){let t;for(;"string"==typeof(t=E.call(this,e));)e=t;if(void 0===t){const{schemaId:r}=this.opts,i=new c.SchemaEnv({schema:{},schemaId:r});if(t=c.resolveSchema.call(this,i,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=E.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];return r&&(r=(0,h.normalizeId)(r),delete this.schemas[r],delete this.refs[r]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(r=(t=e).keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(k.call(this,r,t),!t)return(0,l.eachItem)(r,(e=>M.call(this,e))),this;x.call(this,t);const i={...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)};return(0,l.eachItem)(r,0===i.type.length?e=>M.call(this,e,i):e=>i.type.forEach((t=>M.call(this,e,i,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));t>=0&&r.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){return e&&0!==e.length?e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r)):"No errors"}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const i of t){const t=i.split("/").slice(1);let n=e;for(const e of t)n=n[e];for(const e in r){const t=r[e];if("object"!=typeof t)continue;const{$data:i}=t.definition,o=n[e];i&&o&&(n[e]=R(o))}}return e}_removeAllSchemas(e,t){for(const r in e){const i=e[r];t&&!t.test(r)||("string"==typeof i?delete e[r]:i&&!i.meta&&(this._cache.delete(i.schema),delete e[r]))}}_addSchema(e,t,r,i=this.opts.validateSchema,n=this.opts.addUsedSchema){let o;const{schemaId:s}=this.opts;if("object"==typeof e)o=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(void 0!==a)return a;r=(0,h.normalizeId)(o||r);const u=h.getSchemaRefs.call(this,e,r);return a=new c.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:r,localRefs:u}),this._cache.set(a.schema,a),n&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=a),i&&this.validateSchema(e,!0),a}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):c.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}function v(e,t,r,i="error"){for(const n in e){const o=n;o in t&&this.logger[i](`${r}: option ${n}. ${e[o]}`)}}function E(e){return e=(0,h.normalizeId)(e),this.schemas[e]||this.refs[e]}function C(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function B(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function S(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}function _(){const e={...this.opts};for(const t of g)delete e[t];return e}t.default=b,b.ValidationError=o.default,b.MissingRefError=s.default;const Q={log(){},warn(){},error(){}},D=/^[a-z_$][a-z0-9_$:-]*$/i;function k(e,t){const{RULES:r}=this;if((0,l.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!D.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function M(e,t,r){var i;const n=null==t?void 0:t.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let s=n?o.post:o.rules.find((({type:e})=>e===r));if(s||(s={type:r,rules:[]},o.rules.push(s)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,d.getJSONTypes)(t.type),schemaType:(0,d.getJSONTypes)(t.schemaType)}};t.before?P.call(this,s,a,t.before):s.rules.push(a),o.all[e]=a,null===(i=t.implements)||void 0===i||i.forEach((e=>this.addKeyword(e)))}function P(e,t,r){const i=e.rules.findIndex((e=>e.keyword===r));i>=0?e.rules.splice(i,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}function x(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=R(t)),e.validateSchema=this.compile(t,!0))}const F={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function R(e){return{anyOf:[e,F]}}},43510:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(64063);i.code='require("ajv/dist/runtime/equal").default',t.default=i},74499:(e,t)=>{"use strict";function r(e){const t=e.length;let r,i=0,n=0;for(;n<t;)i++,r=e.charCodeAt(n++),r>=55296&&r<=56319&&n<t&&(r=e.charCodeAt(n),56320==(64512&r)&&n++);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.code='require("ajv/dist/runtime/ucs2length").default'},43589:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(60540);i.code='require("ajv/dist/runtime/uri").default',t.default=i},67426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=r},4783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const i=r(93487),n=r(76776),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>i.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>i._`{limit: ${e}}`},code(e){const{parentSchema:t,it:r}=e,{items:i}=t;Array.isArray(i)?s(e,i):(0,n.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function s(e,t){const{gen:r,schema:o,data:s,keyword:a,it:c}=e;c.items=!0;const u=r.const("len",i._`${s}.length`);if(!1===o)e.setParams({len:t.length}),e.pass(i._`${u} <= ${t.length}`);else if("object"==typeof o&&!(0,n.alwaysValidSchema)(c,o)){const o=r.var("valid",i._`${u} <= ${t.length}`);r.if((0,i.not)(o),(()=>function(o){r.forRange("i",t.length,u,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:n.Type.Num},o),c.allErrors||r.if((0,i.not)(o),(()=>r.break()))}))}(o))),e.ok(o)}}t.validateAdditionalItems=s,t.default=o},69351:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(10412),n=r(93487),o=r(22141),s=r(76776),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>n._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:r,parentSchema:a,data:c,errsCount:u,it:h}=e;if(!u)throw new Error("ajv implementation error");const{allErrors:d,opts:l}=h;if(h.props=!0,"all"!==l.removeAdditional&&(0,s.alwaysValidSchema)(h,r))return;const f=(0,i.allSchemaProperties)(a.properties),p=(0,i.allSchemaProperties)(a.patternProperties);function A(e){t.code(n._`delete ${c}[${e}]`)}function g(i){if("all"===l.removeAdditional||l.removeAdditional&&!1===r)A(i);else{if(!1===r)return e.setParams({additionalProperty:i}),e.error(),void(d||t.break());if("object"==typeof r&&!(0,s.alwaysValidSchema)(h,r)){const r=t.name("valid");"failing"===l.removeAdditional?(m(i,r,!1),t.if((0,n.not)(r),(()=>{e.reset(),A(i)}))):(m(i,r),d||t.if((0,n.not)(r),(()=>t.break())))}}}function m(t,r,i){const n={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===i&&Object.assign(n,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(n,r)}t.forIn("key",c,(r=>{f.length||p.length?t.if(function(r){let o;if(f.length>8){const e=(0,s.schemaRefOrVal)(h,a.properties,"properties");o=(0,i.isOwnProperty)(t,e,r)}else o=f.length?(0,n.or)(...f.map((e=>n._`${r} === ${e}`))):n.nil;return p.length&&(o=(0,n.or)(o,...p.map((t=>n._`${(0,i.usePattern)(e,t)}.test(${r})`)))),(0,n.not)(o)}(r),(()=>g(r))):g(r)})),e.ok(n._`${u} === ${o.default.errors}`)}};t.default=a},71125:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(76776),n={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const o=t.name("valid");r.forEach(((t,r)=>{if((0,i.alwaysValidSchema)(n,t))return;const s=e.subschema({keyword:"allOf",schemaProp:r},o);e.ok(o),e.mergeEvaluated(s)}))}};t.default=n},50019:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:r(10412).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=i},79864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(76776),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?i.str`must contain at least ${e} valid item(s)`:i.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?i._`{minContains: ${e}}`:i._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:r,parentSchema:o,data:s,it:a}=e;let c,u;const{minContains:h,maxContains:d}=o;a.opts.next?(c=void 0===h?1:h,u=d):c=1;const l=t.const("len",i._`${s}.length`);if(e.setParams({min:c,max:u}),void 0===u&&0===c)return void(0,n.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==u&&c>u)return(0,n.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,n.alwaysValidSchema)(a,r)){let t=i._`${l} >= ${c}`;return void 0!==u&&(t=i._`${t} && ${l} <= ${u}`),void e.pass(t)}a.items=!0;const f=t.name("valid");function p(){const e=t.name("_valid"),r=t.let("count",0);A(e,(()=>t.if(e,(()=>function(e){t.code(i._`${e}++`),void 0===u?t.if(i._`${e} >= ${c}`,(()=>t.assign(f,!0).break())):(t.if(i._`${e} > ${u}`,(()=>t.assign(f,!1).break())),1===c?t.assign(f,!0):t.if(i._`${e} >= ${c}`,(()=>t.assign(f,!0))))}(r)))))}function A(r,i){t.forRange("i",0,l,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:n.Type.Num,compositeRule:!0},r),i()}))}void 0===u&&1===c?A(f,(()=>t.if(f,(()=>t.break())))):0===c?(t.let(f,!0),void 0!==u&&t.if(i._`${s}.length > 0`,p)):(t.let(f,!1),p()),e.result(f,(()=>e.reset()))}};t.default=o},67772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const i=r(93487),n=r(76776),o=r(10412);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const n=1===t?"property":"properties";return i.str`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>i._`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=function({schema:e}){const t={},r={};for(const i in e)"__proto__"!==i&&((Array.isArray(e[i])?t:r)[i]=e[i]);return[t,r]}(e);a(e,t),c(e,r)}};function a(e,t=e.schema){const{gen:r,data:n,it:s}=e;if(0===Object.keys(t).length)return;const a=r.let("missing");for(const c in t){const u=t[c];if(0===u.length)continue;const h=(0,o.propertyInData)(r,n,c,s.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),s.allErrors?r.if(h,(()=>{for(const t of u)(0,o.checkReportMissingProp)(e,t)})):(r.if(i._`${h} && (${(0,o.checkMissingProp)(e,u,a)})`),(0,o.reportMissingProp)(e,a),r.else())}}function c(e,t=e.schema){const{gen:r,data:i,keyword:s,it:a}=e,c=r.name("valid");for(const u in t)(0,n.alwaysValidSchema)(a,t[u])||(r.if((0,o.propertyInData)(r,i,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>r.var(c,!0))),e.ok(c))}t.validatePropertyDeps=a,t.validateSchemaDeps=c,t.default=s},89434:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(76776),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>i.str`must match "${e.ifClause}" schema`,params:({params:e})=>i._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:r,it:o}=e;void 0===r.then&&void 0===r.else&&(0,n.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const a=s(o,"then"),c=s(o,"else");if(!a&&!c)return;const u=t.let("valid",!0),h=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},h);e.mergeEvaluated(t)}(),e.reset(),a&&c){const r=t.let("ifClause");e.setParams({ifClause:r}),t.if(h,d("then",r),d("else",r))}else a?t.if(h,d("then")):t.if((0,i.not)(h),d("else"));function d(r,n){return()=>{const o=e.subschema({keyword:r},h);t.assign(u,h),e.mergeValidEvaluated(o,u),n?t.assign(n,i._`${r}`):e.setParams({ifClause:r})}}e.pass(u,(()=>e.error(!0)))}};function s(e,t){const r=e.schema[t];return void 0!==r&&!(0,n.alwaysValidSchema)(e,r)}t.default=o},8200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(4783),n=r(72924),o=r(64665),s=r(1119),a=r(79864),c=r(67772),u=r(33708),h=r(69351),d=r(76239),l=r(77802),f=r(15697),p=r(50019),A=r(14200),g=r(71125),m=r(89434),y=r(66552);t.default=function(e=!1){const t=[f.default,p.default,A.default,g.default,m.default,y.default,u.default,h.default,c.default,d.default,l.default];return e?t.push(n.default,s.default):t.push(i.default,o.default),t.push(a.default),t}},64665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const i=r(93487),n=r(76776),o=r(10412),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return a(e,"additionalItems",t);r.items=!0,(0,n.alwaysValidSchema)(r,t)||e.ok((0,o.validateArray)(e))}};function a(e,t,r=e.schema){const{gen:o,parentSchema:s,data:a,keyword:c,it:u}=e;!function(e){const{opts:i,errSchemaPath:o}=u,s=r.length,a=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(i.strictTuples&&!a){const e=`"${c}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,n.checkStrictMode)(u,e,i.strictTuples)}}(s),u.opts.unevaluated&&r.length&&!0!==u.items&&(u.items=n.mergeEvaluated.items(o,r.length,u.items));const h=o.name("valid"),d=o.const("len",i._`${a}.length`);r.forEach(((t,r)=>{(0,n.alwaysValidSchema)(u,t)||(o.if(i._`${d} > ${r}`,(()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},h))),e.ok(h))}))}t.validateTuple=a,t.default=s},1119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(76776),o=r(10412),s=r(4783),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>i.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>i._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:i}=e,{prefixItems:a}=r;i.items=!0,(0,n.alwaysValidSchema)(i,t)||(a?(0,s.validateAdditionalItems)(e,a):e.ok((0,o.validateArray)(e)))}};t.default=a},15697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(76776),n={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,i.alwaysValidSchema)(n,r))return void e.fail();const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t.default=n},14200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(76776),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>i._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:r,parentSchema:o,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&o.discriminator)return;const a=r,c=t.let("valid",!1),u=t.let("passing",null),h=t.name("_valid");e.setParams({passing:u}),t.block((function(){a.forEach(((r,o)=>{let a;(0,n.alwaysValidSchema)(s,r)?t.var(h,!0):a=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},h),o>0&&t.if(i._`${h} && ${c}`).assign(c,!1).assign(u,i._`[${u}, ${o}]`).else(),t.if(h,(()=>{t.assign(c,!0),t.assign(u,o),a&&e.mergeEvaluated(a,i.Name)}))}))})),e.result(c,(()=>e.reset()),(()=>e.error(!0)))}};t.default=o},77802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(10412),n=r(93487),o=r(76776),s=r(76776),a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:a,parentSchema:c,it:u}=e,{opts:h}=u,d=(0,i.allSchemaProperties)(r),l=d.filter((e=>(0,o.alwaysValidSchema)(u,r[e])));if(0===d.length||l.length===d.length&&(!u.opts.unevaluated||!0===u.props))return;const f=h.strictSchema&&!h.allowMatchingProperties&&c.properties,p=t.name("valid");!0===u.props||u.props instanceof n.Name||(u.props=(0,s.evaluatedPropsToName)(t,u.props));const{props:A}=u;function g(e){for(const t in f)new RegExp(e).test(t)&&(0,o.checkStrictMode)(u,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function m(r){t.forIn("key",a,(o=>{t.if(n._`${(0,i.usePattern)(e,r)}.test(${o})`,(()=>{const i=l.includes(r);i||e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:o,dataPropType:s.Type.Str},p),u.opts.unevaluated&&!0!==A?t.assign(n._`${A}[${o}]`,!0):i||u.allErrors||t.if((0,n.not)(p),(()=>t.break()))}))}))}!function(){for(const e of d)f&&g(e),u.allErrors?m(e):(t.var(p,!0),m(e),t.if(p))}()}};t.default=a},72924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(64665),n={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,i.validateTuple)(e,"items")};t.default=n},76239:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(74815),n=r(10412),o=r(76776),s=r(69351),a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:u}=e;"all"===u.opts.removeAdditional&&void 0===a.additionalProperties&&s.default.code(new i.KeywordCxt(u,s.default,"additionalProperties"));const h=(0,n.allSchemaProperties)(r);for(const e of h)u.definedProperties.add(e);u.opts.unevaluated&&h.length&&!0!==u.props&&(u.props=o.mergeEvaluated.props(t,(0,o.toHash)(h),u.props));const d=h.filter((e=>!(0,o.alwaysValidSchema)(u,r[e])));if(0===d.length)return;const l=t.name("valid");for(const r of d)f(r)?p(r):(t.if((0,n.propertyInData)(t,c,r,u.opts.ownProperties)),p(r),u.allErrors||t.else().var(l,!0),t.endIf()),e.it.definedProperties.add(r),e.ok(l);function f(e){return u.opts.useDefaults&&!u.compositeRule&&void 0!==r[e].default}function p(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},l)}}};t.default=a},33708:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(76776),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>i._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:r,data:o,it:s}=e;if((0,n.alwaysValidSchema)(s,r))return;const a=t.name("valid");t.forIn("key",o,(r=>{e.setParams({propertyName:r}),e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:!0},a),t.if((0,i.not)(a),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(a)}};t.default=o},66552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(76776),n={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,i.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t.default=n},10412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const i=r(93487),n=r(76776),o=r(22141),s=r(76776);function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:i._`Object.prototype.hasOwnProperty`})}function c(e,t,r){return i._`${a(e)}.call(${t}, ${r})`}function u(e,t,r,n){const o=i._`${t}${(0,i.getProperty)(r)} === undefined`;return n?(0,i.or)(o,(0,i.not)(c(e,t,r))):o}function h(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}t.checkReportMissingProp=function(e,t){const{gen:r,data:n,it:o}=e;r.if(u(r,n,t,o.opts.ownProperties),(()=>{e.setParams({missingProperty:i._`${t}`},!0),e.error()}))},t.checkMissingProp=function({gen:e,data:t,it:{opts:r}},n,o){return(0,i.or)(...n.map((n=>(0,i.and)(u(e,t,n,r.ownProperties),i._`${o} = ${n}`))))},t.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},t.hasPropFunc=a,t.isOwnProperty=c,t.propertyInData=function(e,t,r,n){const o=i._`${t}${(0,i.getProperty)(r)} !== undefined`;return n?i._`${o} && ${c(e,t,r)}`:o},t.noPropertyInData=u,t.allSchemaProperties=h,t.schemaProperties=function(e,t){return h(t).filter((r=>!(0,n.alwaysValidSchema)(e,t[r])))},t.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:c},u,h,d){const l=d?i._`${e}, ${t}, ${n}${s}`:t,f=[[o.default.instancePath,(0,i.strConcat)(o.default.instancePath,a)],[o.default.parentData,c.parentData],[o.default.parentDataProperty,c.parentDataProperty],[o.default.rootData,o.default.rootData]];c.opts.dynamicRef&&f.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);const p=i._`${l}, ${r.object(...f)}`;return h!==i.nil?i._`${u}.call(${h}, ${p})`:i._`${u}(${p})`};const d=i._`new RegExp`;t.usePattern=function({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(r,n);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:i._`${"new RegExp"===o.code?d:(0,s.useFunc)(e,o)}(${r}, ${n})`})},t.validateArray=function(e){const{gen:t,data:r,keyword:o,it:s}=e,a=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return c((()=>t.assign(e,!1))),e}return t.var(a,!0),c((()=>t.break())),a;function c(s){const c=t.const("len",i._`${r}.length`);t.forRange("i",0,c,(r=>{e.subschema({keyword:o,dataProp:r,dataPropType:n.Type.Num},a),t.if((0,i.not)(a),s)}))}},t.validateUnion=function(e){const{gen:t,schema:r,keyword:o,it:s}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some((e=>(0,n.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const a=t.let("valid",!1),c=t.name("_valid");t.block((()=>r.forEach(((r,n)=>{const s=e.subschema({keyword:o,schemaProp:n,compositeRule:!0},c);t.assign(a,i._`${a} || ${c}`),e.mergeValidEvaluated(s,c)||t.if((0,i.not)(a))})))),e.result(a,(()=>e.reset()),(()=>e.error(!0)))}},78386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=r},95684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(78386),n=r(28280),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",i.default,n.default];t.default=o},28280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const i=r(6646),n=r(10412),o=r(93487),s=r(22141),a=r(25173),c=r(76776),u={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:s,schemaEnv:c,validateName:u,opts:l,self:f}=n,{root:p}=c;if(("#"===r||"#/"===r)&&s===p.baseId)return function(){if(c===p)return d(e,u,c,c.$async);const r=t.scopeValue("root",{ref:p});return d(e,o._`${r}.validate`,p,p.$async)}();const A=a.resolveRef.call(f,p,s,r);if(void 0===A)throw new i.default(n.opts.uriResolver,s,r);return A instanceof a.SchemaEnv?function(t){const r=h(e,t);d(e,r,t,t.$async)}(A):function(i){const n=t.scopeValue("schema",!0===l.code.source?{ref:i,code:(0,o.stringify)(i)}:{ref:i}),s=t.name("valid"),a=e.subschema({schema:i,dataTypes:[],schemaPath:o.nil,topSchemaRef:n,errSchemaPath:r},s);e.mergeEvaluated(a),e.ok(s)}(A)}};function h(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):o._`${r.scopeValue("wrapper",{ref:t})}.validate`}function d(e,t,r,i){const{gen:a,it:u}=e,{allErrors:h,schemaEnv:d,opts:l}=u,f=l.passContext?s.default.this:o.nil;function p(e){const t=o._`${e}.errors`;a.assign(s.default.vErrors,o._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),a.assign(s.default.errors,o._`${s.default.vErrors}.length`)}function A(e){var t;if(!u.opts.unevaluated)return;const i=null===(t=null==r?void 0:r.validate)||void 0===t?void 0:t.evaluated;if(!0!==u.props)if(i&&!i.dynamicProps)void 0!==i.props&&(u.props=c.mergeEvaluated.props(a,i.props,u.props));else{const t=a.var("props",o._`${e}.evaluated.props`);u.props=c.mergeEvaluated.props(a,t,u.props,o.Name)}if(!0!==u.items)if(i&&!i.dynamicItems)void 0!==i.items&&(u.items=c.mergeEvaluated.items(a,i.items,u.items));else{const t=a.var("items",o._`${e}.evaluated.items`);u.items=c.mergeEvaluated.items(a,t,u.items,o.Name)}}i?function(){if(!d.$async)throw new Error("async schema referenced by sync schema");const r=a.let("valid");a.try((()=>{a.code(o._`await ${(0,n.callValidateCode)(e,t,f)}`),A(t),h||a.assign(r,!0)}),(e=>{a.if(o._`!(${e} instanceof ${u.ValidationError})`,(()=>a.throw(e))),p(e),h||a.assign(r,!1)})),e.ok(r)}():e.result((0,n.callValidateCode)(e,t,f),(()=>A(t)),(()=>p(t)))}t.getValidate=h,t.callRef=d,t.default=u},1240:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(89306),o=r(25173),s=r(76776),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===n.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>i._`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(e){const{gen:t,data:r,schema:a,parentSchema:c,it:u}=e,{oneOf:h}=c;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=a.propertyName;if("string"!=typeof d)throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const l=t.let("valid",!1),f=t.const("tag",i._`${r}${(0,i.getProperty)(d)}`);function p(r){const n=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:r},n);return e.mergeEvaluated(o,i.Name),n}t.if(i._`typeof ${f} == "string"`,(()=>function(){const r=function(){var e;const t={},r=n(c);let i=!0;for(let t=0;t<h.length;t++){let c=h[t];(null==c?void 0:c.$ref)&&!(0,s.schemaHasRulesButRef)(c,u.self.RULES)&&(c=o.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,null==c?void 0:c.$ref),c instanceof o.SchemaEnv&&(c=c.schema));const l=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[d];if("object"!=typeof l)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);i=i&&(r||n(c)),a(l,t)}if(!i)throw new Error(`discriminator: "${d}" must be required`);return t;function n({required:e}){return Array.isArray(e)&&e.includes(d)}function a(e,t){if(e.const)l(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(const r of e.enum)l(r,t)}}function l(e,r){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${d}" values must be unique strings`);t[e]=r}}();t.if(!1);for(const e in r)t.elseIf(i._`${f} === ${e}`),t.assign(l,p(r[e]));t.else(),e.error(!1,{discrError:n.DiscrError.Mapping,tag:f,tagName:d}),t.endIf()}()),(()=>e.error(!1,{discrError:n.DiscrError.Tag,tag:f,tagName:d}))),e.ok(l)}};t.default=a},89306:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,(r=t.DiscrError||(t.DiscrError={})).Tag="tag",r.Mapping="mapping"},93924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(95684),n=r(62649),o=r(8200),s=r(39502),a=r(66167),c=[i.default,n.default,(0,o.default)(),s.default,a.metadataVocabulary,a.contentVocabulary];t.default=c},89651:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>i.str`must match format "${e}"`,params:({schemaCode:e})=>i._`{format: ${e}}`},code(e,t){const{gen:r,data:n,$data:o,schema:s,schemaCode:a,it:c}=e,{opts:u,errSchemaPath:h,schemaEnv:d,self:l}=c;u.validateFormats&&(o?function(){const o=r.scopeValue("formats",{ref:l.formats,code:u.code.formats}),s=r.const("fDef",i._`${o}[${a}]`),c=r.let("fType"),h=r.let("format");r.if(i._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>r.assign(c,i._`${s}.type || "string"`).assign(h,i._`${s}.validate`)),(()=>r.assign(c,i._`"string"`).assign(h,s))),e.fail$data((0,i.or)(!1===u.strictSchema?i.nil:i._`${a} && !${h}`,function(){const e=d.$async?i._`(${s}.async ? await ${h}(${n}) : ${h}(${n}))`:i._`${h}(${n})`,r=i._`(typeof ${h} == "function" ? ${e} : ${h}.test(${n}))`;return i._`${h} && ${h} !== true && ${c} === ${t} && !${r}`}()))}():function(){const o=l.formats[s];if(!o)return void function(){if(!1!==u.strictSchema)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${h}"`}l.logger.warn(e())}();if(!0===o)return;const[a,c,f]=function(e){const t=e instanceof RegExp?(0,i.regexpCode)(e):u.code.formats?i._`${u.code.formats}${(0,i.getProperty)(s)}`:void 0,n=r.scopeValue("formats",{key:s,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,n]:[e.type||"string",e.validate,i._`${n}.validate`]}(o);a===t&&e.pass(function(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!d.$async)throw new Error("async format in sync schema");return i._`await ${f}(${n})`}return"function"==typeof c?i._`${f}(${n})`:i._`${f}.test(${n})`}())}())}};t.default=n},39502:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=[r(89651).default];t.default=i},66167:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},64693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(76776),o=r(43510),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>i._`{allowedValue: ${e}}`},code(e){const{gen:t,data:r,$data:s,schemaCode:a,schema:c}=e;s||c&&"object"==typeof c?e.fail$data(i._`!${(0,n.useFunc)(t,o.default)}(${r}, ${a})`):e.fail(i._`${c} !== ${r}`)}};t.default=s},30966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(76776),o=r(43510),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>i._`{allowedValues: ${e}}`},code(e){const{gen:t,data:r,$data:s,schema:a,schemaCode:c,it:u}=e;if(!s&&0===a.length)throw new Error("enum must have non-empty array");const h=a.length>=u.opts.loopEnum;let d;const l=()=>null!=d?d:d=(0,n.useFunc)(t,o.default);let f;if(h||s)f=t.let("valid"),e.block$data(f,(function(){t.assign(f,!1),t.forOf("v",c,(e=>t.if(i._`${l()}(${r}, ${e})`,(()=>t.assign(f,!0).break()))))}));else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);f=(0,i.or)(...a.map(((t,n)=>function(e,t){const n=a[t];return"object"==typeof n&&null!==n?i._`${l()}(${r}, ${e}[${t}])`:i._`${r} === ${n}`}(e,n))))}e.pass(f)}};t.default=s},62649:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(83983),n=r(90430),o=r(93229),s=r(74336),a=r(90498),c=r(33301),u=r(31687),h=r(82958),d=r(64693),l=r(30966),f=[i.default,n.default,o.default,s.default,a.default,c.default,u.default,h.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},d.default,l.default];t.default=f},31687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxItems"===e?"more":"fewer";return i.str`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,o="maxItems"===t?i.operators.GT:i.operators.LT;e.fail$data(i._`${r}.length ${o} ${n}`)}};t.default=n},93229:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=r(76776),o=r(74499),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxLength"===e?"more":"fewer";return i.str`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:s,it:a}=e,c="maxLength"===t?i.operators.GT:i.operators.LT,u=!1===a.opts.unicode?i._`${r}.length`:i._`${(0,n.useFunc)(e.gen,o.default)}(${r})`;e.fail$data(i._`${u} ${c} ${s}`)}};t.default=s},83983:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n=i.operators,o={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},s={message:({keyword:e,schemaCode:t})=>i.str`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>i._`{comparison: ${o[e].okStr}, limit: ${t}}`},a={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data(i._`${r} ${o[t].fail} ${n} || isNaN(${r})`)}};t.default=a},90498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){const r="maxProperties"===e?"more":"fewer";return i.str`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>i._`{limit: ${e}}`},code(e){const{keyword:t,data:r,schemaCode:n}=e,o="maxProperties"===t?i.operators.GT:i.operators.LT;e.fail$data(i._`Object.keys(${r}).length ${o} ${n}`)}};t.default=n},90430:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(93487),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>i.str`must be multiple of ${e}`,params:({schemaCode:e})=>i._`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:n,it:o}=e,s=o.opts.multipleOfPrecision,a=t.let("res"),c=s?i._`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:i._`${a} !== parseInt(${a})`;e.fail$data(i._`(${n} === 0 || (${a} = ${r}/${n}, ${c}))`)}};t.default=n},74336:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(10412),n=r(93487),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>n.str`must match pattern "${e}"`,params:({schemaCode:e})=>n._`{pattern: ${e}}`},code(e){const{data:t,$data:r,schema:o,schemaCode:s,it:a}=e,c=a.opts.unicodeRegExp?"u":"",u=r?n._`(new RegExp(${s}, ${c}))`:(0,i.usePattern)(e,o);e.fail$data(n._`!${u}.test(${t})`)}};t.default=o},33301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(10412),n=r(93487),o=r(76776),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>n.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>n._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:r,schemaCode:s,data:a,$data:c,it:u}=e,{opts:h}=u;if(!c&&0===r.length)return;const d=r.length>=h.loopRequired;if(u.allErrors?function(){if(d||c)e.block$data(n.nil,l);else for(const t of r)(0,i.checkReportMissingProp)(e,t)}():function(){const o=t.let("missing");if(d||c){const r=t.let("valid",!0);e.block$data(r,(()=>function(r,o){e.setParams({missingProperty:r}),t.forOf(r,s,(()=>{t.assign(o,(0,i.propertyInData)(t,a,r,h.ownProperties)),t.if((0,n.not)(o),(()=>{e.error(),t.break()}))}),n.nil)}(o,r))),e.ok(r)}else t.if((0,i.checkMissingProp)(e,r,o)),(0,i.reportMissingProp)(e,o),t.else()}(),h.strictRequired){const t=e.parentSchema.properties,{definedProperties:i}=e.it;for(const e of r)if(void 0===(null==t?void 0:t[e])&&!i.has(e)){const t=`required property "${e}" is not defined at "${u.schemaEnv.baseId+u.errSchemaPath}" (strictRequired)`;(0,o.checkStrictMode)(u,t,u.opts.strictRequired)}}function l(){t.forOf("prop",s,(r=>{e.setParams({missingProperty:r}),t.if((0,i.noPropertyInData)(t,a,r,h.ownProperties),(()=>e.error()))}))}}};t.default=s},82958:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(50453),n=r(93487),o=r(76776),s=r(43510),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>n.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>n._`{i: ${e}, j: ${t}}`},code(e){const{gen:t,data:r,$data:a,schema:c,parentSchema:u,schemaCode:h,it:d}=e;if(!a&&!c)return;const l=t.let("valid"),f=u.items?(0,i.getSchemaTypes)(u.items):[];function p(o,s){const a=t.name("item"),c=(0,i.checkDataTypes)(f,a,d.opts.strictNumbers,i.DataType.Wrong),u=t.const("indices",n._`{}`);t.for(n._`;${o}--;`,(()=>{t.let(a,n._`${r}[${o}]`),t.if(c,n._`continue`),f.length>1&&t.if(n._`typeof ${a} == "string"`,n._`${a} += "_"`),t.if(n._`typeof ${u}[${a}] == "number"`,(()=>{t.assign(s,n._`${u}[${a}]`),e.error(),t.assign(l,!1).break()})).code(n._`${u}[${a}] = ${o}`)}))}function A(i,a){const c=(0,o.useFunc)(t,s.default),u=t.name("outer");t.label(u).for(n._`;${i}--;`,(()=>t.for(n._`${a} = ${i}; ${a}--;`,(()=>t.if(n._`${c}(${r}[${i}], ${r}[${a}])`,(()=>{e.error(),t.assign(l,!1).break(u)}))))))}e.block$data(l,(function(){const i=t.let("i",n._`${r}.length`),o=t.let("j");e.setParams({i,j:o}),t.assign(l,!0),t.if(n._`${i} > 1`,(()=>(f.length>0&&!f.some((e=>"object"===e||"array"===e))?p:A)(i,o)))}),n._`${h} === false`),e.ok(l)}};t.default=a},39809:(e,t,r)=>{"use strict";const i=t;i.bignum=r(4590),i.define=r(22500).define,i.base=r(71979),i.constants=r(36826),i.decoders=r(78307),i.encoders=r(56579)},22500:(e,t,r)=>{"use strict";const i=r(56579),n=r(78307),o=r(35717);function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return o(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},36625:(e,t,r)=>{"use strict";const i=r(35717),n=r(98465).b,o=r(2399).Buffer;function s(e,t){n.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return a.isEncoderBuffer(e)||(e=new a(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}i(s,n),t.C=s,s.isDecoderBuffer=function(e){return e instanceof s||"object"==typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},s.prototype.save=function(){return{offset:this.offset,reporter:n.prototype.save.call(this)}},s.prototype.restore=function(e){const t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,n.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},s.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.R=a,a.isEncoderBuffer=function(e){return e instanceof a||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},a.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},71979:(e,t,r)=>{"use strict";const i=t;i.Reporter=r(98465).b,i.DecoderBuffer=r(36625).C,i.EncoderBuffer=r(36625).R,i.Node=r(41949)},41949:(e,t,r)=>{"use strict";const i=r(98465).b,n=r(36625).R,o=r(36625).C,s=r(79746),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function u(e,t,r){const i={};this._baseState=i,i.name=r,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}e.exports=u;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){const e=this._baseState,t={};h.forEach((function(r){t[r]=e[r]}));const r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){const e=this._baseState;c.forEach((function(t){this[t]=function(){const r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){const t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),s.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){const t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(s(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);const i=e[r];t[i]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),a.forEach((function(e){u.prototype[e]=function(){const t=this._baseState,r=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){s(e);const t=this._baseState;return s(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){const t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){const t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){const t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){const t=this._baseState;return s(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){const t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){const t=this._baseState;return s(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){const r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));let i,n=r.default,s=!0,a=null;if(null!==r.key&&(a=e.enterKey(r.key)),r.optional){let i=null;if(null!==r.explicit?i=r.explicit:null!==r.implicit?i=r.implicit:null!==r.tag&&(i=r.tag),null!==i||r.any){if(s=this._peekTag(e,i,r.any),e.isError(s))return s}else{const i=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),s=!0}catch(e){s=!1}e.restore(i)}}if(r.obj&&s&&(i=e.enterObject()),s){if(null!==r.explicit){const t=this._decodeTag(e,r.explicit);if(e.isError(t))return t;e=t}const i=e.offset;if(null===r.use&&null===r.choice){let t;r.any&&(t=e.save());const i=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(i))return i;r.any?n=e.raw(t):e=i}if(t&&t.track&&null!==r.tag&&t.track(e.path(),i,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(n=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(n))return n;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){const i=new o(n);n=this._getUse(r.contains,e._reporterState.obj)._decode(i,t)}}return r.obj&&s&&(n=e.leaveObject(i)),null===r.key||null===n&&!0!==s?null!==a&&e.exitKey(a):e.leaveKey(a,r.key,n),n},u.prototype._decodeGeneric=function(e,t,r){const i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),s(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){const r=this._baseState;let i=null,n=!1;return Object.keys(r.choice).some((function(o){const s=e.save(),a=r.choice[o];try{const r=a._decode(e,t);if(e.isError(r))return!1;i={type:o,value:r},n=!0}catch(t){return e.restore(s),!1}return!0}),this),n?i:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},u.prototype._encode=function(e,t,r){const i=this._baseState;if(null!==i.default&&i.default===e)return;const n=this._encodeValue(e,t,r);return void 0===n||this._skipDefault(n,t,r)?void 0:n},u.prototype._encodeValue=function(e,t,r){const n=this._baseState;if(null===n.parent)return n.children[0]._encode(e,t||new i);let o=null;if(this.reporter=t,n.optional&&void 0===e){if(null===n.default)return;e=n.default}let s=null,a=!1;if(n.any)o=this._createEncoderBuffer(e);else if(n.choice)o=this._encodeChoice(e,t);else if(n.contains)s=this._getUse(n.contains,r)._encode(e,t),a=!0;else if(n.children)s=n.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");const i=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const n=r._encode(e[r._baseState.key],t,e);return t.leaveKey(i),n}),this).filter((function(e){return e})),s=this._createEncoderBuffer(s);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return t.error("Too many args for : "+n.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const r=this.clone();r._baseState.implicit=null,s=this._createEncoderBuffer(e.map((function(r){const i=this._baseState;return this._getUse(i.args[0],e)._encode(r,t)}),r))}else null!==n.use?o=this._getUse(n.use,r)._encode(e,t):(s=this._encodePrimitive(n.tag,e),a=!0);if(!n.any&&null===n.choice){const e=null!==n.implicit?n.implicit:n.tag,r=null===n.implicit?"universal":"context";null===e?null===n.use&&t.error("Tag could be omitted only for .use()"):null===n.use&&(o=this._encodeComposite(e,a,r,s))}return null!==n.explicit&&(o=this._encodeComposite(n.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(e,t){const r=this._baseState,i=r.choice[e.type];return i||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){const r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},98465:(e,t,r)=>{"use strict";const i=r(35717);function n(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.b=n,n.prototype.isError=function(e){return e instanceof o},n.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},n.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},n.prototype.enterKey=function(e){return this._reporterState.path.push(e)},n.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},n.prototype.leaveKey=function(e,t,r){const i=this._reporterState;this.exitKey(e),null!==i.obj&&(i.obj[t]=r)},n.prototype.path=function(){return this._reporterState.path.join("/")},n.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},n.prototype.leaveObject=function(e){const t=this._reporterState,r=t.obj;return t.obj=e,r},n.prototype.error=function(e){let t;const r=this._reporterState,i=e instanceof o;if(t=i?e:new o(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return i||r.errors.push(t),t},n.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},i(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},70160:(e,t)=>{"use strict";function r(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const i=e[r];t[i]=r})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},36826:(e,t,r)=>{"use strict";const i=t;i._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const i=e[r];t[i]=r})),t},i.der=r(70160)},41671:(e,t,r)=>{"use strict";const i=r(35717),n=r(4590),o=r(36625).C,s=r(41949),a=r(70160);function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.call(this,"der",e)}function h(e,t){let r=e.readUInt8(t);if(e.isError(r))return r;const i=a.tagClass[r>>6],n=0==(32&r);if(31==(31&r)){let i=r;for(r=0;128==(128&i);){if(i=e.readUInt8(t),e.isError(i))return i;r<<=7,r|=127&i}}else r&=31;return{cls:i,primitive:n,tag:r,tagStr:a.tag[r]}}function d(e,t,r){let i=e.readUInt8(r);if(e.isError(i))return i;if(!t&&128===i)return null;if(0==(128&i))return i;const n=127&i;if(n>4)return e.error("length octect is too long");i=0;for(let t=0;t<n;t++){i<<=8;const t=e.readUInt8(r);if(e.isError(t))return t;i|=t}return i}e.exports=c,c.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},i(u,s),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;const i=e.save(),n=h(e,'Failed to peek tag: "'+t+'"');return e.isError(n)?n:(e.restore(i),n.tag===t||n.tagStr===t||n.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){const i=h(e,'Failed to decode tag of "'+t+'"');if(e.isError(i))return i;let n=d(e,i.primitive,'Failed to get length of "'+t+'"');if(e.isError(n))return n;if(!r&&i.tag!==t&&i.tagStr!==t&&i.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(i.primitive||null!==n)return e.skip(n,'Failed to match body of: "'+t+'"');const o=e.save(),s=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(s)?s:(n=e.offset-o.offset,e.restore(o),e.skip(n,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){const r=h(e,t);if(e.isError(r))return r;const i=d(e,r.primitive,t);if(e.isError(i))return i;let n;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,i){const n=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=r.decode(e,"der",i);if(e.isError(o)&&t)break;n.push(o)}return n},u.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let r="";for(let e=0;e<t.length/2;e++)r+=String.fromCharCode(t.readUInt16BE(2*e));return r}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){let i;const n=[];let o=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),o<<=7,o|=127&s,0==(128&s)&&(n.push(o),o=0);128&s&&n.push(o);const a=n[0]/40|0,c=n[0]%40;if(i=r?n:[a,c].concat(n.slice(1)),t){let e=t[i.join(" ")];void 0===e&&(e=t[i.join(".")]),void 0!==e&&(i=e)}return i},u.prototype._decodeTime=function(e,t){const r=e.raw().toString();let i,n,o,s,a,c;if("gentime"===t)i=0|r.slice(0,4),n=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");i=0|r.slice(0,2),n=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12),i=i<70?2e3+i:1900+i}return Date.UTC(i,n-1,o,s,a,c,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){const r=e.raw();let i=new n(r);return t&&(i=t[i.toString(10)]||i),i},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},78307:(e,t,r)=>{"use strict";const i=t;i.der=r(41671),i.pem=r(59631)},59631:(e,t,r)=>{"use strict";const i=r(35717),n=r(2399).Buffer,o=r(41671);function s(e){o.call(this,e),this.enc="pem"}i(s,o),e.exports=s,s.prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g),i=t.label.toUpperCase(),s=/^-----(BEGIN|END) ([^-]+)-----$/;let a=-1,c=-1;for(let e=0;e<r.length;e++){const t=r[e].match(s);if(null!==t&&t[2]===i){if(-1!==a){if("END"!==t[1])break;c=e;break}if("BEGIN"!==t[1])break;a=e}}if(-1===a||-1===c)throw new Error("PEM section not found for: "+i);const u=r.slice(a+1,c).join("");u.replace(/[^a-z0-9+/=]+/gi,"");const h=n.from(u,"base64");return o.prototype.decode.call(this,h,t)}},66984:(e,t,r)=>{"use strict";const i=r(35717),n=r(2399).Buffer,o=r(41949),s=r(70160);function a(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.call(this,"der",e)}function u(e){return e<10?"0"+e:e}e.exports=a,a.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},i(c,o),c.prototype._encodeComposite=function(e,t,r,i){const o=function(e,t,r,i){let n;if("seqof"===e?e="seq":"setof"===e&&(e="set"),s.tagByName.hasOwnProperty(e))n=s.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return i.error("Unknown tag: "+e);n=e}return n>=31?i.error("Multi-octet tag encoding unsupported"):(t||(n|=32),n|=s.tagClassByName[r||"universal"]<<6,n)}(e,t,r,this.reporter);if(i.length<128){const e=n.alloc(2);return e[0]=o,e[1]=i.length,this._createEncoderBuffer([e,i])}let a=1;for(let e=i.length;e>=256;e>>=8)a++;const c=n.alloc(2+a);c[0]=o,c[1]=128|a;for(let e=1+a,t=i.length;t>0;e--,t>>=8)c[e]=255&t;return this._createEncoderBuffer([c,i])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=n.alloc(2*e.length);for(let r=0;r<e.length;r++)t.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let i=0;for(let t=0;t<e.length;t++){let r=e[t];for(i++;r>=128;r>>=7)i++}const o=n.alloc(i);let s=o.length-1;for(let t=e.length-1;t>=0;t--){let r=e[t];for(o[s--]=127&r;(r>>=7)>0;)o[s--]=128|127&r}return this._createEncoderBuffer(o)},c.prototype._encodeTime=function(e,t){let r;const i=new Date(e);return"gentime"===t?r=[u(i.getUTCFullYear()),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[u(i.getUTCFullYear()%100),u(i.getUTCMonth()+1),u(i.getUTCDate()),u(i.getUTCHours()),u(i.getUTCMinutes()),u(i.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!n.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=n.from(t)}if(n.isBuffer(e)){let t=e.length;0===e.length&&t++;const r=n.alloc(t);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let r=1;for(let t=e;t>=256;t>>=8)r++;const i=new Array(r);for(let t=i.length-1;t>=0;t--)i[t]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(n.from(i))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){const i=this._baseState;let n;if(null===i.default)return!1;const o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},56579:(e,t,r)=>{"use strict";const i=t;i.der=r(66984),i.pem=r(2883)},2883:(e,t,r)=>{"use strict";const i=r(35717),n=r(66984);function o(e){n.call(this,e),this.enc="pem"}i(o,n),e.exports=o,o.prototype.encode=function(e,t){const r=n.prototype.encode.call(this,e).toString("base64"),i=["-----BEGIN "+t.label+"-----"];for(let e=0;e<r.length;e+=64)i.push(r.slice(e,e+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},4590:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(80950).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function u(e,t,r,i){for(var n=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=e.length-1,o=0;n>=0;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var o=e.length-r,s=o%i,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=i)c=u(e,h,h+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],o=0|t.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var h=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=l;f++){var p=u-f|0;h+=(s=(n=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);r=0!=(o=a>>>24-n&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],f=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var A=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?A+r:h[u-A.length]+A+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),h=this.clone();if(c){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,o=0;o<i.length;o++)t=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<r.length;o++)t=(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,o,s=e.words,a=t.words,c=r.words,u=0,h=0|s[0],d=8191&h,l=h>>>13,f=0|s[1],p=8191&f,A=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,I=0|s[3],w=8191&I,b=I>>>13,v=0|s[4],E=8191&v,C=v>>>13,B=0|s[5],S=8191&B,_=B>>>13,Q=0|s[6],D=8191&Q,k=Q>>>13,M=0|s[7],P=8191&M,x=M>>>13,F=0|s[8],R=8191&F,O=F>>>13,T=0|s[9],N=8191&T,U=T>>>13,j=0|a[0],L=8191&j,q=j>>>13,K=0|a[1],H=8191&K,G=K>>>13,z=0|a[2],J=8191&z,Y=z>>>13,V=0|a[3],$=8191&V,W=V>>>13,Z=0|a[4],X=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],oe=8191&ne,se=ne>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,he=0|a[8],de=8191&he,le=he>>>13,fe=0|a[9],pe=8191&fe,Ae=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(i=Math.imul(d,L))|0)+((8191&(n=(n=Math.imul(d,q))+Math.imul(l,L)|0))<<13)|0;u=((o=Math.imul(l,q))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,q))+Math.imul(A,L)|0,o=Math.imul(A,q);var me=(u+(i=i+Math.imul(d,H)|0)|0)+((8191&(n=(n=n+Math.imul(d,G)|0)+Math.imul(l,H)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,L),n=(n=Math.imul(m,q))+Math.imul(y,L)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,G)|0;var ye=(u+(i=i+Math.imul(d,J)|0)|0)+((8191&(n=(n=n+Math.imul(d,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((o=o+Math.imul(l,Y)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,L),n=(n=Math.imul(w,q))+Math.imul(b,L)|0,o=Math.imul(b,q),i=i+Math.imul(m,H)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0;var Ie=(u+(i=i+Math.imul(d,$)|0)|0)+((8191&(n=(n=n+Math.imul(d,W)|0)+Math.imul(l,$)|0))<<13)|0;u=((o=o+Math.imul(l,W)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(E,L),n=(n=Math.imul(E,q))+Math.imul(C,L)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,Y)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,W)|0;var we=(u+(i=i+Math.imul(d,X)|0)|0)+((8191&(n=(n=n+Math.imul(d,ee)|0)+Math.imul(l,X)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(S,L),n=(n=Math.imul(S,q))+Math.imul(_,L)|0,o=Math.imul(_,q),i=i+Math.imul(E,H)|0,n=(n=n+Math.imul(E,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(m,$)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,W)|0,i=i+Math.imul(p,X)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,ee)|0;var be=(u+(i=i+Math.imul(d,re)|0)|0)+((8191&(n=(n=n+Math.imul(d,ie)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ie)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(D,L),n=(n=Math.imul(D,q))+Math.imul(k,L)|0,o=Math.imul(k,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(E,J)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,W)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(m,X)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ie)|0;var ve=(u+(i=i+Math.imul(d,oe)|0)|0)+((8191&(n=(n=n+Math.imul(d,se)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,se)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,q))+Math.imul(x,L)|0,o=Math.imul(x,q),i=i+Math.imul(D,H)|0,n=(n=n+Math.imul(D,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(E,$)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,W)|0,i=i+Math.imul(w,X)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0;var Ee=(u+(i=i+Math.imul(d,ce)|0)|0)+((8191&(n=(n=n+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,L),n=(n=Math.imul(R,q))+Math.imul(O,L)|0,o=Math.imul(O,q),i=i+Math.imul(P,H)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(D,J)|0,n=(n=n+Math.imul(D,Y)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0;var Ce=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(n=(n=n+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(N,L),n=(n=Math.imul(N,q))+Math.imul(U,L)|0,o=Math.imul(U,q),i=i+Math.imul(R,H)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,G)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(D,$)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,W)|0,i=i+Math.imul(S,X)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(E,re)|0,n=(n=n+Math.imul(E,ie)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ie)|0,i=i+Math.imul(w,oe)|0,n=(n=n+Math.imul(w,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(p,de)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Be=(u+(i=i+Math.imul(d,pe)|0)|0)+((8191&(n=(n=n+Math.imul(d,Ae)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(N,H),n=(n=Math.imul(N,G))+Math.imul(U,H)|0,o=Math.imul(U,G),i=i+Math.imul(R,J)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(D,X)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,ee)|0,i=i+Math.imul(S,re)|0,n=(n=n+Math.imul(S,ie)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0,i=i+Math.imul(m,de)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,le)|0;var Se=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(N,J),n=(n=Math.imul(N,Y))+Math.imul(U,J)|0,o=Math.imul(U,Y),i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(D,re)|0,n=(n=n+Math.imul(D,ie)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ie)|0,i=i+Math.imul(S,oe)|0,n=(n=n+Math.imul(S,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,i=i+Math.imul(E,ce)|0,n=(n=n+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,i=i+Math.imul(w,de)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var _e=(u+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(N,$),n=(n=Math.imul(N,W))+Math.imul(U,$)|0,o=Math.imul(U,W),i=i+Math.imul(R,X)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,ee)|0,i=i+Math.imul(P,re)|0,n=(n=n+Math.imul(P,ie)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,i=i+Math.imul(S,ce)|0,n=(n=n+Math.imul(S,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(E,de)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,le)|0;var Qe=(u+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,Ae)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,i=Math.imul(N,X),n=(n=Math.imul(N,ee))+Math.imul(U,X)|0,o=Math.imul(U,ee),i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ie)|0,i=i+Math.imul(P,oe)|0,n=(n=n+Math.imul(P,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,i=i+Math.imul(D,ce)|0,n=(n=n+Math.imul(D,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,i=i+Math.imul(S,de)|0,n=(n=n+Math.imul(S,le)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,le)|0;var De=(u+(i=i+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(N,re),n=(n=Math.imul(N,ie))+Math.imul(U,re)|0,o=Math.imul(U,ie),i=i+Math.imul(R,oe)|0,n=(n=n+Math.imul(R,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,i=i+Math.imul(P,ce)|0,n=(n=n+Math.imul(P,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,i=i+Math.imul(D,de)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var ke=(u+(i=i+Math.imul(S,pe)|0)|0)+((8191&(n=(n=n+Math.imul(S,Ae)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(N,oe),n=(n=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,i=i+Math.imul(P,de)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,le)|0;var Me=(u+(i=i+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(N,ce),n=(n=Math.imul(N,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),i=i+Math.imul(R,de)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Pe=(u+(i=i+Math.imul(P,pe)|0)|0)+((8191&(n=(n=n+Math.imul(P,Ae)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,Ae)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(N,de),n=(n=Math.imul(N,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var xe=(u+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(u+(i=Math.imul(N,pe))|0)+((8191&(n=(n=Math.imul(N,Ae))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,Ae))+(n>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=Ie,c[4]=we,c[5]=be,c[6]=ve,c[7]=Ee,c[8]=Ce,c[9]=Be,c[10]=Se,c[11]=_e,c[12]=Qe,c[13]=De,c[14]=ke,c[15]=Me,c[16]=Pe,c[17]=xe,c[18]=Fe,0!==u&&(c[19]=u,r.length++),r};function A(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),o.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h=o-u,d=(0|e.words[h])*(0|t.words[u]),l=67108863&d;a=67108863&(l=l+a|0),n+=(s=(s=s+(d/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,e,t):A(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},g.prototype.permute=function(e,t,r,i,n,o){for(var s=0;s<o;s++)i[s]=t[e[s]],n[s]=r[e[s]]},g.prototype.transform=function(e,t,r,i,n,o){this.permute(o,e,t,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<n;h+=a)for(var d=c,l=u,f=0;f<s;f++){var p=r[h+f],A=i[h+f],g=r[h+f+s],m=i[h+f+s],y=d*g-l*m;m=d*m+l*g,g=y,r[h+f]=p+g,i[h+f]=A+m,r[h+f+s]=p-g,i[h+f+s]=A-m,f!==a&&(y=c*d-u*l,l=c*l+u*d,d=y)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},g.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},g.prototype.convert13b=function(e,t,r,n){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<n;++s)r[s]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=new Array(i),l=r.words;l.length=i,this.convert13b(e.words,e.length,s,i),this.convert13b(t.words,t.length,u,i),this.transform(s,o,a,c,i,n),this.transform(u,o,h,d,i,n);for(var f=0;f<i;f++){var p=a[f]*h[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*h[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,l,o,i,n),this.conjugate(l,o,i),this.normalize13b(l,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),A(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var n;i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var d=0|this.words[u];this.words[u]=h<<26-o|d>>>o,h=d&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r||!(this.words[r]&n))},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,o,s=e.length+r;this._expand(s);var a=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!=(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var h=i.clone()._ishlnsubmul(n,1,c);0===h.negative&&(i=h,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|i.words[n.length+d])+(0|i.words[n.length+d-1]);for(l=Math.min(l/s|0,67108863),i._ishlnsubmul(n,l,d);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,d),i.isZero()||(i.negative^=1);a&&(a.words[d]=l)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},o.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:n,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(h),s.isub(d)),n.iushrn(1),s.iushrn(1);for(var p=0,A=1;0==(r.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),s.isub(c)):(r.isub(t),a.isub(n),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,l=1;0==(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(n=0===t.cmpn(1)?s:a).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var o=t;t=r,r=o}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(I,y),I.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[n-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},I.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(b,y),n(v,y),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new I;else if("p224"===e)t=new w;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return m[e]=t,t},E.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var d=this.pow(h,n),l=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=s;0!==f.cmp(a);){for(var A=f,g=0;0!==A.cmp(a);g++)A=A.redSqr();i(g<p);var m=this.pow(d,new o(1).iushln(p-g-1));l=l.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],h=c-1;h>=0;h--){var d=u>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===i&&0===h)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}c=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},n(C,E),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},10130:(e,t,r)=>{const i=r(69480),n=r(93195),o=r(39819),s=r(30412),a=r(6157),c=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function u(e){switch(e){case"ascii":return i;case"base64":return n;case"hex":return o;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a;default:throw new Error(`Unknown encoding: ${e}`)}}function h(e){return e instanceof Uint8Array}function d(e,t,r){return"string"==typeof e?function(e,t){const r=u(t),i=new Uint8Array(r.byteLength(e));return r.write(i,e,0,i.byteLength),i}(e,t):Array.isArray(e)?function(e){const t=new Uint8Array(e.length);return t.set(e),t}(e):ArrayBuffer.isView(e)?function(e){const t=new Uint8Array(e.byteLength);return t.set(e),t}(e):function(e,t,r){return new Uint8Array(e,t,r)}(e,t,r)}function l(e,t,r,i,n){if(0===e.byteLength)return-1;if("string"==typeof r?(i=r,r=0):void 0===r?r=n?0:e.length-1:r<0&&(r+=e.byteLength),r>=e.byteLength){if(n)return-1;r=e.byteLength-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t)t=d(t,i);else if("number"==typeof t)return t&=255,n?e.indexOf(t,r):e.lastIndexOf(t,r);if(0===t.byteLength)return-1;if(n){let i=-1;for(let n=r;n<e.byteLength;n++)if(e[n]===t[-1===i?0:n-i]){if(-1===i&&(i=n),n-i+1===t.byteLength)return i}else-1!==i&&(n-=n-i),i=-1}else{r+t.byteLength>e.byteLength&&(r=e.byteLength-t.byteLength);for(let i=r;i>=0;i--){let r=!0;for(let n=0;n<t.byteLength;n++)if(e[i+n]!==t[n]){r=!1;break}if(r)return i}}return-1}function f(e,t,r,i){return l(e,t,r,i,!0)}function p(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}e.exports=t={isBuffer:h,isEncoding:function(e){try{return u(e),!0}catch{return!1}},alloc:function(e,r,i){const n=new Uint8Array(e);return void 0!==r&&t.fill(n,r,0,n.byteLength,i),n},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return u(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;const r=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let i=0;for(let n=r-r%4;i<n&&e.getUint32(i,c)===t.getUint32(i,c);i+=4);for(;i<r;i++){const r=e.getUint8(i),n=t.getUint8(i);if(r<n)return-1;if(r>n)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce(((e,t)=>e+t.byteLength),0));const r=new Uint8Array(t);let i=0;for(const t of e){if(i+t.byteLength>r.byteLength){const e=t.subarray(0,r.byteLength-i);return r.set(e,i),r}r.set(t,i),i+=t.byteLength}return r},copy:function(e,t,r=0,i=0,n=e.byteLength){if(n>0&&n<i)return 0;if(n===i)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(i<0||i>=e.byteLength)throw new RangeError("sourceStart is out of range");if(n<0)throw new RangeError("sourceEnd is out of range");r>=t.byteLength&&(r=t.byteLength),n>e.byteLength&&(n=e.byteLength),t.byteLength-r<n-i&&(n=t.length-r+i);const o=n-i;return e===t?t.copyWithin(r,i,n):t.set(e.subarray(i,n),r),o},equals:function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=e.byteLength;e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let i=0;for(let n=r-r%4;i<n;i+=4)if(e.getUint32(i,c)!==t.getUint32(i,c))return!1;for(;i<r;i++)if(e.getUint8(i)!==t.getUint8(i))return!1;return!0},fill:function(e,t,r,i,n){if("string"==typeof t?"string"==typeof r?(n=r,r=0,i=e.byteLength):"string"==typeof i&&(n=i,i=e.byteLength):"number"==typeof t?t&=255:"boolean"==typeof t&&(t=+t),r<0||e.byteLength<r||e.byteLength<i)throw new RangeError("Out of range index");if(void 0===r&&(r=0),void 0===i&&(i=e.byteLength),i<=r)return e;if(t||(t=0),"number"==typeof t)for(let n=r;n<i;++n)e[n]=t;else{const o=(t=h(t)?t:d(t,n)).byteLength;for(let n=0;n<i-r;++n)e[n+r]=t[n%o]}return e},from:d,includes:function(e,t,r,i){return-1!==f(e,t,r,i)},indexOf:f,lastIndexOf:function(e,t,r,i){return l(e,t,r,i,!1)},swap16:function(e){const t=e.byteLength;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<t;r+=2)p(e,r,r+1);return e},swap32:function(e){const t=e.byteLength;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<t;r+=4)p(e,r,r+3),p(e,r+1,r+2);return e},swap64:function(e){const t=e.byteLength;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<t;r+=8)p(e,r,r+7),p(e,r+1,r+6),p(e,r+2,r+5),p(e,r+3,r+4);return e},toBuffer:function(e){return e},toString:function(e,t,r=0,i=e.byteLength){const n=e.byteLength;return r>=n||i<=r?"":(r<0&&(r=0),i>n&&(i=n),(0!==r||i<n)&&(e=e.subarray(r,i)),u(t).toString(e))},write:function(e,t,r,i,n){return void 0===r?n="utf8":void 0===i&&"string"==typeof r?(n=r,r=void 0):void 0===n&&"string"==typeof i&&(n=i,i=void 0),u(n).write(e,t,r,i)},writeDoubleLE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),r+8},writeFloatLE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),r+4},writeUInt32LE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setUint32(r,t,!0),r+4},writeInt32LE:function(e,t,r){return void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setInt32(r,t,!0),r+4},readDoubleLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},readFloatLE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},readUInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getUint32(t,!0)},readInt32LE:function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getInt32(t,!0)}}},69480:e=>{function t(e){return e.length}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;let r="";for(let i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r},write:function(e,r,i=0,n=t(r)){const o=Math.min(n,e.byteLength-i);for(let t=0;t<o;t++)e[i+t]=r.charCodeAt(t);return o}}},93195:e=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256);for(let e=0;e<64;e++)r[t.charCodeAt(e)]=e;function i(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,t>1&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}r[45]=62,r[95]=63,e.exports={byteLength:i,toString:function(e){const r=e.byteLength;let i="";for(let n=0;n<r;n+=3)i+=t[e[n]>>2]+t[(3&e[n])<<4|e[n+1]>>4]+t[(15&e[n+1])<<2|e[n+2]>>6]+t[63&e[n+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},write:function(e,t,n=0,o=i(t)){const s=Math.min(o,e.byteLength-n);for(let i=0,n=0;n<s;i+=4){const o=r[t.charCodeAt(i)],s=r[t.charCodeAt(i+1)],a=r[t.charCodeAt(i+2)],c=r[t.charCodeAt(i+3)];e[n++]=o<<2|s>>4,e[n++]=(15&s)<<4|a>>2,e[n++]=(3&a)<<6|63&c}return s}}},39819:e=>{function t(e){return e.length>>>1}function r(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-65+10:e>=97&&e<=102?e-97+10:void 0}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let r="",i=0;for(let n=t-t%4;i<n;i+=4)r+=e.getUint32(i).toString(16).padStart(8,"0");for(;i<t;i++)r+=e.getUint8(i).toString(16).padStart(2,"0");return r},write:function(e,i,n=0,o=t(i)){const s=Math.min(o,e.byteLength-n);for(let t=0;t<s;t++){const o=r(i.charCodeAt(2*t)),s=r(i.charCodeAt(2*t+1));if(void 0===o||void 0===s)return e.subarray(0,t);e[n+t]=o<<4|s}return s}}},6157:e=>{function t(e){return 2*e.length}e.exports={byteLength:t,toString:function(e){const t=e.byteLength;let r="";for(let i=0;i<t-1;i+=2)r+=String.fromCharCode(e[i]+256*e[i+1]);return r},write:function(e,r,i=0,n=t(r)){const o=Math.min(n,e.byteLength-i);let s=o;for(let t=0;t<r.length&&!((s-=2)<0);++t){const n=r.charCodeAt(t),o=n>>8,s=n%256;e[i+2*t]=s,e[i+2*t+1]=o}return o}}},30412:e=>{function t(e){let t=0;for(let r=0,i=e.length;r<i;r++){const n=e.charCodeAt(r);if(n>=55296&&n<=56319&&r+1<i){const i=e.charCodeAt(r+1);if(i>=56320&&i<=57343){t+=4,r++;continue}}t+=n<=127?1:n<=2047?2:3}return t}let r,i;if("undefined"!=typeof TextDecoder){const e=new TextDecoder;r=function(t){return e.decode(t)}}else r=function(e){const t=e.byteLength;let r="",i=0;for(;i<t;){let n=e[i];if(n<=127){r+=String.fromCharCode(n),i++;continue}let o=0,s=0;if(n<=223?(o=1,s=31&n):n<=239?(o=2,s=15&n):n<=244&&(o=3,s=7&n),t-i-o>0){let t=0;for(;t<o;)n=e[i+t+1],s=s<<6|63&n,t+=1}else s=65533,o=t-i;r+=String.fromCodePoint(s),i+=o+1}return r};if("undefined"!=typeof TextEncoder){const e=new TextEncoder;i=function(r,i,n=0,o=t(i)){const s=Math.min(o,r.byteLength-n);return e.encodeInto(i,r.subarray(n,n+s)),s}}else i=function(e,r,i=0,n=t(r)){const o=Math.min(n,e.byteLength-i);e=e.subarray(i,i+o);let s=0,a=0;for(;s<r.length;){const t=r.codePointAt(s);if(t<=127){e[a++]=t,s++;continue}let i=0,n=0;for(t<=2047?(i=6,n=192):t<=65535?(i=12,n=224):t<=2097151&&(i=18,n=240),e[a++]=n|t>>i,i-=6;i>=0;)e[a++]=128|t>>i&63,i-=6;s+=t>=65536?2:1}return o};e.exports={byteLength:t,toString:r,write:i}},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],i=t[1];return 3*(r+i)/4-i},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],c=o[1],u=new n(function(e,t,r){return 3*(t+r)/4-r}(0,s,c)),h=0,d=c>0?s-4:s;for(r=0;r<d;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=255&t;return 2===c&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[h++]=255&t),1===c&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[h++]=t>>8&255,u[h++]=255&t),u},t.fromByteArray=function(e){for(var t,i=e.length,n=i%3,o=[],s=16383,a=0,u=i-n;a<u;a+=s)o.push(c(e,a,a+s>u?u:a+s));return 1===n?(t=e[i-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,i){for(var n,o,s=[],a=t;a<i;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=n)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},66053:e=>{var t,r,i=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,i=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),n=0,o=0;n<r;){var s=e[t.charCodeAt(n++)],a=e[t.charCodeAt(n++)],c=e[t.charCodeAt(n++)],u=e[t.charCodeAt(n++)];i[o++]=s<<2|a>>4,i[o++]=a<<4|c>>2,i[o++]=c<<6|u}return i}})(),n=(t={"wasm-binary:./blake2b.wat"(e,t){t.exports=i("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")}},function(){return r||(0,t[Object.keys(t)[0]])((r={exports:{}}).exports,r),r.exports})(),o=WebAssembly.compile(n);e.exports=async e=>(await WebAssembly.instantiate(await o,e)).exports},67060:(e,t,r)=>{var i=r(29204),n=r(10130),o=null,s="undefined"!=typeof WebAssembly&&r(66053)().then((e=>{o=e})),a=64,c=[];e.exports=A;var u=e.exports.BYTES_MIN=16,h=e.exports.BYTES_MAX=64,d=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),l=e.exports.KEYBYTES_MAX=64,f=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),p=e.exports.PERSONALBYTES=16;function A(e,t,r,n,s){if(!(this instanceof A))return new A(e,t,r,n,s);if(!o)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e||(e=32),!0!==s&&(i(e>=u,"digestLength must be at least "+u+", was given "+e),i(e<=h,"digestLength must be at most "+h+", was given "+e),null!=t&&(i(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),i(t.length>=d,"key must be at least "+d+", was given "+t.length),i(t.length<=l,"key must be at least "+l+", was given "+t.length)),null!=r&&(i(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),i(r.length===f,"salt must be exactly "+f+", was given "+r.length)),null!=n&&(i(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),i(n.length===p,"personal must be exactly "+p+", was given "+n.length))),c.length||(c.push(a),a+=216),this.digestLength=e,this.finalized=!1,this.pointer=c.pop(),this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),o.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,a,a+t.length),this._memory[this.pointer+200]=128)}function g(){}A.prototype._realloc=function(e){o.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},A.prototype.update=function(e){return i(!1===this.finalized,"Hash instance finalized"),i(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),a+e.length>this._memory.length&&this._realloc(a+e.length),this._memory.set(e,a),o.blake2b_update(this.pointer,a,a+e.length),this},A.prototype.digest=function(e){if(i(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,c.push(this.pointer),o.blake2b_final(this.pointer),!e||"binary"===e)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof e)return n.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);i(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e},A.prototype.final=A.prototype.digest,A.WASM=o,A.SUPPORTED="undefined"!=typeof WebAssembly,A.ready=function(e){return e||(e=g),s?s.then((()=>e()),e):e(new Error("WebAssembly not supported"))},A.prototype.ready=A.ready,A.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},A.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)}},17462:(e,t,r)=>{var i=r(29204),n=r(67060);function o(e,t,r){var i=e[t]+e[r],n=e[t+1]+e[r+1];i>=4294967296&&n++,e[t]=i,e[t+1]=n}function s(e,t,r,i){var n=e[t]+r;r<0&&(n+=4294967296);var o=e[t+1]+i;n>=4294967296&&o++,e[t]=n,e[t+1]=o}function a(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function c(e,t,r,i,n,a){var c=l[n],u=l[n+1],h=l[a],f=l[a+1];o(d,e,t),s(d,e,c,u);var p=d[i]^d[e],A=d[i+1]^d[e+1];d[i]=A,d[i+1]=p,o(d,r,i),p=d[t]^d[r],A=d[t+1]^d[r+1],d[t]=p>>>24^A<<8,d[t+1]=A>>>24^p<<8,o(d,e,t),s(d,e,h,f),p=d[i]^d[e],A=d[i+1]^d[e+1],d[i]=p>>>16^A<<16,d[i+1]=A>>>16^p<<16,o(d,r,i),p=d[t]^d[r],A=d[t+1]^d[r+1],d[t]=A>>>31^p<<1,d[t+1]=p>>>31^A<<1}var u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),h=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),d=new Uint32Array(32),l=new Uint32Array(32);function f(e,t){var r=0;for(r=0;r<16;r++)d[r]=e.h[r],d[r+16]=u[r];for(d[24]=d[24]^e.t,d[25]=d[25]^e.t/4294967296,t&&(d[28]=~d[28],d[29]=~d[29]),r=0;r<32;r++)l[r]=a(e.b,4*r);for(r=0;r<12;r++)c(0,8,16,24,h[16*r+0],h[16*r+1]),c(2,10,18,26,h[16*r+2],h[16*r+3]),c(4,12,20,28,h[16*r+4],h[16*r+5]),c(6,14,22,30,h[16*r+6],h[16*r+7]),c(0,10,20,30,h[16*r+8],h[16*r+9]),c(2,12,22,24,h[16*r+10],h[16*r+11]),c(4,14,16,26,h[16*r+12],h[16*r+13]),c(6,8,18,28,h[16*r+14],h[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^d[r]^d[r+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function A(e,t,r,i){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,r&&p.set(r,32),i&&p.set(i,48);for(var n=0;n<16;n++)this.h[n]=u[n]^a(p,4*n);t&&(g(this,t),this.c=128)}function g(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,f(e,!1),e.c=0),e.b[e.c++]=t[r]}A.prototype.update=function(e){return i(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),g(this,e),this},A.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen);return i(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),i(t.length>=this.outlen,"out must have at least outlen bytes of space"),function(e,t){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;f(e,!0);for(var r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)}(this,t),"hex"===e?function(e){for(var t="",r=0;r<e.length;r++)t+=(i=e[r])<16?"0"+i.toString(16):i.toString(16);var i;return t}(t):t},A.prototype.final=A.prototype.digest,A.ready=function(e){n.ready((function(){e()}))};var m=A;e.exports=function(e,t,r,n,o){return!0!==o&&(i(e>=y,"outlen must be at least "+y+", was given "+e),i(e<=I,"outlen must be at most "+I+", was given "+e),null!=t&&(i(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),i(t.length>=w,"key must be at least "+w+", was given "+t.length),i(t.length<=b,"key must be at most "+b+", was given "+t.length)),null!=r&&(i(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),i(r.length===v,"salt must be exactly "+v+", was given "+r.length)),null!=n&&(i(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),i(n.length===E,"personal must be exactly "+E+", was given "+n.length))),new m(e,t,r,n)},e.exports.ready=function(e){n.ready((function(){e()}))},e.exports.WASM_SUPPORTED=n.SUPPORTED,e.exports.WASM_LOADED=!1;var y=e.exports.BYTES_MIN=16,I=e.exports.BYTES_MAX=64,w=(e.exports.BYTES=32,e.exports.KEYBYTES_MIN=16),b=e.exports.KEYBYTES_MAX=64,v=(e.exports.KEYBYTES=32,e.exports.SALTBYTES=16),E=e.exports.PERSONALBYTES=16;n.ready((function(t){t||(e.exports.WASM_LOADED=!0,e.exports=n)}))},13550:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(46601).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void i(!1,"Invalid character in "+e)}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function u(e,t,r,n){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=n,s=u>=49?u-49+10:u>=17?u-17+10:u,i(u>=0&&s<n,"Invalid character"),o+=s}return o}function h(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=e.length-1,o=0;n>=0;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var o=e.length-r,s=o%i,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=i)c=u(e,h,h+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){h(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(e){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function A(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],o=0|t.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var h=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=l;f++){var p=u-f|0;h+=(s=(n=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);o=a>>>24-n&16777215,(n+=2)>=26&&(n-=26,s--),r=0!==o||s!==this.length-1?l[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],h=p[e];r="";var d=this.clone();for(d.negative=0;!d.isZero();){var A=d.modrn(h).toString(e);r=(d=d.idivn(h)).isZero()?A+r:l[u-A.length]+A+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){this._strip();var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,n),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,i=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|i;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),i=0,o=0):(i=s>>>24,o+=2)}if(r<e.length)for(e[r++]=i;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,i=0,n=0,o=0;n<this.length;n++){var s=this.words[n]<<o|i;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),i=0,o=0):(i=s>>>24,o+=2)}if(r>=0)for(e[r--]=i;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this._strip()},o.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,o=0;o<i.length;o++)t=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<r.length;o++)t=(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var i,n,o,s=e.words,a=t.words,c=r.words,u=0,h=0|s[0],d=8191&h,l=h>>>13,f=0|s[1],p=8191&f,A=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,I=0|s[3],w=8191&I,b=I>>>13,v=0|s[4],E=8191&v,C=v>>>13,B=0|s[5],S=8191&B,_=B>>>13,Q=0|s[6],D=8191&Q,k=Q>>>13,M=0|s[7],P=8191&M,x=M>>>13,F=0|s[8],R=8191&F,O=F>>>13,T=0|s[9],N=8191&T,U=T>>>13,j=0|a[0],L=8191&j,q=j>>>13,K=0|a[1],H=8191&K,G=K>>>13,z=0|a[2],J=8191&z,Y=z>>>13,V=0|a[3],$=8191&V,W=V>>>13,Z=0|a[4],X=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],oe=8191&ne,se=ne>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,he=0|a[8],de=8191&he,le=he>>>13,fe=0|a[9],pe=8191&fe,Ae=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(i=Math.imul(d,L))|0)+((8191&(n=(n=Math.imul(d,q))+Math.imul(l,L)|0))<<13)|0;u=((o=Math.imul(l,q))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,q))+Math.imul(A,L)|0,o=Math.imul(A,q);var me=(u+(i=i+Math.imul(d,H)|0)|0)+((8191&(n=(n=n+Math.imul(d,G)|0)+Math.imul(l,H)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,L),n=(n=Math.imul(m,q))+Math.imul(y,L)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,G)|0;var ye=(u+(i=i+Math.imul(d,J)|0)|0)+((8191&(n=(n=n+Math.imul(d,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((o=o+Math.imul(l,Y)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,L),n=(n=Math.imul(w,q))+Math.imul(b,L)|0,o=Math.imul(b,q),i=i+Math.imul(m,H)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0;var Ie=(u+(i=i+Math.imul(d,$)|0)|0)+((8191&(n=(n=n+Math.imul(d,W)|0)+Math.imul(l,$)|0))<<13)|0;u=((o=o+Math.imul(l,W)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(E,L),n=(n=Math.imul(E,q))+Math.imul(C,L)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,Y)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,W)|0;var we=(u+(i=i+Math.imul(d,X)|0)|0)+((8191&(n=(n=n+Math.imul(d,ee)|0)+Math.imul(l,X)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(S,L),n=(n=Math.imul(S,q))+Math.imul(_,L)|0,o=Math.imul(_,q),i=i+Math.imul(E,H)|0,n=(n=n+Math.imul(E,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(m,$)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,W)|0,i=i+Math.imul(p,X)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,ee)|0;var be=(u+(i=i+Math.imul(d,re)|0)|0)+((8191&(n=(n=n+Math.imul(d,ie)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ie)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(D,L),n=(n=Math.imul(D,q))+Math.imul(k,L)|0,o=Math.imul(k,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(E,J)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,W)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(m,X)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ie)|0;var ve=(u+(i=i+Math.imul(d,oe)|0)|0)+((8191&(n=(n=n+Math.imul(d,se)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,se)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,q))+Math.imul(x,L)|0,o=Math.imul(x,q),i=i+Math.imul(D,H)|0,n=(n=n+Math.imul(D,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(E,$)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,W)|0,i=i+Math.imul(w,X)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0;var Ee=(u+(i=i+Math.imul(d,ce)|0)|0)+((8191&(n=(n=n+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,L),n=(n=Math.imul(R,q))+Math.imul(O,L)|0,o=Math.imul(O,q),i=i+Math.imul(P,H)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(D,J)|0,n=(n=n+Math.imul(D,Y)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0;var Ce=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(n=(n=n+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(N,L),n=(n=Math.imul(N,q))+Math.imul(U,L)|0,o=Math.imul(U,q),i=i+Math.imul(R,H)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,G)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(D,$)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,W)|0,i=i+Math.imul(S,X)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(E,re)|0,n=(n=n+Math.imul(E,ie)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ie)|0,i=i+Math.imul(w,oe)|0,n=(n=n+Math.imul(w,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(p,de)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Be=(u+(i=i+Math.imul(d,pe)|0)|0)+((8191&(n=(n=n+Math.imul(d,Ae)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(N,H),n=(n=Math.imul(N,G))+Math.imul(U,H)|0,o=Math.imul(U,G),i=i+Math.imul(R,J)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(D,X)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,ee)|0,i=i+Math.imul(S,re)|0,n=(n=n+Math.imul(S,ie)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0,i=i+Math.imul(m,de)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,le)|0;var Se=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(N,J),n=(n=Math.imul(N,Y))+Math.imul(U,J)|0,o=Math.imul(U,Y),i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(D,re)|0,n=(n=n+Math.imul(D,ie)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ie)|0,i=i+Math.imul(S,oe)|0,n=(n=n+Math.imul(S,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,i=i+Math.imul(E,ce)|0,n=(n=n+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,i=i+Math.imul(w,de)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var _e=(u+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(N,$),n=(n=Math.imul(N,W))+Math.imul(U,$)|0,o=Math.imul(U,W),i=i+Math.imul(R,X)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,ee)|0,i=i+Math.imul(P,re)|0,n=(n=n+Math.imul(P,ie)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,i=i+Math.imul(S,ce)|0,n=(n=n+Math.imul(S,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(E,de)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,le)|0;var Qe=(u+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,Ae)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,i=Math.imul(N,X),n=(n=Math.imul(N,ee))+Math.imul(U,X)|0,o=Math.imul(U,ee),i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ie)|0,i=i+Math.imul(P,oe)|0,n=(n=n+Math.imul(P,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,i=i+Math.imul(D,ce)|0,n=(n=n+Math.imul(D,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,i=i+Math.imul(S,de)|0,n=(n=n+Math.imul(S,le)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,le)|0;var De=(u+(i=i+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(N,re),n=(n=Math.imul(N,ie))+Math.imul(U,re)|0,o=Math.imul(U,ie),i=i+Math.imul(R,oe)|0,n=(n=n+Math.imul(R,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,i=i+Math.imul(P,ce)|0,n=(n=n+Math.imul(P,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,i=i+Math.imul(D,de)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var ke=(u+(i=i+Math.imul(S,pe)|0)|0)+((8191&(n=(n=n+Math.imul(S,Ae)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(N,oe),n=(n=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,i=i+Math.imul(P,de)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,le)|0;var Me=(u+(i=i+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(N,ce),n=(n=Math.imul(N,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),i=i+Math.imul(R,de)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Pe=(u+(i=i+Math.imul(P,pe)|0)|0)+((8191&(n=(n=n+Math.imul(P,Ae)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,Ae)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(N,de),n=(n=Math.imul(N,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var xe=(u+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(u+(i=Math.imul(N,pe))|0)+((8191&(n=(n=Math.imul(N,Ae))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,Ae))+(n>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=Ie,c[4]=we,c[5]=be,c[6]=ve,c[7]=Ee,c[8]=Ce,c[9]=Be,c[10]=Se,c[11]=_e,c[12]=Qe,c[13]=De,c[14]=ke,c[15]=Me,c[16]=Pe,c[17]=xe,c[18]=Fe,0!==u&&(c[19]=u,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h=o-u,d=(0|e.words[h])*(0|t.words[u]),l=67108863&d;a=67108863&(l=l+a|0),n+=(s=(s=s+(d/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r._strip()}function y(e,t,r){return m(e,t,r)}function I(e,t){this.x=e,this.y=t}Math.imul||(g=A),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?A(this,e,t):r<1024?m(this,e,t):y(this,e,t)},I.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},I.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},I.prototype.permute=function(e,t,r,i,n,o){for(var s=0;s<o;s++)i[s]=t[e[s]],n[s]=r[e[s]]},I.prototype.transform=function(e,t,r,i,n,o){this.permute(o,e,t,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<n;h+=a)for(var d=c,l=u,f=0;f<s;f++){var p=r[h+f],A=i[h+f],g=r[h+f+s],m=i[h+f+s],y=d*g-l*m;m=d*m+l*g,g=y,r[h+f]=p+g,i[h+f]=A+m,r[h+f+s]=p-g,i[h+f+s]=A-m,f!==a&&(y=c*d-u*l,l=c*l+u*d,d=y)}},I.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},I.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},I.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},I.prototype.convert13b=function(e,t,r,n){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<n;++s)r[s]=0;i(0===o),i(0==(-8192&o))},I.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},I.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=new Array(i),l=r.words;l.length=i,this.convert13b(e.words,e.length,s,i),this.convert13b(t.words,t.length,u,i),this.transform(s,o,a,c,i,n),this.transform(u,o,h,d,i,n);for(var f=0;f<i;f++){var p=a[f]*h[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*h[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,l,o,i,n),this.conjugate(l,o,i),this.normalize13b(l,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),i("number"==typeof e),i(e<67108864);for(var r=0,n=0;n<this.length;n++){var o=(0|this.words[n])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[n]=67108863&s}return 0!==r&&(this.words[n]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=e.words[i]>>>n&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this._strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var n;i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var d=0|this.words[u];this.words[u]=h<<26-o|d>>>o,h=d&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r||!(this.words[r]&n))},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,o,s=e.length+r;this._expand(s);var a=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this._strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!=(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var h=i.clone()._ishlnsubmul(n,1,c);0===h.negative&&(i=h,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|i.words[n.length+d])+(0|i.words[n.length+d-1]);for(l=Math.min(l/s|0,67108863),i._ishlnsubmul(n,l,d);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,d),i.isZero()||(i.negative^=1);a&&(a.words[d]=l)}return a&&a._strip(),i._strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},o.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:n,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var n,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var r=(1<<26)%e,n=0,o=this.length-1;o>=0;o--)n=(r*n+(0|this.words[o]))%e;return t?-n:n},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),i(e<=67108863);for(var r=0,n=this.length-1;n>=0;n--){var o=(0|this.words[n])+67108864*r;this.words[n]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(h),s.isub(d)),n.iushrn(1),s.iushrn(1);for(var p=0,A=1;0==(r.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),s.isub(c)):(r.isub(t),a.isub(n),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,l=1;0==(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(n=0===t.cmpn(1)?s:a).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var o=t;t=r,r=o}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function C(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(v,b),v.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[n-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(E,b),n(C,b),n(B,b),B.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new E;else if("p192"===e)t=new C;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new B}return w[e]=t,t},S.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(h(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var d=this.pow(h,n),l=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=s;0!==f.cmp(a);){for(var A=f,g=0;0!==A.cmp(a);g++)A=A.redSqr();i(g<p);var m=this.pow(d,new o(1).iushln(p-g-1));l=l.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return l},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],h=c-1;h>=0;h--){var d=u>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===i&&0===h)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}c=26}return n},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new _(e)},n(_,S),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},29931:(e,t,r)=>{var i;function n(e){this.rand=e}if(e.exports=function(e){return i||(i=new n(null)),i.generate(e)},e.exports.Rand=n,n.prototype.generate=function(e){return this._rand(e)},n.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(n.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(89214);if("function"!=typeof o.randomBytes)throw new Error("Not supported");n.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},11708:(e,t,r)=>{"use strict";const{AbstractLevel:i}=r(50875),n=r(94473),o=r(29967),{fromCallback:s}=r(16957),{Iterator:a}=r(8212),c=r(89687),u=r(89968),h=r(21217),d="level-js-",l=Symbol("idb"),f=Symbol("namePrefix"),p=Symbol("location"),A=Symbol("version"),g=Symbol("store"),m=Symbol("onComplete"),y=Symbol("promise");class I extends i{constructor(e,t,r){if("function"==typeof t||"function"==typeof r)throw new n("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:i,version:o,...s}=t||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),"string"!=typeof e)throw new Error("constructor requires a location string argument");this[p]=e,this[f]=null==i?d:i,this[A]=parseInt(o||1,10),this[l]=null}get location(){return this[p]}get namePrefix(){return this[f]}get version(){return this[A]}get db(){return this[l]}get type(){return"browser-level"}_open(e,t){const r=indexedDB.open(this[f]+this[p],this[A]);r.onerror=function(){t(r.error||new Error("unknown error"))},r.onsuccess=()=>{this[l]=r.result,t()},r.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(this[p])||t.createObjectStore(this[p])}}[g](e){return this[l].transaction([this[p]],e).objectStore(this[p])}[m](e,t){const r=e.transaction;r.onabort=function(){t(r.error||new Error("aborted by user"))},r.oncomplete=function(){t(null,e.result)}}_get(e,t,r){const i=this[g]("readonly");let o;try{o=i.get(e)}catch(e){return this.nextTick(r,e)}this[m](o,(function(e,t){return e?r(e):void 0===t?r(new n("Entry not found",{code:"LEVEL_NOT_FOUND"})):void r(null,c(t))}))}_getMany(e,t,r){const i=this[g]("readonly"),n=e.map((e=>t=>{let r;try{r=i.get(e)}catch(e){return t(e)}r.onsuccess=()=>{const e=r.result;t(null,void 0===e?e:c(e))},r.onerror=e=>{e.stopPropagation(),t(r.error)}}));o(n,16,r)}_del(e,t,r){const i=this[g]("readwrite");let n;try{n=i.delete(e)}catch(e){return this.nextTick(r,e)}this[m](n,r)}_put(e,t,r,i){const n=this[g]("readwrite");let o;try{o=n.put(t,e)}catch(e){return this.nextTick(i,e)}this[m](o,i)}_iterator(e){return new a(this,this[p],e)}_batch(e,t,r){const i=this[g]("readwrite"),n=i.transaction;let o,s=0;n.onabort=function(){r(o||n.error||new Error("aborted by user"))},n.oncomplete=function(){r()},function t(){const r=e[s++],a=r.key;let c;try{c="del"===r.type?i.delete(a):i.put(r.value,a)}catch(e){return o=e,void n.abort()}s<e.length?c.onsuccess=t:"function"==typeof n.commit&&n.commit()}()}_clear(e,t){let r,i;try{r=h(e)}catch(e){return this.nextTick(t)}if(e.limit>=0)return u(this,this[p],r,e,t);try{const e=this[g]("readwrite");i=r?e.delete(r):e.clear()}catch(e){return this.nextTick(t,e)}this[m](i,t)}_close(e){this[l].close(),this.nextTick(e)}}I.destroy=function(e,t,r){"function"==typeof t&&(r=t,t=d),r=s(r,y);const i=indexedDB.deleteDatabase(t+e);return i.onsuccess=function(){r()},i.onerror=function(e){r(e)},r[y]},t.BrowserLevel=I},8212:(e,t,r)=>{"use strict";const{AbstractIterator:i}=r(50875),n=r(21217),o=r(89687),s=Symbol("cache"),a=Symbol("finished"),c=Symbol("options"),u=Symbol("currentOptions"),h=Symbol("position"),d=Symbol("location"),l=Symbol("first"),f={};function p(e){"function"==typeof e.commit&&e.commit()}t.Iterator=class extends i{constructor(e,t,r){super(e,r),this[s]=[],this[a]=0===this.limit,this[c]=r,this[u]={...r},this[h]=void 0,this[d]=t,this[l]=!0}_nextv(e,t,r){if(this[l]=!1,this[a])return this.nextTick(r,null,[]);if(this[s].length>0)return e=Math.min(e,this[s].length),this.nextTick(r,null,this[s].splice(0,e));let i;void 0!==this[h]&&(this[c].reverse?(this[u].lt=this[h],this[u].lte=void 0):(this[u].gt=this[h],this[u].gte=void 0));try{i=n(this[u])}catch(e){return this[a]=!0,this.nextTick(r,null,[])}const f=this.db.db.transaction([this[d]],"readonly"),A=f.objectStore(this[d]),g=[];if(this[c].reverse)A[!this[c].values&&A.openKeyCursor?"openKeyCursor":"openCursor"](i,"prev").onsuccess=t=>{const r=t.target.result;if(r){const{key:t,value:i}=r;this[h]=t,g.push([this[c].keys&&void 0!==t?o(t):void 0,this[c].values&&void 0!==i?o(i):void 0]),g.length<e?r.continue():p(f)}else this[a]=!0};else{let t,r;const n=()=>{if(void 0===t||void 0===r)return;const i=Math.max(t.length,r.length);0===i||e===1/0?this[a]=!0:this[h]=t[i-1],g.length=i;for(let e=0;e<i;e++){const i=t[e],n=r[e];g[e]=[this[c].keys&&void 0!==i?o(i):void 0,this[c].values&&void 0!==n?o(n):void 0]}p(f)};this[c].keys||e<1/0?A.getAllKeys(i,e<1/0?e:void 0).onsuccess=e=>{t=e.target.result,n()}:(t=[],this.nextTick(n)),this[c].values?A.getAll(i,e<1/0?e:void 0).onsuccess=e=>{r=e.target.result,n()}:(r=[],this.nextTick(n))}f.onabort=()=>{r(f.error||new Error("aborted by user")),r=null},f.oncomplete=()=>{r(null,g),r=null}}_next(e){if(this[s].length>0){const[t,r]=this[s].shift();this.nextTick(e,null,t,r)}else if(this[a])this.nextTick(e);else{let t=Math.min(100,this.limit-this.count);this[l]&&(this[l]=!1,t=1),this._nextv(t,f,((t,r)=>{if(t)return e(t);this[s]=r,this._next(e)}))}}_all(e,t){this[l]=!1;const r=this[s].splice(0,this[s].length),i=this.limit-this.count-r.length;if(i<=0)return this.nextTick(t,null,r);this._nextv(i,f,((e,i)=>{if(e)return t(e);r.length>0&&(i=r.concat(i)),t(null,i)}))}_seek(e,t){let r;this[l]=!0,this[s]=[],this[a]=!1,this[h]=void 0,this[u]={...this[c]};try{r=n(this[c])}catch(e){return void(this[a]=!0)}null===r||r.includes(e)?this[c].reverse?this[u].lte=e:this[u].gte=e:this[a]=!0}}},89968:e=>{"use strict";e.exports=function(e,t,r,i,n){if(0===i.limit)return e.nextTick(n);const o=e.db.transaction([t],"readwrite"),s=o.objectStore(t);let a=0;o.oncomplete=function(){n()},o.onabort=function(){n(o.error||new Error("aborted by user"))};const c=s.openKeyCursor?"openKeyCursor":"openCursor",u=i.reverse?"prev":"next";s[c](r,u).onsuccess=function(e){const t=e.target.result;t&&(s.delete(t.key).onsuccess=function(){(i.limit<=0||++a<i.limit)&&t.continue()})}}},89687:e=>{"use strict";const t=new TextEncoder;e.exports=function(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):t.encode(e)}},21217:e=>{"use strict";e.exports=function(e){const t=void 0!==e.gte?e.gte:void 0!==e.gt?e.gt:void 0,r=void 0!==e.lte?e.lte:void 0!==e.lt?e.lt:void 0,i=void 0===e.gte,n=void 0===e.lte;return void 0!==t&&void 0!==r?IDBKeyRange.bound(t,r,i,n):void 0!==t?IDBKeyRange.lowerBound(t,i):void 0!==r?IDBKeyRange.upperBound(r,n):null}},74497:(e,t,r)=>{var i=r(89509).Buffer;function n(e){i.isBuffer(e)||(e=i.from(e));for(var t=e.length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(4*n);return r}function o(e){for(;0<e.length;e++)e[0]=0}function s(e,t,r,i,n){for(var o,s,a,c,u=r[0],h=r[1],d=r[2],l=r[3],f=e[0]^t[0],p=e[1]^t[1],A=e[2]^t[2],g=e[3]^t[3],m=4,y=1;y<n;y++)o=u[f>>>24]^h[p>>>16&255]^d[A>>>8&255]^l[255&g]^t[m++],s=u[p>>>24]^h[A>>>16&255]^d[g>>>8&255]^l[255&f]^t[m++],a=u[A>>>24]^h[g>>>16&255]^d[f>>>8&255]^l[255&p]^t[m++],c=u[g>>>24]^h[f>>>16&255]^d[p>>>8&255]^l[255&A]^t[m++],f=o,p=s,A=a,g=c;return o=(i[f>>>24]<<24|i[p>>>16&255]<<16|i[A>>>8&255]<<8|i[255&g])^t[m++],s=(i[p>>>24]<<24|i[A>>>16&255]<<16|i[g>>>8&255]<<8|i[255&f])^t[m++],a=(i[A>>>24]<<24|i[g>>>16&255]<<16|i[f>>>8&255]<<8|i[255&p])^t[m++],c=(i[g>>>24]<<24|i[f>>>16&255]<<16|i[p>>>8&255]<<8|i[255&A])^t[m++],[o>>>=0,s>>>=0,a>>>=0,c>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],i=[],n=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^255&u^99,r[s]=u,i[u]=s;var h=e[s],d=e[h],l=e[d],f=257*e[u]^16843008*u;n[0][s]=f<<24|f>>>8,n[1][s]=f<<16|f>>>16,n[2][s]=f<<8|f>>>24,n[3][s]=f,f=16843009*l^65537*d^257*h^16843008*s,o[0][u]=f<<24|f>>>8,o[1][u]=f<<16|f>>>16,o[2][u]=f<<8|f>>>24,o[3][u]=f,0===s?s=a=1:(s=h^e[e[e[l^h]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:i,SUB_MIX:n,INV_SUB_MIX:o}}();function u(e){this._key=n(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,i=4*(r+1),n=[],o=0;o<t;o++)n[o]=e[o];for(o=t;o<i;o++){var s=n[o-1];o%t==0?(s=s<<8|s>>>24,s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s],s^=a[o/t|0]<<24):t>6&&o%t==4&&(s=c.SBOX[s>>>24]<<24|c.SBOX[s>>>16&255]<<16|c.SBOX[s>>>8&255]<<8|c.SBOX[255&s]),n[o]=n[o-t]^s}for(var u=[],h=0;h<i;h++){var d=i-h,l=n[d-(h%4?0:4)];u[h]=h<4||d<=4?l:c.INV_SUB_MIX[0][c.SBOX[l>>>24]]^c.INV_SUB_MIX[1][c.SBOX[l>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[l>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&l]]}this._nRounds=r,this._keySchedule=n,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return s(e=n(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=i.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=n(e))[1];e[1]=e[3],e[3]=t;var r=s(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=i.allocUnsafe(16);return o.writeUInt32BE(r[0],0),o.writeUInt32BE(r[3],4),o.writeUInt32BE(r[2],8),o.writeUInt32BE(r[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=u},62422:(e,t,r)=>{var i=r(74497),n=r(89509).Buffer,o=r(71027),s=r(35717),a=r(83288),c=r(67295),u=r(20685);function h(e,t,r,s){o.call(this);var c=n.alloc(4,0);this._cipher=new i.AES(t);var h=this._cipher.encryptBlock(c);this._ghash=new a(h),r=function(e,t,r){if(12===t.length)return e._finID=n.concat([t,n.from([0,0,0,1])]),n.concat([t,n.from([0,0,0,2])]);var i=new a(r),o=t.length,s=o%16;i.update(t),s&&(s=16-s,i.update(n.alloc(s,0))),i.update(n.alloc(8,0));var c=8*o,h=n.alloc(8);h.writeUIntBE(c,0,8),i.update(h),e._finID=i.state;var d=n.from(e._finID);return u(d),d}(this,r,h),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=s,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}s(h,o),h.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=n.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var i=Math.min(e.length,t.length),n=0;n<i;++n)r+=e[n]^t[n];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!n.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},h.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=h},44696:(e,t,r)=>{var i=r(71494),n=r(66193),o=r(44946);t.createCipher=t.Cipher=i.createCipher,t.createCipheriv=t.Cipheriv=i.createCipheriv,t.createDecipher=t.Decipher=n.createDecipher,t.createDecipheriv=t.Decipheriv=n.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},66193:(e,t,r)=>{var i=r(62422),n=r(89509).Buffer,o=r(45),s=r(25969),a=r(71027),c=r(74497),u=r(13048);function h(e,t,r){a.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(t),this._prev=n.from(r),this._mode=e,this._autopadding=!0}function d(){this.cache=n.allocUnsafe(0)}function l(e,t,r){var a=o[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=n.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=n.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===a.type?new s(a.module,t,r,!0):"auth"===a.type?new i(a.module,t,r,!0):new h(a.module,t,r)}r(35717)(h,a),h.prototype._update=function(e){var t,r;this._cache.add(e);for(var i=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),i.push(r);return n.concat(i)},h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=n.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=u(t,!1,r.key,r.iv);return l(e,i.key,i.iv)},t.createDecipheriv=l},71494:(e,t,r)=>{var i=r(45),n=r(62422),o=r(89509).Buffer,s=r(25969),a=r(71027),c=r(74497),u=r(13048);function h(e,t,r){a.call(this),this._cache=new l,this._cipher=new c.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}r(35717)(h,a),h.prototype._update=function(e){var t,r;this._cache.add(e);for(var i=[];t=this._cache.get();)r=this._mode.encrypt(this,t),i.push(r);return o.concat(i)};var d=o.alloc(16,16);function l(){this.cache=o.allocUnsafe(0)}function f(e,t,r){var a=i[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==a.mode&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===a.type?new s(a.module,t,r):"auth"===a.type?new n(a.module,t,r):new h(a.module,t,r)}h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=o.concat([this.cache,e])},l.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},l.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},t.createCipheriv=f,t.createCipher=function(e,t){var r=i[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return f(e,n.key,n.iv)}},83288:(e,t,r)=>{var i=r(89509).Buffer,n=i.alloc(16,0);function o(e){var t=i.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function s(e){this.h=e,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}s.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},s.prototype._multiply=function(){for(var e,t,r,i=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],n=[0,0,0,0],s=-1;++s<128;){for(0!=(this.state[~~(s/8)]&1<<7-s%8)&&(n[0]^=i[0],n[1]^=i[1],n[2]^=i[2],n[3]^=i[3]),r=0!=(1&i[3]),t=3;t>0;t--)i[t]=i[t]>>>1|(1&i[t-1])<<31;i[0]=i[0]>>>1,r&&(i[0]=i[0]^225<<24)}this.state=o(n)},s.prototype.update=function(e){var t;for(this.cache=i.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},s.prototype.final=function(e,t){return this.cache.length&&this.ghash(i.concat([this.cache,n],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=s},20685:e=>{e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},25292:(e,t,r)=>{var i=r(67295);t.encrypt=function(e,t){var r=i(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return i(n,r)}},86311:(e,t,r)=>{var i=r(89509).Buffer,n=r(67295);function o(e,t,r){var o=t.length,s=n(t,e._cache);return e._cache=e._cache.slice(o),e._prev=i.concat([e._prev,r?t:s]),s}t.encrypt=function(e,t,r){for(var n,s=i.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=i.allocUnsafe(0)),!(e._cache.length<=t.length)){s=i.concat([s,o(e,t,r)]);break}n=e._cache.length,s=i.concat([s,o(e,t.slice(0,n),r)]),t=t.slice(n)}return s}},21510:(e,t,r)=>{var i=r(89509).Buffer;function n(e,t,r){for(var i,n,s=-1,a=0;++s<8;)i=t&1<<7-s?128:0,a+=(128&(n=e._cipher.encryptBlock(e._prev)[0]^i))>>s%8,e._prev=o(e._prev,r?i:n);return a}function o(e,t){var r=e.length,n=-1,o=i.allocUnsafe(e.length);for(e=i.concat([e,i.from([t])]);++n<r;)o[n]=e[n]<<1|e[n+1]>>7;return o}t.encrypt=function(e,t,r){for(var o=t.length,s=i.allocUnsafe(o),a=-1;++a<o;)s[a]=n(e,t[a],r);return s}},71964:(e,t,r)=>{var i=r(89509).Buffer;function n(e,t,r){var n=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=i.concat([e._prev.slice(1),i.from([r?t:n])]),n}t.encrypt=function(e,t,r){for(var o=t.length,s=i.allocUnsafe(o),a=-1;++a<o;)s[a]=n(e,t[a],r);return s}},96009:(e,t,r)=>{var i=r(67295),n=r(89509).Buffer,o=r(20685);function s(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),o=e._cache.length;e._cache=n.concat([e._cache,n.allocUnsafe(16*r)]);for(var a=0;a<r;a++){var c=s(e),u=o+16*a;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var h=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,h)}},11084:(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},45:(e,t,r)=>{var i={ECB:r(11084),CBC:r(25292),CFB:r(86311),CFB8:r(71964),CFB1:r(21510),OFB:r(18861),CTR:r(96009),GCM:r(96009)},n=r(44946);for(var o in n)n[o].module=i[n[o].mode];e.exports=n},18861:(e,t,r)=>{var i=r(67295);function n(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=Buffer.concat([e._cache,n(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,r)}},25969:(e,t,r)=>{var i=r(74497),n=r(89509).Buffer,o=r(71027);function s(e,t,r,s){o.call(this),this._cipher=new i.AES(t),this._prev=n.from(r),this._cache=n.allocUnsafe(0),this._secCache=n.allocUnsafe(0),this._decrypt=s,this._mode=e}r(35717)(s,o),s.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},s.prototype._final=function(){this._cipher.scrub()},e.exports=s},53614:(e,t,r)=>{var i=r(47667),n=r(44696),o=r(45),s=r(99715),a=r(13048);function c(e,t,r){if(e=e.toLowerCase(),o[e])return n.createCipheriv(e,t,r);if(s[e])return new i({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),o[e])return n.createDecipheriv(e,t,r);if(s[e])return new i({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,i;if(e=e.toLowerCase(),o[e])r=o[e].key,i=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,i=s[e].iv}var n=a(t,!1,r,i);return c(e,n.key,n.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var r,i;if(e=e.toLowerCase(),o[e])r=o[e].key,i=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,i=s[e].iv}var n=a(t,!1,r,i);return u(e,n.key,n.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(s).concat(n.getCiphers())}},47667:(e,t,r)=>{var i=r(71027),n=r(15251),o=r(35717),s=r(89509).Buffer,a={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function c(e){i.call(this);var t,r=e.mode.toLowerCase(),n=a[r];t=e.decrypt?"decrypt":"encrypt";var o=e.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==r&&"des-ede-cbc"!==r||(o=s.concat([o,o.slice(0,8)]));var c=e.iv;s.isBuffer(c)||(c=s.from(c)),this._des=n.create({key:o,iv:c,type:t})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],e.exports=c,o(c,i),c.prototype._update=function(e){return s.from(this._des.update(e))},c.prototype._final=function(){return s.from(this._des.final())}},99715:(e,t)=>{t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},23663:(e,t,r)=>{var i=r(13550),n=r(61798);function o(e){var t,r=e.modulus.byteLength();do{t=new i(n(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function s(e,t){var r=function(e){var t=o(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),n=t.modulus.byteLength(),s=new i(e).mul(r.blinder).umod(t.modulus),a=s.toRed(i.mont(t.prime1)),c=s.toRed(i.mont(t.prime2)),u=t.coefficient,h=t.prime1,d=t.prime2,l=a.redPow(t.exponent1).fromRed(),f=c.redPow(t.exponent2).fromRed(),p=l.isub(f).imul(u).umod(h).imul(d);return f.iadd(p).imul(r.unblinder).umod(t.modulus).toArrayLike(Buffer,"be",n)}s.getr=o,e.exports=s},56042:(e,t,r)=>{"use strict";e.exports=r(75207)},64743:(e,t,r)=>{"use strict";var i=r(89509).Buffer,n=r(23482),o=r(23872),s=r(35717),a=r(82957),c=r(47753),u=r(75207);function h(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){o.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=n(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){return new h(e)}function f(e){return new d(e)}Object.keys(u).forEach((function(e){u[e].id=i.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),s(h,o.Writable),h.prototype._write=function(e,t,r){this._hash.update(e),r()},h.prototype.update=function(e,t){return this._hash.update("string"==typeof e?i.from(e,t):e),this},h.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),i=a(r,e,this._hashType,this._signType,this._tag);return t?i.toString(t):i},s(d,o.Writable),d.prototype._write=function(e,t,r){this._hash.update(e),r()},d.prototype.update=function(e,t){return this._hash.update("string"==typeof e?i.from(e,t):e),this},d.prototype.verify=function(e,t,r){var n="string"==typeof t?i.from(t,r):t;this.end();var o=this._hash.digest();return c(n,o,e,this._signType,this._tag)},e.exports={Sign:l,Verify:f,createSign:l,createVerify:f}},82957:(e,t,r)=>{"use strict";var i=r(89509).Buffer,n=r(58355),o=r(23663),s=r(86266).ec,a=r(13550),c=r(70980),u=r(1308);function h(e,t,r,o){if((e=i.from(e.toArray())).length<t.byteLength()){var s=i.alloc(t.byteLength()-e.length);e=i.concat([s,e])}var a=r.length,c=function(e,t){e=(e=d(e,t)).mod(t);var r=i.from(e.toArray());if(r.length<t.byteLength()){var n=i.alloc(t.byteLength()-r.length);r=i.concat([n,r])}return r}(r,t),u=i.alloc(a);u.fill(1);var h=i.alloc(a);return h=n(o,h).update(u).update(i.from([0])).update(e).update(c).digest(),u=n(o,h).update(u).digest(),{k:h=n(o,h).update(u).update(i.from([1])).update(e).update(c).digest(),v:u=n(o,h).update(u).digest()}}function d(e,t){var r=new a(e),i=(e.length<<3)-t.bitLength();return i>0&&r.ishrn(i),r}function l(e,t,r){var o,s;do{for(o=i.alloc(0);8*o.length<e.bitLength();)t.v=n(r,t.k).update(t.v).digest(),o=i.concat([o,t.v]);s=d(o,e),t.k=n(r,t.k).update(t.v).update(i.from([0])).digest(),t.v=n(r,t.k).update(t.v).digest()}while(-1!==s.cmp(e));return s}function f(e,t,r,i){return e.toRed(a.mont(r)).redPow(t).fromRed().mod(i)}e.exports=function(e,t,r,n,p){var A=c(t);if(A.curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");return function(e,t){var r=u[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var n=new s(r).keyFromPrivate(t.privateKey).sign(e);return i.from(n.toDER())}(e,A)}if("dsa"===A.type){if("dsa"!==n)throw new Error("wrong private key type");return function(e,t,r){for(var n,o=t.params.priv_key,s=t.params.p,c=t.params.q,u=t.params.g,p=new a(0),A=d(e,c).mod(c),g=!1,m=h(o,c,e,r);!1===g;)p=f(u,n=l(c,m,r),s,c),0===(g=n.invm(c).imul(A.add(o.mul(p))).mod(c)).cmpn(0)&&(g=!1,p=new a(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),i.from(r)}(p,g)}(e,A,r)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");if(void 0!==t.padding&&1!==t.padding)throw new Error("illegal or unsupported padding mode");e=i.concat([p,e]);for(var g=A.modulus.byteLength(),m=[0,1];e.length+m.length+1<g;)m.push(255);m.push(0);for(var y=-1;++y<e.length;)m.push(e[y]);return o(m,A)},e.exports.getKey=h,e.exports.makeKey=l},47753:(e,t,r)=>{"use strict";var i=r(89509).Buffer,n=r(13550),o=r(86266).ec,s=r(70980),a=r(1308);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=0)throw new Error("invalid sig")}e.exports=function(e,t,r,u,h){var d=s(r);if("ec"===d.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var i=a[r.data.algorithm.curve.join(".")];if(!i)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var n=new o(i),s=r.data.subjectPrivateKey.data;return n.verify(t,e,s)}(e,t,d)}if("dsa"===d.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var i=r.data.p,o=r.data.q,a=r.data.g,u=r.data.pub_key,h=s.signature.decode(e,"der"),d=h.s,l=h.r;c(d,o),c(l,o);var f=n.mont(i),p=d.invm(o);return 0===a.toRed(f).redPow(new n(t).mul(p).mod(o)).fromRed().mul(u.toRed(f).redPow(l.mul(p).mod(o)).fromRed()).mod(i).mod(o).cmp(l)}(e,t,d)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=i.concat([h,t]);for(var l=d.modulus.byteLength(),f=[1],p=0;t.length+f.length+2<l;)f.push(255),p+=1;f.push(0);for(var A=-1;++A<t.length;)f.push(t[A]);f=i.from(f);var g=n.mont(d.modulus);e=(e=new n(e).toRed(g)).redPow(new n(d.publicExponent)),e=i.from(e.fromRed().toArray());var m=p<8?1:0;for(l=Math.min(e.length,f.length),e.length!==f.length&&(m=1),A=-1;++A<l;)m|=e[A]^f[A];return 0===m}},84419:e=>{"use strict";var t={};function r(e,r,i){i||(i=Error);var n=function(e){var t,i;function n(t,i,n){return e.call(this,function(e,t,i){return"string"==typeof r?r:r(e,t,i)}(t,i,n))||this}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n}(i);n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o,s,a,c;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(i(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},34390:(e,t,r)=>{"use strict";var i=r(34155),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=r(44960),s=r(92010);r(35717)(h,o);for(var a=n(s.prototype),c=0;c<a.length;c++){var u=a[c];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},41294:(e,t,r)=>{"use strict";e.exports=n;var i=r(3912);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(35717)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},44960:(e,t,r)=>{"use strict";var i,n=r(34155);e.exports=B,B.ReadableState=C,r(17187).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(59819),c=r(48764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=r(56353);o=h&&h.debuglog?h.debuglog("stream"):function(){};var d,l,f,p=r(76633),A=r(75997),g=r(898).getHighWaterMark,m=r(84419).q,y=m.ERR_INVALID_ARG_TYPE,I=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(B,a);var v=A.errorOrDestroy,E=["error","close","destroy","pause","resume"];function C(e,t,n){i=i||r(34390),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(32553).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function B(e){if(i=i||r(34390),!(this instanceof B))return new B(e);var t=this instanceof i;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function S(e,t,r,i,n){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}}(e,a);else if(n||(s=function(e,t){var r,i;return i=t,c.isBuffer(i)||i instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)v(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i)a.endEmitted?v(e,new b):_(e,a,t,!0);else if(a.ended)v(e,new I);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):P(e,a)):_(e,a,t,!1)}else i||(a.reading=!1,P(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function _(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),P(e,t)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),B.prototype.destroy=A.destroy,B.prototype._undestroy=A.undestroy,B.prototype._destroy=function(e,t){t(e)},B.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},B.prototype.unshift=function(e){return S(this,e,null,!0,!1)},B.prototype.isPaused=function(){return!1===this._readableState.flowing},B.prototype.setEncoding=function(e){d||(d=r(32553).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Q=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=Q?e=Q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(M,e))}function M(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,T(e)}function P(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(x,e,t))}function x(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function F(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){o("readable nexttick read 0"),e.read(0)}function O(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(j,t,e))}function j(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}B.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):k(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,n=t.needReadable;return o("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",n=!0),t.ended||t.reading?o("reading or ended",n=!1):n&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},B.prototype._read=function(e){v(this,new w("_read()"))},B.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?A:c;function c(){o("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",(function t(n,s){o("onunpipe"),n===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",A),r.removeListener("data",d),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(r);e.on("drain",u);var h=!1;function d(t){o("ondata");var n=e.write(t);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!h&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function l(t){o("onerror",t),A(),e.removeListener("error",l),0===s(e,"error")&&v(e,t)}function f(){e.removeListener("finish",p),A()}function p(){o("onfinish"),e.removeListener("close",f),A()}function A(){o("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",f),e.once("finish",p),e.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),e},B.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},B.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?k(this):i.reading||n.nextTick(R,this))),r},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(F,this),r},B.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(F,this),t},B.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(O,e,t))}(this,e)),e.paused=!1,this},B.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){o("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(B.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=r(54887)),l(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),B._fromList=N,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(B.from=function(e,t){return void 0===f&&(f=r(98859)),f(B,e,t)})},3912:(e,t,r)=>{"use strict";e.exports=h;var i=r(84419).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,c=r(34390);function u(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(35717)(h,c),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},92010:(e,t,r)=>{"use strict";var i,n=r(34155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=B,B.WritableState=C;var s,a={deprecate:r(94927)},c=r(59819),u=r(48764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=r(75997),l=r(898).getHighWaterMark,f=r(84419).q,p=f.ERR_INVALID_ARG_TYPE,A=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,I=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,v=d.errorOrDestroy;function E(){}function C(e,t,s){i=i||r(34390),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(M,e,t),e._writableState.errorEmitted=!0,v(e,i)):(o(i),e._writableState.errorEmitted=!0,v(e,i),M(e,t))}(e,r,i,t,o);else{var s=D(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||Q(e,r),i?n.nextTick(_,e,r,s,o):_(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function B(e){var t=this instanceof(i=i||r(34390));if(!t&&!s.call(B,this))return new B(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function S(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function _(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),M(e,t)}function Q(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)n[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;n.allBuffers=c,S(e,t,!0,t.length,n,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,d=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,h,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var r=D(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(35717)(B,c),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===B&&e&&e._writableState instanceof C}})):s=function(e){return e instanceof this},B.prototype.pipe=function(){v(this,new m)},B.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof h);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;v(e,r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o;return null===r?o=new I:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(v(e,o),n.nextTick(i,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,i,n,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,a,i,n,o);return c}(this,o,a,e,t,r)),s},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||Q(this,e))},B.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(e,t,r){r(new A("_write()"))},B.prototype._writev=null,B.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,M(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),B.prototype.destroy=d.destroy,B.prototype._undestroy=d.undestroy,B.prototype._destroy=function(e,t){t(e)}},54887:(e,t,r)=>{"use strict";var i,n=r(34155);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(5800),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function A(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function g(e){n.nextTick(A,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(i={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[h])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,i=this[d];if(i)r=new Promise(function(e,t){return function(r,i){e.then((function(){t[h]?r(p(void 0,!0)):t[l](r,i)}),i)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[l])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),o(i,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),i),m);e.exports=function(e){var t,r=Object.create(y,(o(t={},f,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,h,{value:e._readableState.endEmitted,writable:!0}),o(t,l,{value:function(e,t){var i=r[f].read();i?(r[d]=null,r[a]=null,r[c]=null,e(p(i,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[d]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[d]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var i=r[a];null!==i&&(r[d]=null,r[a]=null,r[c]=null,i(p(void 0,!0))),r[h]=!0})),e.on("readable",g.bind(null,r)),r}},76633:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(48764).Buffer,u=r(96419).inspect,h=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,i,n=c.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=n,i=s,c.prototype.copy.call(t,r,i),s+=o.data.length,o=o.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?i+=n:i+=n.slice(0,e),0==(e-=o)){o===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return u(this,n(n({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},75997:(e,t,r)=>{"use strict";var i=r(34155);function n(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,e)):i.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(o,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t?(i.nextTick(o,r),t(e)):i.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},5800:(e,t,r)=>{"use strict";var i=r(84419).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(o||n);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},u=t._writableState&&t._writableState.finished,h=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},A=function(){t.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",h),t.on("abort",p),t.req?A():t.on("request",A)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",l),t.on("finish",h),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",h),t.removeListener("abort",p),t.removeListener("request",A),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",p)}}},98859:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},37065:(e,t,r)=>{"use strict";var i,n=r(84419).q,o=n.ERR_MISSING_ARGS,s=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var h,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var l=t.map((function(e,n){var o=n<t.length-1;return function(e,t,n,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===i&&(i=r(5800)),i(e,{readable:t,writable:n},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,n>0,(function(e){h||(h=e),e&&l.forEach(c),o||(l.forEach(c),d(h))}))}));return t.reduce(u)}},898:(e,t,r)=>{"use strict";var i=r(84419).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(n?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},59819:(e,t,r)=>{e.exports=r(17187).EventEmitter},23872:(e,t,r)=>{(t=e.exports=r(44960)).Stream=t,t.Readable=t,t.Writable=r(92010),t.Duplex=r(34390),t.Transform=r(3912),t.PassThrough=r(41294),t.finished=r(5800),t.pipeline=r(37065)},67295:e=>{e.exports=function(e,t){for(var r=Math.min(e.length,t.length),i=new Buffer(r),n=0;n<r;++n)i[n]=e[n]^t[n];return i}},48764:(e,t,r)=>{"use strict";const i=r(79742),n=r(80645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|A(e,t);let i=a(r);const n=i.write(e,t);return n!==r&&(i=i.slice(0,n)),i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return c.from(i,t,r);const n=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||$(e.length)?a(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return h(e),a(e<0?0:0|p(e))}function l(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let i=0;i<t;i+=1)r[i]=255&e[i];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(i,c.prototype),i}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function A(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;let n=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return J(e).length;default:if(n)return i?-1:z(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return Q(this,t,r);case"latin1":case"binary":return D(this,t,r);case"base64":return B(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function y(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:I(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):I(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function I(e,t,r,i,n){let o,s=1,a=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(n){let i=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===i?0:o-i)){if(-1===i&&(i=o),o-i+1===c)return i*s}else-1!==i&&(o-=o-i),i=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){let r=!0;for(let i=0;i<c;i++)if(u(e,o+i)!==u(t,i)){r=!1;break}if(r)return o}return-1}function w(e,t,r,i){r=Number(r)||0;const n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;const o=t.length;let s;for(i>o/2&&(i=o/2),s=0;s<i;++s){const i=parseInt(t.substr(2*s,2),16);if($(i))return s;e[r+s]=i}return s}function b(e,t,r,i){return Y(z(t,e.length-r),e,r,i)}function v(e,t,r,i){return Y(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function E(e,t,r,i){return Y(J(t),e,r,i)}function C(e,t,r,i){return Y(function(e,t){let r,i,n;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(t,e.length-r),e,r,i)}function B(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);const i=[];let n=t;for(;n<r;){const t=e[n];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(n+s<=r){let r,i,a,c;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[n+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(o=c));break;case 3:r=e[n+1],i=e[n+2],128==(192&r)&&128==(192&i)&&(c=(15&t)<<12|(63&r)<<6|63&i,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[n+1],i=e[n+2],a=e[n+3],128==(192&r)&&128==(192&i)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&i)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),n+=s}return function(e){const t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=_));return r}(i)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return h(e),e<=0?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(V(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,i=t.length;for(let n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const i=c.allocUnsafe(t);let n=0;for(r=0;r<e.length;++r){let t=e[r];if(V(t,Uint8Array))n+t.length>i.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(i,n)):Uint8Array.prototype.set.call(i,t,n);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(i,n)}n+=t.length}return i},c.byteLength=A,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,i,n){if(V(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(n>>>=0)-(i>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(i,n),h=e.slice(t,r);for(let e=0;e<a;++e)if(u[e]!==h[e]){o=u[e],s=h[e];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},c.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}const n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function Q(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function D(e,t,r){let i="";r=Math.min(e.length,r);for(let n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function k(e,t,r){const i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);let n="";for(let i=t;i<r;++i)n+=W[e[i]];return n}function M(e,t,r){const i=e.slice(t,r);let n="";for(let e=0;e<i.length-1;e+=2)n+=String.fromCharCode(i[e]+256*i[e+1]);return n}function P(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,r,i,n,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function F(e,t,r,i,n){q(t,i,n,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function R(e,t,r,i,n){q(t,i,n,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function O(e,t,r,i,n,o){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function T(e,t,r,i,o){return t=+t,r>>>=0,o||O(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function N(e,t,r,i,o){return t=+t,r>>>=0,o||O(e,0,r,8),n.write(e,t,r,i,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const i=this.subarray(e,t);return Object.setPrototypeOf(i,c.prototype),i},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let i=this[e],n=1,o=0;for(;++o<t&&(n*=256);)i+=this[e+o]*n;return i},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let i=this[e+--t],n=1;for(;t>0&&(n*=256);)i+=this[e+--t]*n;return i},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=Z((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const i=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,n=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(i)+(BigInt(n)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const i=t*2**24+65536*this[++e]+256*this[++e]+this[++e],n=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(i)<<BigInt(32))+BigInt(n)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let i=this[e],n=1,o=0;for(;++o<t&&(n*=256);)i+=this[e+o]*n;return n*=128,i>=n&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||P(e,t,this.length);let i=t,n=1,o=this[e+--i];for(;i>0&&(n*=256);)o+=this[e+--i]*n;return n*=128,o>=n&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=Z((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const i=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=Z((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||H(e,this.length-8);const i=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),n.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),n.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),n.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),n.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,i){e=+e,t>>>=0,r>>>=0,i||x(this,e,t,r,Math.pow(2,8*r)-1,0);let n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,i){e=+e,t>>>=0,r>>>=0,i||x(this,e,t,r,Math.pow(2,8*r)-1,0);let n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=Z((function(e,t=0){return F(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){const i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}let n=0,o=1,s=0;for(this[t]=255&e;++n<r&&(o*=256);)e<0&&0===s&&0!==this[t+n-1]&&(s=1),this[t+n]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){const i=Math.pow(2,8*r-1);x(this,e,t,r,i-1,-i)}let n=r-1,o=1,s=0;for(this[t+n]=255&e;--n>=0&&(o*=256);)e<0&&0===s&&0!==this[t+n+1]&&(s=1),this[t+n]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=Z((function(e,t=0){return F(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return T(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return T(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,i){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);const n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},c.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){const t=e.charCodeAt(0);("utf8"===i&&t<128||"latin1"===i)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let n;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(n=t;n<r;++n)this[n]=e;else{const o=c.isBuffer(e)?e:c.from(e,i),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<r-t;++n)this[n+t]=o[n%s]}return this};const U={};function j(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function L(e){let t="",r=e.length;const i="-"===e[0]?1:0;for(;r>=i+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function q(e,t,r,i,n,o){if(e>r||e<t){const i="bigint"==typeof t?"n":"";let n;throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${8*(o+1)}${i}`:`>= -(2${i} ** ${8*(o+1)-1}${i}) and < 2 ** ${8*(o+1)-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new U.ERR_OUT_OF_RANGE("value",n,e)}!function(e,t,r){K(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||H(t,e.length-(r+1))}(i,n,o)}function K(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,r){if(Math.floor(e)!==e)throw K(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,r){let i=`The value of "${e}" is out of range.`,n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=L(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=L(n)),n+="n"),i+=` It must be ${t}. Received ${n}`,i}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function z(e,t){let r;t=t||1/0;const i=e.length;let n=null;const o=[];for(let s=0;s<i;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function J(e){return i.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Y(e,t,r,i){let n;for(n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}const W=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const i=16*r;for(let n=0;n<16;++n)t[i+n]=e[r]+e[n]}return t}();function Z(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},21924:(e,t,r)=>{"use strict";var i=r(40210),n=r(55559),o=n(i("String.prototype.indexOf"));e.exports=function(e,t){var r=i(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?n(r):r}},55559:(e,t,r)=>{"use strict";var i=r(58612),n=r(40210),o=r(67771),s=n("%TypeError%"),a=n("%Function.prototype.apply%"),c=n("%Function.prototype.call%"),u=n("%Reflect.apply%",!0)||i.call(c,a),h=n("%Object.defineProperty%",!0),d=n("%Math.max%");if(h)try{h({},"a",{value:1})}catch(e){h=null}e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=u(i,c,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var l=function(){return u(i,a,arguments)};h?h(e.exports,"apply",{value:l}):e.exports.apply=l},95456:e=>{"use strict";e.exports=function e(t){if("number"==typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");return null===t||"object"!=typeof t?JSON.stringify(t):t.toJSON instanceof Function?e(t.toJSON()):Array.isArray(t)?`[${t.reduce(((t,r,i)=>`${t}${0===i?"":","}${e(void 0===r||"symbol"==typeof r?null:r)}`),"")}]`:`{${Object.keys(t).sort().reduce(((r,i)=>void 0===t[i]||"symbol"==typeof t[i]?r:`${r}${0===r.length?"":","}${e(i)}:${e(t[i])}`),"")}}`}},16957:(e,t,r)=>{"use strict";var i=r(90886);t.fromCallback=function(e,t){if(void 0===e){var r=new Promise((function(t,r){e=function(e,i){e?r(e):t(i)}}));e[void 0!==t?t:"promise"]=r}else if("function"!=typeof e)throw new TypeError("Callback must be a function");return e},t.fromPromise=function(e,t){if(void 0===t)return e;e.then((function(e){i((()=>t(null,e)))})).catch((function(e){i((()=>t(e)))}))}},90886:e=>{e.exports="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)},4551:(e,t,r)=>{const i=r(29204);e.exports=o;const n=[1634760805,857760878,2036477234,1797285236];function o(e,t,r){i(32===t.byteLength),i(8===e.byteLength||12===e.byteLength);const o=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),s=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4);r||(r=0),i(r<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(let e=0;e<4;e++)this.state[e]=n[e];for(let e=0;e<8;e++)this.state[4+e]=s[e];return this.state[12]=4294967295&r,8===o.byteLength?(this.state[13]=(r&&0xffffffff00000000)>>32,this.state[14]=o[0],this.state[15]=o[1]):(this.state[13]=o[0],this.state[14]=o[1],this.state[15]=o[2]),this}function s(e){const t=new Uint32Array(16);for(let r=16;r--;)t[r]=e[r];for(let e=0;e<20;e+=2)c(t,0,4,8,12),c(t,1,5,9,13),c(t,2,6,10,14),c(t,3,7,11,15),c(t,0,5,10,15),c(t,1,6,11,12),c(t,2,7,8,13),c(t,3,4,9,14);for(let r=0;r<16;r++)t[r]+=e[r];return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function a(e,t){return e<<t|e>>>32-t}function c(e,t,r,i,n){e[t]+=e[r],e[n]^=e[t],e[n]=a(e[n],16),e[i]+=e[n],e[r]^=e[i],e[r]=a(e[r],12),e[t]+=e[r],e[n]^=e[t],e[n]=a(e[n],8),e[i]+=e[n],e[r]^=e[i],e[r]=a(e[r],7)}o.prototype.update=function(e,t){i(!this.finalized,"cipher finalized."),i(e.byteLength>=t.byteLength,"output cannot be shorter than input.");let r=t.length,n=this.pos%64;this.pos+=r;let o=0,a=s(this.state);for(;n>0&&r>0;)e[o]=t[o++]^a[n],n=n+1&63,n||this.state[12]++,r--;for(;r>0;){if(a=s(this.state),r<64){for(let i=0;i<r;i++)e[o]=t[o++]^a[n++],n&=63;return}for(;n<64;)e[o]=t[o++]^a[n++];this.state[12]++,n=0,r-=64}},o.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0}},71027:(e,t,r)=>{var i=r(89509).Buffer,n=r(42830).Transform,o=r(32553).StringDecoder;function s(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(35717)(s,n),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=i.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{r(i)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return r&&(i+=this._decoder.end()),i},e.exports=s},76393:(e,t,r)=>{var i=r(86266),n=r(16426);e.exports=function(e){return new s(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function a(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new Buffer(e);if(r&&i.length<r){var n=new Buffer(r-i.length);n.fill(0),i=Buffer.concat([n,i])}return t?i.toString(t):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,t,r){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),a(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),a(r,e)},s.prototype.getPrivateKey=function(e){return a(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,t){t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t));var r=new n(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},16426:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8623).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function u(e,t,r,i){for(var n=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=e.length-1,o=0;n>=0;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var o=e.length-r,s=o%i,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=i)c=u(e,h,h+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],o=0|t.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var h=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=l;f++){var p=u-f|0;h+=(s=(n=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);r=0!=(o=a>>>24-n&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],f=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var A=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?A+r:h[u-A.length]+A+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),h=this.clone();if(c){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,o=0;o<i.length;o++)t=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<r.length;o++)t=(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,o,s=e.words,a=t.words,c=r.words,u=0,h=0|s[0],d=8191&h,l=h>>>13,f=0|s[1],p=8191&f,A=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,I=0|s[3],w=8191&I,b=I>>>13,v=0|s[4],E=8191&v,C=v>>>13,B=0|s[5],S=8191&B,_=B>>>13,Q=0|s[6],D=8191&Q,k=Q>>>13,M=0|s[7],P=8191&M,x=M>>>13,F=0|s[8],R=8191&F,O=F>>>13,T=0|s[9],N=8191&T,U=T>>>13,j=0|a[0],L=8191&j,q=j>>>13,K=0|a[1],H=8191&K,G=K>>>13,z=0|a[2],J=8191&z,Y=z>>>13,V=0|a[3],$=8191&V,W=V>>>13,Z=0|a[4],X=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],oe=8191&ne,se=ne>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,he=0|a[8],de=8191&he,le=he>>>13,fe=0|a[9],pe=8191&fe,Ae=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(i=Math.imul(d,L))|0)+((8191&(n=(n=Math.imul(d,q))+Math.imul(l,L)|0))<<13)|0;u=((o=Math.imul(l,q))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,q))+Math.imul(A,L)|0,o=Math.imul(A,q);var me=(u+(i=i+Math.imul(d,H)|0)|0)+((8191&(n=(n=n+Math.imul(d,G)|0)+Math.imul(l,H)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,L),n=(n=Math.imul(m,q))+Math.imul(y,L)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,G)|0;var ye=(u+(i=i+Math.imul(d,J)|0)|0)+((8191&(n=(n=n+Math.imul(d,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((o=o+Math.imul(l,Y)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,L),n=(n=Math.imul(w,q))+Math.imul(b,L)|0,o=Math.imul(b,q),i=i+Math.imul(m,H)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0;var Ie=(u+(i=i+Math.imul(d,$)|0)|0)+((8191&(n=(n=n+Math.imul(d,W)|0)+Math.imul(l,$)|0))<<13)|0;u=((o=o+Math.imul(l,W)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(E,L),n=(n=Math.imul(E,q))+Math.imul(C,L)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,Y)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,W)|0;var we=(u+(i=i+Math.imul(d,X)|0)|0)+((8191&(n=(n=n+Math.imul(d,ee)|0)+Math.imul(l,X)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(S,L),n=(n=Math.imul(S,q))+Math.imul(_,L)|0,o=Math.imul(_,q),i=i+Math.imul(E,H)|0,n=(n=n+Math.imul(E,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(m,$)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,W)|0,i=i+Math.imul(p,X)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,ee)|0;var be=(u+(i=i+Math.imul(d,re)|0)|0)+((8191&(n=(n=n+Math.imul(d,ie)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ie)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(D,L),n=(n=Math.imul(D,q))+Math.imul(k,L)|0,o=Math.imul(k,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(E,J)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,W)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(m,X)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ie)|0;var ve=(u+(i=i+Math.imul(d,oe)|0)|0)+((8191&(n=(n=n+Math.imul(d,se)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,se)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,q))+Math.imul(x,L)|0,o=Math.imul(x,q),i=i+Math.imul(D,H)|0,n=(n=n+Math.imul(D,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(E,$)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,W)|0,i=i+Math.imul(w,X)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0;var Ee=(u+(i=i+Math.imul(d,ce)|0)|0)+((8191&(n=(n=n+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,L),n=(n=Math.imul(R,q))+Math.imul(O,L)|0,o=Math.imul(O,q),i=i+Math.imul(P,H)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(D,J)|0,n=(n=n+Math.imul(D,Y)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0;var Ce=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(n=(n=n+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(N,L),n=(n=Math.imul(N,q))+Math.imul(U,L)|0,o=Math.imul(U,q),i=i+Math.imul(R,H)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,G)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(D,$)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,W)|0,i=i+Math.imul(S,X)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(E,re)|0,n=(n=n+Math.imul(E,ie)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ie)|0,i=i+Math.imul(w,oe)|0,n=(n=n+Math.imul(w,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(p,de)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Be=(u+(i=i+Math.imul(d,pe)|0)|0)+((8191&(n=(n=n+Math.imul(d,Ae)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(N,H),n=(n=Math.imul(N,G))+Math.imul(U,H)|0,o=Math.imul(U,G),i=i+Math.imul(R,J)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(D,X)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,ee)|0,i=i+Math.imul(S,re)|0,n=(n=n+Math.imul(S,ie)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0,i=i+Math.imul(m,de)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,le)|0;var Se=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(N,J),n=(n=Math.imul(N,Y))+Math.imul(U,J)|0,o=Math.imul(U,Y),i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(D,re)|0,n=(n=n+Math.imul(D,ie)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ie)|0,i=i+Math.imul(S,oe)|0,n=(n=n+Math.imul(S,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,i=i+Math.imul(E,ce)|0,n=(n=n+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,i=i+Math.imul(w,de)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var _e=(u+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(N,$),n=(n=Math.imul(N,W))+Math.imul(U,$)|0,o=Math.imul(U,W),i=i+Math.imul(R,X)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,ee)|0,i=i+Math.imul(P,re)|0,n=(n=n+Math.imul(P,ie)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,i=i+Math.imul(S,ce)|0,n=(n=n+Math.imul(S,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(E,de)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,le)|0;var Qe=(u+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,Ae)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,i=Math.imul(N,X),n=(n=Math.imul(N,ee))+Math.imul(U,X)|0,o=Math.imul(U,ee),i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ie)|0,i=i+Math.imul(P,oe)|0,n=(n=n+Math.imul(P,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,i=i+Math.imul(D,ce)|0,n=(n=n+Math.imul(D,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,i=i+Math.imul(S,de)|0,n=(n=n+Math.imul(S,le)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,le)|0;var De=(u+(i=i+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(N,re),n=(n=Math.imul(N,ie))+Math.imul(U,re)|0,o=Math.imul(U,ie),i=i+Math.imul(R,oe)|0,n=(n=n+Math.imul(R,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,i=i+Math.imul(P,ce)|0,n=(n=n+Math.imul(P,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,i=i+Math.imul(D,de)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var ke=(u+(i=i+Math.imul(S,pe)|0)|0)+((8191&(n=(n=n+Math.imul(S,Ae)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(N,oe),n=(n=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,i=i+Math.imul(P,de)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,le)|0;var Me=(u+(i=i+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(N,ce),n=(n=Math.imul(N,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),i=i+Math.imul(R,de)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Pe=(u+(i=i+Math.imul(P,pe)|0)|0)+((8191&(n=(n=n+Math.imul(P,Ae)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,Ae)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(N,de),n=(n=Math.imul(N,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var xe=(u+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(u+(i=Math.imul(N,pe))|0)+((8191&(n=(n=Math.imul(N,Ae))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,Ae))+(n>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=Ie,c[4]=we,c[5]=be,c[6]=ve,c[7]=Ee,c[8]=Ce,c[9]=Be,c[10]=Se,c[11]=_e,c[12]=Qe,c[13]=De,c[14]=ke,c[15]=Me,c[16]=Pe,c[17]=xe,c[18]=Fe,0!==u&&(c[19]=u,r.length++),r};function A(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),o.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h=o-u,d=(0|e.words[h])*(0|t.words[u]),l=67108863&d;a=67108863&(l=l+a|0),n+=(s=(s=s+(d/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,e,t):A(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},g.prototype.permute=function(e,t,r,i,n,o){for(var s=0;s<o;s++)i[s]=t[e[s]],n[s]=r[e[s]]},g.prototype.transform=function(e,t,r,i,n,o){this.permute(o,e,t,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<n;h+=a)for(var d=c,l=u,f=0;f<s;f++){var p=r[h+f],A=i[h+f],g=r[h+f+s],m=i[h+f+s],y=d*g-l*m;m=d*m+l*g,g=y,r[h+f]=p+g,i[h+f]=A+m,r[h+f+s]=p-g,i[h+f+s]=A-m,f!==a&&(y=c*d-u*l,l=c*l+u*d,d=y)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},g.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},g.prototype.convert13b=function(e,t,r,n){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<n;++s)r[s]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=new Array(i),l=r.words;l.length=i,this.convert13b(e.words,e.length,s,i),this.convert13b(t.words,t.length,u,i),this.transform(s,o,a,c,i,n),this.transform(u,o,h,d,i,n);for(var f=0;f<i;f++){var p=a[f]*h[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*h[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,l,o,i,n),this.conjugate(l,o,i),this.normalize13b(l,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),A(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var n;i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var d=0|this.words[u];this.words[u]=h<<26-o|d>>>o,h=d&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r||!(this.words[r]&n))},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,o,s=e.length+r;this._expand(s);var a=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!=(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var h=i.clone()._ishlnsubmul(n,1,c);0===h.negative&&(i=h,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|i.words[n.length+d])+(0|i.words[n.length+d-1]);for(l=Math.min(l/s|0,67108863),i._ishlnsubmul(n,l,d);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,d),i.isZero()||(i.negative^=1);a&&(a.words[d]=l)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},o.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:n,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(h),s.isub(d)),n.iushrn(1),s.iushrn(1);for(var p=0,A=1;0==(r.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),s.isub(c)):(r.isub(t),a.isub(n),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,l=1;0==(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(n=0===t.cmpn(1)?s:a).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var o=t;t=r,r=o}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(I,y),I.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[n-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},I.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(b,y),n(v,y),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new I;else if("p224"===e)t=new w;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return m[e]=t,t},E.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var d=this.pow(h,n),l=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=s;0!==f.cmp(a);){for(var A=f,g=0;0!==A.cmp(a);g++)A=A.redSqr();i(g<p);var m=this.pow(d,new o(1).iushln(p-g-1));l=l.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],h=c-1;h>=0;h--){var d=u>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===i&&0===h)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}c=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},n(C,E),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},23482:(e,t,r)=>{"use strict";var i=r(35717),n=r(62318),o=r(79785),s=r(89072),a=r(71027);function c(e){a.call(this,"digest"),this._hash=e}i(c,a),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new n:"rmd160"===e||"ripemd160"===e?new o:new c(s(e))}},78028:(e,t,r)=>{var i=r(62318);e.exports=function(e){return(new i).update(e).digest()}},58355:(e,t,r)=>{"use strict";var i=r(35717),n=r(51031),o=r(71027),s=r(89509).Buffer,a=r(78028),c=r(79785),u=r(89072),h=s.alloc(128);function d(e,t){o.call(this,"digest"),"string"==typeof t&&(t=s.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=s.concat([t,h],r));for(var i=this._ipad=s.allocUnsafe(r),n=this._opad=s.allocUnsafe(r),a=0;a<r;a++)i[a]=54^t[a],n[a]=92^t[a];this._hash="rmd160"===e?new c:u(e),this._hash.update(i)}i(d,o),d.prototype._update=function(e){this._hash.update(e)},d.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new d("rmd160",t):"md5"===e?new n(a,t):new d(e,t)}},51031:(e,t,r)=>{"use strict";var i=r(35717),n=r(89509).Buffer,o=r(71027),s=n.alloc(128),a=64;function c(e,t){o.call(this,"digest"),"string"==typeof t&&(t=n.from(t)),this._alg=e,this._key=t,t.length>a?t=e(t):t.length<a&&(t=n.concat([t,s],a));for(var r=this._ipad=n.allocUnsafe(a),i=this._opad=n.allocUnsafe(a),c=0;c<a;c++)r[c]=54^t[c],i[c]=92^t[c];this._hash=[r]}i(c,o),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(n.concat(this._hash));return this._alg(n.concat([this._opad,e]))},e.exports=c},54098:(e,t,r)=>{var i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();!function(e){!function(t){var r=void 0!==e&&e||"undefined"!=typeof self&&self||void 0!==r&&r,i="URLSearchParams"in r,n="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,a="ArrayBuffer"in r;if(a)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function A(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=A(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&o&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(g)}),this.text=function(){var e,t,r,i=p(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=A(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=h(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[h(e)]},f.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},f.prototype.set=function(e,t){this.map[h(e)]=d(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var I=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,i,n=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),I.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}})),t}function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];v.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function C(e,i){return new Promise((function(n,s){var c=new w(e,i);if(c.signal&&c.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function h(){u.abort()}u.onload=function(){var e,t,r={status:u.status,statusText:u.statusText,headers:(e=u.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}})),t)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var i="response"in u?u.response:u.responseText;setTimeout((function(){n(new v(i,r))}),0)},u.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){s(new t.DOMException("Aborted","AbortError"))}),0)},u.open(c.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(c.url),!0),"include"===c.credentials?u.withCredentials=!0:"omit"===c.credentials&&(u.withCredentials=!1),"responseType"in u&&(o?u.responseType="blob":a&&c.headers.get("Content-Type")&&-1!==c.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!i||"object"!=typeof i.headers||i.headers instanceof f?c.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(i.headers).forEach((function(e){u.setRequestHeader(e,d(i.headers[e]))})),c.signal&&(c.signal.addEventListener("abort",h),u.onreadystatechange=function(){4===u.readyState&&c.signal.removeEventListener("abort",h)}),u.send(void 0===c._bodyInit?null:c._bodyInit)}))}C.polyfill=!0,r.fetch||(r.fetch=C,r.Headers=f,r.Request=w,r.Response=v),t.Headers=f,t.Request=w,t.Response=v,t.fetch=C}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=i.fetch?i:n;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},55835:(e,t,r)=>{"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=r(61798),t.createHash=t.Hash=r(23482),t.createHmac=t.Hmac=r(58355);var i=r(56042),n=Object.keys(i),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);t.getHashes=function(){return o};var s=r(25632);t.pbkdf2=s.pbkdf2,t.pbkdf2Sync=s.pbkdf2Sync;var a=r(53614);t.Cipher=a.Cipher,t.createCipher=a.createCipher,t.Cipheriv=a.Cipheriv,t.createCipheriv=a.createCipheriv,t.Decipher=a.Decipher,t.createDecipher=a.createDecipher,t.Decipheriv=a.Decipheriv,t.createDecipheriv=a.createDecipheriv,t.getCiphers=a.getCiphers,t.listCiphers=a.listCiphers;var c=r(62607);t.DiffieHellmanGroup=c.DiffieHellmanGroup,t.createDiffieHellmanGroup=c.createDiffieHellmanGroup,t.getDiffieHellman=c.getDiffieHellman,t.createDiffieHellman=c.createDiffieHellman,t.DiffieHellman=c.DiffieHellman;var u=r(64743);t.createSign=u.createSign,t.Sign=u.Sign,t.createVerify=u.createVerify,t.Verify=u.Verify,t.createECDH=r(76393);var h=r(7900);t.publicEncrypt=h.publicEncrypt,t.privateEncrypt=h.privateEncrypt,t.publicDecrypt=h.publicDecrypt,t.privateDecrypt=h.privateDecrypt;var d=r(77963);t.randomFill=d.randomFill,t.randomFillSync=d.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},12296:(e,t,r)=>{"use strict";var i=r(31044)(),n=r(40210),o=i&&n("%Object.defineProperty%",!0);if(o)try{o({},"a",{value:1})}catch(e){o=!1}var s=n("%SyntaxError%"),a=n("%TypeError%"),c=r(27296);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,h=arguments.length>6&&arguments[6],d=!!c&&c(e,t);if(o)o(e,t,{configurable:null===u&&d?d.configurable:!u,enumerable:null===i&&d?d.enumerable:!i,value:r,writable:null===n&&d?d.writable:!n});else{if(!h&&(i||n||u))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},4289:(e,t,r)=>{"use strict";var i=r(82215),n="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=r(12296),c=r(31044)(),u=function(e,t,r,i){if(t in e)if(!0===i){if(e[t]===r)return}else if("function"!=typeof(n=i)||"[object Function]"!==o.call(n)||!i())return;var n;c?a(e,t,r,!0):a(e,t,r)},h=function(e,t){var r=arguments.length>2?arguments[2]:{},o=i(t);n&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)u(e,o[a],t[o[a]],r[o[a]])};h.supportsDescriptors=!!c,e.exports=h},15251:(e,t,r)=>{"use strict";t.utils=r(11278),t.Cipher=r(55756),t.DES=r(70778),t.CBC=r(39051),t.EDE=r(50651)},39051:(e,t,r)=>{"use strict";var i=r(79746),n=r(35717),o={};function s(e){i.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}n(t,e);for(var r=Object.keys(o),i=0;i<r.length;i++){var s=r[i];t.prototype[s]=o[s]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new s(this.options.iv);this._cbcState=e},o._update=function(e,t,r,i){var n=this._cbcState,o=this.constructor.super_.prototype,s=n.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];for(o._update.call(this,s,0,r,i),a=0;a<this.blockSize;a++)s[a]=r[i+a]}else{for(o._update.call(this,e,t,r,i),a=0;a<this.blockSize;a++)r[i+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=e[t+a]}}},55756:(e,t,r)=>{"use strict";var i=r(79746);function n(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}e.exports=n,n.prototype._init=function(){},n.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},n.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),i=0;i<r;i++)this.buffer[this.bufferOff+i]=e[t+i];return this.bufferOff+=r,r},n.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(e){var t=0,r=0,i=(this.bufferOff+e.length)/this.blockSize|0,n=new Array(i*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(n,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,n,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return n},n.prototype._updateDecrypt=function(e){for(var t=0,r=0,i=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,n=new Array(i*this.blockSize);i>0;i--)t+=this._buffer(e,t),r+=this._flushBuffer(n,r);return t+=this._buffer(e,t),n},n.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},n.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},n.prototype._unpad=function(e){return e},n.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},70778:(e,t,r)=>{"use strict";var i=r(79746),n=r(35717),o=r(11278),s=r(55756);function a(){this.tmp=new Array(2),this.keys=null}function c(e){s.call(this,e);var t=new a;this._desState=t,this.deriveKeys(t,e.key)}n(c,s),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var r=o.readUInt32BE(t,0),n=o.readUInt32BE(t,4);o.pc1(r,n,e.tmp,0),r=e.tmp[0],n=e.tmp[1];for(var s=0;s<e.keys.length;s+=2){var a=u[s>>>1];r=o.r28shl(r,a),n=o.r28shl(n,a),o.pc2(r,n,e.keys,s)}},c.prototype._update=function(e,t,r,i){var n=this._desState,s=o.readUInt32BE(e,t),a=o.readUInt32BE(e,t+4);o.ip(s,a,n.tmp,0),s=n.tmp[0],a=n.tmp[1],"encrypt"===this.type?this._encrypt(n,s,a,n.tmp,0):this._decrypt(n,s,a,n.tmp,0),s=n.tmp[0],a=n.tmp[1],o.writeUInt32BE(r,s,i),o.writeUInt32BE(r,a,i+4)},c.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,i=t;i<e.length;i++)e[i]=r;return!0},c.prototype._unpad=function(e){if(!1===this.padding)return e;for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)i.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,i,n){for(var s=t,a=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],h=e.keys[c+1];o.expand(a,e.tmp,0),u^=e.tmp[0],h^=e.tmp[1];var d=o.substitute(u,h),l=a;a=(s^o.permute(d))>>>0,s=l}o.rip(a,s,i,n)},c.prototype._decrypt=function(e,t,r,i,n){for(var s=r,a=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],h=e.keys[c+1];o.expand(s,e.tmp,0),u^=e.tmp[0],h^=e.tmp[1];var d=o.substitute(u,h),l=s;s=(a^o.permute(d))>>>0,a=l}o.rip(s,a,i,n)}},50651:(e,t,r)=>{"use strict";var i=r(79746),n=r(35717),o=r(55756),s=r(70778);function a(e,t){i.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:n}),s.create({type:"encrypt",key:o})]:[s.create({type:"decrypt",key:o}),s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:r})]}function c(e){o.call(this,e);var t=new a(this.type,this.options.key);this._edeState=t}n(c,o),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,i){var n=this._edeState;n.ciphers[0]._update(e,t,r,i),n.ciphers[1]._update(r,i,r,i),n.ciphers[2]._update(r,i,r,i)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},11278:(e,t)=>{"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,i){for(var n=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)n<<=1,n|=t>>>a+s&1;for(a=0;a<=24;a+=8)n<<=1,n|=e>>>a+s&1}for(s=6;s>=0;s-=2){for(a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}r[i+0]=n>>>0,r[i+1]=o>>>0},t.rip=function(e,t,r,i){for(var n=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)n<<=1,n|=t>>>a+s&1,n<<=1,n|=e>>>a+s&1;for(s=4;s<8;s++)for(a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;r[i+0]=n>>>0,r[i+1]=o>>>0},t.pc1=function(e,t,r,i){for(var n=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)n<<=1,n|=t>>a+s&1;for(a=0;a<=24;a+=8)n<<=1,n|=e>>a+s&1}for(a=0;a<=24;a+=8)n<<=1,n|=t>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;r[i+0]=n>>>0,r[i+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,n){for(var o=0,s=0,a=r.length>>>1,c=0;c<a;c++)o<<=1,o|=e>>>r[c]&1;for(c=a;c<r.length;c++)s<<=1,s|=t>>>r[c]&1;i[n+0]=o>>>0,i[n+1]=s>>>0},t.expand=function(e,t,r){var i=0,n=0;i=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)i<<=6,i|=e>>>o&63;for(o=11;o>=3;o-=4)n|=e>>>o&63,n<<=6;n|=(31&e)<<1|e>>>31,t[r+0]=i>>>0,t[r+1]=n>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,n=0;n<4;n++)r<<=4,r|=i[64*n+(e>>>18-6*n&63)];for(n=0;n<4;n++)r<<=4,r|=i[256+64*n+(t>>>18-6*n&63)];return r>>>0};var n=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<n.length;r++)t<<=1,t|=e>>>n[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var i=e.toString(2);i.length<t;)i="0"+i;for(var n=[],o=0;o<t;o+=r)n.push(i.slice(o,o+r));return n.join(" ")}},62607:(e,t,r)=>{var i=r(43590),n=r(29799),o=r(57426),s={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new Buffer(n[e].prime,"hex"),r=new Buffer(n[e].gen,"hex");return new o(t,r)},t.createDiffieHellman=t.DiffieHellman=function e(t,r,n,a){return Buffer.isBuffer(r)||void 0===s[r]?e(t,"binary",r,n):(r=r||"binary",a=a||"binary",n=n||new Buffer([2]),Buffer.isBuffer(n)||(n=new Buffer(n,a)),"number"==typeof t?new o(i(t,n),n,!0):(Buffer.isBuffer(t)||(t=new Buffer(t,r)),new o(t,n,!0)))}},57426:(e,t,r)=>{var i=r(83620),n=new(r(63047)),o=new i(24),s=new i(11),a=new i(10),c=new i(3),u=new i(7),h=r(43590),d=r(61798);function l(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this._pub=new i(e),this}function f(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this._priv=new i(e),this}e.exports=A;var p={};function A(e,t,r){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=l,this.setPrivateKey=f):this._primeCode=8}function g(e,t){var r=new Buffer(e.toArray());return t?r.toString(t):r}Object.defineProperty(A.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),i=[r,e.toString(16)].join("_");if(i in p)return p[i];var d,l=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!n.test(e))return l+=1,l+="02"===r||"05"===r?8:4,p[i]=l,l;switch(n.test(e.shrn(1))||(l+=2),r){case"02":e.mod(o).cmp(s)&&(l+=8);break;case"05":(d=e.mod(a)).cmp(c)&&d.cmp(u)&&(l+=8);break;default:l+=4}return p[i]=l,l}(this.__prime,this.__gen)),this._primeCode}}),A.prototype.generateKeys=function(){return this._priv||(this._priv=new i(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},A.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new Buffer(t.toArray()),n=this.getPrime();if(r.length<n.length){var o=new Buffer(n.length-r.length);o.fill(0),r=Buffer.concat([o,r])}return r},A.prototype.getPublicKey=function(e){return g(this._pub,e)},A.prototype.getPrivateKey=function(e){return g(this._priv,e)},A.prototype.getPrime=function(e){return g(this.__prime,e)},A.prototype.getGenerator=function(e){return g(this._gen,e)},A.prototype.setGenerator=function(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this.__gen=e,this._gen=new i(e),this}},43590:(e,t,r)=>{var i=r(61798);e.exports=y,y.simpleSieve=g,y.fermatTest=m;var n=r(83620),o=new n(24),s=new(r(63047)),a=new n(1),c=new n(2),u=new n(5),h=(new n(16),new n(8),new n(10)),d=new n(3),l=(new n(7),new n(11)),f=new n(4),p=(new n(12),null);function A(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var i=Math.ceil(Math.sqrt(r)),n=0;n<t&&e[n]<=i&&r%e[n]!=0;n++);t!==n&&e[n]<=i||(e[t++]=r)}return p=e,e}function g(e){for(var t=A(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function m(e){var t=n.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new n(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new n(t);;){for(r=new n(i(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(a),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;r.mod(h).cmp(d);)r.iadd(f)}else for(;r.mod(o).cmp(l);)r.iadd(f);if(g(p=r.shrn(1))&&g(r)&&m(p)&&m(r)&&s.test(p)&&s.test(r))return r}}},83620:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7748).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function u(e,t,r,i){for(var n=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=e.length-1,o=0;n>=0;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var o=e.length-r,s=o%i,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=i)c=u(e,h,h+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],o=0|t.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var h=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=l;f++){var p=u-f|0;h+=(s=(n=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);r=0!=(o=a>>>24-n&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],f=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var A=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?A+r:h[u-A.length]+A+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),h=this.clone();if(c){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,o=0;o<i.length;o++)t=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<r.length;o++)t=(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,o,s=e.words,a=t.words,c=r.words,u=0,h=0|s[0],d=8191&h,l=h>>>13,f=0|s[1],p=8191&f,A=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,I=0|s[3],w=8191&I,b=I>>>13,v=0|s[4],E=8191&v,C=v>>>13,B=0|s[5],S=8191&B,_=B>>>13,Q=0|s[6],D=8191&Q,k=Q>>>13,M=0|s[7],P=8191&M,x=M>>>13,F=0|s[8],R=8191&F,O=F>>>13,T=0|s[9],N=8191&T,U=T>>>13,j=0|a[0],L=8191&j,q=j>>>13,K=0|a[1],H=8191&K,G=K>>>13,z=0|a[2],J=8191&z,Y=z>>>13,V=0|a[3],$=8191&V,W=V>>>13,Z=0|a[4],X=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],oe=8191&ne,se=ne>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,he=0|a[8],de=8191&he,le=he>>>13,fe=0|a[9],pe=8191&fe,Ae=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(i=Math.imul(d,L))|0)+((8191&(n=(n=Math.imul(d,q))+Math.imul(l,L)|0))<<13)|0;u=((o=Math.imul(l,q))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,q))+Math.imul(A,L)|0,o=Math.imul(A,q);var me=(u+(i=i+Math.imul(d,H)|0)|0)+((8191&(n=(n=n+Math.imul(d,G)|0)+Math.imul(l,H)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,L),n=(n=Math.imul(m,q))+Math.imul(y,L)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,G)|0;var ye=(u+(i=i+Math.imul(d,J)|0)|0)+((8191&(n=(n=n+Math.imul(d,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((o=o+Math.imul(l,Y)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,L),n=(n=Math.imul(w,q))+Math.imul(b,L)|0,o=Math.imul(b,q),i=i+Math.imul(m,H)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0;var Ie=(u+(i=i+Math.imul(d,$)|0)|0)+((8191&(n=(n=n+Math.imul(d,W)|0)+Math.imul(l,$)|0))<<13)|0;u=((o=o+Math.imul(l,W)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(E,L),n=(n=Math.imul(E,q))+Math.imul(C,L)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,Y)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,W)|0;var we=(u+(i=i+Math.imul(d,X)|0)|0)+((8191&(n=(n=n+Math.imul(d,ee)|0)+Math.imul(l,X)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(S,L),n=(n=Math.imul(S,q))+Math.imul(_,L)|0,o=Math.imul(_,q),i=i+Math.imul(E,H)|0,n=(n=n+Math.imul(E,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(m,$)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,W)|0,i=i+Math.imul(p,X)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,ee)|0;var be=(u+(i=i+Math.imul(d,re)|0)|0)+((8191&(n=(n=n+Math.imul(d,ie)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ie)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(D,L),n=(n=Math.imul(D,q))+Math.imul(k,L)|0,o=Math.imul(k,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(E,J)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,W)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(m,X)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ie)|0;var ve=(u+(i=i+Math.imul(d,oe)|0)|0)+((8191&(n=(n=n+Math.imul(d,se)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,se)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,q))+Math.imul(x,L)|0,o=Math.imul(x,q),i=i+Math.imul(D,H)|0,n=(n=n+Math.imul(D,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(E,$)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,W)|0,i=i+Math.imul(w,X)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0;var Ee=(u+(i=i+Math.imul(d,ce)|0)|0)+((8191&(n=(n=n+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,L),n=(n=Math.imul(R,q))+Math.imul(O,L)|0,o=Math.imul(O,q),i=i+Math.imul(P,H)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(D,J)|0,n=(n=n+Math.imul(D,Y)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0;var Ce=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(n=(n=n+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(N,L),n=(n=Math.imul(N,q))+Math.imul(U,L)|0,o=Math.imul(U,q),i=i+Math.imul(R,H)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,G)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(D,$)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,W)|0,i=i+Math.imul(S,X)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(E,re)|0,n=(n=n+Math.imul(E,ie)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ie)|0,i=i+Math.imul(w,oe)|0,n=(n=n+Math.imul(w,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(p,de)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Be=(u+(i=i+Math.imul(d,pe)|0)|0)+((8191&(n=(n=n+Math.imul(d,Ae)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(N,H),n=(n=Math.imul(N,G))+Math.imul(U,H)|0,o=Math.imul(U,G),i=i+Math.imul(R,J)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(D,X)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,ee)|0,i=i+Math.imul(S,re)|0,n=(n=n+Math.imul(S,ie)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0,i=i+Math.imul(m,de)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,le)|0;var Se=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(N,J),n=(n=Math.imul(N,Y))+Math.imul(U,J)|0,o=Math.imul(U,Y),i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(D,re)|0,n=(n=n+Math.imul(D,ie)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ie)|0,i=i+Math.imul(S,oe)|0,n=(n=n+Math.imul(S,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,i=i+Math.imul(E,ce)|0,n=(n=n+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,i=i+Math.imul(w,de)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var _e=(u+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(N,$),n=(n=Math.imul(N,W))+Math.imul(U,$)|0,o=Math.imul(U,W),i=i+Math.imul(R,X)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,ee)|0,i=i+Math.imul(P,re)|0,n=(n=n+Math.imul(P,ie)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,i=i+Math.imul(S,ce)|0,n=(n=n+Math.imul(S,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(E,de)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,le)|0;var Qe=(u+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,Ae)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,i=Math.imul(N,X),n=(n=Math.imul(N,ee))+Math.imul(U,X)|0,o=Math.imul(U,ee),i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ie)|0,i=i+Math.imul(P,oe)|0,n=(n=n+Math.imul(P,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,i=i+Math.imul(D,ce)|0,n=(n=n+Math.imul(D,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,i=i+Math.imul(S,de)|0,n=(n=n+Math.imul(S,le)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,le)|0;var De=(u+(i=i+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(N,re),n=(n=Math.imul(N,ie))+Math.imul(U,re)|0,o=Math.imul(U,ie),i=i+Math.imul(R,oe)|0,n=(n=n+Math.imul(R,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,i=i+Math.imul(P,ce)|0,n=(n=n+Math.imul(P,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,i=i+Math.imul(D,de)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var ke=(u+(i=i+Math.imul(S,pe)|0)|0)+((8191&(n=(n=n+Math.imul(S,Ae)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(N,oe),n=(n=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,i=i+Math.imul(P,de)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,le)|0;var Me=(u+(i=i+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(N,ce),n=(n=Math.imul(N,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),i=i+Math.imul(R,de)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Pe=(u+(i=i+Math.imul(P,pe)|0)|0)+((8191&(n=(n=n+Math.imul(P,Ae)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,Ae)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(N,de),n=(n=Math.imul(N,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var xe=(u+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(u+(i=Math.imul(N,pe))|0)+((8191&(n=(n=Math.imul(N,Ae))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,Ae))+(n>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=Ie,c[4]=we,c[5]=be,c[6]=ve,c[7]=Ee,c[8]=Ce,c[9]=Be,c[10]=Se,c[11]=_e,c[12]=Qe,c[13]=De,c[14]=ke,c[15]=Me,c[16]=Pe,c[17]=xe,c[18]=Fe,0!==u&&(c[19]=u,r.length++),r};function A(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),o.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h=o-u,d=(0|e.words[h])*(0|t.words[u]),l=67108863&d;a=67108863&(l=l+a|0),n+=(s=(s=s+(d/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,e,t):A(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},g.prototype.permute=function(e,t,r,i,n,o){for(var s=0;s<o;s++)i[s]=t[e[s]],n[s]=r[e[s]]},g.prototype.transform=function(e,t,r,i,n,o){this.permute(o,e,t,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<n;h+=a)for(var d=c,l=u,f=0;f<s;f++){var p=r[h+f],A=i[h+f],g=r[h+f+s],m=i[h+f+s],y=d*g-l*m;m=d*m+l*g,g=y,r[h+f]=p+g,i[h+f]=A+m,r[h+f+s]=p-g,i[h+f+s]=A-m,f!==a&&(y=c*d-u*l,l=c*l+u*d,d=y)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},g.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},g.prototype.convert13b=function(e,t,r,n){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<n;++s)r[s]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=new Array(i),l=r.words;l.length=i,this.convert13b(e.words,e.length,s,i),this.convert13b(t.words,t.length,u,i),this.transform(s,o,a,c,i,n),this.transform(u,o,h,d,i,n);for(var f=0;f<i;f++){var p=a[f]*h[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*h[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,l,o,i,n),this.conjugate(l,o,i),this.normalize13b(l,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),A(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var n;i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var d=0|this.words[u];this.words[u]=h<<26-o|d>>>o,h=d&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r||!(this.words[r]&n))},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,o,s=e.length+r;this._expand(s);var a=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!=(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var h=i.clone()._ishlnsubmul(n,1,c);0===h.negative&&(i=h,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|i.words[n.length+d])+(0|i.words[n.length+d-1]);for(l=Math.min(l/s|0,67108863),i._ishlnsubmul(n,l,d);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,d),i.isZero()||(i.negative^=1);a&&(a.words[d]=l)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},o.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:n,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(h),s.isub(d)),n.iushrn(1),s.iushrn(1);for(var p=0,A=1;0==(r.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),s.isub(c)):(r.isub(t),a.isub(n),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,l=1;0==(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(n=0===t.cmpn(1)?s:a).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var o=t;t=r,r=o}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(I,y),I.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[n-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},I.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(b,y),n(v,y),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new I;else if("p224"===e)t=new w;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return m[e]=t,t},E.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var d=this.pow(h,n),l=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=s;0!==f.cmp(a);){for(var A=f,g=0;0!==A.cmp(a);g++)A=A.redSqr();i(g<p);var m=this.pow(d,new o(1).iushln(p-g-1));l=l.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],h=c-1;h>=0;h--){var d=u>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===i&&0===h)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}c=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},n(C,E),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},37845:(e,t)=>{"use strict";t.toString=function(e){switch(e){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+e},t.toClass=function(e){switch(e.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}},64568:(e,t,r)=>{"use strict";const i=r(48764).Buffer,n=r(9082),o=r(46017),s=r(76942),a=r(37845),c=r(96285),u=r(69526),h=t.name={};h.encode=function(e,t,r,{mail:n=!1}={}){t||(t=i.alloc(h.encodingLength(e))),r||(r=0);const o=r,s=e.replace(/^\.|\.$/gm,"");if(s.length){let e=[];if(n){let t="";s.split(".").forEach((r=>{r.endsWith("\\")?t+=(t.length?".":"")+r.slice(0,-1):0===e.length&&t.length?e.push(t+"."+r):e.push(r)}))}else e=s.split(".");for(let i=0;i<e.length;i++){const n=t.write(e[i],r+1);t[r]=n,r+=n+1}}return t[r++]=0,h.encode.bytes=r-o,t},h.encode.bytes=0,h.decode=function(e,t,{mail:r=!1}={}){t||(t=0);const i=[];let n=t,o=0,s=0,a=!1;for(;;){if(t>=e.length)throw new Error("Cannot decode name (buffer overflow)");const c=e[t++];if(s+=a?0:1,0===c)break;if(0==(192&c)){if(t+c>e.length)throw new Error("Cannot decode name (buffer overflow)");if(o+=c+1,o>254)throw new Error("Cannot decode name (name too long)");let n=e.toString("utf-8",t,t+c);r&&(n=n.replace(/\./g,"\\.")),i.push(n),t+=c,s+=a?0:c}else{if(192!=(192&c))throw new Error("Cannot decode name (bad label)");{if(t+1>e.length)throw new Error("Cannot decode name (buffer overflow)");const r=e.readUInt16BE(t-1)-49152;if(r>=n)throw new Error("Cannot decode name (bad pointer)");t=r,n=r,s+=a?0:1,a=!0}}}return h.decode.bytes=s,0===i.length?".":i.join(".")},h.decode.bytes=0,h.encodingLength=function(e){return"."===e||".."===e?1:i.byteLength(e.replace(/^\.|\.$/gm,""))+2};const d={encode:function(e,t,r){t||(t=i.alloc(d.encodingLength(e))),r||(r=0);const n=t.write(e,r+1);return t[r]=n,d.encode.bytes=n+1,t}};d.encode.bytes=0,d.decode=function(e,t){t||(t=0);const r=e[t],i=e.toString("utf-8",t+1,t+1+r);return d.decode.bytes=r+1,i},d.decode.bytes=0,d.encodingLength=function(e){return i.byteLength(e)+1};const l={encode:function(e,t,r){t||(t=l.encodingLength(e)),r||(r=0);const i=32767&(e.flags||0),n="response"===e.type?32768:0;return t.writeUInt16BE(e.id||0,r),t.writeUInt16BE(i|n,r+2),t.writeUInt16BE(e.questions.length,r+4),t.writeUInt16BE(e.answers.length,r+6),t.writeUInt16BE(e.authorities.length,r+8),t.writeUInt16BE(e.additionals.length,r+10),t}};l.encode.bytes=12,l.decode=function(e,t){if(t||(t=0),e.length<12)throw new Error("Header must be 12 bytes");const r=e.readUInt16BE(t+2);return{id:e.readUInt16BE(t),type:32768&r?"response":"query",flags:32767&r,flag_qr:1==(r>>15&1),opcode:s.toString(r>>11&15),flag_aa:1==(r>>10&1),flag_tc:1==(r>>9&1),flag_rd:1==(r>>8&1),flag_ra:1==(r>>7&1),flag_z:1==(r>>6&1),flag_ad:1==(r>>5&1),flag_cd:1==(r>>4&1),rcode:o.toString(15&r),questions:new Array(e.readUInt16BE(t+4)),answers:new Array(e.readUInt16BE(t+6)),authorities:new Array(e.readUInt16BE(t+8)),additionals:new Array(e.readUInt16BE(t+10))}},l.decode.bytes=12,l.encodingLength=function(){return 12};const f=t.unknown={};f.encode=function(e,t,r){return t||(t=i.alloc(f.encodingLength(e))),r||(r=0),t.writeUInt16BE(e.length,r),e.copy(t,r+2),f.encode.bytes=e.length+2,t},f.encode.bytes=0,f.decode=function(e,t){t||(t=0);const r=e.readUInt16BE(t),i=e.slice(t+2,t+2+r);return f.decode.bytes=r+2,i},f.decode.bytes=0,f.encodingLength=function(e){return e.length+2};const p=t.ns={};p.encode=function(e,t,r){return t||(t=i.alloc(p.encodingLength(e))),r||(r=0),h.encode(e,t,r+2),t.writeUInt16BE(h.encode.bytes,r),p.encode.bytes=h.encode.bytes+2,t},p.encode.bytes=0,p.decode=function(e,t){t||(t=0);const r=e.readUInt16BE(t),i=h.decode(e,t+2);return p.decode.bytes=r+2,i},p.decode.bytes=0,p.encodingLength=function(e){return h.encodingLength(e)+2};const A=t.soa={};A.encode=function(e,t,r){t||(t=i.alloc(A.encodingLength(e))),r||(r=0);const n=r;return r+=2,h.encode(e.mname,t,r),r+=h.encode.bytes,h.encode(e.rname,t,r,{mail:!0}),r+=h.encode.bytes,t.writeUInt32BE(e.serial||0,r),r+=4,t.writeUInt32BE(e.refresh||0,r),r+=4,t.writeUInt32BE(e.retry||0,r),r+=4,t.writeUInt32BE(e.expire||0,r),r+=4,t.writeUInt32BE(e.minimum||0,r),r+=4,t.writeUInt16BE(r-n-2,n),A.encode.bytes=r-n,t},A.encode.bytes=0,A.decode=function(e,t){t||(t=0);const r=t,i={};return t+=2,i.mname=h.decode(e,t),t+=h.decode.bytes,i.rname=h.decode(e,t,{mail:!0}),t+=h.decode.bytes,i.serial=e.readUInt32BE(t),t+=4,i.refresh=e.readUInt32BE(t),t+=4,i.retry=e.readUInt32BE(t),t+=4,i.expire=e.readUInt32BE(t),t+=4,i.minimum=e.readUInt32BE(t),t+=4,A.decode.bytes=t-r,i},A.decode.bytes=0,A.encodingLength=function(e){return 22+h.encodingLength(e.mname)+h.encodingLength(e.rname)};const g=t.txt={};g.encode=function(e,t,r){Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++)if("string"==typeof e[t]&&(e[t]=i.from(e[t])),!i.isBuffer(e[t]))throw new Error("Must be a Buffer");t||(t=i.alloc(g.encodingLength(e))),r||(r=0);const n=r;return r+=2,e.forEach((function(e){t[r++]=e.length,e.copy(t,r,0,e.length),r+=e.length})),t.writeUInt16BE(r-n-2,n),g.encode.bytes=r-n,t},g.encode.bytes=0,g.decode=function(e,t){t||(t=0);const r=t;let i=e.readUInt16BE(t);t+=2;let n=[];for(;i>0;){const r=e[t++];if(--i,i<r)throw new Error("Buffer overflow");n.push(e.slice(t,t+r)),t+=r,i-=r}return g.decode.bytes=t-r,n},g.decode.bytes=0,g.encodingLength=function(e){Array.isArray(e)||(e=[e]);let t=2;return e.forEach((function(e){t+="string"==typeof e?i.byteLength(e)+1:e.length+1})),t};const m=t.null={};m.encode=function(e,t,r){t||(t=i.alloc(m.encodingLength(e))),r||(r=0),"string"==typeof e&&(e=i.from(e)),e||(e=i.alloc(0));const n=r;r+=2;const o=e.length;return e.copy(t,r,0,o),r+=o,t.writeUInt16BE(r-n-2,n),m.encode.bytes=r-n,t},m.encode.bytes=0,m.decode=function(e,t){t||(t=0);const r=t,i=e.readUInt16BE(t);t+=2;const n=e.slice(t,t+i);return t+=i,m.decode.bytes=t-r,n},m.decode.bytes=0,m.encodingLength=function(e){return e?(i.isBuffer(e)?e.length:i.byteLength(e))+2:2};const y=t.hinfo={};y.encode=function(e,t,r){t||(t=i.alloc(y.encodingLength(e))),r||(r=0);const n=r;return r+=2,d.encode(e.cpu,t,r),r+=d.encode.bytes,d.encode(e.os,t,r),r+=d.encode.bytes,t.writeUInt16BE(r-n-2,n),y.encode.bytes=r-n,t},y.encode.bytes=0,y.decode=function(e,t){t||(t=0);const r=t,i={};return t+=2,i.cpu=d.decode(e,t),t+=d.decode.bytes,i.os=d.decode(e,t),t+=d.decode.bytes,y.decode.bytes=t-r,i},y.decode.bytes=0,y.encodingLength=function(e){return d.encodingLength(e.cpu)+d.encodingLength(e.os)+2};const I=t.ptr={},w=t.cname=I,b=t.dname=I;I.encode=function(e,t,r){return t||(t=i.alloc(I.encodingLength(e))),r||(r=0),h.encode(e,t,r+2),t.writeUInt16BE(h.encode.bytes,r),I.encode.bytes=h.encode.bytes+2,t},I.encode.bytes=0,I.decode=function(e,t){t||(t=0);const r=h.decode(e,t+2);return I.decode.bytes=h.decode.bytes+2,r},I.decode.bytes=0,I.encodingLength=function(e){return h.encodingLength(e)+2};const v=t.srv={};v.encode=function(e,t,r){t||(t=i.alloc(v.encodingLength(e))),r||(r=0),t.writeUInt16BE(e.priority||0,r+2),t.writeUInt16BE(e.weight||0,r+4),t.writeUInt16BE(e.port||0,r+6),h.encode(e.target,t,r+8);const n=h.encode.bytes+6;return t.writeUInt16BE(n,r),v.encode.bytes=n+2,t},v.encode.bytes=0,v.decode=function(e,t){t||(t=0);const r=e.readUInt16BE(t),i={};return i.priority=e.readUInt16BE(t+2),i.weight=e.readUInt16BE(t+4),i.port=e.readUInt16BE(t+6),i.target=h.decode(e,t+8),v.decode.bytes=r+2,i},v.decode.bytes=0,v.encodingLength=function(e){return 8+h.encodingLength(e.target)};const E=t.caa={};E.ISSUER_CRITICAL=128,E.encode=function(e,t,r){const n=E.encodingLength(e);return t||(t=i.alloc(E.encodingLength(e))),r||(r=0),e.issuerCritical&&(e.flags=E.ISSUER_CRITICAL),t.writeUInt16BE(n-2,r),r+=2,t.writeUInt8(e.flags||0,r),r+=1,d.encode(e.tag,t,r),r+=d.encode.bytes,t.write(e.value,r),r+=i.byteLength(e.value),E.encode.bytes=n,t},E.encode.bytes=0,E.decode=function(e,t){t||(t=0);const r=e.readUInt16BE(t),i=t+=2,n={};return n.flags=e.readUInt8(t),t+=1,n.tag=d.decode(e,t),t+=d.decode.bytes,n.value=e.toString("utf-8",t,i+r),n.issuerCritical=!!(n.flags&E.ISSUER_CRITICAL),E.decode.bytes=r+2,n},E.decode.bytes=0,E.encodingLength=function(e){return d.encodingLength(e.tag)+d.encodingLength(e.value)+2};const C=t.mx={};C.encode=function(e,t,r){t||(t=i.alloc(C.encodingLength(e))),r||(r=0);const n=r;return r+=2,t.writeUInt16BE(e.preference||0,r),r+=2,h.encode(e.exchange,t,r),r+=h.encode.bytes,t.writeUInt16BE(r-n-2,n),C.encode.bytes=r-n,t},C.encode.bytes=0,C.decode=function(e,t){t||(t=0);const r=t,i={};return t+=2,i.preference=e.readUInt16BE(t),t+=2,i.exchange=h.decode(e,t),t+=h.decode.bytes,C.decode.bytes=t-r,i},C.encodingLength=function(e){return 4+h.encodingLength(e.exchange)};const B=t.a={};B.encode=function(e,t,r){return t||(t=i.alloc(B.encodingLength(e))),r||(r=0),t.writeUInt16BE(4,r),r+=2,u.v4.encode(e,t,r),B.encode.bytes=6,t},B.encode.bytes=0,B.decode=function(e,t){t||(t=0),t+=2;const r=u.v4.decode(e,t);return B.decode.bytes=6,r},B.decode.bytes=0,B.encodingLength=function(){return 6};const S=t.aaaa={};S.encode=function(e,t,r){return t||(t=i.alloc(S.encodingLength(e))),r||(r=0),t.writeUInt16BE(16,r),r+=2,u.v6.encode(e,t,r),S.encode.bytes=18,t},S.encode.bytes=0,S.decode=function(e,t){t||(t=0),t+=2;const r=u.v6.decode(e,t);return S.decode.bytes=18,r},S.decode.bytes=0,S.encodingLength=function(){return 18};const _=t.option={};_.encode=function(e,t,r){t||(t=i.alloc(_.encodingLength(e))),r||(r=0);const n=r,o=c.toCode(e.code);if(t.writeUInt16BE(o,r),r+=2,e.data)t.writeUInt16BE(e.data.length,r),r+=2,e.data.copy(t,r),r+=e.data.length;else switch(o){case 8:const n=e.sourcePrefixLength||0,o=e.family||u.familyOf(e.ip),s=u.encode(e.ip,i.alloc),a=Math.ceil(n/8);t.writeUInt16BE(a+4,r),r+=2,t.writeUInt16BE(o,r),r+=2,t.writeUInt8(n,r++),t.writeUInt8(e.scopePrefixLength||0,r++),s.copy(t,r,0,a),r+=a;break;case 11:e.timeout?(t.writeUInt16BE(2,r),r+=2,t.writeUInt16BE(e.timeout,r),r+=2):(t.writeUInt16BE(0,r),r+=2);break;case 12:const c=e.length||0;t.writeUInt16BE(c,r),r+=2,t.fill(0,r,r+c),r+=c;break;case 14:const h=2*e.tags.length;t.writeUInt16BE(h,r),r+=2;for(const i of e.tags)t.writeUInt16BE(i,r),r+=2;break;default:throw new Error(`Unknown roption code: ${e.code}`)}return _.encode.bytes=r-n,t},_.encode.bytes=0,_.decode=function(e,t){t||(t=0);const r={};r.code=e.readUInt16BE(t),r.type=c.toString(r.code),t+=2;const n=e.readUInt16BE(t);switch(t+=2,r.data=e.slice(t,t+n),r.code){case 8:r.family=e.readUInt16BE(t),t+=2,r.sourcePrefixLength=e.readUInt8(t++),r.scopePrefixLength=e.readUInt8(t++);const o=i.alloc(1===r.family?4:16);e.copy(o,0,t,t+n-4),r.ip=u.decode(o);break;case 11:n>0&&(r.timeout=e.readUInt16BE(t),t+=2);break;case 14:r.tags=[];for(let i=0;i<n;i+=2)r.tags.push(e.readUInt16BE(t)),t+=2}return _.decode.bytes=n+4,r},_.decode.bytes=0,_.encodingLength=function(e){if(e.data)return e.data.length+4;switch(c.toCode(e.code)){case 8:const t=e.sourcePrefixLength||0;return Math.ceil(t/8)+8;case 11:return"number"==typeof e.timeout?6:4;case 12:return e.length+4;case 14:return 4+2*e.tags.length}throw new Error(`Unknown roption code: ${e.code}`)};const Q=t.opt={};Q.encode=function(e,t,r){t||(t=i.alloc(Q.encodingLength(e))),r||(r=0);const n=r,o=q(e,_);return t.writeUInt16BE(o,r),r=K(e,_,t,r+2),Q.encode.bytes=r-n,t},Q.encode.bytes=0,Q.decode=function(e,t){t||(t=0);const r=t,i=[];let n=e.readUInt16BE(t);t+=2;let o=0;for(;n>0;)i[o++]=_.decode(e,t),t+=_.decode.bytes,n-=_.decode.bytes;return Q.decode.bytes=t-r,i},Q.decode.bytes=0,Q.encodingLength=function(e){return 2+q(e||[],_)};const D=t.dnskey={};D.PROTOCOL_DNSSEC=3,D.ZONE_KEY=128,D.SECURE_ENTRYPOINT=32768,D.encode=function(e,t,r){t||(t=i.alloc(D.encodingLength(e))),r||(r=0);const n=r,o=e.key;if(!i.isBuffer(o))throw new Error("Key must be a Buffer");return r+=2,t.writeUInt16BE(e.flags,r),r+=2,t.writeUInt8(D.PROTOCOL_DNSSEC,r),r+=1,t.writeUInt8(e.algorithm,r),r+=1,o.copy(t,r,0,o.length),r+=o.length,D.encode.bytes=r-n,t.writeUInt16BE(D.encode.bytes-2,n),t},D.encode.bytes=0,D.decode=function(e,t){t||(t=0);const r=t;var i={},n=e.readUInt16BE(t);if(t+=2,i.flags=e.readUInt16BE(t),t+=2,e.readUInt8(t)!==D.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return t+=1,i.algorithm=e.readUInt8(t),t+=1,i.key=e.slice(t,r+n+2),t+=i.key.length,D.decode.bytes=t-r,i},D.decode.bytes=0,D.encodingLength=function(e){return 6+i.byteLength(e.key)};const k=t.rrsig={};k.encode=function(e,t,r){t||(t=i.alloc(k.encodingLength(e))),r||(r=0);const o=r,s=e.signature;if(!i.isBuffer(s))throw new Error("Signature must be a Buffer");return r+=2,t.writeUInt16BE(n.toType(e.typeCovered),r),r+=2,t.writeUInt8(e.algorithm,r),r+=1,t.writeUInt8(e.labels,r),r+=1,t.writeUInt32BE(e.originalTTL,r),r+=4,t.writeUInt32BE(e.expiration,r),r+=4,t.writeUInt32BE(e.inception,r),r+=4,t.writeUInt16BE(e.keyTag,r),r+=2,h.encode(e.signersName,t,r),r+=h.encode.bytes,s.copy(t,r,0,s.length),r+=s.length,k.encode.bytes=r-o,t.writeUInt16BE(k.encode.bytes-2,o),t},k.encode.bytes=0,k.decode=function(e,t){t||(t=0);const r=t;var i={},o=e.readUInt16BE(t);return t+=2,i.typeCovered=n.toString(e.readUInt16BE(t)),t+=2,i.algorithm=e.readUInt8(t),t+=1,i.labels=e.readUInt8(t),t+=1,i.originalTTL=e.readUInt32BE(t),t+=4,i.expiration=e.readUInt32BE(t),t+=4,i.inception=e.readUInt32BE(t),t+=4,i.keyTag=e.readUInt16BE(t),t+=2,i.signersName=h.decode(e,t),t+=h.decode.bytes,i.signature=e.slice(t,r+o+2),t+=i.signature.length,k.decode.bytes=t-r,i},k.decode.bytes=0,k.encodingLength=function(e){return 20+h.encodingLength(e.signersName)+i.byteLength(e.signature)};const M=t.rp={};M.encode=function(e,t,r){t||(t=i.alloc(M.encodingLength(e))),r||(r=0);const n=r;return r+=2,h.encode(e.mbox||".",t,r,{mail:!0}),r+=h.encode.bytes,h.encode(e.txt||".",t,r),r+=h.encode.bytes,M.encode.bytes=r-n,t.writeUInt16BE(M.encode.bytes-2,n),t},M.encode.bytes=0,M.decode=function(e,t){t||(t=0);const r=t,i={};return t+=2,i.mbox=h.decode(e,t,{mail:!0})||".",t+=h.decode.bytes,i.txt=h.decode(e,t)||".",t+=h.decode.bytes,M.decode.bytes=t-r,i},M.decode.bytes=0,M.encodingLength=function(e){return 2+h.encodingLength(e.mbox||".")+h.encodingLength(e.txt||".")};const P={encode:function(e,t,r){t||(t=i.alloc(P.encodingLength(e))),r||(r=0);const o=r;for(var s=[],a=0;a<e.length;a++){var c=n.toType(e[a]);void 0===s[c>>8]&&(s[c>>8]=[]),s[c>>8][c>>3&31]|=1<<7-(7&c)}for(a=0;a<s.length;a++)if(void 0!==s[a]){var u=i.from(s[a]);t.writeUInt8(a,r),r+=1,t.writeUInt8(u.length,r),r+=1,u.copy(t,r),r+=u.length}return P.encode.bytes=r-o,t}};P.encode.bytes=0,P.decode=function(e,t,r){t||(t=0);const i=t;for(var o=[];t-i<r;){var s=e.readUInt8(t);t+=1;var a=e.readUInt8(t);t+=1;for(var c=0;c<a;c++)for(var u=e.readUInt8(t+c),h=0;h<8;h++)if(u&1<<7-h){var d=n.toString(s<<8|c<<3|h);o.push(d)}t+=a}return P.decode.bytes=t-i,o},P.decode.bytes=0,P.encodingLength=function(e){for(var t=[],r=0;r<e.length;r++){var i=n.toType(e[r]);t[i>>8]=Math.max(t[i>>8]||0,255&i)}var o=0;for(r=0;r<t.length;r++)void 0!==t[r]&&(o+=2+Math.ceil((t[r]+1)/8));return o};const x=t.nsec={};x.encode=function(e,t,r){t||(t=i.alloc(x.encodingLength(e))),r||(r=0);const n=r;return r+=2,h.encode(e.nextDomain,t,r),r+=h.encode.bytes,P.encode(e.rrtypes,t,r),r+=P.encode.bytes,x.encode.bytes=r-n,t.writeUInt16BE(x.encode.bytes-2,n),t},x.encode.bytes=0,x.decode=function(e,t){t||(t=0);const r=t;var i={},n=e.readUInt16BE(t);return t+=2,i.nextDomain=h.decode(e,t),t+=h.decode.bytes,i.rrtypes=P.decode(e,t,n-(t-r)),t+=P.decode.bytes,x.decode.bytes=t-r,i},x.decode.bytes=0,x.encodingLength=function(e){return 2+h.encodingLength(e.nextDomain)+P.encodingLength(e.rrtypes)};const F=t.nsec3={};F.encode=function(e,t,r){t||(t=i.alloc(F.encodingLength(e))),r||(r=0);const n=r,o=e.salt;if(!i.isBuffer(o))throw new Error("salt must be a Buffer");const s=e.nextDomain;if(!i.isBuffer(s))throw new Error("nextDomain must be a Buffer");return r+=2,t.writeUInt8(e.algorithm,r),r+=1,t.writeUInt8(e.flags,r),r+=1,t.writeUInt16BE(e.iterations,r),r+=2,t.writeUInt8(o.length,r),r+=1,o.copy(t,r,0,o.length),r+=o.length,t.writeUInt8(s.length,r),r+=1,s.copy(t,r,0,s.length),r+=s.length,P.encode(e.rrtypes,t,r),r+=P.encode.bytes,F.encode.bytes=r-n,t.writeUInt16BE(F.encode.bytes-2,n),t},F.encode.bytes=0,F.decode=function(e,t){t||(t=0);const r=t;var i={},n=e.readUInt16BE(t);t+=2,i.algorithm=e.readUInt8(t),t+=1,i.flags=e.readUInt8(t),t+=1,i.iterations=e.readUInt16BE(t),t+=2;const o=e.readUInt8(t);t+=1,i.salt=e.slice(t,t+o),t+=o;const s=e.readUInt8(t);return t+=1,i.nextDomain=e.slice(t,t+s),t+=s,i.rrtypes=P.decode(e,t,n-(t-r)),t+=P.decode.bytes,F.decode.bytes=t-r,i},F.decode.bytes=0,F.encodingLength=function(e){return 8+e.salt.length+e.nextDomain.length+P.encodingLength(e.rrtypes)};const R=t.ds={};R.encode=function(e,t,r){t||(t=i.alloc(R.encodingLength(e))),r||(r=0);const n=r,o=e.digest;if(!i.isBuffer(o))throw new Error("Digest must be a Buffer");return r+=2,t.writeUInt16BE(e.keyTag,r),r+=2,t.writeUInt8(e.algorithm,r),r+=1,t.writeUInt8(e.digestType,r),r+=1,o.copy(t,r,0,o.length),r+=o.length,R.encode.bytes=r-n,t.writeUInt16BE(R.encode.bytes-2,n),t},R.encode.bytes=0,R.decode=function(e,t){t||(t=0);const r=t;var i={},n=e.readUInt16BE(t);return t+=2,i.keyTag=e.readUInt16BE(t),t+=2,i.algorithm=e.readUInt8(t),t+=1,i.digestType=e.readUInt8(t),t+=1,i.digest=e.slice(t,r+n+2),t+=i.digest.length,R.decode.bytes=t-r,i},R.decode.bytes=0,R.encodingLength=function(e){return 6+i.byteLength(e.digest)};const O=t.sshfp={};O.getFingerprintLengthForHashType=function(e){switch(e){case 1:return 20;case 2:return 32}},O.encode=function(e,t,r){t||(t=i.alloc(O.encodingLength(e))),r||(r=0);const n=r;t[r+=2]=e.algorithm,t[r+=1]=e.hash,r+=1;const o=i.from(e.fingerprint.toUpperCase(),"hex");if(o.length!==O.getFingerprintLengthForHashType(e.hash))throw new Error("Invalid fingerprint length");return o.copy(t,r),r+=o.byteLength,O.encode.bytes=r-n,t.writeUInt16BE(O.encode.bytes-2,n),t},O.encode.bytes=0,O.decode=function(e,t){t||(t=0);const r=t,i={};t+=2,i.algorithm=e[t],t+=1,i.hash=e[t],t+=1;const n=O.getFingerprintLengthForHashType(i.hash);return i.fingerprint=e.slice(t,t+n).toString("hex").toUpperCase(),t+=n,O.decode.bytes=t-r,i},O.decode.bytes=0,O.encodingLength=function(e){return 4+i.from(e.fingerprint,"hex").byteLength};const T=t.naptr={};T.encode=function(e,t,r){t||(t=i.alloc(T.encodingLength(e))),r||(r=0);const n=r;return r+=2,t.writeUInt16BE(e.order||0,r),r+=2,t.writeUInt16BE(e.preference||0,r),r+=2,d.encode(e.flags,t,r),r+=d.encode.bytes,d.encode(e.services,t,r),r+=d.encode.bytes,d.encode(e.regexp,t,r),r+=d.encode.bytes,h.encode(e.replacement,t,r),r+=h.encode.bytes,T.encode.bytes=r-n,t.writeUInt16BE(T.encode.bytes-2,n),t},T.encode.bytes=0,T.decode=function(e,t){t||(t=0);const r=t,i={};return t+=2,i.order=e.readUInt16BE(t),t+=2,i.preference=e.readUInt16BE(t),t+=2,i.flags=d.decode(e,t),t+=d.decode.bytes,i.services=d.decode(e,t),t+=d.decode.bytes,i.regexp=d.decode(e,t),t+=d.decode.bytes,i.replacement=h.decode(e,t),t+=h.decode.bytes,T.decode.bytes=t-r,i},T.decode.bytes=0,T.encodingLength=function(e){return d.encodingLength(e.flags)+d.encodingLength(e.services)+d.encodingLength(e.regexp)+h.encodingLength(e.replacement)+6};const N=t.tlsa={};N.encode=function(e,t,r){t||(t=i.alloc(N.encodingLength(e))),r||(r=0);const n=r,o=e.certificate;if(!i.isBuffer(o))throw new Error("Certificate must be a Buffer");return r+=2,t.writeUInt8(e.usage,r),r+=1,t.writeUInt8(e.selector,r),r+=1,t.writeUInt8(e.matchingType,r),r+=1,o.copy(t,r,0,o.length),r+=o.length,N.encode.bytes=r-n,t.writeUInt16BE(N.encode.bytes-2,n),t},N.encode.bytes=0,N.decode=function(e,t){t||(t=0);const r=t,i={},n=e.readUInt16BE(t);return t+=2,i.usage=e.readUInt8(t),t+=1,i.selector=e.readUInt8(t),t+=1,i.matchingType=e.readUInt8(t),t+=1,i.certificate=e.slice(t,r+n+2),t+=i.certificate.length,N.decode.bytes=t-r,i},N.decode.bytes=0,N.encodingLength=function(e){return 5+i.byteLength(e.certificate)};const U=t.record=function(e){switch(e.toUpperCase()){case"A":return B;case"PTR":return I;case"CNAME":return w;case"DNAME":return b;case"TXT":return g;case"NULL":return m;case"AAAA":return S;case"SRV":return v;case"HINFO":return y;case"CAA":return E;case"NS":return p;case"SOA":return A;case"MX":return C;case"OPT":return Q;case"DNSKEY":return D;case"RRSIG":return k;case"RP":return M;case"NSEC":return x;case"NSEC3":return F;case"SSHFP":return O;case"DS":return R;case"NAPTR":return T;case"TLSA":return N}return f},j=t.answer={};j.encode=function(e,t,r){t||(t=i.alloc(j.encodingLength(e))),r||(r=0);const o=r;if(h.encode(e.name,t,r),r+=h.encode.bytes,t.writeUInt16BE(n.toType(e.type),r),"OPT"===e.type.toUpperCase()){if("."!==e.name)throw new Error("OPT name must be root.");t.writeUInt16BE(e.udpPayloadSize||4096,r+2),t.writeUInt8(e.extendedRcode||0,r+4),t.writeUInt8(e.ednsVersion||0,r+5),t.writeUInt16BE(e.flags||0,r+6),r+=8,Q.encode(e.options||[],t,r),r+=Q.encode.bytes}else{let i=a.toClass(void 0===e.class?"IN":e.class);e.flush&&(i|=32768),t.writeUInt16BE(i,r+2),t.writeUInt32BE(e.ttl||0,r+4),r+=8;const n=U(e.type);n.encode(e.data,t,r),r+=n.encode.bytes}return j.encode.bytes=r-o,t},j.encode.bytes=0,j.decode=function(e,t){t||(t=0);const r={},i=t;if(r.name=h.decode(e,t),t+=h.decode.bytes,r.type=n.toString(e.readUInt16BE(t)),"OPT"===r.type)r.udpPayloadSize=e.readUInt16BE(t+2),r.extendedRcode=e.readUInt8(t+4),r.ednsVersion=e.readUInt8(t+5),r.flags=e.readUInt16BE(t+6),r.flag_do=1==(r.flags>>15&1),r.options=Q.decode(e,t+8),t+=8+Q.decode.bytes;else{const i=e.readUInt16BE(t+2);r.ttl=e.readUInt32BE(t+4),r.class=a.toString(-32769&i),r.flush=!!(32768&i);const n=U(r.type);r.data=n.decode(e,t+8),t+=8+n.decode.bytes}return j.decode.bytes=t-i,r},j.decode.bytes=0,j.encodingLength=function(e){const t=null!==e.data&&void 0!==e.data?e.data:e.options;return h.encodingLength(e.name)+8+U(e.type).encodingLength(t)};const L=t.question={};function q(e,t){let r=0;for(let i=0;i<e.length;i++)r+=t.encodingLength(e[i]);return r}function K(e,t,r,i){for(let n=0;n<e.length;n++)t.encode(e[n],r,i),i+=t.encode.bytes;return i}function H(e,t,r,i){for(let n=0;n<e.length;n++)e[n]=t.decode(r,i),i+=t.decode.bytes;return i}L.encode=function(e,t,r){t||(t=i.alloc(L.encodingLength(e))),r||(r=0);const o=r;return h.encode(e.name,t,r),r+=h.encode.bytes,t.writeUInt16BE(n.toType(e.type),r),r+=2,t.writeUInt16BE(a.toClass(void 0===e.class?"IN":e.class),r),r+=2,L.encode.bytes=r-o,e},L.encode.bytes=0,L.decode=function(e,t){t||(t=0);const r=t,i={};return i.name=h.decode(e,t),t+=h.decode.bytes,i.type=n.toString(e.readUInt16BE(t)),t+=2,i.class=a.toString(e.readUInt16BE(t)),t+=2,!!(32768&i.class)&&(i.class&=-32769),L.decode.bytes=t-r,i},L.decode.bytes=0,L.encodingLength=function(e){return h.encodingLength(e.name)+4},t.AUTHORITATIVE_ANSWER=1024,t.TRUNCATED_RESPONSE=512,t.RECURSION_DESIRED=256,t.RECURSION_AVAILABLE=128,t.AUTHENTIC_DATA=32,t.CHECKING_DISABLED=16,t.DNSSEC_OK=32768,t.encode=function(e,r,n){const o=!r;o&&(r=i.alloc(t.encodingLength(e))),n||(n=0);const s=n;return e.questions||(e.questions=[]),e.answers||(e.answers=[]),e.authorities||(e.authorities=[]),e.additionals||(e.additionals=[]),l.encode(e,r,n),n+=l.encode.bytes,n=K(e.questions,L,r,n),n=K(e.answers,j,r,n),n=K(e.authorities,j,r,n),n=K(e.additionals,j,r,n),t.encode.bytes=n-s,o&&t.encode.bytes!==r.length?r.slice(0,t.encode.bytes):r},t.encode.bytes=0,t.decode=function(e,r){r||(r=0);const i=r,n=l.decode(e,r);return r+=l.decode.bytes,r=H(n.questions,L,e,r),r=H(n.answers,j,e,r),r=H(n.authorities,j,e,r),r=H(n.additionals,j,e,r),t.decode.bytes=r-i,n},t.decode.bytes=0,t.encodingLength=function(e){return l.encodingLength(e)+q(e.questions||[],L)+q(e.answers||[],j)+q(e.authorities||[],j)+q(e.additionals||[],j)},t.streamEncode=function(e){const r=t.encode(e),n=i.alloc(2);n.writeUInt16BE(r.byteLength);const o=i.concat([n,r]);return t.streamEncode.bytes=o.byteLength,o},t.streamEncode.bytes=0,t.streamDecode=function(e){const r=e.readUInt16BE(0);if(e.byteLength<r+2)return null;const i=t.decode(e.slice(2));return t.streamDecode.bytes=t.decode.bytes,i},t.streamDecode.bytes=0},76942:(e,t)=>{"use strict";t.toString=function(e){switch(e){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+e},t.toOpcode=function(e){switch(e.toUpperCase()){case"QUERY":return 0;case"IQUERY":return 1;case"STATUS":return 2;case"OPCODE_3":return 3;case"NOTIFY":return 4;case"UPDATE":return 5;case"OPCODE_6":return 6;case"OPCODE_7":return 7;case"OPCODE_8":return 8;case"OPCODE_9":return 9;case"OPCODE_10":return 10;case"OPCODE_11":return 11;case"OPCODE_12":return 12;case"OPCODE_13":return 13;case"OPCODE_14":return 14;case"OPCODE_15":return 15}return 0}},96285:(e,t)=>{"use strict";t.toString=function(e){switch(e){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return e<0?null:`OPTION_${e}`},t.toCode=function(e){if("number"==typeof e)return e;if(!e)return-1;switch(e.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const t=e.match(/_(\d+)$/);return t?parseInt(t[1],10):-1}},46017:(e,t)=>{"use strict";t.toString=function(e){switch(e){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+e},t.toRcode=function(e){switch(e.toUpperCase()){case"NOERROR":return 0;case"FORMERR":return 1;case"SERVFAIL":return 2;case"NXDOMAIN":return 3;case"NOTIMP":return 4;case"REFUSED":return 5;case"YXDOMAIN":return 6;case"YXRRSET":return 7;case"NXRRSET":return 8;case"NOTAUTH":return 9;case"NOTZONE":return 10;case"RCODE_11":return 11;case"RCODE_12":return 12;case"RCODE_13":return 13;case"RCODE_14":return 14;case"RCODE_15":return 15}return 0}},9082:(e,t)=>{"use strict";t.toString=function(e){switch(e){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+e},t.toType=function(e){switch(e.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return e.toUpperCase().startsWith("UNKNOWN_")?parseInt(e.slice(8)):0}},33022:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE=t.SECRET_KEY_LENGTH=t.AES_IV_PLUS_TAG_LENGTH=t.AES_TAG_LENGTH=t.AES_IV_LENGTH=t.UNCOMPRESSED_PUBLIC_KEY_SIZE=void 0,t.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,t.AES_IV_LENGTH=16,t.AES_TAG_LENGTH=16,t.AES_IV_PLUS_TAG_LENGTH=t.AES_IV_LENGTH+t.AES_TAG_LENGTH,t.SECRET_KEY_LENGTH=32,t.ONE=BigInt(1)},16065:(e,t,r)=>{"use strict";t.pe=t.HI=void 0;var i=r(33022),n=r(6386),o=r(54242);t.HI=function(e,t){var r=new n.PrivateKey,i=e instanceof Buffer?new n.PublicKey(e):n.PublicKey.fromHex(e),s=r.encapsulate(i),a=(0,o.aesEncrypt)(s,t);return Buffer.concat([r.publicKey.uncompressed,a])},t.pe=function(e,t){var r=e instanceof Buffer?new n.PrivateKey(e):n.PrivateKey.fromHex(e),s=new n.PublicKey(t.subarray(0,i.UNCOMPRESSED_PUBLIC_KEY_SIZE)),a=t.subarray(i.UNCOMPRESSED_PUBLIC_KEY_SIZE),c=s.decapsulate(r);return(0,o.aesDecrypt)(c,a)};r(6386);o.aesDecrypt,o.aesEncrypt,o.decodeHex,o.getValidSecret,o.remove0x},64049:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=r(33497),o=r(4330),s=r(23061),a=r(54242),c=i(r(95874)),u=function(){function e(e){if(this.secret=e||(0,a.getValidSecret)(),!n.secp256k1.utils.isValidPrivateKey(this.secret))throw new Error("Invalid private key");this.publicKey=new c.default(Buffer.from(n.secp256k1.getPublicKey(this.secret)))}return e.fromHex=function(t){return new e((0,a.decodeHex)(t))},e.prototype.toHex=function(){return this.secret.toString("hex")},e.prototype.encapsulate=function(e){var t=Buffer.concat([this.publicKey.uncompressed,this.multiply(e)]);return Buffer.from((0,o.hkdf)(s.sha256,t,void 0,void 0,32))},e.prototype.multiply=function(e){return Buffer.from(n.secp256k1.getSharedSecret(this.secret,e.compressed,!1))},e.prototype.equals=function(e){return this.secret.equals(e.secret)},e}();t.default=u},95874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(33497),n=r(4330),o=r(23061),s=r(33022),a=r(54242),c=function(){function e(e){this.uncompressed=Buffer.from(i.secp256k1.getSharedSecret(s.ONE,e,!1)),this.compressed=Buffer.from(i.secp256k1.getSharedSecret(s.ONE,e,!0))}return e.fromHex=function(t){var r=(0,a.decodeHex)(t);if(r.length===s.UNCOMPRESSED_PUBLIC_KEY_SIZE-1){var i=Buffer.from([4]);return new e(Buffer.concat([i,r]))}return new e(r)},e.prototype.toHex=function(e){return void 0===e&&(e=!0),e?this.compressed.toString("hex"):this.uncompressed.toString("hex")},e.prototype.decapsulate=function(e){var t=Buffer.concat([this.uncompressed,e.multiply(this)]);return Buffer.from((0,n.hkdf)(o.sha256,t,void 0,void 0,32))},e.prototype.equals=function(e){return this.uncompressed.equals(e.uncompressed)},e}();t.default=c},6386:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var n=r(64049);Object.defineProperty(t,"PrivateKey",{enumerable:!0,get:function(){return i(n).default}});var o=r(95874);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return i(o).default}})},54242:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.getValidSecret=t.decodeHex=t.remove0x=void 0;var i=r(33497),n=r(55835),o=r(33022);function s(e){return e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e}t.remove0x=s,t.decodeHex=function(e){return Buffer.from(s(e),"hex")},t.getValidSecret=function(){var e;do{e=(0,n.randomBytes)(o.SECRET_KEY_LENGTH)}while(!i.secp256k1.utils.isValidPrivateKey(e));return e},t.aesEncrypt=function(e,t){var r=(0,n.randomBytes)(o.AES_IV_LENGTH),i=(0,n.createCipheriv)("aes-256-gcm",e,r),s=Buffer.concat([i.update(t),i.final()]),a=i.getAuthTag();return Buffer.concat([r,a,s])},t.aesDecrypt=function(e,t){var r=t.subarray(0,o.AES_IV_LENGTH),i=t.subarray(o.AES_IV_LENGTH,o.AES_IV_PLUS_TAG_LENGTH),s=t.subarray(o.AES_IV_PLUS_TAG_LENGTH),a=(0,n.createDecipheriv)("aes-256-gcm",e,r);return a.setAuthTag(i),Buffer.concat([a.update(s),a.final()])}},86266:(e,t,r)=>{"use strict";var i=t;i.version=r(18597).i8,i.utils=r(80953),i.rand=r(29931),i.curve=r(88254),i.curves=r(45427),i.ec=r(57954),i.eddsa=r(65980)},4918:(e,t,r)=>{"use strict";var i=r(73785),n=r(80953),o=n.getNAF,s=n.getJSF,a=n.assert;function c(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),i=o(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var s,c,u=[];for(s=0;s<i.length;s+=r.step){c=0;for(var h=s+r.step-1;h>=s;h--)c=(c<<1)+i[h];u.push(c)}for(var d=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=n;f>0;f--){for(s=0;s<u.length;s++)(c=u[s])===f?l=l.mixedAdd(r.points[s]):c===-f&&(l=l.mixedAdd(r.points[s].neg()));d=d.add(l)}return d.toP()},c.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var h=0;u>=0&&0===s[u];u--)h++;if(u>=0&&h++,c=c.dblp(h),u<0)break;var d=s[u];a(0!==d),c="affine"===e.type?d>0?c.mixedAdd(n[d-1>>1]):c.mixedAdd(n[-d-1>>1].neg()):d>0?c.add(n[d-1>>1]):c.add(n[-d-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,i,n){var a,c,u,h=this._wnafT1,d=this._wnafT2,l=this._wnafT3,f=0;for(a=0;a<i;a++){var p=(u=t[a])._getNAFPoints(e);h[a]=p.wnd,d[a]=p.points}for(a=i-1;a>=1;a-=2){var A=a-1,g=a;if(1===h[A]&&1===h[g]){var m=[t[A],null,null,t[g]];0===t[A].y.cmp(t[g].y)?(m[1]=t[A].add(t[g]),m[2]=t[A].toJ().mixedAdd(t[g].neg())):0===t[A].y.cmp(t[g].y.redNeg())?(m[1]=t[A].toJ().mixedAdd(t[g]),m[2]=t[A].add(t[g].neg())):(m[1]=t[A].toJ().mixedAdd(t[g]),m[2]=t[A].toJ().mixedAdd(t[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],I=s(r[A],r[g]);for(f=Math.max(I[0].length,f),l[A]=new Array(f),l[g]=new Array(f),c=0;c<f;c++){var w=0|I[0][c],b=0|I[1][c];l[A][c]=y[3*(w+1)+(b+1)],l[g][c]=0,d[A]=m}}else l[A]=o(r[A],h[A],this._bitLength),l[g]=o(r[g],h[g],this._bitLength),f=Math.max(l[A].length,f),f=Math.max(l[g].length,f)}var v=this.jpoint(null,null,null),E=this._wnafT4;for(a=f;a>=0;a--){for(var C=0;a>=0;){var B=!0;for(c=0;c<i;c++)E[c]=0|l[c][a],0!==E[c]&&(B=!1);if(!B)break;C++,a--}if(a>=0&&C++,v=v.dblp(C),a<0)break;for(c=0;c<i;c++){var S=E[c];0!==S&&(S>0?u=d[c][S-1>>1]:S<0&&(u=d[c][-S-1>>1].neg()),v="affine"===u.type?v.mixedAdd(u):v.add(u))}}for(a=0;a<i;a++)d[a]=null;return n?v:v.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?a(e[e.length-1]%2==0):7===e[0]&&a(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return n.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)i=i.dbl();r.push(i)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},31138:(e,t,r)=>{"use strict";var i=r(80953),n=r(73785),o=r(35717),s=r(4918),a=i.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,i,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=o&&new n(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,i){return this.point(e,t,r,i)},c.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=i.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},o(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,i){return new u(this,e,t,r,i)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=i.redAdd(t),s=o.redSub(r),a=i.redSub(t),c=n.redMul(s),u=o.redMul(a),h=n.redMul(a),d=s.redMul(o);return this.curve.point(c,u,d,h)},u.prototype._projDbl=function(){var e,t,r,i,n,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(i=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(i.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(n=this.z.redSqr(),o=u.redSub(n).redISub(n),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(i.redSub(c)),r=u.redMul(o))}else i=a.redAdd(c),n=this.curve._mulC(this.z).redSqr(),o=i.redSub(n).redSub(n),e=this.curve._mulC(s.redISub(i)).redMul(o),t=this.curve._mulC(i).redMul(a.redISub(c)),r=i.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=n.redSub(i),a=n.redAdd(i),c=r.redAdd(t),u=o.redMul(s),h=a.redMul(c),d=o.redMul(c),l=s.redMul(a);return this.curve.point(u,h,l,d)},u.prototype._projAdd=function(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=n.redSub(a),u=n.redAdd(a),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),d=i.redMul(c).redMul(h);return this.curve.twisted?(t=i.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=i.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(d,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},88254:(e,t,r)=>{"use strict";var i=t;i.base=r(4918),i.short=r(6673),i.mont=r(22881),i.edwards=r(31138)},22881:(e,t,r)=>{"use strict";var i=r(73785),n=r(35717),o=r(4918),s=r(80953);function a(e){o.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},n(c,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=n.redMul(i),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var o=n.length-1;o>=0;o--)0===n[o]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:(e,t,r)=>{"use strict";var i=r(80953),n=r(73785),o=r(35717),s=r(4918),a=i.assert;function c(e){s.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,i){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(e,t,r,i){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new n(e.a,16),b:new n(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),o=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(o).fromRed(),i.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,i,o,s,a,c,u,h,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=e,f=this.n.clone(),p=new n(1),A=new n(0),g=new n(0),m=new n(1),y=0;0!==l.cmpn(0);){var I=f.div(l);u=f.sub(I.mul(l)),h=g.sub(I.mul(p));var w=m.sub(I.mul(A));if(!i&&u.cmp(d)<0)t=c.neg(),r=p,i=u.neg(),o=h;else if(i&&2==++y)break;c=u,f=l,l=u,g=p,p=h,m=A,A=w}s=u.neg(),a=h;var b=i.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(b)>=0&&(s=t,a=r),i.negative&&(i=i.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:i,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=n.mul(r.a),a=o.mul(i.a),c=n.mul(r.b),u=o.mul(i.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=i.fromRed().isOdd();return(t&&!o||!t&&o)&&(i=i.redNeg()),this.point(e,i)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),i[2*o]=a,i[2*o+1]=c,n[2*o]=s.k1,n[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,i,n,2*o,r),h=0;h<2*o;h++)i[h]=null,n[h]=null;return u},o(u,s.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),o=n.redSqr().redISub(this.x.redAdd(this.x)),s=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new n(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},u.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(h,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new h(this,e,t,r)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=i.redSub(n),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),h=u.redMul(a),d=i.redMul(u),l=c.redSqr().redIAdd(h).redISub(d).redISub(d),f=c.redMul(d.redISub(l)).redISub(o.redMul(h)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(l,f,p)},h.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(i),a=n.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),h=r.redMul(c),d=a.redSqr().redIAdd(u).redISub(h).redISub(h),l=a.redMul(h.redISub(d)).redISub(n.redMul(u)),f=this.z.redMul(s);return this.curve.jpoint(d,l,f)},h.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var h=o.redSqr(),d=u.redSqr(),l=d.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(i.redMul(c)),p=o.redMul(d),A=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(A),m=f.redMul(g);m=m.redIAdd(m).redISub(l);var y=u.redMul(a);t+1<e&&(c=c.redMul(l)),o=A,a=y,u=m}return this.curve.jpoint(o,u.redMul(n),a)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var a=i.redAdd(i).redIAdd(i),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),d=this.y.redSqr(),l=d.redSqr(),f=this.x.redAdd(d).redSqr().redISub(h).redISub(l);f=f.redIAdd(f);var p=h.redAdd(h).redIAdd(h),A=p.redSqr(),g=l.redIAdd(l);g=(g=g.redIAdd(g)).redIAdd(g),e=A.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},h.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var a=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),d=this.y.redSqr(),l=this.x.redMul(d),f=this.x.redSub(h).redMul(this.x.redAdd(h));f=f.redAdd(f).redIAdd(f);var p=l.redIAdd(l),A=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(A),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(h);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},h.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),h=a.redSqr().redISub(u.redAdd(u)),d=u.redISub(h),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=a.redMul(d).redISub(l),p=r.redAdd(r).redMul(i);return this.curve.jpoint(h,f,p)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(i),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=i.redIAdd(i);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=n.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),h=t.redMul(u);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.x.redMul(a).redISub(h);d=(d=d.redIAdd(d)).redIAdd(d);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var f=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(d,l,f)},h.prototype.mul=function(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},h.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},h.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},45427:(e,t,r)=>{"use strict";var i,n=t,o=r(33715),s=r(88254),a=r(80953).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(91037)}catch(e){i=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},57954:(e,t,r)=>{"use strict";var i=r(73785),n=r(2156),o=r(80953),s=r(45427),a=r(29931),c=o.assert,u=r(31251),h=r(90611);function d(e){if(!(this instanceof d))return new d(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=d,d.prototype.keyPair=function(e){return new u(this,e)},d.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},d.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},d.prototype.genKeyPair=function(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new i(2));;){var s=new i(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},d.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},d.prototype.sign=function(e,t,r,o){"object"==typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new i(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new n({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new i(1)),l=0;;l++){var f=o.k?o.k(l):new i(u.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(d)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var A=p.getX(),g=A.umod(this.n);if(0!==g.cmpn(0)){var m=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==A.cmp(g)?2:0);return o.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),y^=1),new h({r:g,s:m,recoveryParam:y})}}}}}},d.prototype.verify=function(e,t,r,n){e=this._truncateToN(new i(e,16)),r=this.keyFromPublic(r,n);var o=(t=new h(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),u=c.mul(e).umod(this.n),d=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),d)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,r.getPublic(),d)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},d.prototype.recoverPubKey=function(e,t,r,n){c((3&r)===r,"The recovery param is more than two bits"),t=new h(t,n);var o=this.n,s=new i(e),a=t.r,u=t.s,d=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),d):this.curve.pointFromX(a,d);var f=t.r.invm(o),p=o.sub(s).mul(f).umod(o),A=u.mul(f).umod(o);return this.g.mulAdd(p,a,A)},d.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new h(t,i)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch(e){continue}if(o.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},31251:(e,t,r)=>{"use strict";var i=r(73785),n=r(80953).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},90611:(e,t,r)=>{"use strict";var i=r(73785),n=r(80953),o=n.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,o=0,s=t.place;o<i;o++,s++)n<<=8,n|=e[s],n>>>=0;return!(n<=127)&&(t.place=s,n)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=n.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;var u=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var h=c(e,r);if(!1===h)return!1;if(e.length!==h+r.place)return!1;var d=e.slice(r.place,h+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===d[0]){if(!(128&d[1]))return!1;d=d.slice(1)}return this.r=new i(u),this.s=new i(d),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];h(i,t.length),(i=i.concat(t)).push(2),h(i,r.length);var o=i.concat(r),s=[48];return h(s,o.length),s=s.concat(o),n.encode(s,e)}},65980:(e,t,r)=>{"use strict";var i=r(33715),n=r(45427),o=r(80953),s=o.assert,a=o.parseBytes,c=r(79087),u=r(23622);function h(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof h))return new h(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=h,h.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),o=this.encodePoint(n),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=i.add(s).umod(this.curve.n);return this.makeSignature({R:n,S:c,Rencoded:o})},h.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(i.pub().mul(n)).eq(o)},h.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},h.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},h.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},h.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},h.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),i=0!=(128&e[t]),n=o.intFromLE(r);return this.curve.pointFromY(n,i)},h.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(e){return o.intFromLE(e)},h.prototype.isPoint=function(e){return e instanceof this.pointClass}},79087:(e,t,r)=>{"use strict";var i=r(80953),n=i.assert,o=i.parseBytes,s=i.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},a.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},e.exports=a},23622:(e,t,r)=>{"use strict";var i=r(73785),n=r(80953),o=n.assert,s=n.cachedProperty,a=n.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},91037:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},80953:(e,t,r)=>{"use strict";var i=t,n=r(73785),o=r(79746),s=r(34504);i.assert=o,i.toArray=s.toArray,i.zero2=s.zero2,i.toHex=s.toHex,i.encode=s.encode,i.getNAF=function(e,t,r){var i=new Array(Math.max(e.bitLength(),r)+1);i.fill(0);for(var n=1<<t+1,o=e.clone(),s=0;s<i.length;s++){var a,c=o.andln(n-1);o.isOdd()?(a=c>(n>>1)-1?(n>>1)-c:c,o.isubn(a)):a=0,i[s]=a,o.iushrn(1)}return i},i.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i,n=0,o=0;e.cmpn(-n)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+n&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0==(1&c)?0:3!=(i=e.andln(7)+n&7)&&5!==i||2!==u?c:-c,r[0].push(s),a=0==(1&u)?0:3!=(i=t.andln(7)+o&7)&&5!==i||2!==c?u:-u,r[1].push(a),2*n===s+1&&(n=1-n),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},i.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=function(e){return"string"==typeof e?i.toArray(e,"hex"):e},i.intFromLE=function(e){return new n(e,"hex","le")}},73785:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(85568).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function u(e,t,r,i){for(var n=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=e.length-1,o=0;n>=0;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var o=e.length-r,s=o%i,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=i)c=u(e,h,h+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],o=0|t.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var h=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=l;f++){var p=u-f|0;h+=(s=(n=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);r=0!=(o=a>>>24-n&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],f=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var A=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?A+r:h[u-A.length]+A+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),h=this.clone();if(c){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,o=0;o<i.length;o++)t=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<r.length;o++)t=(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,o,s=e.words,a=t.words,c=r.words,u=0,h=0|s[0],d=8191&h,l=h>>>13,f=0|s[1],p=8191&f,A=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,I=0|s[3],w=8191&I,b=I>>>13,v=0|s[4],E=8191&v,C=v>>>13,B=0|s[5],S=8191&B,_=B>>>13,Q=0|s[6],D=8191&Q,k=Q>>>13,M=0|s[7],P=8191&M,x=M>>>13,F=0|s[8],R=8191&F,O=F>>>13,T=0|s[9],N=8191&T,U=T>>>13,j=0|a[0],L=8191&j,q=j>>>13,K=0|a[1],H=8191&K,G=K>>>13,z=0|a[2],J=8191&z,Y=z>>>13,V=0|a[3],$=8191&V,W=V>>>13,Z=0|a[4],X=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],oe=8191&ne,se=ne>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,he=0|a[8],de=8191&he,le=he>>>13,fe=0|a[9],pe=8191&fe,Ae=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(i=Math.imul(d,L))|0)+((8191&(n=(n=Math.imul(d,q))+Math.imul(l,L)|0))<<13)|0;u=((o=Math.imul(l,q))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,q))+Math.imul(A,L)|0,o=Math.imul(A,q);var me=(u+(i=i+Math.imul(d,H)|0)|0)+((8191&(n=(n=n+Math.imul(d,G)|0)+Math.imul(l,H)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,L),n=(n=Math.imul(m,q))+Math.imul(y,L)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,G)|0;var ye=(u+(i=i+Math.imul(d,J)|0)|0)+((8191&(n=(n=n+Math.imul(d,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((o=o+Math.imul(l,Y)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,L),n=(n=Math.imul(w,q))+Math.imul(b,L)|0,o=Math.imul(b,q),i=i+Math.imul(m,H)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0;var Ie=(u+(i=i+Math.imul(d,$)|0)|0)+((8191&(n=(n=n+Math.imul(d,W)|0)+Math.imul(l,$)|0))<<13)|0;u=((o=o+Math.imul(l,W)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(E,L),n=(n=Math.imul(E,q))+Math.imul(C,L)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,Y)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,W)|0;var we=(u+(i=i+Math.imul(d,X)|0)|0)+((8191&(n=(n=n+Math.imul(d,ee)|0)+Math.imul(l,X)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(S,L),n=(n=Math.imul(S,q))+Math.imul(_,L)|0,o=Math.imul(_,q),i=i+Math.imul(E,H)|0,n=(n=n+Math.imul(E,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(m,$)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,W)|0,i=i+Math.imul(p,X)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,ee)|0;var be=(u+(i=i+Math.imul(d,re)|0)|0)+((8191&(n=(n=n+Math.imul(d,ie)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ie)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(D,L),n=(n=Math.imul(D,q))+Math.imul(k,L)|0,o=Math.imul(k,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(E,J)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,W)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(m,X)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ie)|0;var ve=(u+(i=i+Math.imul(d,oe)|0)|0)+((8191&(n=(n=n+Math.imul(d,se)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,se)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,q))+Math.imul(x,L)|0,o=Math.imul(x,q),i=i+Math.imul(D,H)|0,n=(n=n+Math.imul(D,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(E,$)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,W)|0,i=i+Math.imul(w,X)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0;var Ee=(u+(i=i+Math.imul(d,ce)|0)|0)+((8191&(n=(n=n+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,L),n=(n=Math.imul(R,q))+Math.imul(O,L)|0,o=Math.imul(O,q),i=i+Math.imul(P,H)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(D,J)|0,n=(n=n+Math.imul(D,Y)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0;var Ce=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(n=(n=n+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(N,L),n=(n=Math.imul(N,q))+Math.imul(U,L)|0,o=Math.imul(U,q),i=i+Math.imul(R,H)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,G)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(D,$)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,W)|0,i=i+Math.imul(S,X)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(E,re)|0,n=(n=n+Math.imul(E,ie)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ie)|0,i=i+Math.imul(w,oe)|0,n=(n=n+Math.imul(w,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(p,de)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Be=(u+(i=i+Math.imul(d,pe)|0)|0)+((8191&(n=(n=n+Math.imul(d,Ae)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(N,H),n=(n=Math.imul(N,G))+Math.imul(U,H)|0,o=Math.imul(U,G),i=i+Math.imul(R,J)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(D,X)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,ee)|0,i=i+Math.imul(S,re)|0,n=(n=n+Math.imul(S,ie)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0,i=i+Math.imul(m,de)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,le)|0;var Se=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(N,J),n=(n=Math.imul(N,Y))+Math.imul(U,J)|0,o=Math.imul(U,Y),i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(D,re)|0,n=(n=n+Math.imul(D,ie)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ie)|0,i=i+Math.imul(S,oe)|0,n=(n=n+Math.imul(S,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,i=i+Math.imul(E,ce)|0,n=(n=n+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,i=i+Math.imul(w,de)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var _e=(u+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(N,$),n=(n=Math.imul(N,W))+Math.imul(U,$)|0,o=Math.imul(U,W),i=i+Math.imul(R,X)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,ee)|0,i=i+Math.imul(P,re)|0,n=(n=n+Math.imul(P,ie)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,i=i+Math.imul(S,ce)|0,n=(n=n+Math.imul(S,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(E,de)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,le)|0;var Qe=(u+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,Ae)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,i=Math.imul(N,X),n=(n=Math.imul(N,ee))+Math.imul(U,X)|0,o=Math.imul(U,ee),i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ie)|0,i=i+Math.imul(P,oe)|0,n=(n=n+Math.imul(P,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,i=i+Math.imul(D,ce)|0,n=(n=n+Math.imul(D,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,i=i+Math.imul(S,de)|0,n=(n=n+Math.imul(S,le)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,le)|0;var De=(u+(i=i+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(N,re),n=(n=Math.imul(N,ie))+Math.imul(U,re)|0,o=Math.imul(U,ie),i=i+Math.imul(R,oe)|0,n=(n=n+Math.imul(R,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,i=i+Math.imul(P,ce)|0,n=(n=n+Math.imul(P,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,i=i+Math.imul(D,de)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var ke=(u+(i=i+Math.imul(S,pe)|0)|0)+((8191&(n=(n=n+Math.imul(S,Ae)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(N,oe),n=(n=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,i=i+Math.imul(P,de)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,le)|0;var Me=(u+(i=i+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(N,ce),n=(n=Math.imul(N,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),i=i+Math.imul(R,de)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Pe=(u+(i=i+Math.imul(P,pe)|0)|0)+((8191&(n=(n=n+Math.imul(P,Ae)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,Ae)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(N,de),n=(n=Math.imul(N,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var xe=(u+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(u+(i=Math.imul(N,pe))|0)+((8191&(n=(n=Math.imul(N,Ae))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,Ae))+(n>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=Ie,c[4]=we,c[5]=be,c[6]=ve,c[7]=Ee,c[8]=Ce,c[9]=Be,c[10]=Se,c[11]=_e,c[12]=Qe,c[13]=De,c[14]=ke,c[15]=Me,c[16]=Pe,c[17]=xe,c[18]=Fe,0!==u&&(c[19]=u,r.length++),r};function A(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),o.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h=o-u,d=(0|e.words[h])*(0|t.words[u]),l=67108863&d;a=67108863&(l=l+a|0),n+=(s=(s=s+(d/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,e,t):A(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},g.prototype.permute=function(e,t,r,i,n,o){for(var s=0;s<o;s++)i[s]=t[e[s]],n[s]=r[e[s]]},g.prototype.transform=function(e,t,r,i,n,o){this.permute(o,e,t,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<n;h+=a)for(var d=c,l=u,f=0;f<s;f++){var p=r[h+f],A=i[h+f],g=r[h+f+s],m=i[h+f+s],y=d*g-l*m;m=d*m+l*g,g=y,r[h+f]=p+g,i[h+f]=A+m,r[h+f+s]=p-g,i[h+f+s]=A-m,f!==a&&(y=c*d-u*l,l=c*l+u*d,d=y)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},g.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},g.prototype.convert13b=function(e,t,r,n){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<n;++s)r[s]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=new Array(i),l=r.words;l.length=i,this.convert13b(e.words,e.length,s,i),this.convert13b(t.words,t.length,u,i),this.transform(s,o,a,c,i,n),this.transform(u,o,h,d,i,n);for(var f=0;f<i;f++){var p=a[f]*h[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*h[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,l,o,i,n),this.conjugate(l,o,i),this.normalize13b(l,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),A(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var n;i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var d=0|this.words[u];this.words[u]=h<<26-o|d>>>o,h=d&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r||!(this.words[r]&n))},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,o,s=e.length+r;this._expand(s);var a=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!=(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var h=i.clone()._ishlnsubmul(n,1,c);0===h.negative&&(i=h,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|i.words[n.length+d])+(0|i.words[n.length+d-1]);for(l=Math.min(l/s|0,67108863),i._ishlnsubmul(n,l,d);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,d),i.isZero()||(i.negative^=1);a&&(a.words[d]=l)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},o.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:n,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(h),s.isub(d)),n.iushrn(1),s.iushrn(1);for(var p=0,A=1;0==(r.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),s.isub(c)):(r.isub(t),a.isub(n),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,l=1;0==(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(n=0===t.cmpn(1)?s:a).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var o=t;t=r,r=o}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(I,y),I.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[n-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},I.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(b,y),n(v,y),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new I;else if("p224"===e)t=new w;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return m[e]=t,t},E.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var d=this.pow(h,n),l=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=s;0!==f.cmp(a);){for(var A=f,g=0;0!==A.cmp(a);g++)A=A.redSqr();i(g<p);var m=this.pow(d,new o(1).iushln(p-g-1));l=l.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],h=c-1;h>=0;h--){var d=u>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===i&&0===h)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}c=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},n(C,E),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},32114:e=>{"use strict";function t(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,r,i){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");i||(i={}),"object"==typeof r&&(i=r,r=""),r&&(i.code=r);try{return t(e,i)}catch(r){i.message=e.message,i.stack=e.stack;const n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(e)),t(new n,i)}}},44105:(e,t,r)=>{"use strict";var i=r(40210)("%Object.defineProperty%",!0),n=r(96410)(),o=r(48824),s=n?Symbol.toStringTag:null;e.exports=function(e,t){var r=arguments.length>2&&arguments[2]&&arguments[2].force;!s||!r&&o(e,s)||(i?i(e,s,{configurable:!0,enumerable:!1,value:t,writable:!1}):e[s]=t)}},41503:(e,t,r)=>{"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,n=r(34149),o=r(95320),s=r(18923),a=r(12636);e.exports=function(e){if(n(e))return e;var t,r="default";if(arguments.length>1&&(arguments[1]===String?r="string":arguments[1]===Number&&(r="number")),i&&(Symbol.toPrimitive?t=function(e,t){var r=e[t];if(null!=r){if(!o(r))throw new TypeError(r+" returned for property "+t+" of object "+e+" is not a function");return r}}(e,Symbol.toPrimitive):a(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var c=t.call(e,r);if(n(c))return c;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(s(e)||a(e))&&(r="string"),function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var r,i,s,a="string"===t?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<a.length;++s)if(r=e[a[s]],o(r)&&(i=r.call(e),n(i)))return i;throw new TypeError("No default value")}(e,"default"===r?"number":r)}},34149:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},90312:(e,t,r)=>{!function(){"use strict";var e,i,n,o,s,a,c,u,h,d,l,f,p,A,g,m,y,I,w,b,v,E,C,B;function S(e){return J.Statement.hasOwnProperty(e.type)}s=r(27085),a=r(649),e=s.Syntax,n={"||":(i={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,Call:16,New:17,TaggedTemplate:18,Member:19,Primary:20}).LogicalOR,"&&":i.LogicalAND,"|":i.BitwiseOR,"^":i.BitwiseXOR,"&":i.BitwiseAND,"==":i.Equality,"!=":i.Equality,"===":i.Equality,"!==":i.Equality,is:i.Equality,isnt:i.Equality,"<":i.Relational,">":i.Relational,"<=":i.Relational,">=":i.Relational,in:i.Relational,instanceof:i.Relational,"<<":i.BitwiseSHIFT,">>":i.BitwiseSHIFT,">>>":i.BitwiseSHIFT,"+":i.Additive,"-":i.Additive,"*":i.Multiplicative,"%":i.Multiplicative,"/":i.Multiplicative,"**":i.Exponentiation};var _=32,Q=33;function D(e,t){var r="";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(r+=e);return r}function k(e){var t=e.length;return t&&a.code.isLineTerminator(e.charCodeAt(t-1))}function M(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function P(e,t){var r,i;function n(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}for(r in t)t.hasOwnProperty(r)&&(n(i=t[r])?n(e[r])?P(e[r],i):e[r]=P({},i):e[r]=i);return e}function x(e,t){return 8232==(-2&e)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function F(e,t){var r;return 8===e?"\\b":12===e?"\\f":9===e?"\\t":(r=e.toString(16).toUpperCase(),h||e>255?"\\u"+"0000".slice(r.length)+r:0!==e||a.code.isDecimalDigit(t)?11===e?"\\x0B":"\\x"+"00".slice(r.length)+r:"\\0")}function R(e){if(92===e)return"\\\\";if(10===e)return"\\n";if(13===e)return"\\r";if(8232===e)return"\\u2028";if(8233===e)return"\\u2029";throw new Error("Incorrectly classified character")}function O(e){var t,r,i,n="";for(t=0,r=e.length;t<r;++t)i=e[t],n+=Array.isArray(i)?O(i):i;return n}function T(e,t){if(!E)return Array.isArray(e)?O(e):e;if(null==t){if(e instanceof o)return e;t={}}return null==t.loc?new o(null,null,E,e,t.name||null):new o(t.loc.start.line,t.loc.start.column,!0===E?t.loc.source||null:E,e,t.name||null)}function N(){return g||" "}function U(e,t){var r,i,n,o;return 0===(r=T(e).toString()).length?[t]:0===(i=T(t).toString()).length?[e]:(n=r.charCodeAt(r.length-1),o=i.charCodeAt(0),(43===n||45===n)&&n===o||a.code.isIdentifierPartES5(n)&&a.code.isIdentifierPartES5(o)||47===n&&105===o?[e,N(),t]:a.code.isWhiteSpace(n)||a.code.isLineTerminator(n)||a.code.isWhiteSpace(o)||a.code.isLineTerminator(o)?[e,t]:[e,g,t])}function j(e){return[c,e]}function L(e){var t;t=c,e(c+=u),c=t}function q(e,t){if("Line"===e.type){if(k(e.value))return"//"+e.value;var r="//"+e.value;return B||(r+="\n"),r}return b.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)?function(e,t){var r,i,n,o,s,u,h,d;for(r=e.split(/\r\n|[\r\n]/),u=Number.MAX_VALUE,i=1,n=r.length;i<n;++i){for(o=r[i],s=0;s<o.length&&a.code.isWhiteSpace(o.charCodeAt(s));)++s;u>s&&(u=s)}for(void 0!==t?(h=c,"*"===r[1][u]&&(t+=" "),c=t):(1&u&&--u,h=c),i=1,n=r.length;i<n;++i)d=T(j(r[i].slice(u))),r[i]=E?d.join(""):d;return c=h,r.join("\n")}("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function K(t,r){var i,n,o,s,h,d,l,f,p,A,g,m;if(t.leadingComments&&t.leadingComments.length>0){if(s=r,B){for(r=[],f=(o=t.leadingComments[0]).extendedRange,p=o.range,(m=((g=C.substring(f[0],p[0])).match(/\n/g)||[]).length)>0?(r.push(D("\n",m)),r.push(j(q(o)))):(r.push(g),r.push(q(o))),A=p,i=1,n=t.leadingComments.length;i<n;i++)p=(o=t.leadingComments[i]).range,m=(C.substring(A[1],p[0]).match(/\n/g)||[]).length,r.push(D("\n",m)),r.push(j(q(o))),A=p;m=(C.substring(p[1],f[1]).match(/\n/g)||[]).length,r.push(D("\n",m))}else for(o=t.leadingComments[0],r=[],I&&t.type===e.Program&&0===t.body.length&&r.push("\n"),r.push(q(o)),k(T(r).toString())||r.push("\n"),i=1,n=t.leadingComments.length;i<n;++i)k(T(l=[q(o=t.leadingComments[i])]).toString())||l.push("\n"),r.push(j(l));r.push(j(s))}if(t.trailingComments)if(B)f=(o=t.trailingComments[0]).extendedRange,p=o.range,(m=((g=C.substring(f[0],p[0])).match(/\n/g)||[]).length)>0?(r.push(D("\n",m)),r.push(j(q(o)))):(r.push(g),r.push(q(o)));else for(h=!k(T(r).toString()),d=D(" ",function(e){var t;for(t=e.length-1;t>=0&&!a.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}(T([c,r,u]).toString())),i=0,n=t.trailingComments.length;i<n;++i)o=t.trailingComments[i],h?(r=0===i?[r,u]:[r,d]).push(q(o,d)):r=[r,j(q(o))],i===n-1||k(T(r).toString())||(r=[r,"\n"]);return r}function H(e,t,r){var i,n=0;for(i=e;i<t;i++)"\n"===C[i]&&n++;for(i=1;i<n;i++)r.push(A)}function G(e,t,r){return t<r?["(",e,")"]:e}function z(e){var t,r,i;for(t=1,r=(i=e.split(/\r\n|\n/)).length;t<r;t++)i[t]=A+c+i[t];return i}function J(){}function Y(e){return T(e.name,e)}function V(e,t){return e.async?"async"+(t?N():g):""}function $(e){return e.generator&&!b.moz.starlessGenerator?"*"+g:""}function W(e){var t=e.value,r="";return t.async&&(r+=V(t,!e.computed)),t.generator&&(r+=$(t)?"*":""),r}J.prototype.maybeBlock=function(t,r){var i,n,o=this;return n=!b.comment||!t.leadingComments,t.type===e.BlockStatement&&n?[g,this.generateStatement(t,r)]:t.type===e.EmptyStatement&&n?";":(L((function(){i=[A,j(o.generateStatement(t,r))]})),i)},J.prototype.maybeBlockSuffix=function(t,r){var i=k(T(r).toString());return t.type!==e.BlockStatement||b.comment&&t.leadingComments||i?i?[r,c]:[r,A,c]:[r,g]},J.prototype.generatePattern=function(t,r,i){return t.type===e.Identifier?Y(t):this.generateExpression(t,r,i)},J.prototype.generateFunctionParams=function(t){var r,n,o,s;if(s=!1,t.type!==e.ArrowFunctionExpression||t.rest||t.defaults&&0!==t.defaults.length||1!==t.params.length||t.params[0].type!==e.Identifier){for((o=t.type===e.ArrowFunctionExpression?[V(t,!1)]:[]).push("("),t.defaults&&(s=!0),r=0,n=t.params.length;r<n;++r)s&&t.defaults[r]?o.push(this.generateAssignment(t.params[r],t.defaults[r],"=",i.Assignment,7)):o.push(this.generatePattern(t.params[r],i.Assignment,7)),r+1<n&&o.push(","+g);t.rest&&(t.params.length&&o.push(","+g),o.push("..."),o.push(Y(t.rest))),o.push(")")}else o=[V(t,!0),Y(t.params[0])];return o},J.prototype.generateFunctionBody=function(t){var r,n;return r=this.generateFunctionParams(t),t.type===e.ArrowFunctionExpression&&(r.push(g),r.push("=>")),t.expression?(r.push(g),"{"===(n=this.generateExpression(t.body,i.Assignment,7)).toString().charAt(0)&&(n=["(",n,")"]),r.push(n)):r.push(this.maybeBlock(t.body,9)),r},J.prototype.generateIterationForStatement=function(t,r,n){var o=["for"+(r.await?N()+"await":"")+g+"("],s=this;return L((function(){r.left.type===e.VariableDeclaration?L((function(){o.push(r.left.kind+N()),o.push(s.generateStatement(r.left.declarations[0],0))})):o.push(s.generateExpression(r.left,i.Call,7)),o=U(o,t),o=[U(o,s.generateExpression(r.right,i.Assignment,7)),")"]})),o.push(this.maybeBlock(r.body,n)),o},J.prototype.generatePropertyKey=function(e,t){var r=[];return t&&r.push("["),r.push(this.generateExpression(e,i.Assignment,7)),t&&r.push("]"),r},J.prototype.generateAssignment=function(e,t,r,n,o){return i.Assignment<n&&(o|=1),G([this.generateExpression(e,i.Call,o),g+r+g,this.generateExpression(t,i.Assignment,o)],i.Assignment,n)},J.prototype.semicolon=function(e){return!y&&e&_?"":";"},J.Statement={BlockStatement:function(e,t){var r,i,n=["{",A],o=this;return L((function(){var s,a,c,u;for(0===e.body.length&&B&&(r=e.range)[1]-r[0]>2&&("\n"===(i=C.substring(r[0]+1,r[1]-1))[0]&&(n=["{"]),n.push(i)),u=1,8&t&&(u|=16),s=0,a=e.body.length;s<a;++s)B&&(0===s&&(e.body[0].leadingComments&&(r=e.body[0].leadingComments[0].extendedRange,"\n"===(i=C.substring(r[0],r[1]))[0]&&(n=["{"])),e.body[0].leadingComments||H(e.range[0],e.body[0].range[0],n)),s>0&&(e.body[s-1].trailingComments||e.body[s].leadingComments||H(e.body[s-1].range[1],e.body[s].range[0],n))),s===a-1&&(u|=_),c=e.body[s].leadingComments&&B?o.generateStatement(e.body[s],u):j(o.generateStatement(e.body[s],u)),n.push(c),k(T(c).toString())||B&&s<a-1&&e.body[s+1].leadingComments||n.push(A),B&&s===a-1&&(e.body[s].trailingComments||H(e.body[s].range[1],e.range[1],n))})),n.push(j("}")),n},BreakStatement:function(e,t){return e.label?"break "+e.label.name+this.semicolon(t):"break"+this.semicolon(t)},ContinueStatement:function(e,t){return e.label?"continue "+e.label.name+this.semicolon(t):"continue"+this.semicolon(t)},ClassBody:function(e,t){var r=["{",A],n=this;return L((function(t){var o,s;for(o=0,s=e.body.length;o<s;++o)r.push(t),r.push(n.generateExpression(e.body[o],i.Sequence,7)),o+1<s&&r.push(A)})),k(T(r).toString())||r.push(A),r.push(c),r.push("}"),r},ClassDeclaration:function(e,t){var r,n;return r=["class"],e.id&&(r=U(r,this.generateExpression(e.id,i.Sequence,7))),e.superClass&&(n=U("extends",this.generateExpression(e.superClass,i.Unary,7)),r=U(r,n)),r.push(g),r.push(this.generateStatement(e.body,Q)),r},DirectiveStatement:function(e,t){return b.raw&&e.raw?e.raw+this.semicolon(t):function(e){var t,r,i,n;for(n="double"===f?'"':"'",t=0,r=e.length;t<r;++t){if(39===(i=e.charCodeAt(t))){n='"';break}if(34===i){n="'";break}92===i&&++t}return n+e+n}(e.directive)+this.semicolon(t)},DoWhileStatement:function(e,t){var r=U("do",this.maybeBlock(e.body,1));return U(r=this.maybeBlockSuffix(e.body,r),["while"+g+"(",this.generateExpression(e.test,i.Sequence,7),")"+this.semicolon(t)])},CatchClause:function(e,t){var r,n=this;return L((function(){var t;e.param?(r=["catch"+g+"(",n.generateExpression(e.param,i.Sequence,7),")"],e.guard&&(t=n.generateExpression(e.guard,i.Sequence,7),r.splice(2,0," if ",t))):r=["catch"]})),r.push(this.maybeBlock(e.body,1)),r},DebuggerStatement:function(e,t){return"debugger"+this.semicolon(t)},EmptyStatement:function(e,t){return";"},ExportDefaultDeclaration:function(e,t){var r,n=["export"];return r=t&_?Q:1,n=U(n,"default"),S(e.declaration)?U(n,this.generateStatement(e.declaration,r)):U(n,this.generateExpression(e.declaration,i.Assignment,7)+this.semicolon(t))},ExportNamedDeclaration:function(t,r){var n,o=["export"],s=this;return n=r&_?Q:1,t.declaration?U(o,this.generateStatement(t.declaration,n)):(t.specifiers&&(0===t.specifiers.length?o=U(o,"{"+g+"}"):t.specifiers[0].type===e.ExportBatchSpecifier?o=U(o,this.generateExpression(t.specifiers[0],i.Sequence,7)):(o=U(o,"{"),L((function(e){var r,n;for(o.push(A),r=0,n=t.specifiers.length;r<n;++r)o.push(e),o.push(s.generateExpression(t.specifiers[r],i.Sequence,7)),r+1<n&&o.push(","+A)})),k(T(o).toString())||o.push(A),o.push(c+"}")),t.source?o=U(o,["from"+g,this.generateExpression(t.source,i.Sequence,7),this.semicolon(r)]):o.push(this.semicolon(r))),o)},ExportAllDeclaration:function(e,t){return["export"+g,"*"+g,"from"+g,this.generateExpression(e.source,i.Sequence,7),this.semicolon(t)]},ExpressionStatement:function(t,r){var n,o;return 123===(o=T(n=[this.generateExpression(t.expression,i.Sequence,7)]).toString()).charCodeAt(0)||function(e){var t;return"class"===e.slice(0,5)&&(123===(t=e.charCodeAt(5))||a.code.isWhiteSpace(t)||a.code.isLineTerminator(t))}(o)||function(e){var t;return"function"===e.slice(0,8)&&(40===(t=e.charCodeAt(8))||a.code.isWhiteSpace(t)||42===t||a.code.isLineTerminator(t))}(o)||function(e){var t,r,i;if("async"!==e.slice(0,5))return!1;if(!a.code.isWhiteSpace(e.charCodeAt(5)))return!1;for(r=6,i=e.length;r<i&&a.code.isWhiteSpace(e.charCodeAt(r));++r);return r!==i&&"function"===e.slice(r,r+8)&&(40===(t=e.charCodeAt(r+8))||a.code.isWhiteSpace(t)||42===t||a.code.isLineTerminator(t))}(o)||w&&16&r&&t.expression.type===e.Literal&&"string"==typeof t.expression.value?n=["(",n,")"+this.semicolon(r)]:n.push(this.semicolon(r)),n},ImportDeclaration:function(t,r){var n,o,s=this;return 0===t.specifiers.length?["import",g,this.generateExpression(t.source,i.Sequence,7),this.semicolon(r)]:(n=["import"],o=0,t.specifiers[o].type===e.ImportDefaultSpecifier&&(n=U(n,[this.generateExpression(t.specifiers[o],i.Sequence,7)]),++o),t.specifiers[o]&&(0!==o&&n.push(","),t.specifiers[o].type===e.ImportNamespaceSpecifier?n=U(n,[g,this.generateExpression(t.specifiers[o],i.Sequence,7)]):(n.push(g+"{"),t.specifiers.length-o==1?(n.push(g),n.push(this.generateExpression(t.specifiers[o],i.Sequence,7)),n.push(g+"}"+g)):(L((function(e){var r,a;for(n.push(A),r=o,a=t.specifiers.length;r<a;++r)n.push(e),n.push(s.generateExpression(t.specifiers[r],i.Sequence,7)),r+1<a&&n.push(","+A)})),k(T(n).toString())||n.push(A),n.push(c+"}"+g)))),n=U(n,["from"+g,this.generateExpression(t.source,i.Sequence,7),this.semicolon(r)]))},VariableDeclarator:function(e,t){var r=1&t?7:6;return e.init?[this.generateExpression(e.id,i.Assignment,r),g,"=",g,this.generateExpression(e.init,i.Assignment,r)]:this.generatePattern(e.id,i.Assignment,r)},VariableDeclaration:function(e,t){var r,i,n,o,s,a=this;function c(){for(o=e.declarations[0],b.comment&&o.leadingComments?(r.push("\n"),r.push(j(a.generateStatement(o,s)))):(r.push(N()),r.push(a.generateStatement(o,s))),i=1,n=e.declarations.length;i<n;++i)o=e.declarations[i],b.comment&&o.leadingComments?(r.push(","+A),r.push(j(a.generateStatement(o,s)))):(r.push(","+g),r.push(a.generateStatement(o,s)))}return r=[e.kind],s=1&t?1:0,e.declarations.length>1?L(c):c(),r.push(this.semicolon(t)),r},ThrowStatement:function(e,t){return[U("throw",this.generateExpression(e.argument,i.Sequence,7)),this.semicolon(t)]},TryStatement:function(e,t){var r,i,n,o;if(r=["try",this.maybeBlock(e.block,1)],r=this.maybeBlockSuffix(e.block,r),e.handlers)for(i=0,n=e.handlers.length;i<n;++i)r=U(r,this.generateStatement(e.handlers[i],1)),(e.finalizer||i+1!==n)&&(r=this.maybeBlockSuffix(e.handlers[i].body,r));else{for(i=0,n=(o=e.guardedHandlers||[]).length;i<n;++i)r=U(r,this.generateStatement(o[i],1)),(e.finalizer||i+1!==n)&&(r=this.maybeBlockSuffix(o[i].body,r));if(e.handler)if(Array.isArray(e.handler))for(i=0,n=e.handler.length;i<n;++i)r=U(r,this.generateStatement(e.handler[i],1)),(e.finalizer||i+1!==n)&&(r=this.maybeBlockSuffix(e.handler[i].body,r));else r=U(r,this.generateStatement(e.handler,1)),e.finalizer&&(r=this.maybeBlockSuffix(e.handler.body,r))}return e.finalizer&&(r=U(r,["finally",this.maybeBlock(e.finalizer,1)])),r},SwitchStatement:function(e,t){var r,n,o,s,a,c=this;if(L((function(){r=["switch"+g+"(",c.generateExpression(e.discriminant,i.Sequence,7),")"+g+"{"+A]})),e.cases)for(a=1,o=0,s=e.cases.length;o<s;++o)o===s-1&&(a|=_),n=j(this.generateStatement(e.cases[o],a)),r.push(n),k(T(n).toString())||r.push(A);return r.push(j("}")),r},SwitchCase:function(t,r){var n,o,s,a,c,u=this;return L((function(){for(n=t.test?[U("case",u.generateExpression(t.test,i.Sequence,7)),":"]:["default:"],s=0,(a=t.consequent.length)&&t.consequent[0].type===e.BlockStatement&&(o=u.maybeBlock(t.consequent[0],1),n.push(o),s=1),s===a||k(T(n).toString())||n.push(A),c=1;s<a;++s)s===a-1&&r&_&&(c|=_),o=j(u.generateStatement(t.consequent[s],c)),n.push(o),s+1===a||k(T(o).toString())||n.push(A)})),n},IfStatement:function(t,r){var n,o,s=this;return L((function(){n=["if"+g+"(",s.generateExpression(t.test,i.Sequence,7),")"]})),o=1,r&_&&(o|=_),t.alternate?(n.push(this.maybeBlock(t.consequent,1)),n=this.maybeBlockSuffix(t.consequent,n),n=t.alternate.type===e.IfStatement?U(n,["else ",this.generateStatement(t.alternate,o)]):U(n,U("else",this.maybeBlock(t.alternate,o)))):n.push(this.maybeBlock(t.consequent,o)),n},ForStatement:function(t,r){var n,o=this;return L((function(){n=["for"+g+"("],t.init?t.init.type===e.VariableDeclaration?n.push(o.generateStatement(t.init,0)):(n.push(o.generateExpression(t.init,i.Sequence,6)),n.push(";")):n.push(";"),t.test?(n.push(g),n.push(o.generateExpression(t.test,i.Sequence,7)),n.push(";")):n.push(";"),t.update?(n.push(g),n.push(o.generateExpression(t.update,i.Sequence,7)),n.push(")")):n.push(")")})),n.push(this.maybeBlock(t.body,r&_?Q:1)),n},ForInStatement:function(e,t){return this.generateIterationForStatement("in",e,t&_?Q:1)},ForOfStatement:function(e,t){return this.generateIterationForStatement("of",e,t&_?Q:1)},LabeledStatement:function(e,t){return[e.label.name+":",this.maybeBlock(e.body,t&_?Q:1)]},Program:function(e,t){var r,i,n,o,s;for(o=e.body.length,r=[I&&o>0?"\n":""],s=17,n=0;n<o;++n)I||n!==o-1||(s|=_),B&&(0===n&&(e.body[0].leadingComments||H(e.range[0],e.body[n].range[0],r)),n>0&&(e.body[n-1].trailingComments||e.body[n].leadingComments||H(e.body[n-1].range[1],e.body[n].range[0],r))),i=j(this.generateStatement(e.body[n],s)),r.push(i),n+1<o&&!k(T(i).toString())&&(B&&e.body[n+1].leadingComments||r.push(A)),B&&n===o-1&&(e.body[n].trailingComments||H(e.body[n].range[1],e.range[1],r));return r},FunctionDeclaration:function(e,t){return[V(e,!0),"function",$(e)||N(),e.id?Y(e.id):"",this.generateFunctionBody(e)]},ReturnStatement:function(e,t){return e.argument?[U("return",this.generateExpression(e.argument,i.Sequence,7)),this.semicolon(t)]:["return"+this.semicolon(t)]},WhileStatement:function(e,t){var r,n=this;return L((function(){r=["while"+g+"(",n.generateExpression(e.test,i.Sequence,7),")"]})),r.push(this.maybeBlock(e.body,t&_?Q:1)),r},WithStatement:function(e,t){var r,n=this;return L((function(){r=["with"+g+"(",n.generateExpression(e.object,i.Sequence,7),")"]})),r.push(this.maybeBlock(e.body,t&_?Q:1)),r}},M(J.prototype,J.Statement),J.Expression={SequenceExpression:function(e,t,r){var n,o,s;for(i.Sequence<t&&(r|=1),n=[],o=0,s=e.expressions.length;o<s;++o)n.push(this.generateExpression(e.expressions[o],i.Assignment,r)),o+1<s&&n.push(","+g);return G(n,i.Sequence,t)},AssignmentExpression:function(e,t,r){return this.generateAssignment(e.left,e.right,e.operator,t,r)},ArrowFunctionExpression:function(e,t,r){return G(this.generateFunctionBody(e),i.ArrowFunction,t)},ConditionalExpression:function(e,t,r){return i.Conditional<t&&(r|=1),G([this.generateExpression(e.test,i.LogicalOR,r),g+"?"+g,this.generateExpression(e.consequent,i.Assignment,r),g+":"+g,this.generateExpression(e.alternate,i.Assignment,r)],i.Conditional,t)},LogicalExpression:function(e,t,r){return this.BinaryExpression(e,t,r)},BinaryExpression:function(e,t,r){var o,s,c,u,h,d;return u=n[e.operator],s="**"===e.operator?i.Postfix:u,c="**"===e.operator?u:u+1,u<t&&(r|=1),o=47===(d=(h=this.generateExpression(e.left,s,r)).toString()).charCodeAt(d.length-1)&&a.code.isIdentifierPartES5(e.operator.charCodeAt(0))?[h,N(),e.operator]:U(h,e.operator),h=this.generateExpression(e.right,c,r),"/"===e.operator&&"/"===h.toString().charAt(0)||"<"===e.operator.slice(-1)&&"!--"===h.toString().slice(0,3)?(o.push(N()),o.push(h)):o=U(o,h),"in"!==e.operator||1&r?G(o,u,t):["(",o,")"]},CallExpression:function(e,t,r){var n,o,s;for((n=[this.generateExpression(e.callee,i.Call,3)]).push("("),o=0,s=e.arguments.length;o<s;++o)n.push(this.generateExpression(e.arguments[o],i.Assignment,7)),o+1<s&&n.push(","+g);return n.push(")"),2&r?G(n,i.Call,t):["(",n,")"]},NewExpression:function(e,t,r){var n,o,s,a,c;if(o=e.arguments.length,c=4&r&&!m&&0===o?5:1,n=U("new",this.generateExpression(e.callee,i.New,c)),!(4&r)||m||o>0){for(n.push("("),s=0,a=o;s<a;++s)n.push(this.generateExpression(e.arguments[s],i.Assignment,7)),s+1<a&&n.push(","+g);n.push(")")}return G(n,i.New,t)},MemberExpression:function(t,r,n){var o,s;return o=[this.generateExpression(t.object,i.Call,2&n?3:1)],t.computed?(o.push("["),o.push(this.generateExpression(t.property,i.Sequence,2&n?7:5)),o.push("]")):(t.object.type===e.Literal&&"number"==typeof t.object.value&&(s=T(o).toString()).indexOf(".")<0&&!/[eExX]/.test(s)&&a.code.isDecimalDigit(s.charCodeAt(s.length-1))&&!(s.length>=2&&48===s.charCodeAt(0))&&o.push(" "),o.push("."),o.push(Y(t.property))),G(o,i.Member,r)},MetaProperty:function(e,t,r){var n;return(n=[]).push("string"==typeof e.meta?e.meta:Y(e.meta)),n.push("."),n.push("string"==typeof e.property?e.property:Y(e.property)),G(n,i.Member,t)},UnaryExpression:function(e,t,r){var n,o,s,c,u;return o=this.generateExpression(e.argument,i.Unary,7),""===g?n=U(e.operator,o):(n=[e.operator],e.operator.length>2?n=U(n,o):(u=(c=T(n).toString()).charCodeAt(c.length-1),s=o.toString().charCodeAt(0),(43===u||45===u)&&u===s||a.code.isIdentifierPartES5(u)&&a.code.isIdentifierPartES5(s)?(n.push(N()),n.push(o)):n.push(o))),G(n,i.Unary,t)},YieldExpression:function(e,t,r){var n;return n=e.delegate?"yield*":"yield",e.argument&&(n=U(n,this.generateExpression(e.argument,i.Yield,7))),G(n,i.Yield,t)},AwaitExpression:function(e,t,r){return G(U(e.all?"await*":"await",this.generateExpression(e.argument,i.Await,7)),i.Await,t)},UpdateExpression:function(e,t,r){return e.prefix?G([e.operator,this.generateExpression(e.argument,i.Unary,7)],i.Unary,t):G([this.generateExpression(e.argument,i.Postfix,7),e.operator],i.Postfix,t)},FunctionExpression:function(e,t,r){var i=[V(e,!0),"function"];return e.id?(i.push($(e)||N()),i.push(Y(e.id))):i.push($(e)||g),i.push(this.generateFunctionBody(e)),i},ArrayPattern:function(e,t,r){return this.ArrayExpression(e,t,r,!0)},ArrayExpression:function(e,t,r,n){var o,s,a=this;return e.elements.length?(s=!n&&e.elements.length>1,o=["[",s?A:""],L((function(t){var r,n;for(r=0,n=e.elements.length;r<n;++r)e.elements[r]?(o.push(s?t:""),o.push(a.generateExpression(e.elements[r],i.Assignment,7))):(s&&o.push(t),r+1===n&&o.push(",")),r+1<n&&o.push(","+(s?A:g))})),s&&!k(T(o).toString())&&o.push(A),o.push(s?c:""),o.push("]"),o):"[]"},RestElement:function(e,t,r){return"..."+this.generatePattern(e.argument)},ClassExpression:function(e,t,r){var n,o;return n=["class"],e.id&&(n=U(n,this.generateExpression(e.id,i.Sequence,7))),e.superClass&&(o=U("extends",this.generateExpression(e.superClass,i.Unary,7)),n=U(n,o)),n.push(g),n.push(this.generateStatement(e.body,Q)),n},MethodDefinition:function(e,t,r){var i,n;return i=e.static?["static"+g]:[],n="get"===e.kind||"set"===e.kind?[U(e.kind,this.generatePropertyKey(e.key,e.computed)),this.generateFunctionBody(e.value)]:[W(e),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)],U(i,n)},Property:function(e,t,r){return"get"===e.kind||"set"===e.kind?[e.kind,N(),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)]:e.shorthand?"AssignmentPattern"===e.value.type?this.AssignmentPattern(e.value,i.Sequence,7):this.generatePropertyKey(e.key,e.computed):e.method?[W(e),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)]:[this.generatePropertyKey(e.key,e.computed),":"+g,this.generateExpression(e.value,i.Assignment,7)]},ObjectExpression:function(e,t,r){var n,o,s,a,u=this;return e.properties.length?(n=e.properties.length>1,L((function(){s=u.generateExpression(e.properties[0],i.Sequence,7)})),n||(a=T(s).toString(),/[\r\n]/g.test(a))?(L((function(t){var r,a;if(o=["{",A,t,s],n)for(o.push(","+A),r=1,a=e.properties.length;r<a;++r)o.push(t),o.push(u.generateExpression(e.properties[r],i.Sequence,7)),r+1<a&&o.push(","+A)})),k(T(o).toString())||o.push(A),o.push(c),o.push("}"),o):["{",g,s,g,"}"]):"{}"},AssignmentPattern:function(e,t,r){return this.generateAssignment(e.left,e.right,"=",t,r)},ObjectPattern:function(t,r,n){var o,s,a,u,h,d=this;if(!t.properties.length)return"{}";if(u=!1,1===t.properties.length)(h=t.properties[0]).type===e.Property&&h.value.type!==e.Identifier&&(u=!0);else for(s=0,a=t.properties.length;s<a;++s)if((h=t.properties[s]).type===e.Property&&!h.shorthand){u=!0;break}return o=["{",u?A:""],L((function(e){var r,n;for(r=0,n=t.properties.length;r<n;++r)o.push(u?e:""),o.push(d.generateExpression(t.properties[r],i.Sequence,7)),r+1<n&&o.push(","+(u?A:g))})),u&&!k(T(o).toString())&&o.push(A),o.push(u?c:""),o.push("}"),o},ThisExpression:function(e,t,r){return"this"},Super:function(e,t,r){return"super"},Identifier:function(e,t,r){return Y(e)},ImportDefaultSpecifier:function(e,t,r){return Y(e.id||e.local)},ImportNamespaceSpecifier:function(e,t,r){var i=["*"],n=e.id||e.local;return n&&i.push(g+"as"+N()+Y(n)),i},ImportSpecifier:function(e,t,r){var i=e.imported,n=[i.name],o=e.local;return o&&o.name!==i.name&&n.push(N()+"as"+N()+Y(o)),n},ExportSpecifier:function(e,t,r){var i=e.local,n=[i.name],o=e.exported;return o&&o.name!==i.name&&n.push(N()+"as"+N()+Y(o)),n},Literal:function(t,r,i){var n;if(t.hasOwnProperty("raw")&&v&&b.raw)try{if((n=v(t.raw).body[0].expression).type===e.Literal&&n.value===t.value)return t.raw}catch(e){}return t.regex?"/"+t.regex.pattern+"/"+t.regex.flags:null===t.value?"null":"string"==typeof t.value?function(e){var t,r,i,n,o,s="",c=0,u=0;for(t=0,r=e.length;t<r;++t){if(39===(i=e.charCodeAt(t)))++c;else if(34===i)++u;else if(47===i&&h)s+="\\";else{if(a.code.isLineTerminator(i)||92===i){s+=R(i);continue}if(!a.code.isIdentifierPartES5(i)&&(h&&i<32||!h&&!p&&(i<32||i>126))){s+=F(i,e.charCodeAt(t+1));continue}}s+=String.fromCharCode(i)}if(o=(n=!("double"===f||"auto"===f&&u<c))?"'":'"',!(n?c:u))return o+s+o;for(e=s,s=o,t=0,r=e.length;t<r;++t)(39===(i=e.charCodeAt(t))&&n||34===i&&!n)&&(s+="\\"),s+=String.fromCharCode(i);return s+o}(t.value):"number"==typeof t.value?function(e){var t,r,i,n,o;if(e!=e)throw new Error("Numeric literal whose value is NaN");if(e<0||0===e&&1/e<0)throw new Error("Numeric literal whose value is negative");if(e===1/0)return h?"null":d?"1e400":"1e+400";if(t=""+e,!d||t.length<3)return t;for(r=t.indexOf("."),h||48!==t.charCodeAt(0)||1!==r||(r=0,t=t.slice(1)),i=t,t=t.replace("e+","e"),n=0,(o=i.indexOf("e"))>0&&(n=+i.slice(o+1),i=i.slice(0,o)),r>=0&&(n-=i.length-r-1,i=+(i.slice(0,r)+i.slice(r+1))+""),o=0;48===i.charCodeAt(i.length+o-1);)--o;return 0!==o&&(n-=o,i=i.slice(0,o)),0!==n&&(i+="e"+n),(i.length<t.length||l&&e>1e12&&Math.floor(e)===e&&(i="0x"+e.toString(16)).length<t.length)&&+i===e&&(t=i),t}(t.value):"boolean"==typeof t.value?t.value?"true":"false":function(e){var t,r,i,n,o,s,a,c;if(r=e.toString(),e.source){if(!(t=r.match(/\/([^/]*)$/)))return r;for(i=t[1],r="",a=!1,c=!1,n=0,o=e.source.length;n<o;++n)s=e.source.charCodeAt(n),c?(r+=x(s,c),c=!1):(a?93===s&&(a=!1):47===s?r+="\\":91===s&&(a=!0),r+=x(s,c),c=92===s);return"/"+r+"/"+i}return r}(t.value)},GeneratorExpression:function(e,t,r){return this.ComprehensionExpression(e,t,r)},ComprehensionExpression:function(t,r,n){var o,s,a,c,u=this;return o=t.type===e.GeneratorExpression?["("]:["["],b.moz.comprehensionExpressionStartsWithAssignment&&(c=this.generateExpression(t.body,i.Assignment,7),o.push(c)),t.blocks&&L((function(){for(s=0,a=t.blocks.length;s<a;++s)c=u.generateExpression(t.blocks[s],i.Sequence,7),s>0||b.moz.comprehensionExpressionStartsWithAssignment?o=U(o,c):o.push(c)})),t.filter&&(o=U(o,"if"+g),c=this.generateExpression(t.filter,i.Sequence,7),o=U(o,["(",c,")"])),b.moz.comprehensionExpressionStartsWithAssignment||(c=this.generateExpression(t.body,i.Assignment,7),o=U(o,c)),o.push(t.type===e.GeneratorExpression?")":"]"),o},ComprehensionBlock:function(t,r,n){var o;return o=U(o=t.left.type===e.VariableDeclaration?[t.left.kind,N(),this.generateStatement(t.left.declarations[0],0)]:this.generateExpression(t.left,i.Call,7),t.of?"of":"in"),o=U(o,this.generateExpression(t.right,i.Sequence,7)),["for"+g+"(",o,")"]},SpreadElement:function(e,t,r){return["...",this.generateExpression(e.argument,i.Assignment,7)]},TaggedTemplateExpression:function(e,t,r){var n=3;return 2&r||(n=1),G([this.generateExpression(e.tag,i.Call,n),this.generateExpression(e.quasi,i.Primary,4)],i.TaggedTemplate,t)},TemplateElement:function(e,t,r){return e.value.raw},TemplateLiteral:function(e,t,r){var n,o,s;for(n=["`"],o=0,s=e.quasis.length;o<s;++o)n.push(this.generateExpression(e.quasis[o],i.Primary,7)),o+1<s&&(n.push("${"+g),n.push(this.generateExpression(e.expressions[o],i.Sequence,7)),n.push(g+"}"));return n.push("`"),n},ModuleSpecifier:function(e,t,r){return this.Literal(e,t,r)},ImportExpression:function(e,t,r){return G(["import(",this.generateExpression(e.source,i.Assignment,7),")"],i.Call,t)}},M(J.prototype,J.Expression),J.prototype.generateExpression=function(t,r,n){var o,s;return s=t.type||e.Property,b.verbatim&&t.hasOwnProperty(b.verbatim)?function(e,t){var r;return T("string"==typeof(r=e[b.verbatim])?G(z(r),i.Sequence,t):G(z(r.content),null!=r.precedence?r.precedence:i.Sequence,t),e)}(t,r):(o=this[s](t,r,n),b.comment&&(o=K(t,o)),T(o,t))},J.prototype.generateStatement=function(t,r){var i,n;return i=this[t.type](t,r),b.comment&&(i=K(t,i)),n=T(i).toString(),t.type!==e.Program||I||""!==A||"\n"!==n.charAt(n.length-1)||(i=E?T(i).replaceRight(/\s+$/,""):n.replace(/\s+$/,"")),T(i,t)},r(78531),t.R_=function(e,n){var s,a,_={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=n?("string"==typeof n.indent&&(_.format.indent.style=n.indent),"number"==typeof n.base&&(_.format.indent.base=n.base),n=P(_,n),u=n.format.indent.style,c="string"==typeof n.base?n.base:D(u,n.format.indent.base)):(u=(n=_).format.indent.style,c=D(u,n.format.indent.base)),h=n.format.json,d=n.format.renumber,l=!h&&n.format.hexadecimal,f=h?"double":n.format.quotes,p=n.format.escapeless,A=n.format.newline,g=n.format.space,n.format.compact&&(A=g=u=c=""),m=n.format.parentheses,y=n.format.semicolons,I=n.format.safeConcatenation,w=n.directive,v=h?null:n.parse,E=n.sourceMap,C=n.sourceCode,B=n.format.preserveBlankLines&&null!==C,b=n,E&&(o=t.Xh?r.g.sourceMap.SourceNode:r(49125).SourceNode),s=function(e){var t;if(t=new J,S(e))return t.generateStatement(e,1);if(function(e){return J.Expression.hasOwnProperty(e.type)}(e))return t.generateExpression(e,i.Sequence,7);throw new Error("Unknown node type: "+e.type)}(e),E?(a=s.toStringWithSourceMap({file:n.file,sourceRoot:n.sourceMapRoot}),n.sourceContent&&a.map.setSourceContent(n.sourceMap,n.sourceContent),n.sourceMapWithCode?a:a.map.toString()):(a={code:s.toString(),map:null},n.sourceMapWithCode?a:a.code)},s.attachComments,P({},i),t.Xh=!1}()},27085:(e,t,r)=>{!function e(t){"use strict";var i,n,o,s,a,c;function u(e){var t,r,i={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],i[t]="object"==typeof r&&null!==r?u(r):r);return i}function h(e,t){this.parent=e,this.key=t}function d(e,t,r,i){this.node=e,this.path=t,this.wrap=r,this.ref=i}function l(){}function f(e){return null!=e&&"object"==typeof e&&"string"==typeof e.type}function p(e,t){return(e===i.ObjectExpression||e===i.ObjectPattern)&&"properties"===t}function A(e,t){return(new l).traverse(e,t)}function g(e,t){var r;return r=function(t,r){var i,n,o,s;for(n=t.length,o=0;n;)t[s=o+(i=n>>>1)].range[0]>e.range[0]?n=i:(o=s+1,n-=i+1);return o}(t),e.extendedRange=[e.range[0],e.range[1]],r!==t.length&&(e.extendedRange[1]=t[r].range[0]),(r-=1)>=0&&(e.extendedRange[0]=t[r].range[1]),e}return i={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},n={Break:s={},Skip:a={},Remove:c={}},h.prototype.replace=function(e){this.parent[this.key]=e},h.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},l.prototype.path=function(){var e,t,r,i,n;function o(e,t){if(Array.isArray(t))for(r=0,i=t.length;r<i;++r)e.push(t[r]);else e.push(t)}if(!this.__current.path)return null;for(n=[],e=2,t=this.__leavelist.length;e<t;++e)o(n,this.__leavelist[e].path);return o(n,this.__current.path),n},l.prototype.type=function(){return this.current().type||this.__current.wrap},l.prototype.parents=function(){var e,t,r;for(r=[],e=1,t=this.__leavelist.length;e<t;++e)r.push(this.__leavelist[e].node);return r},l.prototype.current=function(){return this.__current.node},l.prototype.__execute=function(e,t){var r,i;return i=void 0,r=this.__current,this.__current=t,this.__state=null,e&&(i=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,i},l.prototype.notify=function(e){this.__state=e},l.prototype.skip=function(){this.notify(a)},l.prototype.break=function(){this.notify(s)},l.prototype.remove=function(){this.notify(c)},l.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===t.fallback?this.__fallback=Object.keys:"function"==typeof t.fallback&&(this.__fallback=t.fallback),this.__keys=o,t.keys&&(this.__keys=Object.assign(Object.create(this.__keys),t.keys))},l.prototype.traverse=function(e,t){var r,i,n,o,c,u,h,l,A,g,m,y;for(this.__initialize(e,t),y={},r=this.__worklist,i=this.__leavelist,r.push(new d(e,null,null,null)),i.push(new d(null,null,null,null));r.length;)if((n=r.pop())!==y){if(n.node){if(u=this.__execute(t.enter,n),this.__state===s||u===s)return;if(r.push(y),i.push(n),this.__state===a||u===a)continue;if(c=(o=n.node).type||n.wrap,!(g=this.__keys[c])){if(!this.__fallback)throw new Error("Unknown node type "+c+".");g=this.__fallback(o)}for(l=g.length;(l-=1)>=0;)if(m=o[h=g[l]])if(Array.isArray(m)){for(A=m.length;(A-=1)>=0;)if(m[A]){if(p(c,g[l]))n=new d(m[A],[h,A],"Property",null);else{if(!f(m[A]))continue;n=new d(m[A],[h,A],null,null)}r.push(n)}}else f(m)&&r.push(new d(m,h,null,null))}}else if(n=i.pop(),u=this.__execute(t.leave,n),this.__state===s||u===s)return},l.prototype.replace=function(e,t){var r,i,n,o,u,l,A,g,m,y,I,w,b;function v(e){var t,i,n,o;if(e.ref.remove())for(i=e.ref.key,o=e.ref.parent,t=r.length;t--;)if((n=r[t]).ref&&n.ref.parent===o){if(n.ref.key<i)break;--n.ref.key}}for(this.__initialize(e,t),I={},r=this.__worklist,i=this.__leavelist,l=new d(e,null,null,new h(w={root:e},"root")),r.push(l),i.push(l);r.length;)if((l=r.pop())!==I){if(void 0!==(u=this.__execute(t.enter,l))&&u!==s&&u!==a&&u!==c&&(l.ref.replace(u),l.node=u),this.__state!==c&&u!==c||(v(l),l.node=null),this.__state===s||u===s)return w.root;if((n=l.node)&&(r.push(I),i.push(l),this.__state!==a&&u!==a)){if(o=n.type||l.wrap,!(m=this.__keys[o])){if(!this.__fallback)throw new Error("Unknown node type "+o+".");m=this.__fallback(n)}for(A=m.length;(A-=1)>=0;)if(y=n[b=m[A]])if(Array.isArray(y)){for(g=y.length;(g-=1)>=0;)if(y[g]){if(p(o,m[A]))l=new d(y[g],[b,g],"Property",new h(y,g));else{if(!f(y[g]))continue;l=new d(y[g],[b,g],null,new h(y,g))}r.push(l)}}else f(y)&&r.push(new d(y,b,null,new h(n,b)))}}else if(l=i.pop(),void 0!==(u=this.__execute(t.leave,l))&&u!==s&&u!==a&&u!==c&&l.ref.replace(u),this.__state!==c&&u!==c||v(l),this.__state===s||u===s)return w.root;return w.root},t.version=r(42600).i8,t.Syntax=i,t.traverse=A,t.replace=function(e,t){return(new l).replace(e,t)},t.attachComments=function(e,t,r){var i,o,s,a,c=[];if(!e.range)throw new Error("attachComments needs range information");if(!r.length){if(t.length){for(s=0,o=t.length;s<o;s+=1)(i=u(t[s])).extendedRange=[0,e.range[0]],c.push(i);e.leadingComments=c}return e}for(s=0,o=t.length;s<o;s+=1)c.push(g(u(t[s]),r));return a=0,A(e,{enter:function(e){for(var t;a<c.length&&!((t=c[a]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),c.splice(a,1)):a+=1;return a===c.length?n.Break:c[a].extendedRange[0]>e.range[1]?n.Skip:void 0}}),a=0,A(e,{leave:function(e){for(var t;a<c.length&&(t=c[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),c.splice(a,1)):a+=1;return a===c.length?n.Break:c[a].extendedRange[0]>e.range[1]?n.Skip:void 0}}),e},t.VisitorKeys=o,t.VisitorOption=n,t.Controller=l,t.cloneEnvironment=function(){return e({})},t}(t)},84974:e=>{!function(){"use strict";function t(e){if(null==e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function r(e){switch(e.type){case"IfStatement":return null!=e.alternate?e.alternate:e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return e.body}return null}e.exports={isExpression:function(e){if(null==e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:t,isIterationStatement:function(e){if(null==e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function(e){return t(e)||null!=e&&"FunctionDeclaration"===e.type},isProblematicIfStatement:function(e){var t;if("IfStatement"!==e.type)return!1;if(null==e.alternate)return!1;t=e.consequent;do{if("IfStatement"===t.type&&null==t.alternate)return!0;t=r(t)}while(t);return!1},trailingStatement:r}}()},65619:e=>{!function(){"use strict";var t,r,i,n,o,s;function a(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(Math.floor((e-65536)/1024)+55296)+String.fromCharCode((e-65536)%1024+56320)}for(r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},i=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],n=new Array(128),s=0;s<128;++s)n[s]=s>=97&&s<=122||s>=65&&s<=90||36===s||95===s;for(o=new Array(128),s=0;s<128;++s)o[s]=s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||36===s||95===s;e.exports={isDecimalDigit:function(e){return 48<=e&&e<=57},isHexDigit:function(e){return 48<=e&&e<=57||97<=e&&e<=102||65<=e&&e<=70},isOctalDigit:function(e){return e>=48&&e<=55},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&i.indexOf(e)>=0},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStartES5:function(e){return e<128?n[e]:r.NonAsciiIdentifierStart.test(a(e))},isIdentifierPartES5:function(e){return e<128?o[e]:r.NonAsciiIdentifierPart.test(a(e))},isIdentifierStartES6:function(e){return e<128?n[e]:t.NonAsciiIdentifierStart.test(a(e))},isIdentifierPartES6:function(e){return e<128?o[e]:t.NonAsciiIdentifierPart.test(a(e))}}}()},50702:(e,t,r)=>{!function(){"use strict";var t=r(65619);function i(e,t){return!(!t&&"yield"===e)&&n(e,t)}function n(e,t){if(t&&function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function o(e,t){return"null"===e||"true"===e||"false"===e||i(e,t)}function s(e,t){return"null"===e||"true"===e||"false"===e||n(e,t)}function a(e){var r,i,n;if(0===e.length)return!1;if(n=e.charCodeAt(0),!t.isIdentifierStartES5(n))return!1;for(r=1,i=e.length;r<i;++r)if(n=e.charCodeAt(r),!t.isIdentifierPartES5(n))return!1;return!0}function c(e){var r,i,n,o,s;if(0===e.length)return!1;for(s=t.isIdentifierStartES6,r=0,i=e.length;r<i;++r){if(55296<=(n=e.charCodeAt(r))&&n<=56319){if(++r>=i)return!1;if(!(56320<=(o=e.charCodeAt(r))&&o<=57343))return!1;n=1024*(n-55296)+(o-56320)+65536}if(!s(n))return!1;s=t.isIdentifierPartES6}return!0}e.exports={isKeywordES5:i,isKeywordES6:n,isReservedWordES5:o,isReservedWordES6:s,isRestrictedWord:function(e){return"eval"===e||"arguments"===e},isIdentifierNameES5:a,isIdentifierNameES6:c,isIdentifierES5:function(e,t){return a(e)&&!o(e,t)},isIdentifierES6:function(e,t){return c(e)&&!s(e,t)}}}()},649:(e,t,r)=>{!function(){"use strict";t.ast=r(84974),t.code=r(65619),t.keyword=r(50702)}()},26729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,i,o,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,o||e,s),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,o=i.length,s=new Array(o);n<o;n++)s[n]=i[n].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,n,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,h=this._events[a],d=arguments.length;if(h.fn){switch(h.once&&this.removeListener(e,h.fn,void 0,!0),d){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,t),!0;case 3:return h.fn.call(h.context,t,i),!0;case 4:return h.fn.call(h.context,t,i,n),!0;case 5:return h.fn.call(h.context,t,i,n,o),!0;case 6:return h.fn.call(h.context,t,i,n,o,s),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];h.fn.apply(h.context,c)}else{var l,f=h.length;for(u=0;u<f;u++)switch(h[u].once&&this.removeListener(e,h[u].fn,void 0,!0),d){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,t);break;case 3:h[u].fn.call(h[u].context,t,i);break;case 4:h[u].fn.call(h[u].context,t,i,n);break;default:if(!c)for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];h[u].fn.apply(h[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,i,n){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||s(this,o);else{for(var c=0,u=[],h=a.length;c<h;c++)(a[c].fn!==t||n&&!a[c].once||i&&a[c].context!==i)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},17187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,i){function n(r){e.removeListener(t,o),i(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",n),r([].slice.call(arguments))}A(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&A(e,"error",t,{once:!0})}(e,n)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function u(e,t,r,i){var n,o,s,u;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[r,s]:[s,r]:i?s.unshift(r):s.push(r),(n=c(e))>0&&s.length>n&&!s.warned){s.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=s.length,u=h,console&&console.warn&&console.warn(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=h.bind(i);return n.listener=r,i.wrapFn=n,n}function l(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):p(n,n.length)}function f(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function A(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function n(o){i.once&&e.removeEventListener(t,n),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var u=c.length,h=p(c,u);for(r=0;r<u;++r)i(h[r],this,t)}return!0},o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,i,n,o,s;if(a(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,n=o;break}if(n<0)return this;0===n?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},o.prototype.listeners=function(e){return l(this,e,!0)},o.prototype.rawListeners=function(e){return l(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},13048:(e,t,r)=>{var i=r(89509).Buffer,n=r(62318);e.exports=function(e,t,r,o){if(i.isBuffer(e)||(e=i.from(e,"binary")),t&&(i.isBuffer(t)||(t=i.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,a=i.alloc(s),c=i.alloc(o||0),u=i.alloc(0);s>0||o>0;){var h=new n;h.update(u),h.update(e),t&&h.update(t),u=h.digest();var d=0;if(s>0){var l=a.length-s;d=Math.min(s,u.length),u.copy(a,l,0,d),s-=d}if(d<u.length&&o>0){var f=c.length-o,p=Math.min(o,u.length-d);u.copy(c,f,d,d+p),o-=p}}return u.fill(0),{key:a,iv:c}}},64063:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(n=i;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;0!=n--;){var s=o[n];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},34444:e=>{function t(e){return e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return e}function i(e,i){const n=(i=i||{}).delimiter||".",o=i.maxDepth,s=i.transformKey||r,a={};return function e(r,c,u){u=u||1,Object.keys(r).forEach((function(h){const d=r[h],l=i.safe&&Array.isArray(d),f=Object.prototype.toString.call(d),p=t(d),A="[object Object]"===f||"[object Array]"===f,g=c?c+n+s(h):s(h);if(!l&&!p&&A&&Object.keys(d).length&&(!i.maxDepth||u<o))return e(d,g,u+1);a[g]=d}))}(e),a}e.exports=i,i.flatten=i,i.unflatten=function e(n,o){const s=(o=o||{}).delimiter||".",a=o.overwrite||!1,c=o.transformKey||r,u={};if(t(n)||"[object Object]"!==Object.prototype.toString.call(n))return n;function h(e){const t=Number(e);return isNaN(t)||-1!==e.indexOf(".")||o.object?e:t}return n=Object.keys(n).reduce((function(e,t){const r=Object.prototype.toString.call(n[t]);return"[object Object]"!==r&&"[object Array]"!==r||function(e){const t=Object.prototype.toString.call(e),r="[object Object]"===t;return!e||("[object Array]"===t?!e.length:r?!Object.keys(e).length:void 0)}(n[t])?(e[t]=n[t],e):function(e,t,r){return Object.keys(r).reduce((function(t,i){return t[e+s+i]=r[i],t}),t)}(t,e,i(n[t],o))}),{}),Object.keys(n).forEach((function(t){const r=t.split(s).map(c);let i=h(r.shift()),d=h(r[0]),l=u;for(;void 0!==d;){if("__proto__"===i)return;const e=Object.prototype.toString.call(l[i]),t="[object Object]"===e||"[object Array]"===e;if(!a&&!t&&void 0!==l[i])return;(a&&!t||!a&&null==l[i])&&(l[i]="number"!=typeof d||o.object?{}:[]),l=l[i],r.length>0&&(i=h(r.shift()),d=h(r[0]))}l[i]=e(n[t],o)})),u}},17648:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,i=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r};e.exports=function(e){var n=this;if("function"!=typeof n||"[object Function]"!==t.apply(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var o,s=function(e,t){for(var r=[],i=1,n=0;i<e.length;i+=1,n+=1)r[n]=e[i];return r}(arguments),a=r(0,n.length-s.length),c=[],u=0;u<a;u++)c[u]="$"+u;if(o=Function("binder","return function ("+function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=",");return r}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=n.apply(this,i(s,arguments));return Object(t)===t?t:this}return n.apply(e,i(s,arguments))})),n.prototype){var h=function(){};h.prototype=n.prototype,o.prototype=new h,h.prototype=null}return o}},58612:(e,t,r)=>{"use strict";var i=r(17648);e.exports=Function.prototype.bind||i},25972:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var i=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof i&&""!==function(){}.bind().name},e.exports=t},40210:(e,t,r)=>{"use strict";var i,n=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(e){c=null}var u=function(){throw new s},h=c?function(){try{return u}catch(e){try{return c(arguments,"callee").get}catch(e){return u}}}():u,d=r(41405)(),l=r(28185)(),f=Object.getPrototypeOf||(l?function(e){return e.__proto__}:null),p={},A="undefined"!=typeof Uint8Array&&f?f(Uint8Array):i,g={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":d&&f?f([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&f?f(f([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&f?f((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&f?f((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&f?f(""[Symbol.iterator]()):i,"%Symbol%":d?Symbol:i,"%SyntaxError%":n,"%ThrowTypeError%":h,"%TypedArray%":A,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(f)try{null.error}catch(e){var m=f(f(e));g["%Error.prototype%"]=m}var y=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&f&&(r=f(n.prototype))}return g[t]=r,r},I={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=r(58612),b=r(48824),v=w.call(Function.call,Array.prototype.concat),E=w.call(Function.apply,Array.prototype.splice),C=w.call(Function.call,String.prototype.replace),B=w.call(Function.call,String.prototype.slice),S=w.call(Function.call,RegExp.prototype.exec),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,D=function(e,t){var r,i=e;if(b(I,i)&&(i="%"+(r=I[i])[0]+"%"),b(g,i)){var o=g[i];if(o===p&&(o=y(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:o}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=B(e,0,1),r=B(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return C(e,_,(function(e,t,r,n){i[i.length]=r?C(n,Q,"$1"):t||e})),i}(e),i=r.length>0?r[0]:"",o=D("%"+i+"%",t),a=o.name,u=o.value,h=!1,d=o.alias;d&&(i=d[0],E(r,v([0,1],d)));for(var l=1,f=!0;l<r.length;l+=1){var p=r[l],A=B(p,0,1),m=B(p,-1);if(('"'===A||"'"===A||"`"===A||'"'===m||"'"===m||"`"===m)&&A!==m)throw new n("property names with quotes must have matching quotes");if("constructor"!==p&&f||(h=!0),b(g,a="%"+(i+="."+p)+"%"))u=g[a];else if(null!=u){if(!(p in u)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(c&&l+1>=r.length){var y=c(u,p);u=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[p]}else f=b(u,p),u=u[p];f&&!h&&(g[a]=u)}}return u}},27296:(e,t,r)=>{"use strict";var i=r(40210)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},31044:(e,t,r)=>{"use strict";var i=r(40210)("%Object.defineProperty%",!0),n=function(){if(i)try{return i({},"a",{value:1}),!0}catch(e){return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=n},28185:e=>{"use strict";var t={foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof r)}},41405:(e,t,r)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(55419);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&n()}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},96410:(e,t,r)=>{"use strict";var i=r(55419);e.exports=function(){return i()&&!!Symbol.toStringTag}},3349:(e,t,r)=>{"use strict";var i=r(89509).Buffer,n=r(70326).Transform;function o(e){n.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(35717)(o,n),o.prototype._transform=function(e,t,r){var i=null;try{this.update(e,t)}catch(e){i=e}r(i)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},9786:e=>{"use strict";var t={};function r(e,r,i){i||(i=Error);var n=function(e){var t,i;function n(t,i,n){return e.call(this,function(e,t,i){return"string"==typeof r?r:r(e,t,i)}(t,i,n))||this}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n}(i);n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o,s,a,c;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(i(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},62910:(e,t,r)=>{"use strict";var i=r(34155),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=r(45789),s=r(70469);r(35717)(h,o);for(var a=n(s.prototype),c=0;c<a.length;c++){var u=a[c];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},58994:(e,t,r)=>{"use strict";e.exports=n;var i=r(70421);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(35717)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},45789:(e,t,r)=>{"use strict";var i,n=r(34155);e.exports=B,B.ReadableState=C,r(17187).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(50677),c=r(48764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=r(31616);o=h&&h.debuglog?h.debuglog("stream"):function(){};var d,l,f,p=r(98354),A=r(35072),g=r(31222).getHighWaterMark,m=r(9786).q,y=m.ERR_INVALID_ARG_TYPE,I=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(B,a);var v=A.errorOrDestroy,E=["error","close","destroy","pause","resume"];function C(e,t,n){i=i||r(62910),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(32553).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function B(e){if(i=i||r(62910),!(this instanceof B))return new B(e);var t=this instanceof i;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function S(e,t,r,i,n){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}}(e,a);else if(n||(s=function(e,t){var r,i;return i=t,c.isBuffer(i)||i instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)v(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i)a.endEmitted?v(e,new b):_(e,a,t,!0);else if(a.ended)v(e,new I);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):P(e,a)):_(e,a,t,!1)}else i||(a.reading=!1,P(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function _(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),P(e,t)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),B.prototype.destroy=A.destroy,B.prototype._undestroy=A.undestroy,B.prototype._destroy=function(e,t){t(e)},B.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},B.prototype.unshift=function(e){return S(this,e,null,!0,!1)},B.prototype.isPaused=function(){return!1===this._readableState.flowing},B.prototype.setEncoding=function(e){d||(d=r(32553).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Q=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=Q?e=Q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(M,e))}function M(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,T(e)}function P(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(x,e,t))}function x(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function F(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){o("readable nexttick read 0"),e.read(0)}function O(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(j,t,e))}function j(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}B.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):k(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,n=t.needReadable;return o("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",n=!0),t.ended||t.reading?o("reading or ended",n=!1):n&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},B.prototype._read=function(e){v(this,new w("_read()"))},B.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?A:c;function c(){o("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",(function t(n,s){o("onunpipe"),n===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",A),r.removeListener("data",d),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(r);e.on("drain",u);var h=!1;function d(t){o("ondata");var n=e.write(t);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!h&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function l(t){o("onerror",t),A(),e.removeListener("error",l),0===s(e,"error")&&v(e,t)}function f(){e.removeListener("finish",p),A()}function p(){o("onfinish"),e.removeListener("close",f),A()}function A(){o("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",f),e.once("finish",p),e.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),e},B.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},B.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?k(this):i.reading||n.nextTick(R,this))),r},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(F,this),r},B.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(F,this),t},B.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(O,e,t))}(this,e)),e.paused=!1,this},B.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){o("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(B.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=r(30527)),l(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),B._fromList=N,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(B.from=function(e,t){return void 0===f&&(f=r(5327)),f(B,e,t)})},70421:(e,t,r)=>{"use strict";e.exports=h;var i=r(9786).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,c=r(62910);function u(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(35717)(h,c),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},70469:(e,t,r)=>{"use strict";var i,n=r(34155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=B,B.WritableState=C;var s,a={deprecate:r(94927)},c=r(50677),u=r(48764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=r(35072),l=r(31222).getHighWaterMark,f=r(9786).q,p=f.ERR_INVALID_ARG_TYPE,A=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,I=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,v=d.errorOrDestroy;function E(){}function C(e,t,s){i=i||r(62910),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(M,e,t),e._writableState.errorEmitted=!0,v(e,i)):(o(i),e._writableState.errorEmitted=!0,v(e,i),M(e,t))}(e,r,i,t,o);else{var s=D(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||Q(e,r),i?n.nextTick(_,e,r,s,o):_(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function B(e){var t=this instanceof(i=i||r(62910));if(!t&&!s.call(B,this))return new B(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function S(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function _(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),M(e,t)}function Q(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)n[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;n.allBuffers=c,S(e,t,!0,t.length,n,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,d=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,h,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var r=D(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(35717)(B,c),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===B&&e&&e._writableState instanceof C}})):s=function(e){return e instanceof this},B.prototype.pipe=function(){v(this,new m)},B.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof h);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;v(e,r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o;return null===r?o=new I:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(v(e,o),n.nextTick(i,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,i,n,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,a,i,n,o);return c}(this,o,a,e,t,r)),s},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||Q(this,e))},B.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(e,t,r){r(new A("_write()"))},B.prototype._writev=null,B.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,M(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),B.prototype.destroy=d.destroy,B.prototype._undestroy=d.undestroy,B.prototype._destroy=function(e,t){t(e)}},30527:(e,t,r)=>{"use strict";var i,n=r(34155);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(28640),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function A(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function g(e){n.nextTick(A,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(i={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[h])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,i=this[d];if(i)r=new Promise(function(e,t){return function(r,i){e.then((function(){t[h]?r(p(void 0,!0)):t[l](r,i)}),i)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[l])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),o(i,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),i),m);e.exports=function(e){var t,r=Object.create(y,(o(t={},f,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,h,{value:e._readableState.endEmitted,writable:!0}),o(t,l,{value:function(e,t){var i=r[f].read();i?(r[d]=null,r[a]=null,r[c]=null,e(p(i,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[d]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[d]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var i=r[a];null!==i&&(r[d]=null,r[a]=null,r[c]=null,i(p(void 0,!0))),r[h]=!0})),e.on("readable",g.bind(null,r)),r}},98354:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(48764).Buffer,u=r(69386).inspect,h=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,i,n=c.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=n,i=s,c.prototype.copy.call(t,r,i),s+=o.data.length,o=o.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?i+=n:i+=n.slice(0,e),0==(e-=o)){o===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return u(this,n(n({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},35072:(e,t,r)=>{"use strict";var i=r(34155);function n(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,e)):i.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(o,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t?(i.nextTick(o,r),t(e)):i.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},28640:(e,t,r)=>{"use strict";var i=r(9786).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(o||n);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},u=t._writableState&&t._writableState.finished,h=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},A=function(){t.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",h),t.on("abort",p),t.req?A():t.on("request",A)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",l),t.on("finish",h),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",h),t.removeListener("abort",p),t.removeListener("request",A),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",p)}}},5327:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},64218:(e,t,r)=>{"use strict";var i,n=r(9786).q,o=n.ERR_MISSING_ARGS,s=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var h,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var l=t.map((function(e,n){var o=n<t.length-1;return function(e,t,n,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===i&&(i=r(28640)),i(e,{readable:t,writable:n},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,n>0,(function(e){h||(h=e),e&&l.forEach(c),o||(l.forEach(c),d(h))}))}));return t.reduce(u)}},31222:(e,t,r)=>{"use strict";var i=r(9786).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(n?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},50677:(e,t,r)=>{e.exports=r(17187).EventEmitter},70326:(e,t,r)=>{(t=e.exports=r(45789)).Stream=t,t.Readable=t,t.Writable=r(70469),t.Duplex=r(62910),t.Transform=r(70421),t.PassThrough=r(58994),t.finished=r(28640),t.pipeline=r(64218)},18962:(e,t,r)=>{"use strict";function i(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}r.r(t),r.d(t,{adler32:()=>D,argon2Verify:()=>V,argon2d:()=>z,argon2i:()=>H,argon2id:()=>G,bcrypt:()=>Wt,bcryptVerify:()=>Xt,blake2b:()=>O,blake2s:()=>te,blake3:()=>ae,crc32:()=>le,crc32c:()=>ge,createAdler32:()=>k,createBLAKE2b:()=>T,createBLAKE2s:()=>re,createBLAKE3:()=>ce,createCRC32:()=>fe,createCRC32C:()=>me,createHMAC:()=>Kt,createKeccak:()=>Ke,createMD4:()=>ve,createMD5:()=>_e,createRIPEMD160:()=>qt,createSHA1:()=>Pe,createSHA224:()=>Ye,createSHA256:()=>Ze,createSHA3:()=>Ne,createSHA384:()=>it,createSHA512:()=>at,createSM3:()=>ur,createWhirlpool:()=>nr,createXXHash128:()=>Tt,createXXHash3:()=>Dt,createXXHash32:()=>ft,createXXHash64:()=>bt,keccak:()=>qe,md4:()=>be,md5:()=>Se,pbkdf2:()=>Gt,ripemd160:()=>Lt,scrypt:()=>Yt,sha1:()=>Me,sha224:()=>Je,sha256:()=>We,sha3:()=>Te,sha384:()=>rt,sha512:()=>st,sm3:()=>cr,whirlpool:()=>ir,xxhash128:()=>Ot,xxhash3:()=>Qt,xxhash32:()=>lt,xxhash64:()=>wt});class n{constructor(){this.mutex=Promise.resolve()}lock(){let e=()=>{};return this.mutex=this.mutex.then((()=>new Promise(e))),new Promise((t=>{e=t}))}dispatch(e){return i(this,void 0,void 0,(function*(){const t=yield this.lock();try{return yield Promise.resolve(e())}finally{t()}}))}}var o;const s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,a=null!==(o=s.Buffer)&&void 0!==o?o:null,c=s.TextEncoder?new s.TextEncoder:null;function u(e,t){return(15&e)+(e>>6|e>>3&8)<<4|(15&t)+(t>>6|t>>3&8)}function h(e,t){const r=t.length>>1;for(let i=0;i<r;i++){const r=i<<1;e[i]=u(t.charCodeAt(r),t.charCodeAt(r+1))}}const d="a".charCodeAt(0)-10,l="0".charCodeAt(0);function f(e,t,r){let i=0;for(let n=0;n<r;n++){let r=t[n]>>>4;e[i++]=r>9?r+d:r+l,r=15&t[n],e[i++]=r>9?r+d:r+l}return String.fromCharCode.apply(null,e)}const p=null!==a?e=>{if("string"==typeof e){const t=a.from(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.length)}if(a.isBuffer(e))return new Uint8Array(e.buffer,e.byteOffset,e.length);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")}:e=>{if("string"==typeof e)return c.encode(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Invalid data type!")},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=new Uint8Array(256);for(let e=0;e<A.length;e++)g[A.charCodeAt(e)]=e;function m(e,t=!0){const r=e.length,i=r%3,n=[],o=r-i;for(let t=0;t<o;t+=3){const r=(e[t]<<16&16711680)+(e[t+1]<<8&65280)+(255&e[t+2]),i=A.charAt(r>>18&63)+A.charAt(r>>12&63)+A.charAt(r>>6&63)+A.charAt(63&r);n.push(i)}if(1===i){const i=e[r-1],o=A.charAt(i>>2),s=A.charAt(i<<4&63);n.push(`${o}${s}`),t&&n.push("==")}else if(2===i){const i=(e[r-2]<<8)+e[r-1],o=A.charAt(i>>10),s=A.charAt(i>>4&63),a=A.charAt(i<<2&63);n.push(`${o}${s}${a}`),t&&n.push("=")}return n.join("")}function y(e){let t=Math.floor(.75*e.length);const r=e.length;return"="===e[r-1]&&(t-=1,"="===e[r-2]&&(t-=1)),t}function I(e){const t=y(e),r=e.length,i=new Uint8Array(t);let n=0;for(let t=0;t<r;t+=4){const r=g[e.charCodeAt(t)],o=g[e.charCodeAt(t+1)],s=g[e.charCodeAt(t+2)],a=g[e.charCodeAt(t+3)];i[n]=r<<2|o>>4,n+=1,i[n]=(15&o)<<4|s>>2,n+=1,i[n]=(3&s)<<6|63&a,n+=1}return i}const w=16384,b=4,v=new n,E=new Map;function C(e,t){return i(this,void 0,void 0,(function*(){let r=null,n=null,o=!1;if("undefined"==typeof WebAssembly)throw new Error("WebAssembly is not supported in this environment!");const s=()=>new DataView(r.exports.memory.buffer).getUint32(r.exports.STATE_SIZE,!0),a=v.dispatch((()=>i(this,void 0,void 0,(function*(){if(!E.has(e.name)){const t=I(e.data),r=WebAssembly.compile(t);E.set(e.name,r)}const t=yield E.get(e.name);r=yield WebAssembly.instantiate(t,{})})))),c=(e=null)=>{o=!0,r.exports.Hash_Init(e)},d=e=>{if(!o)throw new Error("update() called before init()");(e=>{let t=0;for(;t<e.length;){const i=e.subarray(t,t+w);t+=i.length,n.set(i),r.exports.Hash_Update(i.length)}})(p(e))},l=new Uint8Array(2*t),A=(e,i=null)=>{if(!o)throw new Error("digest() called before init()");return o=!1,r.exports.Hash_Final(i),"binary"===e?n.slice(0,t):f(l,n,t)},g=e=>"string"==typeof e?e.length<w/4:e.byteLength<w;let m=g;switch(e.name){case"argon2":case"scrypt":m=()=>!0;break;case"blake2b":case"blake2s":m=(e,t)=>t<=512&&g(e);break;case"blake3":m=(e,t)=>0===t&&g(e);break;case"xxhash64":case"xxhash3":case"xxhash128":m=()=>!1}return yield(()=>i(this,void 0,void 0,(function*(){r||(yield a);const e=r.exports.Hash_GetBuffer(),t=r.exports.memory.buffer;n=new Uint8Array(t,e,w)})))(),{getMemory:()=>n,writeMemory:(e,t=0)=>{n.set(e,t)},getExports:()=>r.exports,setMemorySize:e=>{r.exports.Hash_SetMemorySize(e);const t=r.exports.Hash_GetBuffer(),i=r.exports.memory.buffer;n=new Uint8Array(i,t,e)},init:c,update:d,digest:A,save:()=>{if(!o)throw new Error("save() can only be called after init() and before digest()");const t=r.exports.Hash_GetState(),i=s(),n=r.exports.memory.buffer,a=new Uint8Array(n,t,i),c=new Uint8Array(b+i);return h(c,e.hash),c.set(a,b),c},load:t=>{if(!(t instanceof Uint8Array))throw new Error("load() expects an Uint8Array generated by save()");const i=r.exports.Hash_GetState(),n=s(),a=b+n,c=r.exports.memory.buffer;if(t.length!==a)throw new Error(`Bad state length (expected ${a} bytes, got ${t.length})`);if(!function(e,t){if(e.length!==2*t.length)return!1;for(let r=0;r<t.length;r++){const i=r<<1;if(t[r]!==u(e.charCodeAt(i),e.charCodeAt(i+1)))return!1}return!0}(e.hash,t.subarray(0,b)))throw new Error("This state was written by an incompatible hash implementation");const h=t.subarray(b);new Uint8Array(c,i,n).set(h),o=!0},calculate:(e,i=null,o=null)=>{if(!m(e,i))return c(i),d(e),A("hex",o);const s=p(e);return n.set(s),r.exports.Hash_Calculate(s.length,i,o),f(l,n,t)},hashLength:t}}))}var B={name:"adler32",data:"AGFzbQEAAAABDANgAAF/YAAAYAF/AAMHBgABAgEAAgQFAXABAQEFBAEBAgIGDgJ/AUGAiQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAELSGFzaF9VcGRhdGUAAgpIYXNoX0ZpbmFsAAMNSGFzaF9HZXRTdGF0ZQAEDkhhc2hfQ2FsY3VsYXRlAAUKU1RBVEVfU0laRQMBCoAIBgUAQYAJCwoAQQBBATYChAgL9gYBBn9BACgChAgiAUH//wNxIQIgAUEQdiEDAkACQCAAQQFHDQAgAkEALQCACWoiAUGPgHxqIAEgAUHw/wNLGyIBIANqIgRBEHQiBUGAgDxqIAUgBEHw/wNLGyABciEBDAELAkACQAJAAkACQCAAQRBJDQBBgAkhBiAAQbArSQ0BQYAJIQYDQEEAIQUDQCAGIAVqIgEoAgAiBEH/AXEgAmoiAiADaiACIARBCHZB/wFxaiICaiACIARBEHZB/wFxaiICaiACIARBGHZqIgJqIAIgAUEEaigCACIEQf8BcWoiAmogAiAEQQh2Qf8BcWoiAmogAiAEQRB2Qf8BcWoiAmogAiAEQRh2aiICaiACIAFBCGooAgAiBEH/AXFqIgJqIAIgBEEIdkH/AXFqIgJqIAIgBEEQdkH/AXFqIgJqIAIgBEEYdmoiBGogBCABQQxqKAIAIgFB/wFxaiIEaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgJqIQMgBUEQaiIFQbArRw0ACyADQfH/A3AhAyACQfH/A3AhAiAGQbAraiEGIABB0FRqIgBBrytLDQALIABFDQQgAEEPSw0BDAILAkAgAEUNAEEAIQEDQCACIAFBgAlqLQAAaiICIANqIQMgACABQQFqIgFHDQALCyACQY+AfGogAiACQfD/A0sbIANB8f8DcEEQdHIhAQwECwNAIAYoAgAiAUH/AXEgAmoiBCADaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgRqIAQgBkEEaigCACIBQf8BcWoiBGogBCABQQh2Qf8BcWoiBGogBCABQRB2Qf8BcWoiBGogBCABQRh2aiIEaiAEIAZBCGooAgAiAUH/AXFqIgRqIAQgAUEIdkH/AXFqIgRqIAQgAUEQdkH/AXFqIgRqIAQgAUEYdmoiBGogBCAGQQxqKAIAIgFB/wFxaiIEaiAEIAFBCHZB/wFxaiIEaiAEIAFBEHZB/wFxaiIEaiAEIAFBGHZqIgJqIQMgBkEQaiEGIABBcGoiAEEPSw0ACyAARQ0BCwNAIAIgBi0AAGoiAiADaiEDIAZBAWohBiAAQX9qIgANAAsLIANB8f8DcCEDIAJB8f8DcCECCyACIANBEHRyIQELQQAgATYChAgLMgEBf0EAQQAoAoQIIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBQBBhAgLPABBAEEBNgKECCAAEAJBAEEAKAKECCIAQRh0IABBCHRBgID8B3FyIABBCHZBgP4DcSAAQRh2cnI2AoAJCwsVAgBBgAgLBAQAAAAAQYQICwQBAAAA",hash:"321174b4"};function S(e,t,r){return i(this,void 0,void 0,(function*(){const i=yield e.lock(),n=yield C(t,r);return i(),n}))}const _=new n;let Q=null;function D(e){if(null===Q)return S(_,B,4).then((t=>(Q=t,Q.calculate(e))));try{const t=Q.calculate(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function k(){return C(B,4).then((e=>{e.init();const t={init:()=>(e.init(),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:4,digestSize:4};return t}))}var M={name:"blake2b",data:"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",hash:"68afc9cf"};const P=new n;let x=null;function F(e){return!Number.isInteger(e)||e<8||e>512||e%8!=0?new Error("Invalid variant! Valid values: 8, 16, ..., 512"):null}function R(e,t){return e|t<<16}function O(e,t=512,r=null){if(F(t))return Promise.reject(F(t));let i=null,n=t;if(null!==r){if(i=p(r),i.length>64)return Promise.reject(new Error("Max key length is 64 bytes"));n=R(t,i.length)}const o=t/8;if(null===x||x.hashLength!==o)return S(P,M,o).then((t=>(x=t,n>512&&x.writeMemory(i),x.calculate(e,n))));try{n>512&&x.writeMemory(i);const t=x.calculate(e,n);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function T(e=512,t=null){if(F(e))return Promise.reject(F(e));let r=null,i=e;if(null!==t){if(r=p(t),r.length>64)return Promise.reject(new Error("Max key length is 64 bytes"));i=R(e,r.length)}const n=e/8;return C(M,n).then((e=>{i>512&&e.writeMemory(r),e.init(i);const t={init:i>512?()=>(e.writeMemory(r),e.init(i),t):()=>(e.init(i),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:128,digestSize:n};return t}))}var N={name:"argon2",data:"AGFzbQEAAAABKQVgAX8Bf2AAAX9gEH9/f39/f39/f39/f39/f38AYAR/f39/AGACf38AAwYFAAECAwQEBQFwAQEBBQYBAQKAgAIGCAF/AUGQqAQLB0EEBm1lbW9yeQIAEkhhc2hfU2V0TWVtb3J5U2l6ZQAADkhhc2hfR2V0QnVmZmVyAAEOSGFzaF9DYWxjdWxhdGUABArXMwVbAQF/QQAhAQJAIABBACgCgAhrIgBFDQACQCAAQRB2IABBgIB8cSAASWoiAEAAQX9HDQBB/wEhAQwBC0EAIQFBAEEAKQOACCAAQRB0rXw3A4AICyABQRh0QRh1C2oBAn8CQEEAKAKICCIADQBBAD8AQRB0IgA2AogIQYCAIEEAKAKACGsiAUUNAAJAIAFBEHYgAUGAgHxxIAFJaiIAQABBf0cNAEEADwtBAEEAKQOACCAAQRB0rXw3A4AIQQAoAogIIQALIAALnA8BA34gACAEKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDCAQIAwpAwCFIhBCIIkiETcDACAIIBEgCCkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAEIBAgBCkDAIUiEEIoiSIRNwMAIAAgESAAKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAMIBAgDCkDAIUiEEIwiSIRNwMAIAggESAIKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwAgASAFKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFIhBCIIkiETcDACAJIBEgCSkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAFIBAgBSkDAIUiEEIoiSIRNwMAIAEgESABKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIUiEEIwiSIRNwMAIAkgESAJKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAFIBAgBSkDAIVCAYk3AwAgAiAGKQMAIhAgAikDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFIhBCIIkiETcDACAKIBEgCikDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAGIBAgBikDAIUiEEIoiSIRNwMAIAIgESACKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIUiEEIwiSIRNwMAIAogESAKKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAGIBAgBikDAIVCAYk3AwAgAyAHKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFIhBCIIkiETcDACALIBEgCykDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAHIBAgBykDAIUiEEIoiSIRNwMAIAMgESADKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIUiEEIwiSIRNwMAIAsgESALKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgACAFKQMAIhAgACkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDyAQIA8pAwCFIhBCIIkiETcDACAKIBEgCikDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAFIBAgBSkDAIUiEEIoiSIRNwMAIAAgESAAKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAPIBAgDykDAIUiEEIwiSIRNwMAIAogESAKKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAFIBAgBSkDAIVCAYk3AwAgASAGKQMAIhAgASkDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDCAQIAwpAwCFIhBCIIkiETcDACALIBEgCykDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAGIBAgBikDAIUiEEIoiSIRNwMAIAEgESABKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAMIBAgDCkDAIUiEEIwiSIRNwMAIAsgESALKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAGIBAgBikDAIVCAYk3AwAgAiAHKQMAIhAgAikDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDSAQIA0pAwCFIhBCIIkiETcDACAIIBEgCCkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAHIBAgBykDAIUiEEIoiSIRNwMAIAIgESACKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACANIBAgDSkDAIUiEEIwiSIRNwMAIAggESAIKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAHIBAgBykDAIVCAYk3AwAgAyAEKQMAIhAgAykDACIRfCARQgGGQv7///8fgyAQQv////8Pg358IhA3AwAgDiAQIA4pAwCFIhBCIIkiETcDACAJIBEgCSkDACISfCASQgGGQv7///8fgyAQQiCIfnwiEDcDACAEIBAgBCkDAIUiEEIoiSIRNwMAIAMgESADKQMAIhJ8IBBCGIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAOIBAgDikDAIUiEEIwiSIRNwMAIAkgESAJKQMAIhJ8IBBCEIhC/////w+DIBJCAYZC/v///x+DfnwiEDcDACAEIBAgBCkDAIVCAYk3AwALhxoBAX9BACEEQQAgAikDACABKQMAhTcDkAhBACACKQMIIAEpAwiFNwOYCEEAIAIpAxAgASkDEIU3A6AIQQAgAikDGCABKQMYhTcDqAhBACACKQMgIAEpAyCFNwOwCEEAIAIpAyggASkDKIU3A7gIQQAgAikDMCABKQMwhTcDwAhBACACKQM4IAEpAziFNwPICEEAIAIpA0AgASkDQIU3A9AIQQAgAikDSCABKQNIhTcD2AhBACACKQNQIAEpA1CFNwPgCEEAIAIpA1ggASkDWIU3A+gIQQAgAikDYCABKQNghTcD8AhBACACKQNoIAEpA2iFNwP4CEEAIAIpA3AgASkDcIU3A4AJQQAgAikDeCABKQN4hTcDiAlBACACKQOAASABKQOAAYU3A5AJQQAgAikDiAEgASkDiAGFNwOYCUEAIAIpA5ABIAEpA5ABhTcDoAlBACACKQOYASABKQOYAYU3A6gJQQAgAikDoAEgASkDoAGFNwOwCUEAIAIpA6gBIAEpA6gBhTcDuAlB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",hash:"59aa4fb4"};const U=new DataView(new ArrayBuffer(4));function j(e){return U.setInt32(0,e,!0),new Uint8Array(U.buffer)}function L(e,t,r){return i(this,void 0,void 0,(function*(){if(r<=64){const e=yield T(8*r);return e.update(j(r)),e.update(t),e.digest("binary")}const i=Math.ceil(r/32)-2,n=new Uint8Array(r);e.init(),e.update(j(r)),e.update(t);let o=e.digest("binary");n.set(o.subarray(0,32),0);for(let t=1;t<i;t++)e.init(),e.update(o),o=e.digest("binary"),n.set(o.subarray(0,32),32*t);const s=r-32*i;let a;return 64===s?(a=e,a.init()):a=yield T(8*s),a.update(o),o=a.digest("binary"),n.set(o.subarray(0,s),32*i),n}))}function q(e){return i(this,void 0,void 0,(function*(){const{parallelism:t,iterations:r,hashLength:i}=e,n=p(e.password),o=p(e.salt),s=function(e){switch(e){case"d":return 0;case"i":return 1;default:return 2}}(e.hashType),{memorySize:a}=e,[c,u]=yield Promise.all([C(N,1024),T(512)]);c.setMemorySize(1024*a+1024);const d=new Uint8Array(24),l=new DataView(d.buffer);l.setInt32(0,t,!0),l.setInt32(4,i,!0),l.setInt32(8,a,!0),l.setInt32(12,r,!0),l.setInt32(16,19,!0),l.setInt32(20,s,!0),c.writeMemory(d,1024*a),u.init(),u.update(d),u.update(j(n.length)),u.update(n),u.update(j(o.length)),u.update(o),u.update(j(0)),u.update(j(0));const A=4*Math.floor(a/(4*t)),g=new Uint8Array(72),y=u.digest("binary");g.set(y);for(let e=0;e<t;e++){g.set(j(0),64),g.set(j(e),68);let t=e*A,r=yield L(u,g,1024);c.writeMemory(r,1024*t),t+=1,g.set(j(1),64),r=yield L(u,g,1024),c.writeMemory(r,1024*t)}const I=new Uint8Array(1024);h(I,c.calculate(new Uint8Array([]),a));const w=yield L(u,I,i);return"hex"===e.outputType?f(new Uint8Array(2*i),w,i):"encoded"===e.outputType?function(e,t,r){const i=[`m=${t.memorySize}`,`t=${t.iterations}`,`p=${t.parallelism}`].join(",");return`$argon2${t.hashType}$v=19$${i}$${m(e,!1)}$${m(r,!1)}`}(o,e,w):w}))}const K=e=>{if(!e||"object"!=typeof e)throw new Error("Invalid options parameter. It requires an object.");if(!e.password)throw new Error("Password must be specified");if(e.password=p(e.password),e.password.length<1)throw new Error("Password must be specified");if(!e.salt)throw new Error("Salt must be specified");if(e.salt=p(e.salt),e.salt.length<8)throw new Error("Salt should be at least 8 bytes long");if(!Number.isInteger(e.iterations)||e.iterations<1)throw new Error("Iterations should be a positive number");if(!Number.isInteger(e.parallelism)||e.parallelism<1)throw new Error("Parallelism should be a positive number");if(!Number.isInteger(e.hashLength)||e.hashLength<4)throw new Error("Hash length should be at least 4 bytes.");if(!Number.isInteger(e.memorySize))throw new Error("Memory size should be specified.");if(e.memorySize<8*e.parallelism)throw new Error("Memory size should be at least 8 * parallelism.");if(void 0===e.outputType&&(e.outputType="hex"),!["hex","binary","encoded"].includes(e.outputType))throw new Error(`Insupported output type ${e.outputType}. Valid values: ['hex', 'binary', 'encoded']`)};function H(e){return i(this,void 0,void 0,(function*(){return K(e),q(Object.assign(Object.assign({},e),{hashType:"i"}))}))}function G(e){return i(this,void 0,void 0,(function*(){return K(e),q(Object.assign(Object.assign({},e),{hashType:"id"}))}))}function z(e){return i(this,void 0,void 0,(function*(){return K(e),q(Object.assign(Object.assign({},e),{hashType:"d"}))}))}const J=(e,t)=>{const r=t.match(/^\$argon2(id|i|d)\$v=([0-9]+)\$((?:[mtp]=[0-9]+,){2}[mtp]=[0-9]+)\$([A-Za-z0-9+/]+)\$([A-Za-z0-9+/]+)$/);if(!r)throw new Error("Invalid hash");const[,i,n,o,s,a]=r;if("19"!==n)throw new Error(`Unsupported version: ${n}`);const c={},u={m:"memorySize",p:"parallelism",t:"iterations"};return o.split(",").forEach((e=>{const[t,r]=e.split("=");c[u[t]]=parseInt(r,10)})),Object.assign(Object.assign({},c),{password:e,hashType:i,salt:I(s),hashLength:y(a),outputType:"encoded"})},Y=e=>{if(!e||"object"!=typeof e)throw new Error("Invalid options parameter. It requires an object.");if(void 0===e.hash||"string"!=typeof e.hash)throw new Error("Hash should be specified")};function V(e){return i(this,void 0,void 0,(function*(){Y(e);const t=J(e.password,e.hash);K(t);const r=e.hash.lastIndexOf("$")+1;return(yield q(t)).substring(r)===e.hash.substring(r)}))}var $={name:"blake2s",data:"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",hash:"0f570f49"};const W=new n;let Z=null;function X(e){return!Number.isInteger(e)||e<8||e>256||e%8!=0?new Error("Invalid variant! Valid values: 8, 16, ..., 256"):null}function ee(e,t){return e|t<<16}function te(e,t=256,r=null){if(X(t))return Promise.reject(X(t));let i=null,n=t;if(null!==r){if(i=p(r),i.length>32)return Promise.reject(new Error("Max key length is 32 bytes"));n=ee(t,i.length)}const o=t/8;if(null===Z||Z.hashLength!==o)return S(W,$,o).then((t=>(Z=t,n>512&&Z.writeMemory(i),Z.calculate(e,n))));try{n>512&&Z.writeMemory(i);const t=Z.calculate(e,n);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function re(e=256,t=null){if(X(e))return Promise.reject(X(e));let r=null,i=e;if(null!==t){if(r=p(t),r.length>32)return Promise.reject(new Error("Max key length is 32 bytes"));i=ee(e,r.length)}const n=e/8;return C($,n).then((e=>{i>512&&e.writeMemory(r),e.init(i);const t={init:i>512?()=>(e.writeMemory(r),e.init(i),t):()=>(e.init(i),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:n};return t}))}var ie={name:"blake3",data:"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FWogFCAfc0EZdyIVaiIUIBhqIB0gFHNBEHciFCAlaiIYIBVzQRR3IhVqIhkgFHNBGHciFCAYaiIYaiIdICBzQRR3Ih9qIiA2AgAgACAXICQgHHNBGHciHCAeaiIeIBtzQRl3IhtqIAFqIgEgFmogASAUc0EQdyIBICtqIhQgG3NBFHciFmoiFyABc0EYdyIBNgI4IAAgGCAVc0EZdyIVIC5qIANqIgMgE2ogAyAcc0EQdyIDIAIgImoiAmoiIiAVc0EUdyIVaiITNgIEIAAgASAUaiIBNgIkIAAgAiAFc0EZdyICIBlqICFqIgUgGmogBSAnc0EQdyIFIB5qIhQgAnNBFHciAmoiGjYCCCAAICAgEnNBGHciEiAdaiIhNgIoIAAgEyADc0EYdyIDNgIwIAAgASAWc0EZdzYCECAAIBogBXNBGHciATYCNCAAICEgH3NBGXc2AhQgACABIBRqIgE2AiAgACADICJqIgUgFXNBGXc2AhggACASNgI8IAAgASACc0EZdzYCHCAAIBc2AgwgACAFNgIsC7cDAwR/A34FfyMAQdABayIBJAACQCAAe6ciAkEALQCQigEiA08NACABQShqIQQDQCABQQApA4CJASIANwMAIAFBACkDiIkBIgU3AwggAUEAKQOQiQEiBjcDECABQQApA5iJASIHNwMYIAEgA0EFdCIDQdGJAWoiCCkDADcDKCABIANB2YkBaiIJKQMANwMwIAEgA0HhiQFqIgopAwA3AzggASADQemJAWoiCykDADcDQEEALQCKigEhDCABQcAAOgBoIAEgDEEEciIMOgBpIAFCADcDICABIANB8YkBaikDADcDSCABIANB+YkBaikDADcDUCABIANBgYoBaikDADcDWCABIANBiYoBaikDADcDYCABIAc3A4gBIAEgBjcDgAEgASAFNwN4IAEgADcDcCABQZABaiABQfAAaiAEQcAAQgAgDBADIAsgASkDyAEgASkDqAGFNwMAIAogASkDwAEgASkDoAGFNwMAIAkgASkDuAEgASkDmAGFNwMAIAggASkDsAEgASkDkAGFNwMAQQBBAC0AkIoBQX9qIgM6AJCKASACIANB/wFxIgNJDQALCyABQdABaiQAC/oLBAR/BH4GfwF+IwBB0AJrIgUkAAJAAkAgAUGACEsNAEEAIQYgASEHQQAhCAJAIAFB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IQwDQCABQbABaiABIAsgCUH/AXEgCCACQQhyQf8BcRADIAEgASkD2AEiDSABKQO4AYU3A3ggASABKQPgASIOIAEpA8ABhTcDgAEgASAGIAEpA+gBIg+FNwOoASABIAUgDoU3A6ABIAEgBCANhTcDmAEgASADIAEpA9ABIg2FNwOQASABIA8gASkDyAGFNwOIASAAQcAAIABBwABJGyIQQX9qIQkgASANIAEpA7ABhSINNwNwIA2nIREgCiEHIAwhAgJAA0AgAiAROgAAIAlFDQEgCUF/aiEJIAJBAWohAiAHLQAAIREgB0EBaiEHDAALCyAAIBBrIgBFDQIgDCAQaiEMIAhCAXwhCCABKQMIIQQgASkDACEDIAEpAxghBiABKQMQIQUgAS0AaSECIAEtAGghCQwACwsCQAJAAkBBAC0AiYoBIglBBnRBAEEALQCIigEiDGtGDQAgAUHgAGpBACkDgIoBNwMAIAFB2ABqQQApA/iJATcDACABQdAAakEAKQPwiQE3AwAgAUHIAGpBACkD6IkBNwMAIAFBwABqQQApA+CJATcDACABQThqQQApA9iJATcDACABQTBqQQApA9CJATcDACABQQApA8iJATcDKCABQQApA8CJASIINwMgIAFBACkDuIkBIg03AxggAUEAKQOwiQEiDjcDECABQQApA6iJASIPNwMIIAFBACkDoIkBIgM3AwBBAC0AiooBIQcgAUHuAGogAUG0AWovAQA7AQAgASABKAGwATYBaiABIAw6AGggASAHIAlFckECciIJOgBpDAELIAFB4ABqIAJBfmoiAkEFdCIJQcmKAWopAwA3AwAgAUHYAGogCUHBigFqKQMANwMAIAFB0ABqIAlBuYoBaikDADcDACABQcgAaiAJQbGKAWopAwA3AwBBwAAhDCABQcAAaiAJQamKAWopAwA3AwAgAUE4aiAJQaGKAWopAwA3AwAgAUEwaiAJQZmKAWopAwA3AwBCACEIIAFCADcDICABQQApA5iJASINNwMYIAFBACkDkIkBIg43AxAgAUEAKQOIiQEiDzcDCCABQQApA4CJASIDNwMAIAEgCUGRigFqKQMANwMoQQAtAIqKASEJIAFB7gBqIAFBsAFqQQRqLwEAOwEAIAEgASgBsAE2AWogASAJQQRyIgk6AGkgAUHAADoAaCACRQ0BCyACQX9qIgdBBXQiEUGRigFqKQMAIQQgEUGZigFqKQMAIQUgEUGhigFqKQMAIQYgEUGpigFqKQMAIRIgASANNwOIASABIA43A4ABIAEgDzcDeCABIAM3A3AgAUGwAWogAUHwAGogAUEoaiIQIAwgCCAJQf8BcRADIAFBwAA6AGggASASNwNAIAEgBjcDOCABIAU3AzAgASAENwMoIAFCADcDICABQQApA5iJASIINwMYIAFBACkDkIkBIg03AxAgAUEAKQOIiQEiDjcDCCABQQApA4CJASIPNwMAIAFBAC0AiooBQQRyIgk6AGkgASABKQPoASABKQPIAYU3A2AgASABKQPgASABKQPAAYU3A1ggASABKQPYASABKQO4AYU3A1AgASABKQPQASABKQOwAYU3A0ggAUHuAGogAUGwAWpBBGoiDC8BADsBACABIAEoAbABNgFqIAdFDQAgAUHqAGohESACQQV0QemJAWohAgNAIAJBaGopAwAhAyACQXBqKQMAIQQgAkF4aikDACEFIAIpAwAhBiABIAg3A4gBIAEgDTcDgAEgASAONwN4IAEgDzcDcCABQbABaiABQfAAaiAQQcAAQgAgCUH/AXEQAyABQcAAOgBoIAEgBjcDQCABIAU3AzggASAENwMwIAEgAzcDKCABQgA3AyAgAUEAKQOYiQEiCDcDGCABQQApA5CJASINNwMQIAFBACkDiIkBIg43AwggAUEAKQOAiQEiDzcDACABQQAtAIqKAUEEciIJOgBpIAEgASkD6AEgASkDyAGFNwNgIAEgASkD4AEgASkDwAGFNwNYIAEgASkD2AEgASkDuAGFNwNQIAEgASkD0AEgASkDsAGFNwNIIBFBBGogDC8BADsBACARIAEoAbABNgEAIAJBYGohAiAHQX9qIgcNAAsLIAFB8ABqQQFyIQogAUEoaiELQgAhCEGACSEMQcAAIQIDQCABQbABaiABIAsgAkH/AXEgCCAJQQhyQf8BcRADIAEgASkD2AEiDSABKQO4AYU3A3ggASABKQPgASIOIAEpA8ABhTcDgAEgASABKQPoASIPIAEpA8gBhTcDiAEgASABKQMAIAEpA9ABIgOFNwOQASABIA0gASkDCIU3A5gBIAEgDiABKQMQhTcDoAEgASADIAEpA7ABhSINNwNwIAEgDyABKQMYhTcDqAEgAEHAACAAQcAASRsiEEF/aiECIA2nIREgCiEHIAwhCQJAA0AgCSAROgAAIAJFDQEgAkF/aiECIAlBAWohCSAHLQAAIREgB0EBaiEHDAALCyAAIBBrIgBFDQEgDCAQaiEMIAhCAXwhCCABLQBpIQkgAS0AaCECDAALCyABQfABaiQAC6MCAQR+AkACQCAAQSBGDQBCq7OP/JGjs/DbACEBQv+kuYjFkdqCm38hAkLy5rvjo6f9p6V/IQNC58yn0NbQ67O7fyEEQQAhAAwBC0EAKQOYCSEBQQApA5AJIQJBACkDiAkhA0EAKQOACSEEQRAhAAtBACAAOgCKigFBAEIANwOAigFBAEIANwP4iQFBAEIANwPwiQFBAEIANwPoiQFBAEIANwPgiQFBAEIANwPYiQFBAEIANwPQiQFBAEIANwPIiQFBAEIANwPAiQFBACABNwO4iQFBACACNwOwiQFBACADNwOoiQFBACAENwOgiQFBACABNwOYiQFBACACNwOQiQFBACADNwOIiQFBACAENwOAiQFBAEEAOgCQigFBAEEAOwGIigELBgAgABABCwYAIAAQBgsGAEGAiQELqwIBBH4CQAJAIAFBIEYNAEKrs4/8kaOz8NsAIQNC/6S5iMWR2oKbfyEEQvLmu+Ojp/2npX8hBULnzKfQ1tDrs7t/IQZBACEBDAELQQApA5gJIQNBACkDkAkhBEEAKQOICSEFQQApA4AJIQZBECEBC0EAIAE6AIqKAUEAQgA3A4CKAUEAQgA3A/iJAUEAQgA3A/CJAUEAQgA3A+iJAUEAQgA3A+CJAUEAQgA3A9iJAUEAQgA3A9CJAUEAQgA3A8iJAUEAQgA3A8CJAUEAIAM3A7iJAUEAIAQ3A7CJAUEAIAU3A6iJAUEAIAY3A6CJAUEAIAM3A5iJAUEAIAQ3A5CJAUEAIAU3A4iJAUEAIAY3A4CJAUEAQQA6AJCKAUEAQQA7AYiKASAAEAEgAhAGCwsLAQBBgAgLBHgHAAA=",hash:"e8655383"};const ne=new n;let oe=null;function se(e){return!Number.isInteger(e)||e<8||e%8!=0?new Error("Invalid variant! Valid values: 8, 16, ..."):null}function ae(e,t=256,r=null){if(se(t))return Promise.reject(se(t));let i=null,n=0;if(null!==r){if(i=p(r),32!==i.length)return Promise.reject(new Error("Key length must be exactly 32 bytes"));n=32}const o=t/8,s=o;if(null===oe||oe.hashLength!==o)return S(ne,ie,o).then((t=>(oe=t,32===n&&oe.writeMemory(i),oe.calculate(e,n,s))));try{32===n&&oe.writeMemory(i);const t=oe.calculate(e,n,s);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function ce(e=256,t=null){if(se(e))return Promise.reject(se(e));let r=null,i=0;if(null!==t){if(r=p(t),32!==r.length)return Promise.reject(new Error("Key length must be exactly 32 bytes"));i=32}const n=e/8,o=n;return C(ie,n).then((e=>{32===i&&e.writeMemory(r),e.init(i);const t={init:32===i?()=>(e.writeMemory(r),e.init(i),t):()=>(e.init(i),t),update:r=>(e.update(r),t),digest:t=>e.digest(t,o),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:n};return t}))}var ue={name:"crc32",data:"AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwgHAAEBAQIAAwQFAXABAQEFBAEBAgIGDgJ/AUGQyQULfwBBgAgLB3AIBm1lbW9yeQIADkhhc2hfR2V0QnVmZmVyAAAJSGFzaF9Jbml0AAILSGFzaF9VcGRhdGUAAwpIYXNoX0ZpbmFsAAQNSGFzaF9HZXRTdGF0ZQAFDkhhc2hfQ2FsY3VsYXRlAAYKU1RBVEVfU0laRQMBCq0HBwUAQYAJC8MDAQN/QYCJASEBQQAhAgNAIAFBAEEAQQBBAEEAQQBBAEEAIAJBAXFrIABxIAJBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzIgNBAXFrIABxIANBAXZzNgIAIAFBBGohASACQQFqIgJBgAJHDQALQQAhAANAIABBhJEBaiAAQYSJAWooAgAiAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhJkBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEoQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYSpAWogAkH/AXFBAnRBgIkBaigCACACQQh2cyICNgIAIABBhLEBaiACQf8BcUECdEGAiQFqKAIAIAJBCHZzIgI2AgAgAEGEuQFqIAJB/wFxQQJ0QYCJAWooAgAgAkEIdnMiAjYCACAAQYTBAWogAkH/AXFBAnRBgIkBaigCACACQQh2czYCACAAQQRqIgBB/AdHDQALCycAAkBBACgCgMkBIABGDQAgABABQQAgADYCgMkBC0EAQQA2AoTJAQuhAgEDf0EAKAKEyQFBf3MhAUGACSECAkAgAEEISQ0AQYAJIQIDQCACQQRqKAIAIgNBDnZB/AdxQYCRAWooAgAgA0EWdkH8B3FBgIkBaigCAHMgA0EGdkH8B3FBgJkBaigCAHMgA0H/AXFBAnRBgKEBaigCAHMgAigCACABcyIBQRZ2QfwHcUGAqQFqKAIAcyABQQ52QfwHcUGAsQFqKAIAcyABQQZ2QfwHcUGAuQFqKAIAcyABQf8BcUECdEGAwQFqKAIAcyEBIAJBCGohAiAAQXhqIgBBB0sNAAsLAkAgAEUNAANAIAFB/wFxIAItAABzQQJ0QYCJAWooAgAgAUEIdnMhASACQQFqIQIgAEF/aiIADQALC0EAIAFBf3M2AoTJAQszAQF/QQBBACgChMkBIgBBGHQgAEEIdEGAgPwHcXIgAEEIdkGA/gNxIABBGHZycjYCgAkLBgBBhMkBC1oAAkBBACgCgMkBIAFGDQAgARABQQAgATYCgMkBC0EAQQA2AoTJASAAEANBAEEAKAKEyQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKACQsLCwEAQYAICwQEAAAA",hash:"749723dc"};const he=new n;let de=null;function le(e){if(null===de)return S(he,ue,4).then((t=>(de=t,de.calculate(e,3988292384))));try{const t=de.calculate(e,3988292384);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function fe(){return C(ue,4).then((e=>{e.init(3988292384);const t={init:()=>(e.init(3988292384),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:4,digestSize:4};return t}))}const pe=new n;let Ae=null;function ge(e){if(null===Ae)return S(pe,ue,4).then((t=>(Ae=t,Ae.calculate(e,2197175160))));try{const t=Ae.calculate(e,2197175160);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function me(){return C(ue,4).then((e=>{e.init(2197175160);const t={init:()=>(e.init(2197175160),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:4,digestSize:4};return t}))}var ye={name:"md4",data:"AGFzbQEAAAABEgRgAAF/YAAAYAF/AGACf38BfwMIBwABAgMBAAIEBQFwAQEBBQQBAQICBg4CfwFBoIoFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAABC0hhc2hfVXBkYXRlAAIKSGFzaF9GaW5hbAAEDUhhc2hfR2V0U3RhdGUABQ5IYXNoX0NhbGN1bGF0ZQAGClNUQVRFX1NJWkUDAQqXEQcFAEGACQstAEEAQv6568XpjpWZEDcCkIkBQQBCgcaUupbx6uZvNwKIiQFBAEIANwKAiQEL6AIBA39BAEEAKAKAiQEiASAAakH/////AXEiAjYCgIkBQQAoAoSJASEDAkAgAiABTw0AQQAgA0EBaiIDNgKEiQELQQAgAyAAQR12ajYChIkBAkACQAJAAkACQAJAIAFBP3EiAw0AQYAJIQIMAQtBwAAgA2siAiAASw0BIANBGGohA0EAIQEDQCADIAFqQYCJAWogAUGACWotAAA6AAAgAyABQQFqIgFqQdgARw0AC0GYiQFBwAAQAxogACACayEAIAJBgAlqIQILIABBwABPDQEgACEDDAILIABFDQJBACEBIANBmIkBakEALQCACToAACAAQQFGDQIgA0GZiQFqIQMgAEF/aiECA0AgAyABaiABQYEJai0AADoAACACIAFBAWoiAUcNAAwDCwsgAEE/cSEDIAIgAEFAcRADIQILIANFDQBBACEBA0AgAUGYiQFqIAIgAWotAAA6AAAgAyABQQFqIgFHDQALCwuYCwEXf0EAKAKUiQEhAkEAKAKQiQEhA0EAKAKMiQEhBEEAKAKIiQEhBQNAIABBHGooAgAiBiAAQRRqKAIAIgcgAEEYaigCACIIIABBEGooAgAiCSAAQSxqKAIAIgogAEEoaigCACILIABBJGooAgAiDCAAQSBqKAIAIg0gCyAIIABBCGooAgAiDiADaiAAQQRqKAIAIg8gAmogBCADIAJzcSACcyAFaiAAKAIAIhBqQQN3IhEgBCADc3EgA3NqQQd3IhIgESAEc3EgBHNqQQt3IhNqIBIgB2ogESAJaiAAQQxqKAIAIhQgBGogEyASIBFzcSARc2pBE3ciESATIBJzcSASc2pBA3ciEiARIBNzcSATc2pBB3ciEyASIBFzcSARc2pBC3ciFWogEyAMaiASIA1qIBEgBmogFSATIBJzcSASc2pBE3ciESAVIBNzcSATc2pBA3ciEiARIBVzcSAVc2pBB3ciEyASIBFzcSARc2pBC3ciFSAAQThqKAIAIhZqIBMgAEE0aigCACIXaiASIABBMGooAgAiGGogESAKaiAVIBMgEnNxIBJzakETdyISIBUgE3NxIBNzakEDdyITIBIgFXNxIBVzakEHdyIVIBMgEnNxIBJzakELdyIRaiAJIBVqIBAgE2ogEiAAQTxqKAIAIglqIBEgFSATc3EgE3NqQRN3IhIgESAVcnEgESAVcXJqQZnzidQFakEDdyITIBIgEXJxIBIgEXFyakGZ84nUBWpBBXciESATIBJycSATIBJxcmpBmfOJ1AVqQQl3IhVqIAcgEWogDyATaiAYIBJqIBUgESATcnEgESATcXJqQZnzidQFakENdyISIBUgEXJxIBUgEXFyakGZ84nUBWpBA3ciESASIBVycSASIBVxcmpBmfOJ1AVqQQV3IhMgESAScnEgESAScXJqQZnzidQFakEJdyIVaiAIIBNqIA4gEWogFyASaiAVIBMgEXJxIBMgEXFyakGZ84nUBWpBDXciESAVIBNycSAVIBNxcmpBmfOJ1AVqQQN3IhIgESAVcnEgESAVcXJqQZnzidQFakEFdyITIBIgEXJxIBIgEXFyakGZ84nUBWpBCXciFWogBiATaiAUIBJqIBYgEWogFSATIBJycSATIBJxcmpBmfOJ1AVqQQ13IhEgFSATcnEgFSATcXJqQZnzidQFakEDdyISIBEgFXJxIBEgFXFyakGZ84nUBWpBBXciEyASIBFycSASIBFxcmpBmfOJ1AVqQQl3IhVqIBAgEmogCSARaiAVIBMgEnJxIBMgEnFyakGZ84nUBWpBDXciBiAVcyISIBNzakGh1+f2BmpBA3ciESAGcyANIBNqIBIgEXNqQaHX5/YGakEJdyISc2pBodfn9gZqQQt3IhNqIA4gEWogEyAScyAYIAZqIBIgEXMgE3NqQaHX5/YGakEPdyIRc2pBodfn9gZqQQN3IhUgEXMgCyASaiARIBNzIBVzakGh1+f2BmpBCXciEnNqQaHX5/YGakELdyITaiAPIBVqIBMgEnMgFiARaiASIBVzIBNzakGh1+f2BmpBD3ciEXNqQaHX5/YGakEDdyIVIBFzIAwgEmogESATcyAVc2pBodfn9gZqQQl3IhJzakGh1+f2BmpBC3ciE2ogFCAVaiATIBJzIBcgEWogEiAVcyATc2pBodfn9gZqQQ93IhFzakGh1+f2BmpBA3ciFSARcyAKIBJqIBEgE3MgFXNqQaHX5/YGakEJdyISc2pBodfn9gZqQQt3IhMgA2ohAyAJIBFqIBIgFXMgE3NqQaHX5/YGakEPdyAEaiEEIBIgAmohAiAVIAVqIQUgAEHAAGohACABQUBqIgENAAtBACACNgKUiQFBACADNgKQiQFBACAENgKMiQFBACAFNgKIiQEgAAuhAgEDf0EAKAKAiQEiAEE/cSIBQZiJAWpBgAE6AAACQAJAAkAgAUE/cyICQQdLDQACQCACRQ0AIAFBmYkBaiEAA0AgAEEAOgAAIABBAWohACACQX9qIgINAAsLQcAAIQJBmIkBQcAAEAMaQQAhAAwBCyACQQhGDQEgAUEBaiEACyAAQY+JAWohAQNAIAEgAmpBADoAACACQXdqIQAgAkF/aiECIABBAEoNAAtBACgCgIkBIQALQQAgAEEVdjoA04kBQQAgAEENdjoA0okBQQAgAEEFdjoA0YkBQQAgAEEDdCICOgDQiQFBACACNgKAiQFBAEEAKAKEiQE2AtSJAUGYiQFBwAAQAxpBAEEAKQKIiQE3A4AJQQBBACkCkIkBNwOICQsGAEGAiQELMwBBAEL+uevF6Y6VmRA3ApCJAUEAQoHGlLqW8ermbzcCiIkBQQBCADcCgIkBIAAQAhAECwsLAQBBgAgLBJgAAAA=",hash:"1bf01052"};const Ie=new n;let we=null;function be(e){if(null===we)return S(Ie,ye,16).then((t=>(we=t,we.calculate(e))));try{const t=we.calculate(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function ve(){return C(ye,16).then((e=>{e.init();const t={init:()=>(e.init(),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:16};return t}))}var Ee={name:"md5",data:"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",hash:"9b0fac7d"};const Ce=new n;let Be=null;function Se(e){if(null===Be)return S(Ce,Ee,16).then((t=>(Be=t,Be.calculate(e))));try{const t=Be.calculate(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function _e(){return C(Ee,16).then((e=>{e.init();const t={init:()=>(e.init(),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:16};return t}))}var Qe={name:"sha1",data:"AGFzbQEAAAABEQRgAAF/YAJ/fwBgAABgAX8AAwkIAAECAQMCAAMEBQFwAQEBBQQBAQICBg4CfwFB4IkFC38AQYAICwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAACC0hhc2hfVXBkYXRlAAQKSGFzaF9GaW5hbAAFDUhhc2hfR2V0U3RhdGUABg5IYXNoX0NhbGN1bGF0ZQAHClNUQVRFX1NJWkUDAQqfKQgFAEGACQurIgoBfgJ/AX4BfwF+A38BfgF/AX5HfyAAIAEpAxAiAkIgiKciA0EYdCADQQh0QYCA/AdxciACQiiIp0GA/gNxIAJCOIincnIiBCABKQMIIgVCIIinIgNBGHQgA0EIdEGAgPwHcXIgBUIoiKdBgP4DcSAFQjiIp3JyIgZzIAEpAygiB0IgiKciA0EYdCADQQh0QYCA/AdxciAHQiiIp0GA/gNxIAdCOIincnIiCHMgBaciA0EYdCADQQh0QYCA/AdxciADQQh2QYD+A3EgA0EYdnJyIgkgASkDACIFpyIDQRh0IANBCHRBgID8B3FyIANBCHZBgP4DcSADQRh2cnIiCnMgASkDICILpyIDQRh0IANBCHRBgID8B3FyIANBCHZBgP4DcSADQRh2cnIiDHMgASkDMCINQiCIpyIDQRh0IANBCHRBgID8B3FyIA1CKIinQYD+A3EgDUI4iKdyciIDc0EBdyIOc0EBdyIPIAYgBUIgiKciEEEYdCAQQQh0QYCA/AdxciAFQiiIp0GA/gNxIAVCOIincnIiEXMgC0IgiKciEEEYdCAQQQh0QYCA/AdxciALQiiIp0GA/gNxIAtCOIincnIiEnMgASkDOCIFpyIQQRh0IBBBCHRBgID8B3FyIBBBCHZBgP4DcSAQQRh2cnIiEHNBAXciE3MgCCAScyATcyAMIAEpAxgiC6ciAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyIhRzIBBzIA9zQQF3IgFzQQF3IhVzIA4gEHMgAXMgAyAIcyAPcyAHpyIWQRh0IBZBCHRBgID8B3FyIBZBCHZBgP4DcSAWQRh2cnIiFyAMcyAOcyALQiCIpyIWQRh0IBZBCHRBgID8B3FyIAtCKIinQYD+A3EgC0I4iKdyciIYIARzIANzIAKnIhZBGHQgFkEIdEGAgPwHcXIgFkEIdkGA/gNxIBZBGHZyciIZIAlzIBdzIAVCIIinIhZBGHQgFkEIdEGAgPwHcXIgBUIoiKdBgP4DcSAFQjiIp3JyIhZzQQF3IhpzQQF3IhtzQQF3IhxzQQF3Ih1zQQF3Ih5zQQF3Ih8gEyAWcyASIBhzIBZzIBQgGXMgDaciIEEYdCAgQQh0QYCA/AdxciAgQQh2QYD+A3EgIEEYdnJyIiFzIBNzQQF3IiBzQQF3IiJzIBAgIXMgIHMgFXNBAXciI3NBAXciJHMgFSAicyAkcyABICBzICNzIB9zQQF3IiVzQQF3IiZzIB4gI3MgJXMgHSAVcyAfcyAcIAFzIB5zIBsgD3MgHXMgGiAOcyAccyAWIANzIBtzICEgF3MgGnMgInNBAXciJ3NBAXciKHNBAXciKXNBAXciKnNBAXciK3NBAXciLHNBAXciLXNBAXciLiAkIChzICIgG3MgKHMgICAacyAncyAkc0EBdyIvc0EBdyIwcyAjICdzIC9zICZzQQF3IjFzQQF3IjJzICYgMHMgMnMgJSAvcyAxcyAuc0EBdyIzc0EBdyI0cyAtIDFzIDNzICwgJnMgLnMgKyAlcyAtcyAqIB9zICxzICkgHnMgK3MgKCAdcyAqcyAnIBxzIClzIDBzQQF3IjVzQQF3IjZzQQF3IjdzQQF3IjhzQQF3IjlzQQF3IjpzQQF3IjtzQQF3IjwgMiA2cyAwICpzIDZzIC8gKXMgNXMgMnNBAXciPXNBAXciPnMgMSA1cyA9cyA0c0EBdyI/c0EBdyJAcyA0ID5zIEBzIDMgPXMgP3MgPHNBAXciQXNBAXciQnMgOyA/cyBBcyA6IDRzIDxzIDkgM3MgO3MgOCAucyA6cyA3IC1zIDlzIDYgLHMgOHMgNSArcyA3cyA+c0EBdyJDc0EBdyJEc0EBdyJFc0EBdyJGc0EBdyJHc0EBdyJIc0EBdyJJc0EBdyJKID8gQ3MgPSA3cyBDcyBAc0EBdyJLcyBCc0EBdyJMID4gOHMgRHMgS3NBAXciTSBFIDogMyAyIDUgKiAeIBUgICAWIBcgACgCACJOQQV3IAAoAhAiT2ogCmogACgCDCJQIAAoAggiCnMgACgCBCJRcSBQc2pBmfOJ1AVqIlJBHnciUyAEaiBRQR53IgQgBmogUCAEIApzIE5xIApzaiARaiBSQQV3akGZ84nUBWoiESBTIE5BHnciBnNxIAZzaiAKIAlqIFIgBCAGc3EgBHNqIBFBBXdqQZnzidQFaiJSQQV3akGZ84nUBWoiVCBSQR53IgQgEUEedyIJc3EgCXNqIAYgGWogUiAJIFNzcSBTc2ogVEEFd2pBmfOJ1AVqIgZBBXdqQZnzidQFaiIZQR53IlNqIAwgVEEedyIXaiAJIBRqIAYgFyAEc3EgBHNqIBlBBXdqQZnzidQFaiIJIFMgBkEedyIMc3EgDHNqIBggBGogGSAMIBdzcSAXc2ogCUEFd2pBmfOJ1AVqIgZBBXdqQZnzidQFaiIUIAZBHnciFyAJQR53IgRzcSAEc2ogEiAMaiAGIAQgU3NxIFNzaiAUQQV3akGZ84nUBWoiEkEFd2pBmfOJ1AVqIlNBHnciDGogAyAUQR53IhZqIAggBGogEiAWIBdzcSAXc2ogU0EFd2pBmfOJ1AVqIgggDCASQR53IgNzcSADc2ogISAXaiBTIAMgFnNxIBZzaiAIQQV3akGZ84nUBWoiEkEFd2pBmfOJ1AVqIhcgEkEedyIWIAhBHnciCHNxIAhzaiAQIANqIBIgCCAMc3EgDHNqIBdBBXdqQZnzidQFaiIMQQV3akGZ84nUBWoiEkEedyIDaiATIBZqIBIgDEEedyIQIBdBHnciE3NxIBNzaiAOIAhqIAwgEyAWc3EgFnNqIBJBBXdqQZnzidQFaiIOQQV3akGZ84nUBWoiFkEedyIgIA5BHnciCHMgGiATaiAOIAMgEHNxIBBzaiAWQQV3akGZ84nUBWoiDnNqIA8gEGogFiAIIANzcSADc2ogDkEFd2pBmfOJ1AVqIgNBBXdqQaHX5/YGaiIPQR53IhBqIAEgIGogA0EedyIBIA5BHnciDnMgD3NqIBsgCGogDiAgcyADc2ogD0EFd2pBodfn9gZqIgNBBXdqQaHX5/YGaiIPQR53IhMgA0EedyIVcyAiIA5qIBAgAXMgA3NqIA9BBXdqQaHX5/YGaiIDc2ogHCABaiAVIBBzIA9zaiADQQV3akGh1+f2BmoiAUEFd2pBodfn9gZqIg5BHnciD2ogHSATaiABQR53IhAgA0EedyIDcyAOc2ogJyAVaiADIBNzIAFzaiAOQQV3akGh1+f2BmoiAUEFd2pBodfn9gZqIg5BHnciEyABQR53IhVzICMgA2ogDyAQcyABc2ogDkEFd2pBodfn9gZqIgFzaiAoIBBqIBUgD3MgDnNqIAFBBXdqQaHX5/YGaiIDQQV3akGh1+f2BmoiDkEedyIPaiApIBNqIANBHnciECABQR53IgFzIA5zaiAkIBVqIAEgE3MgA3NqIA5BBXdqQaHX5/YGaiIDQQV3akGh1+f2BmoiDkEedyITIANBHnciFXMgHyABaiAPIBBzIANzaiAOQQV3akGh1+f2BmoiAXNqIC8gEGogFSAPcyAOc2ogAUEFd2pBodfn9gZqIgNBBXdqQaHX5/YGaiIOQR53Ig9qICsgAUEedyIBaiAPIANBHnciEHMgJSAVaiABIBNzIANzaiAOQQV3akGh1+f2BmoiFXNqIDAgE2ogECABcyAOc2ogFUEFd2pBodfn9gZqIg5BBXdqQaHX5/YGaiIBIA5BHnciA3IgFUEedyITcSABIANxcmogJiAQaiATIA9zIA5zaiABQQV3akGh1+f2BmoiDkEFd2pB3Pnu+HhqIg9BHnciEGogNiABQR53IgFqICwgE2ogDiABciADcSAOIAFxcmogD0EFd2pB3Pnu+HhqIhMgEHIgDkEedyIOcSATIBBxcmogMSADaiAPIA5yIAFxIA8gDnFyaiATQQV3akHc+e74eGoiAUEFd2pB3Pnu+HhqIgMgAUEedyIPciATQR53IhNxIAMgD3FyaiAtIA5qIAEgE3IgEHEgASATcXJqIANBBXdqQdz57vh4aiIBQQV3akHc+e74eGoiDkEedyIQaiA9IANBHnciA2ogNyATaiABIANyIA9xIAEgA3FyaiAOQQV3akHc+e74eGoiEyAQciABQR53IgFxIBMgEHFyaiAuIA9qIA4gAXIgA3EgDiABcXJqIBNBBXdqQdz57vh4aiIDQQV3akHc+e74eGoiDiADQR53Ig9yIBNBHnciE3EgDiAPcXJqIDggAWogAyATciAQcSADIBNxcmogDkEFd2pB3Pnu+HhqIgFBBXdqQdz57vh4aiIDQR53IhBqIDQgDkEedyIOaiA+IBNqIAEgDnIgD3EgASAOcXJqIANBBXdqQdz57vh4aiITIBByIAFBHnciAXEgEyAQcXJqIDkgD2ogAyABciAOcSADIAFxcmogE0EFd2pB3Pnu+HhqIgNBBXdqQdz57vh4aiIOIANBHnciD3IgE0EedyITcSAOIA9xcmogQyABaiADIBNyIBBxIAMgE3FyaiAOQQV3akHc+e74eGoiAUEFd2pB3Pnu+HhqIgNBHnciEGogRCAPaiADIAFBHnciFXIgDkEedyIOcSADIBVxcmogPyATaiABIA5yIA9xIAEgDnFyaiADQQV3akHc+e74eGoiAUEFd2pB3Pnu+HhqIgNBHnciEyABQR53Ig9zIDsgDmogASAQciAVcSABIBBxcmogA0EFd2pB3Pnu+HhqIgFzaiBAIBVqIAMgD3IgEHEgAyAPcXJqIAFBBXdqQdz57vh4aiIDQQV3akHWg4vTfGoiDkEedyIQaiBLIBNqIANBHnciFSABQR53IgFzIA5zaiA8IA9qIAEgE3MgA3NqIA5BBXdqQdaDi9N8aiIDQQV3akHWg4vTfGoiDkEedyIPIANBHnciE3MgRiABaiAQIBVzIANzaiAOQQV3akHWg4vTfGoiAXNqIEEgFWogEyAQcyAOc2ogAUEFd2pB1oOL03xqIgNBBXdqQdaDi9N8aiIOQR53IhBqIEIgD2ogA0EedyIVIAFBHnciAXMgDnNqIEcgE2ogASAPcyADc2ogDkEFd2pB1oOL03xqIgNBBXdqQdaDi9N8aiIOQR53Ig8gA0EedyITcyBDIDlzIEVzIE1zQQF3IhYgAWogECAVcyADc2ogDkEFd2pB1oOL03xqIgFzaiBIIBVqIBMgEHMgDnNqIAFBBXdqQdaDi9N8aiIDQQV3akHWg4vTfGoiDkEedyIQaiBJIA9qIANBHnciFSABQR53IgFzIA5zaiBEIDpzIEZzIBZzQQF3IhogE2ogASAPcyADc2ogDkEFd2pB1oOL03xqIgNBBXdqQdaDi9N8aiIOQR53Ig8gA0EedyITcyBAIERzIE1zIExzQQF3IhsgAWogECAVcyADc2ogDkEFd2pB1oOL03xqIgFzaiBFIDtzIEdzIBpzQQF3IhwgFWogEyAQcyAOc2ogAUEFd2pB1oOL03xqIgNBBXdqQdaDi9N8aiIOQR53IhAgT2o2AhAgACBQIEsgRXMgFnMgG3NBAXciFSATaiABQR53IgEgD3MgA3NqIA5BBXdqQdaDi9N8aiITQR53IhZqNgIMIAAgCiBGIDxzIEhzIBxzQQF3IA9qIANBHnciAyABcyAOc2ogE0EFd2pB1oOL03xqIg5BHndqNgIIIAAgUSBBIEtzIExzIEpzQQF3IAFqIBAgA3MgE3NqIA5BBXdqQdaDi9N8aiIBajYCBCAAIE4gTSBGcyAacyAVc0EBd2ogA2ogFiAQcyAOc2ogAUEFd2pB1oOL03xqNgIACzoAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQELqgIBBH9BACECQQBBACgClIkBIgMgAUEDdGoiBDYClIkBQQAoApiJASEFAkAgBCADTw0AQQAgBUEBaiIFNgKYiQELQQAgBSABQR12ajYCmIkBAkAgA0EDdkE/cSIEIAFqQcAASQ0AQcAAIARrIQJBACEDQQAhBQNAIAMgBGpBnIkBaiAAIANqLQAAOgAAIAIgBUEBaiIFQf8BcSIDSw0AC0GAiQFBnIkBEAEgBEH/AHMhA0EAIQQgAyABTw0AA0BBgIkBIAAgAmoQASACQf8AaiEDIAJBwABqIgUhAiADIAFJDQALIAUhAgsCQCABIAJrIgFFDQBBACEDQQAhBQNAIAMgBGpBnIkBaiAAIAMgAmpqLQAAOgAAIAEgBUEBaiIFQf8BcSIDSw0ACwsLCQBBgAkgABADC60DAQJ/IwBBEGsiACQAIABBgAE6AAcgAEEAKAKYiQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgAIIABBACgClIkBIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycjYADCAAQQdqQQEQAwJAQQAoApSJAUH4A3FBwANGDQADQCAAQQA6AAcgAEEHakEBEANBACgClIkBQfgDcUHAA0cNAAsLIABBCGpBCBADQQBBACgCgIkBIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycjYCgAlBAEEAKAKEiQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKECUEAQQAoAoiJASIBQRh0IAFBCHRBgID8B3FyIAFBCHZBgP4DcSABQRh2cnI2AogJQQBBACgCjIkBIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycjYCjAlBAEEAKAKQiQEiAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyNgKQCSAAQRBqJAALBgBBgIkBC0MAQQBC/rnrxemOlZkQNwKIiQFBAEKBxpS6lvHq5m83AoCJAUEAQvDDy54MNwKQiQFBAEEANgKYiQFBgAkgABADEAULCwsBAEGACAsEXAAAAA==",hash:"40d92e5d"};const De=new n;let ke=null;function Me(e){if(null===ke)return S(De,Qe,20).then((t=>(ke=t,ke.calculate(e))));try{const t=ke.calculate(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function Pe(){return C(Qe,20).then((e=>{e.init();const t={init:()=>(e.init(),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:20};return t}))}var xe={name:"sha3",data:"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",hash:"ec266d91"};const Fe=new n;let Re=null;function Oe(e){return[224,256,384,512].includes(e)?null:new Error("Invalid variant! Valid values: 224, 256, 384, 512")}function Te(e,t=512){if(Oe(t))return Promise.reject(Oe(t));const r=t/8;if(null===Re||Re.hashLength!==r)return S(Fe,xe,r).then((r=>(Re=r,Re.calculate(e,t,6))));try{const r=Re.calculate(e,t,6);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}function Ne(e=512){if(Oe(e))return Promise.reject(Oe(e));const t=e/8;return C(xe,t).then((r=>{r.init(e);const i={init:()=>(r.init(e),i),update:e=>(r.update(e),i),digest:e=>r.digest(e,6),save:()=>r.save(),load:e=>(r.load(e),i),blockSize:200-2*t,digestSize:t};return i}))}const Ue=new n;let je=null;function Le(e){return[224,256,384,512].includes(e)?null:new Error("Invalid variant! Valid values: 224, 256, 384, 512")}function qe(e,t=512){if(Le(t))return Promise.reject(Le(t));const r=t/8;if(null===je||je.hashLength!==r)return S(Ue,xe,r).then((r=>(je=r,je.calculate(e,t,1))));try{const r=je.calculate(e,t,1);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}function Ke(e=512){if(Le(e))return Promise.reject(Le(e));const t=e/8;return C(xe,t).then((r=>{r.init(e);const i={init:()=>(r.init(e),i),update:e=>(r.update(e),i),digest:e=>r.digest(e,1),save:()=>r.save(),load:e=>(r.load(e),i),blockSize:200-2*t,digestSize:t};return i}))}var He={name:"sha256",data:"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",hash:"817d957e"};const Ge=new n;let ze=null;function Je(e){if(null===ze)return S(Ge,He,28).then((t=>(ze=t,ze.calculate(e,224))));try{const t=ze.calculate(e,224);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function Ye(){return C(He,28).then((e=>{e.init(224);const t={init:()=>(e.init(224),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:28};return t}))}const Ve=new n;let $e=null;function We(e){if(null===$e)return S(Ve,He,32).then((t=>($e=t,$e.calculate(e,256))));try{const t=$e.calculate(e,256);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function Ze(){return C(He,32).then((e=>{e.init(256);const t={init:()=>(e.init(256),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:32};return t}))}var Xe={name:"sha512",data:"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",hash:"a5d1ca7c"};const et=new n;let tt=null;function rt(e){if(null===tt)return S(et,Xe,48).then((t=>(tt=t,tt.calculate(e,384))));try{const t=tt.calculate(e,384);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function it(){return C(Xe,48).then((e=>{e.init(384);const t={init:()=>(e.init(384),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:128,digestSize:48};return t}))}const nt=new n;let ot=null;function st(e){if(null===ot)return S(nt,Xe,64).then((t=>(ot=t,ot.calculate(e,512))));try{const t=ot.calculate(e,512);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function at(){return C(Xe,64).then((e=>{e.init(512);const t={init:()=>(e.init(512),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:128,digestSize:64};return t}))}var ct={name:"xxhash32",data:"AGFzbQEAAAABEQRgAAF/YAF/AGAAAGACf38AAwcGAAEBAgADBAUBcAEBAQUEAQECAgYOAn8BQbCJBQt/AEGACAsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQAAQtIYXNoX1VwZGF0ZQACCkhhc2hfRmluYWwAAw1IYXNoX0dldFN0YXRlAAQOSGFzaF9DYWxjdWxhdGUABQpTVEFURV9TSVpFAwEKswkGBQBBgAkLTQBBAEIANwOoiQFBACAANgKIiQFBACAAQc+Moo4GajYCjIkBQQAgAEH3lK+veGo2AoSJAUEAIABBqIiNoQJqNgKAiQFBAEEANgKgiQELswUBBn8CQCAARQ0AQQBBACkDqIkBIACtfDcDqIkBAkBBACgCoIkBIgEgAGpBD0sNAEEAIAFBAWo2AqCJASABQZCJAWpBAC0AgAk6AAAgAEEBRg0BQQEhAgNAQQBBACgCoIkBIgFBAWo2AqCJASABQZCJAWogAkGACWotAAA6AAAgACACQQFqIgJHDQAMAgsLIABB8AhqIQMCQAJAIAENAEEAKAKMiQEhAUEAKAKIiQEhBEEAKAKEiQEhBUEAKAKAiQEhBkGACSECDAELQYAJIQICQCABQQ9LDQBBgAkhAgNAIAItAAAhBEEAIAFBAWo2AqCJASABQZCJAWogBDoAACACQQFqIQJBACgCoIkBIgFBEEkNAAsLQQBBACgCkIkBQfeUr694bEEAKAKAiQFqQQ13QbHz3fF5bCIGNgKAiQFBAEEAKAKUiQFB95Svr3hsQQAoAoSJAWpBDXdBsfPd8XlsIgU2AoSJAUEAQQAoApiJAUH3lK+veGxBACgCiIkBakENd0Gx893xeWwiBDYCiIkBQQBBACgCnIkBQfeUr694bEEAKAKMiQFqQQ13QbHz3fF5bCIBNgKMiQELIABBgAlqIQACQCACIANLDQADQCACKAIAQfeUr694bCAGakENd0Gx893xeWwhBiACQQxqKAIAQfeUr694bCABakENd0Gx893xeWwhASACQQhqKAIAQfeUr694bCAEakENd0Gx893xeWwhBCACQQRqKAIAQfeUr694bCAFakENd0Gx893xeWwhBSACQRBqIgIgA00NAAsLQQAgATYCjIkBQQAgBDYCiIkBQQAgBTYChIkBQQAgBjYCgIkBQQAgACACayIBNgKgiQEgAUUNAEEAIQEDQCABQZCJAWogAiABai0AADoAACABQQFqIgFBACgCoIkBSQ0ACwsLzAICAX4Gf0EAKQOoiQEiAKchAQJAAkAgAEIQVA0AQQAoAoSJAUEHd0EAKAKAiQFBAXdqQQAoAoiJAUEMd2pBACgCjIkBQRJ3aiECDAELQQAoAoiJAUGxz9myAWohAgsgAiABaiECQZCJASEBQQAoAqCJASIDQZCJAWohBAJAIANBBEgNAEGQiQEhBQNAIAUoAgBBvdzKlXxsIAJqQRF3Qa/W074CbCECIAVBCGohBiAFQQRqIgEhBSAGIARNDQALCwJAIAEgBEYNACADQZCJAWohBQNAIAEtAABBsc/ZsgFsIAJqQQt3QbHz3fF5bCECIAUgAUEBaiIBRw0ACwtBACACQQ92IAJzQfeUr694bCIBQQ12IAFzQb3cypV8bCIBQRB2IAFzIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycq03A4AJCwYAQYCJAQtTAEEAQgA3A6iJAUEAIAE2AoiJAUEAIAFBz4yijgZqNgKMiQFBACABQfeUr694ajYChIkBQQAgAUGoiI2hAmo2AoCJAUEAQQA2AqCJASAAEAIQAwsLCwEAQYAICwQwAAAA",hash:"5b6a5062"};const ut=new n;let ht=null;function dt(e){return!Number.isInteger(e)||e<0||e>4294967295?new Error("Seed must be a valid 32-bit long unsigned integer."):null}function lt(e,t=0){if(dt(t))return Promise.reject(dt(t));if(null===ht)return S(ut,ct,4).then((r=>(ht=r,ht.calculate(e,t))));try{const r=ht.calculate(e,t);return Promise.resolve(r)}catch(e){return Promise.reject(e)}}function ft(e=0){return dt(e)?Promise.reject(dt(e)):C(ct,4).then((t=>{t.init(e);const r={init:()=>(t.init(e),r),update:e=>(t.update(e),r),digest:e=>t.digest(e),save:()=>t.save(),load:e=>(t.load(e),r),blockSize:16,digestSize:4};return r}))}var pt={name:"xxhash64",data:"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",hash:"bc315b2a"};const At=new n;let gt=null;const mt=new ArrayBuffer(8);function yt(e){return!Number.isInteger(e)||e<0||e>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function It(e,t,r){const i=new DataView(e);i.setUint32(0,t,!0),i.setUint32(4,r,!0)}function wt(e,t=0,r=0){if(yt(t))return Promise.reject(yt(t));if(yt(r))return Promise.reject(yt(r));if(null===gt)return S(At,pt,8).then((i=>(gt=i,It(mt,t,r),gt.writeMemory(new Uint8Array(mt)),gt.calculate(e))));try{It(mt,t,r),gt.writeMemory(new Uint8Array(mt));const i=gt.calculate(e);return Promise.resolve(i)}catch(e){return Promise.reject(e)}}function bt(e=0,t=0){return yt(e)?Promise.reject(yt(e)):yt(t)?Promise.reject(yt(t)):C(pt,8).then((r=>{const i=new ArrayBuffer(8);It(i,e,t),r.writeMemory(new Uint8Array(i)),r.init();const n={init:()=>(r.writeMemory(new Uint8Array(i)),r.init(),n),update:e=>(r.update(e),n),digest:e=>r.digest(e),save:()=>r.save(),load:e=>(r.load(e),n),blockSize:32,digestSize:8};return n}))}var vt={name:"xxhash3",data:"AGFzbQEAAAABJAZgAAF/YAR/f39/AGAHf39/f39/fwBgA39/fgF+YAAAYAF/AAMMCwABAgMDAwQFBAAEBAUBcAEBAQUEAQECAgYOAn8BQcCOBQt/AEHACQsHcAgGbWVtb3J5AgAOSGFzaF9HZXRCdWZmZXIAAAlIYXNoX0luaXQABgtIYXNoX1VwZGF0ZQAHCkhhc2hfRmluYWwACA1IYXNoX0dldFN0YXRlAAkOSGFzaF9DYWxjdWxhdGUACgpTVEFURV9TSVpFAwEK+joLBQBBgAoL7wMBEH4CQCADRQ0AIAFBOGohASACQThqIQIgACkDMCEEIAApAzghBSAAKQMgIQYgACkDKCEHIAApAxAhCCAAKQMYIQkgACkDACEKIAApAwghCwNAIAcgAUFoaikDACIMfCACQXBqKQMAIAFBcGopAwAiDYUiB0IgiCAHQv////8Pg358IQcgCSABQVhqKQMAIg58IAJBYGopAwAgAUFgaikDACIPhSIJQiCIIAlC/////w+DfnwhCSALIAFBSGopAwAiEHwgAkFQaikDACABQVBqKQMAIhGFIgtCIIggC0L/////D4N+fCELIAJBeGopAwAgAUF4aikDACIShSITQiCIIBNC/////w+DfiAEfCABKQMAIhN8IQQgAkFoaikDACAMhSIMQiCIIAxC/////w+DfiAGfCANfCEGIAJBWGopAwAgDoUiDEIgiCAMQv////8Pg34gCHwgD3whCCACQUhqKQMAIBCFIgxCIIggDEL/////D4N+IAp8IBF8IQogBSASfCACKQMAIBOFIgVCIIggBUL/////D4N+fCEFIAFBwABqIQEgAkEIaiECIANBf2oiAw0ACyAAIAk3AxggACAKNwMAIAAgCzcDCCAAIAc3AyggACAINwMQIAAgBTcDOCAAIAY3AyAgACAENwMwCwveAgIBfwF+AkAgAiABKAIAIgdrIgIgBEsNACAAIAMgBSAHQQN0aiACEAEgACAAKQMAIgggBSAGaiIHKQMAhSAIQi+IhUKx893xCX43AwAgACAAKQMIIgggBykDCIUgCEIviIVCsfPd8Ql+NwMIIAAgACkDECIIIAcpAxCFIAhCL4iFQrHz3fEJfjcDECAAIAApAxgiCCAHKQMYhSAIQi+IhUKx893xCX43AxggACAAKQMgIgggBykDIIUgCEIviIVCsfPd8Ql+NwMgIAAgACkDKCIIIAcpAyiFIAhCL4iFQrHz3fEJfjcDKCAAIAApAzAiCCAHKQMwhSAIQi+IhUKx893xCX43AzAgACAAKQM4IgggBykDOIUgCEIviIVCsfPd8Ql+NwM4IAAgAyACQQZ0aiAFIAQgAmsiBxABIAEgBzYCAA8LIAAgAyAFIAdBA3RqIAQQASABIAcgBGo2AgAL3QQBBH4CQCAAQQlJDQBBACkDgIwBIAEpAyAgASkDGIUgAnyFIgNCOIYgA0IohkKAgICAgIDA/wCDhCADQhiGQoCAgICA4D+DIANCCIZCgICAgPAfg4SEIANCCIhCgICA+A+DIANCGIhCgID8B4OEIANCKIhCgP4DgyADQjiIhISEIACtfCAAQfiLAWopAwAgASkDMCABKQMohSACfYUiAnwgAkL/////D4MiBCADQiCIIgV+IgZC/////w+DIAJCIIgiAiADQv////8PgyIDfnwgBCADfiIDQiCIfCIEQiCGIANC/////w+DhCAGQiCIIAIgBX58IARCIIh8hXwiA0IliCADhUL5893xmfKZqxZ+IgNCIIggA4UPCwJAIABBBEkNACABKQMQIAEpAwiFIAKnIgFBGHQgAUEIdEGAgPwHcXIgAUEIdkGA/gNxIAFBGHZycq1CIIYgAoV9QQA1AoCMAUIghiAAQfyLAWo1AgCEhSIDQhiJIAOFIANCMYmFQqW+4/TRjIfZn39+IgNCI4ggAK18IAOFQqW+4/TRjIfZn39+IgNCHIggA4UPCwJAIABFDQAgASgCBCABKAIAc60gAnwiA0EALQCAjAFBEHQgAEEIdHIgAEEBdkGAjAFqLQAAQRh0ciAAQf+LAWotAAByrYUgA0IhiIVCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhQ8LIAEpAzggAoUgASkDQIUiA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC94IAQZ+IACtQoeVr6+Ytt6bnn9+IQMCQCAAQSFJDQACQCAAQcEASQ0AAkAgAEHhAEkNACABKQNoIAJ9QQApA7iMAYUiBEL/////D4MiBSABKQNgIAJ8QQApA7CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDeCACfSAAQciLAWopAwCFIgNC/////w+DIgQgASkDcCACfCAAQcCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQNIIAJ9QQApA6iMAYUiBEL/////D4MiBSABKQNAIAJ8QQApA6CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDWCACfSAAQdiLAWopAwCFIgNC/////w+DIgQgASkDUCACfCAAQdCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQMoIAJ9QQApA5iMAYUiBEL/////D4MiBSABKQMgIAJ8QQApA5CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDOCACfSAAQeiLAWopAwCFIgNC/////w+DIgQgASkDMCACfCAAQeCLAWopAwCFIgVCIIgiBn4iB0L/////D4MgA0IgiCIDIAVC/////w+DIgV+fCAEIAV+IgRCIIh8IgVCIIYgBEL/////D4OEIAdCIIggAyAGfnwgBUIgiHyFfCEDCyABKQMIIAJ9QQApA4iMAYUiBEL/////D4MiBSABKQMAIAJ8QQApA4CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgA3wgASkDGCACfSAAQfiLAWopAwCFIgNC/////w+DIgQgASkDECACfCAAQfCLAWopAwCFIgJCIIgiBX4iBkL/////D4MgA0IgiCIDIAJC/////w+DIgJ+fCAEIAJ+IgJCIIh8IgRCIIYgAkL/////D4OEIAZCIIggAyAFfnwgBEIgiHyFfCICQiWIIAKFQvnz3fGZ8pmrFn4iAkIgiCAChQuICwQBfwV+An8BfkEAIQMgASkDeCACfUEAKQP4jAGFIgRC/////w+DIgUgASkDcCACfEEAKQPwjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpA2ggAn1BACkD6IwBhSIEQv////8PgyIFIAEpA2AgAnxBACkD4IwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSABKQNYIAJ9QQApA9iMAYUiBEL/////D4MiBSABKQNQIAJ8QQApA9CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgASkDSCACfUEAKQPIjAGFIgRC/////w+DIgUgASkDQCACfEEAKQPAjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpAzggAn1BACkDuIwBhSIEQv////8PgyIFIAEpAzAgAnxBACkDsIwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSABKQMoIAJ9QQApA6iMAYUiBEL/////D4MiBSABKQMgIAJ8QQApA6CMAYUiBkIgiCIHfiIIQv////8PgyAEQiCIIgQgBkL/////D4MiBn58IAUgBn4iBUIgiHwiBkIghiAFQv////8Pg4QgCEIgiCAEIAd+fCAGQiCIfIUgASkDGCACfUEAKQOYjAGFIgRC/////w+DIgUgASkDECACfEEAKQOQjAGFIgZCIIgiB34iCEL/////D4MgBEIgiCIEIAZC/////w+DIgZ+fCAFIAZ+IgVCIIh8IgZCIIYgBUL/////D4OEIAhCIIggBCAHfnwgBkIgiHyFIAEpAwggAn1BACkDiIwBhSIEQv////8PgyIFIAEpAwAgAnxBACkDgIwBhSIGQiCIIgd+IghC/////w+DIARCIIgiBCAGQv////8PgyIGfnwgBSAGfiIFQiCIfCIGQiCGIAVC/////w+DhCAIQiCIIAQgB358IAZCIIh8hSAArUKHla+vmLbem55/fnx8fHx8fHx8IgRCJYggBIVC+fPd8ZnymasWfiIEQiCIIASFIQQgAEEQbSEJAkAgAEGQAUgNACAJQQkgCUEJShtBeGohCQNAIAEgA2oiCkELaikDACACfSADQYiNAWopAwCFIgVC/////w+DIgYgCkEDaikDACACfCADQYCNAWopAwCFIgdCIIgiCH4iC0L/////D4MgBUIgiCIFIAdC/////w+DIgd+fCAGIAd+IgZCIIh8IgdCIIYgBkL/////D4OEIAtCIIggBSAIfnwgB0IgiHyFIAR8IQQgA0EQaiEDIAlBf2oiCQ0ACwsgASkDfyACfSAAQfiLAWopAwCFIgVC/////w+DIgYgASkDdyACfCAAQfCLAWopAwCFIgJCIIgiB34iCEL/////D4MgBUIgiCIFIAJC/////w+DIgJ+fCAGIAJ+IgJCIIh8IgZCIIYgAkL/////D4OEIAhCIIggBSAHfnwgBkIgiHyFIAR8IgJCJYggAoVC+fPd8ZnymasWfiICQiCIIAKFC98FAgF+AX8CQAJAQQApA4AKIgBQRQ0AQYAIIQFCACEADAELAkBBACkDoI4BIABSDQBBACEBDAELQQAhAUEAQq+v79e895Kg/gAgAH03A/iLAUEAIABCxZbr+djShYIofDcD8IsBQQBCj/Hjja2P9JhOIAB9NwPoiwFBACAAQqus+MXV79HQfHw3A+CLAUEAQtOt1LKShbW0nn8gAH03A9iLAUEAIABCl5r0jvWWvO3JAHw3A9CLAUEAQsWDgv2v/8SxayAAfTcDyIsBQQAgAELqi7OdyOb09UN8NwPAiwFBAELIv/rLnJveueQAIAB9NwO4iwFBACAAQoqjgd/Ume2sMXw3A7CLAUEAQvm57738+MKnHSAAfTcDqIsBQQAgAEKo9dv7s5ynmj98NwOgiwFBAEK4sry3lNW31lggAH03A5iLAUEAIABC8cihuqm0w/zOAHw3A5CLAUEAQoihl9u445SXo38gAH03A4iLAUEAIABCvNDI2pvysIBLfDcDgIsBQQBC4OvAtJ7QjpPMACAAfTcD+IoBQQAgAEK4kZii9/6Qko5/fDcD8IoBQQBCgrXB7sf5v7khIAB9NwPoigFBACAAQsvzmffEmfDy+AB8NwPgigFBAELygJGl+vbssx8gAH03A9iKAUEAIABC3qm3y76Q5MtbfDcD0IoBQQBC/IKE5PK+yNYcIAB9NwPIigFBACAAQrj9s8uzhOmlvn98NwPAigELQQBCADcDkI4BQQBCADcDiI4BQQBCADcDgI4BQQAgATYCsI4BQQAgADcDoI4BQQBCsfPd8Qk3A7iKAUEAQsXP2bLx5brqJzcDsIoBQQBC95Svrwg3A6iKAUEAQuPcypX8zvL1hX83A6CKAUEAQvnz3fGZ9pmrFjcDmIoBQQBCz9bTvtLHq9lCNwOQigFBAEKHla+vmLbem55/NwOIigFBAEK93MqVDDcDgIoBQQBCkICAgIAQNwOYjgELwAUBBX9BAEEAKQOQjgEgAK18NwOQjgECQAJAQQAoAoCOASIBIABqIgJBgAJLDQAgAUGAjAFqIQNBgAohBAJAAkAgAEEITw0AIAAhAQwBCyAAIQEDQCADIAQpAwA3AwAgA0EIaiEDIARBCGohBCABQXhqIgFBB0sNAAsLIAFFDQEDQCADIAQtAAA6AAAgA0EBaiEDIARBAWohBCABQX9qIgENAAtBACgCgI4BIABqIQIMAQtBgAohAyAAQYAKaiECQQAoArCOASIEQcCKASAEGyEAAkAgAUUNACABQYCMAWohA0GACiEEAkACQEGAAiABayIFQQhPDQAgBSEBDAELIAUhAQNAIAMgBCkDADcDACADQQhqIQMgBEEIaiEEIAFBeGoiAUEHSw0ACwsCQCABRQ0AA0AgAyAELQAAOgAAIANBAWohAyAEQQFqIQQgAUF/aiIBDQALC0GAigFBiI4BQQAoApiOAUGAjAFBBCAAQQAoApyOARACQQBBADYCgI4BIAVBgApqIQMLAkAgA0GAAmogAk8NACACQYB+aiEEA0BBgIoBQYiOAUEAKAKYjgEgA0EEIABBACgCnI4BEAIgA0GAAmoiAyAESQ0AC0EAIANBQGopAwA3A8CNAUEAIANBSGopAwA3A8iNAUEAIANBUGopAwA3A9CNAUEAIANBWGopAwA3A9iNAUEAIANBYGopAwA3A+CNAUEAIANBaGopAwA3A+iNAUEAIANBcGopAwA3A/CNAUEAIANBeGopAwA3A/iNAQtBgIwBIQQCQAJAIAIgA2siAkEITw0AIAIhAQwBCyACIQEDQCAEIAMpAwA3AwAgBEEIaiEEIANBCGohAyABQXhqIgFBB0sNAAsLIAFFDQADQCAEIAMtAAA6AAAgBEEBaiEEIANBAWohAyABQX9qIgENAAsLQQAgAjYCgI4BC6oQBQR/AX4Cfwp+An8jACIAIQEgAEGAAWtBQHEiAiQAQQAoArCOASIAQcCKASAAGyEDAkACQEEAKQOQjgEiBELxAVQNACACQQApA4CKATcDACACQQApA4iKATcDCCACQQApA5CKATcDECACQQApA5iKATcDGCACQQApA6CKATcDICACQQApA6iKATcDKCACQQApA7CKATcDMCACQQApA7iKATcDOAJAAkBBACgCgI4BIgVBwABJDQAgAkEAKAKIjgE2AkAgAiACQcAAakEAKAKYjgFBgIwBIAVBf2pBBnYgA0EAKAKcjgEQAiACIAIpAwhBACgCgI4BIgBBwIsBaikDACIEfCADQQAoApyOAWoiBkEBaikDACAAQciLAWopAwAiB4UiCEIgiCAIQv////8Pg358Igk3AwggAiACKQMYIABB0IsBaikDACIIfCAGQRFqKQMAIABB2IsBaikDACIKhSILQiCIIAtC/////w+DfnwiDDcDGCACIAcgBCAGQXlqKQMAhSIEQiCIIARC/////w+DfiACKQMAfHwiDTcDACACIAogCCAGQQlqKQMAhSIEQiCIIARC/////w+DfiACKQMQfHwiDjcDECAGQRlqKQMAIQQgAikDICEHIAIgAikDKCAAQeCLAWopAwAiCHwgBkEhaikDACAAQeiLAWopAwAiCoUiC0IgiCALQv////8Pg358Ig83AyggAiAKIAcgBCAIhSIEQiCIIARC/////w+Dfnx8IhA3AyAgAiACKQM4IABB8IsBaikDACIEfCAGQTFqKQMAIABB+IsBaikDACIHhSIIQiCIIAhC/////w+Dfnw3AzggByAEIAZBKWopAwCFIgRCIIggBEL/////D4N+IAIpAzB8fCEEDAELQcAAIAVrIRECQAJAAkAgBUE4TQ0AQYCOASARayEGIAJBwABqIQUgESEADAELQQAhEiARIQADQCACQcAAaiASaiAFIBJqQcCNAWopAwA3AwAgEkEIaiESIABBeGoiAEEHSw0ACyAFIBJqIgZBwABGDQEgBkHAjQFqIQYgAkHAAGogEmohBQsDQCAFIAYtAAA6AAAgBUEBaiEFIAZBAWohBiAAQX9qIgANAAtBACgCgI4BIQULIAJBwABqIBFqIQZBgIwBIQACQCAFQQhJDQBBgIwBIQADQCAGIAApAwA3AwAgBkEIaiEGIABBCGohACAFQXhqIgVBB0sNAAsLAkAgBUUNAANAIAYgAC0AADoAACAGQQFqIQYgAEEBaiEAIAVBf2oiBQ0ACwsgAiACKQMIIAIpA0AiBHwgA0EAKAKcjgFqIgBBAWopAwAgAikDSCIHhSIIQiCIIAhC/////w+DfnwiCTcDCCACIAIpAxggAikDUCIIfCAAQRFqKQMAIAIpA1giCoUiC0IgiCALQv////8Pg358Igw3AxggAiAHIAQgAEF5aikDAIUiBEIgiCAEQv////8Pg34gAikDAHx8Ig03AwAgAiAKIAggAEEJaikDAIUiBEIgiCAEQv////8Pg34gAikDEHx8Ig43AxAgAEEZaikDACEEIAIpAyAhByACIAIpAyggAikDYCIIfCAAQSFqKQMAIAIpA2giCoUiC0IgiCALQv////8Pg358Ig83AyggAiAKIAcgBCAIhSIEQiCIIARC/////w+Dfnx8IhA3AyAgAiACKQM4IAIpA3AiBHwgAEExaikDACACKQN4IgeFIghCIIggCEL/////D4N+fDcDOCAHIAQgAEEpaikDAIUiBEIgiCAEQv////8Pg34gAikDMHx8IQQLIAIgBDcDMCADKQNDIAIpAziFIgdC/////w+DIgggAykDOyAEhSIEQiCIIgp+IgtC/////w+DIAdCIIgiByAEQv////8PgyIEfnwgCCAEfiIEQiCIfCIIQiCGIARC/////w+DhCALQiCIIAcgCn58IAhCIIh8hSADKQMzIA+FIgRC/////w+DIgcgAykDKyAQhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hSADKQMjIAyFIgRC/////w+DIgcgAykDGyAOhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hSADKQMTIAmFIgRC/////w+DIgcgAykDCyANhSIIQiCIIgp+IgtC/////w+DIARCIIgiBCAIQv////8PgyIIfnwgByAIfiIHQiCIfCIIQiCGIAdC/////w+DhCALQiCIIAQgCn58IAhCIIh8hUEAKQOQjgFCh5Wvr5i23puef358fHx8IgRCJYggBIVC+fPd8ZnymasWfiIEQiCIIASFIQQMAQsgBKchAAJAQQApA6COASIEUA0AAkAgAEEQSw0AIABBgAggBBADIQQMAgsCQCAAQYABSw0AIABBgAggBBAEIQQMAgsgAEGACCAEEAUhBAwBCwJAIABBEEsNACAAIANCABADIQQMAQsCQCAAQYABSw0AIAAgA0IAEAQhBAwBCyAAIANCABAFIQQLQQAgBEI4hiAEQiiGQoCAgICAgMD/AIOEIARCGIZCgICAgIDgP4MgBEIIhkKAgICA8B+DhIQgBEIIiEKAgID4D4MgBEIYiEKAgPwHg4QgBEIoiEKA/gODIARCOIiEhIQ3A4AKIAEkAAsGAEGAigELAgALC8wBAQBBgAgLxAG4/mw5I6RLvnwBgSz3Ia0c3tRt6YOQl9tyQKSkt7NnH8t55k7MwOV4glrQfcz/ciG4CEZ090MkjuA1kOaBOiZMPChSu5HDAMuI0GWLG1Muo3FkSJeiDflOOBnvRqnerNio+nY/45w0P/ncu8fHC08dilHgS820WTHIn37J2XhzZOrFrIM00+vDxYGg//oTY+sXDd1Rt/DaSdMWVSYp1GieKxa+WH1HofyP+LjRetAxzkXLOo+VFgQor9f7yrtLQH5AAgAA",hash:"187bc2c6"};const Et=new n;let Ct=null;const Bt=new ArrayBuffer(8);function St(e){return!Number.isInteger(e)||e<0||e>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function _t(e,t,r){const i=new DataView(e);i.setUint32(0,t,!0),i.setUint32(4,r,!0)}function Qt(e,t=0,r=0){if(St(t))return Promise.reject(St(t));if(St(r))return Promise.reject(St(r));if(null===Ct)return S(Et,vt,8).then((i=>(Ct=i,_t(Bt,t,r),Ct.writeMemory(new Uint8Array(Bt)),Ct.calculate(e))));try{_t(Bt,t,r),Ct.writeMemory(new Uint8Array(Bt));const i=Ct.calculate(e);return Promise.resolve(i)}catch(e){return Promise.reject(e)}}function Dt(e=0,t=0){return St(e)?Promise.reject(St(e)):St(t)?Promise.reject(St(t)):C(vt,8).then((r=>{const i=new ArrayBuffer(8);_t(i,e,t),r.writeMemory(new Uint8Array(i)),r.init();const n={init:()=>(r.writeMemory(new Uint8Array(i)),r.init(),n),update:e=>(r.update(e),n),digest:e=>r.digest(e),save:()=>r.save(),load:e=>(r.load(e),n),blockSize:512,digestSize:8};return n}))}var kt={name:"xxhash128",data:"AGFzbQEAAAABKwdgAAF/YAR/f39/AGAHf39/f39/fwBgA39/fgF+YAR/f39+AGAAAGABfwADDQwAAQIDBAQEBQYFAAUEBQFwAQEBBQQBAQICBg4CfwFBwI4FC38AQcAJCwdwCAZtZW1vcnkCAA5IYXNoX0dldEJ1ZmZlcgAACUhhc2hfSW5pdAAHC0hhc2hfVXBkYXRlAAgKSGFzaF9GaW5hbAAJDUhhc2hfR2V0U3RhdGUACg5IYXNoX0NhbGN1bGF0ZQALClNUQVRFX1NJWkUDAQrKRgwFAEGACgvvAwEQfgJAIANFDQAgAUE4aiEBIAJBOGohAiAAKQMwIQQgACkDOCEFIAApAyAhBiAAKQMoIQcgACkDECEIIAApAxghCSAAKQMAIQogACkDCCELA0AgByABQWhqKQMAIgx8IAJBcGopAwAgAUFwaikDACINhSIHQiCIIAdC/////w+DfnwhByAJIAFBWGopAwAiDnwgAkFgaikDACABQWBqKQMAIg+FIglCIIggCUL/////D4N+fCEJIAsgAUFIaikDACIQfCACQVBqKQMAIAFBUGopAwAiEYUiC0IgiCALQv////8Pg358IQsgAkF4aikDACABQXhqKQMAIhKFIhNCIIggE0L/////D4N+IAR8IAEpAwAiE3whBCACQWhqKQMAIAyFIgxCIIggDEL/////D4N+IAZ8IA18IQYgAkFYaikDACAOhSIMQiCIIAxC/////w+DfiAIfCAPfCEIIAJBSGopAwAgEIUiDEIgiCAMQv////8Pg34gCnwgEXwhCiAFIBJ8IAIpAwAgE4UiBUIgiCAFQv////8Pg358IQUgAUHAAGohASACQQhqIQIgA0F/aiIDDQALIAAgCTcDGCAAIAo3AwAgACALNwMIIAAgBzcDKCAAIAg3AxAgACAFNwM4IAAgBjcDICAAIAQ3AzALC94CAgF/AX4CQCACIAEoAgAiB2siAiAESw0AIAAgAyAFIAdBA3RqIAIQASAAIAApAwAiCCAFIAZqIgcpAwCFIAhCL4iFQrHz3fEJfjcDACAAIAApAwgiCCAHKQMIhSAIQi+IhUKx893xCX43AwggACAAKQMQIgggBykDEIUgCEIviIVCsfPd8Ql+NwMQIAAgACkDGCIIIAcpAxiFIAhCL4iFQrHz3fEJfjcDGCAAIAApAyAiCCAHKQMghSAIQi+IhUKx893xCX43AyAgACAAKQMoIgggBykDKIUgCEIviIVCsfPd8Ql+NwMoIAAgACkDMCIIIAcpAzCFIAhCL4iFQrHz3fEJfjcDMCAAIAApAzgiCCAHKQM4hSAIQi+IhUKx893xCX43AzggACADIAJBBnRqIAUgBCACayIHEAEgASAHNgIADwsgACADIAUgB0EDdGogBBABIAEgByAEajYCAAvtAwEFfiABKQM4IAApAziFIgNC/////w+DIgQgASkDMCAAKQMwhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMoIAApAyiFIgNC/////w+DIgQgASkDICAAKQMghSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMYIAApAxiFIgNC/////w+DIgQgASkDECAAKQMQhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSABKQMIIAApAwiFIgNC/////w+DIgQgASkDACAAKQMAhSIFQiCIIgZ+IgdC/////w+DIANCIIgiAyAFQv////8PgyIFfnwgBCAFfiIEQiCIfCIFQiCGIARC/////w+DhCAHQiCIIAMgBn58IAVCIIh8hSACfHx8fCICQiWIIAKFQvnz3fGZ8pmrFn4iAkIgiCAChQvCCAEFfgJAIAFBCUkNACAAQQApA4CMASACKQMoIAIpAyCFIAN9hSABQfiLAWopAwAiBIUiBUIgiCIGQoeVr68IfiIHQv////8PgyAFQv////8PgyIFQrHz3fEJfnwgBUKHla+vCH4iBUIgiHwiCEIghiAFQv////8Pg4QgAUF/aq1CNoZ8IAQgAikDOCACKQMwhSADfIUiA0L/////D4NC95Svrwh+IANCgICAgHCDfCAGQrHz3fEJfnwgB0IgiHwgCEIgiHwiA0I4hiADQiiGQoCAgICAgMD/AIOEIANCGIZCgICAgIDgP4MgA0IIhkKAgICA8B+DhIQgA0IIiEKAgID4D4MgA0IYiEKAgPwHg4QgA0IoiEKA/gODIANCOIiEhISFIgRCIIgiBULP1tO+An4iBkL/////D4MgBEL/////D4MiBEK93MqVDH58IARCz9bTvgJ+IgdCIIh8IgRCBYhC////P4MgBEIghiAHQv////8Pg4SFQvnz3fGZ8pmrFn4iB0IgiCAHhTcDACAAIAVCvdzKlQx+IANCz9bTvtLHq9lCfnwgBkIgiHwgBEIgiHwiA0IliCADhUL5893xmfKZqxZ+IgNCIIggA4U3AwgPCwJAIAFBBEkNACAAIAIpAxggAikDEIUgA6ciAkEYdCACQQh0QYCA/AdxciACQQh2QYD+A3EgAkEYdnJyrUIghiADhXwgAUH8iwFqNQIAQiCGQQA1AoCMAYSFIgNCIIgiBCABQQJ0QYeVr694aq0iBX4iBkIgiCAEQrHz3fEJfnwgBkL/////D4MgA0L/////D4MiA0Kx893xCX58IAMgBX4iA0IgiHwiBEIgiHwgBEIghiADQv////8Pg4QiBEIBhnwiA0IliCADhUL5893xmfKZqxZ+IgVCIIggBYU3AwggACADQgOIIASFIgNCI4ggA4VCpb7j9NGMh9mff34iA0IciCADhTcDAA8LAkAgAUUNACAAIAIoAgQgAigCAHOtIAN8IgRBAC0AgIwBQRB0IAFBCHRyIAFBAXZBgIwBai0AAEEYdHIgAUH/iwFqLQAAciIBrYUgBEIhiIVCz9bTvtLHq9lCfiIEQh2IIASFQvnz3fGZ9pmrFn4iBEIgiCAEhTcDACAAIAIoAgwgAigCCHOtIAN9IgMgAUEYdCABQQh0QYCA/AdxciABQQh2QYD+A3EgAUEYdnJyQQ13rYUgA0IhiIVCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhTcDCA8LIAAgAikDUCADhSACKQNYhSIEQiGIIASFQs/W077Sx6vZQn4iBEIdiCAEhUL5893xmfaZqxZ+IgRCIIggBIU3AwggACACKQNAIAOFIAIpA0iFIgNCIYggA4VCz9bTvtLHq9lCfiIDQh2IIAOFQvnz3fGZ9pmrFn4iA0IgiCADhTcDAAunCgEKfiABrSIEQoeVr6+Ytt6bnn9+IQUCQAJAIAFBIU8NAEIAIQYMAQtCACEHAkAgAUHBAEkNAEIAIQcCQCABQeEASQ0AIAIpA3ggA30gAUHIiwFqKQMAIgiFIgdC/////w+DIgkgAikDcCADfCABQcCLAWopAwAiCoUiC0IgiCIMfiINQiCIIAdCIIgiByAMfnwgDUL/////D4MgByALQv////8PgyILfnwgCSALfiIHQiCIfCIJQiCIfEEAKQO4jAEiC0EAKQOwjAEiDHyFIAlCIIYgB0L/////D4OEhSEHIAIpA2ggA30gC4UiCUL/////D4MiCyACKQNgIAN8IAyFIgxCIIgiDX4iBkL/////D4MgCUIgiCIJIAxC/////w+DIgx+fCALIAx+IgtCIIh8IgxCIIYgC0L/////D4OEIAZCIIggCSANfnwgDEIgiHyFIAV8IAggCnyFIQULIAIpA1ggA30gAUHYiwFqKQMAIgiFIglC/////w+DIgogAikDUCADfCABQdCLAWopAwAiC4UiDEIgiCINfiIGQv////8PgyAJQiCIIgkgDEL/////D4MiDH58IAogDH4iCkIgiHwiDEIghiAKQv////8Pg4QgBkIgiCAJIA1+fCAMQiCIfIUgB3xBACkDqIwBIglBACkDoIwBIgp8hSEHIAIpA0ggA30gCYUiCUL/////D4MiDCACKQNAIAN8IAqFIgpCIIgiDX4iBkL/////D4MgCUIgiCIJIApC/////w+DIgp+fCAMIAp+IgpCIIh8IgxCIIYgCkL/////D4OEIAZCIIggCSANfnwgDEIgiHyFIAV8IAggC3yFIQULIAIpAzggA30gAUHoiwFqKQMAIgiFIglC/////w+DIgogAikDMCADfCABQeCLAWopAwAiC4UiDEIgiCINfiIGQv////8PgyAJQiCIIgkgDEL/////D4MiDH58IAogDH4iCkIgiHwiDEIghiAKQv////8Pg4QgBkIgiCAJIA1+fCAMQiCIfIUgB3xBACkDmIwBIgdBACkDkIwBIgl8hSEGIAIpAyggA30gB4UiB0L/////D4MiCiACKQMgIAN8IAmFIglCIIgiDH4iDUL/////D4MgB0IgiCIHIAlC/////w+DIgl+fCAKIAl+IglCIIh8IgpCIIYgCUL/////D4OEIA1CIIggByAMfnwgCkIgiHyFIAV8IAggC3yFIQULIAAgAikDGCADfSABQfiLAWopAwAiB4UiCEL/////D4MiCSACKQMQIAN8IAFB8IsBaikDACIKhSILQiCIIgx+Ig1C/////w+DIAhCIIgiCCALQv////8PgyILfnwgCSALfiIJQiCIfCILQiCGIAlC/////w+DhCANQiCIIAggDH58IAtCIIh8hSAGfEEAKQOIjAEiCEEAKQOAjAEiCXyFIgsgAikDCCADfSAIhSIIQv////8PgyIMIAIpAwAgA3wgCYUiCUIgiCINfiIGQv////8PgyAIQiCIIgggCUL/////D4MiCX58IAwgCX4iCUIgiHwiDEIghiAJQv////8Pg4QgBkIgiCAIIA1+fCAMQiCIfIUgBXwgByAKfIUiBXwiB0IliCAHhUL5893xmfKZqxZ+IgdCIIggB4U3AwAgAEIAIAVCh5Wvr5i23puef34gBCADfULP1tO+0ser2UJ+fCALQuPcypX8zvL1hX9+fCIDQiWIIAOFQvnz3fGZ8pmrFn4iA0IgiCADhX03AwgLiQ8DAX8UfgJ/QQAhBCACKQN4IAN9QQApA/iMASIFhSIGQv////8PgyIHIAIpA3AgA3xBACkD8IwBIgiFIglCIIgiCn4iC0L/////D4MgBkIgiCIGIAlC/////w+DIgl+fCAHIAl+IgdCIIh8IglCIIYgB0L/////D4OEIAtCIIggBiAKfnwgCUIgiHyFIAIpA1ggA31BACkD2IwBIgeFIgZC/////w+DIgkgAikDUCADfEEAKQPQjAEiCoUiC0IgiCIMfiINQv////8PgyAGQiCIIgYgC0L/////D4MiC358IAkgC34iCUIgiHwiC0IghiAJQv////8Pg4QgDUIgiCAGIAx+fCALQiCIfIUgAikDOCADfUEAKQO4jAEiCYUiBkL/////D4MiCyACKQMwIAN8QQApA7CMASIMhSINQiCIIg5+Ig9C/////w+DIAZCIIgiBiANQv////8PgyINfnwgCyANfiILQiCIfCINQiCGIAtC/////w+DhCAPQiCIIAYgDn58IA1CIIh8hSACKQMYIAN9QQApA5iMASILhSIGQv////8PgyINIAIpAxAgA3xBACkDkIwBIg6FIg9CIIgiEH4iEUL/////D4MgBkIgiCIGIA9C/////w+DIg9+fCANIA9+Ig1CIIh8Ig9CIIYgDUL/////D4OEIBFCIIggBiAQfnwgD0IgiHyFQQApA4iMASINQQApA4CMASIPfIV8QQApA6iMASIQQQApA6CMASIRfIV8QQApA8iMASISQQApA8CMASITfIV8QQApA+iMASIUQQApA+CMASIVfIUiBkIliCAGhUL5893xmfKZqxZ+IgZCIIggBoUhBiACKQNoIAN9IBSFIhRC/////w+DIhYgAikDYCADfCAVhSIVQiCIIhd+IhhC/////w+DIBRCIIgiFCAVQv////8PgyIVfnwgFiAVfiIVQiCIfCIWQiCGIBVC/////w+DhCAYQiCIIBQgF358IBZCIIh8hSACKQNIIAN9IBKFIhJC/////w+DIhQgAikDQCADfCAThSITQiCIIhV+IhZC/////w+DIBJCIIgiEiATQv////8PgyITfnwgFCATfiITQiCIfCIUQiCGIBNC/////w+DhCAWQiCIIBIgFX58IBRCIIh8hSACKQMoIAN9IBCFIhBC/////w+DIhIgAikDICADfCARhSIRQiCIIhN+IhRC/////w+DIBBCIIgiECARQv////8PgyIRfnwgEiARfiIRQiCIfCISQiCGIBFC/////w+DhCAUQiCIIBAgE358IBJCIIh8hSACKQMIIAN9IA2FIg1C/////w+DIhAgAikDACADfCAPhSIPQiCIIhF+IhJC/////w+DIA1CIIgiDSAPQv////8PgyIPfnwgECAPfiIPQiCIfCIQQiCGIA9C/////w+DhCASQiCIIA0gEX58IBBCIIh8hSABrSIPQoeVr6+Ytt6bnn9+fCALIA58hXwgCSAMfIV8IAcgCnyFfCAFIAh8hSIFQiWIIAWFQvnz3fGZ8pmrFn4iBUIgiCAFhSEFIAFBIG0hGQJAIAFBoAFIDQAgGUEFIBlBBUobQXxqIRoDQCACIARqIhlBG2opAwAgA30gBEGYjQFqKQMAIgeFIghC/////w+DIgkgGUETaikDACADfCAEQZCNAWopAwAiCoUiC0IgiCIMfiINQv////8PgyAIQiCIIgggC0L/////D4MiC358IAkgC34iCUIgiHwiC0IghiAJQv////8Pg4QgDUIgiCAIIAx+fCALQiCIfIUgBnwgBEGIjQFqKQMAIgggBEGAjQFqKQMAIgl8hSEGIBlBC2opAwAgA30gCIUiCEL/////D4MiCyAZQQNqKQMAIAN8IAmFIglCIIgi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QXBqKQMANwPwjQFBACADQXhqKQMANwP4jQELQYCMASEEAkACQCACIANrIgJBCE8NACACIQEMAQsgAiEBA0AgBCADKQMANwMAIARBCGohBCADQQhqIQMgAUF4aiIBQQdLDQALCyABRQ0AA0AgBCADLQAAOgAAIARBAWohBCADQQFqIQMgAUF/aiIBDQALC0EAIAI2AoCOAQvcDgUEfwF+An8EfgJ/IwAiACEBIABBgAFrQUBxIgAkAEEAKAKwjgEiAkHAigEgAhshAwJAAkBBACkDkI4BIgRC8QFUDQAgAEEAKQOAigE3AwAgAEEAKQOIigE3AwggAEEAKQOQigE3AxAgAEEAKQOYigE3AxggAEEAKQOgigE3AyAgAEEAKQOoigE3AyggAEEAKQOwigE3AzAgAEEAKQO4igE3AzgCQAJAQQAoAoCOASIFQcAASQ0AIABBACgCiI4BNgJAIAAgAEHAAGpBACgCmI4BQYCMASAFQX9qQQZ2IANBACgCnI4BEAIgACAAKQMIQQAoAoCOASICQcCLAWopAwAiBHwgA0EAKAKcjgFqIgZBAWopAwAgAkHIiwFqKQMAIgeFIghCIIggCEL/////D4N+fDcDCCAAIAApAxggAkHQiwFqKQMAIgh8IAZBEWopAwAgAkHYiwFqKQMAIgmFIgpCIIggCkL/////D4N+fDcDGCAAIAcgBCAGQXlqKQMAhSIEQiCIIARC/////w+DfiAAKQMAfHw3AwAgACAJIAggBkEJaikDAIUiBEIgiCAEQv////8Pg34gACkDEHx8NwMQIAZBGWopAwAhBCAAKQMgIQcgACAAKQMoIAJB4IsBaikDACIIfCAGQSFqKQMAIAJB6IsBaikDACIJhSIKQiCIIApC/////w+Dfnw3AyggACAJIAcgBCAIhSIEQiCIIARC/////w+Dfnx8NwMgIAAgACkDOCACQfCLAWopAwAiBHwgBkExaikDACACQfiLAWopAwAiB4UiCEIgiCAIQv////8Pg358NwM4IAAgByAEIAZBKWopAwCFIgRCIIggBEL/////D4N+IAApAzB8fDcDMAwBC0HAACAFayELAkACQAJAIAVBOE0NAEGAjgEgC2shBiAAQcAAaiEFIAshAgwBC0EAIQwgCyECA0AgAEHAAGogDGogBSAMakHAjQFqKQMANwMAIAxBCGohDCACQXhqIgJBB0sNAAsgBSAMaiIGQcAARg0BIAZBwI0BaiEGIABBwABqIAxqIQULA0AgBSAGLQAAOgAAIAVBAWohBSAGQQFqIQYgAkF/aiICDQALQQAoAoCOASEFCyAAQcAAaiALaiEGQYCMASECAkAgBUEISQ0AQYCMASECA0AgBiACKQMANwMAIAZBCGohBiACQQhqIQIgBUF4aiIFQQdLDQALCwJAIAVFDQADQCAGIAItAAA6AAAgBkEBaiEGIAJBAWohAiAFQX9qIgUNAAsLIAAgACkDCCAAKQNAIgR8IANBACgCnI4BaiICQQFqKQMAIAApA0giB4UiCEIgiCAIQv////8Pg358NwMIIAAgACkDGCAAKQNQIgh8IAJBEWopAwAgACkDWCIJhSIKQiCIIApC/////w+Dfnw3AxggACAHIAQgAkF5aikDAIUiBEIgiCAEQv////8Pg34gACkDAHx8NwMAIAAgCSAIIAJBCWopAwCFIgRCIIggBEL/////D4N+IAApAxB8fDcDECACQRlqKQMAIQQgACkDICEHIAAgACkDKCAAKQNgIgh8IAJBIWopAwAgACkDaCIJhSIKQiCIIApC/////w+Dfnw3AyggACAJIAcgBCAIhSIEQiCIIARC/////w+Dfnx8NwMgIAAgACkDOCAAKQNwIgR8IAJBMWopAwAgACkDeCIHhSIIQiCIIAhC/////w+Dfnw3AzggACAHIAQgAkEpaikDAIUiBEIgiCAEQv////8Pg34gACkDMHx8NwMwCyAAIAAgA0ELakEAKQOQjgEiBEKHla+vmLbem55/fhADNwNAIAAgACADQQAoApyOAWpBdWogBELP1tO+0ser2UJ+Qn+FEAM3A0gMAQsgBKchAgJAQQApA6COASIEUA0AAkAgAkEQSw0AIABBwABqIAJBgAggBBAEDAILAkAgAkGAAUsNACAAQcAAaiACQYAIIAQQBQwCCyAAQcAAaiACQYAIIAQQBgwBCwJAIAJBEEsNACAAQcAAaiACIANCABAEDAELAkAgAkGAAUsNACAAQcAAaiACIANCABAFDAELIABBwABqIAIgA0IAEAYLQQAgAEH4AGopAwA3A8AKQQAgAEHwAGopAwA3A7gKQQAgAEHoAGopAwA3A7AKQQAgAEHgAGopAwA3A6gKQQAgAEHYAGopAwA3A6AKQQAgAEHQAGopAwA3A5gKQQAgACkDSCIEQjiGIARCKIZCgICAgICAwP8Ag4QgBEIYhkKAgICAgOA/gyAEQgiGQoCAgIDwH4OEhCAEQgiIQoCAgPgPgyAEQhiIQoCA/AeDhCAEQiiIQoD+A4MgBEI4iISEhCIENwOACkEAIAQ3A5AKQQAgACkDQCIEQjiGIARCKIZCgICAgICAwP8Ag4QgBEIYhkKAgICAgOA/gyAEQgiGQoCAgIDwH4OEhCAEQgiIQoCAgPgPgyAEQhiIQoCA/AeDhCAEQiiIQoD+A4MgBEI4iISEhDcDiAogASQACwYAQYCKAQsCAAsLzAEBAEGACAvEAbj+bDkjpEu+fAGBLPchrRze1G3pg5CX23JApKS3s2cfy3nmTszA5XiCWtB9zP9yIbgIRnT3QySO4DWQ5oE6Jkw8KFK7kcMAy4jQZYsbUy6jcWRIl6IN+U44Ge9Gqd6s2Kj6dj/jnDQ/+dy7x8cLTx2KUeBLzbRZMciffsnZeHNk6sWsgzTT68PFgaD/+hNj6xcN3VG38NpJ0xZVJinUaJ4rFr5YfUeh/I/4uNF60DHORcs6j5UWBCiv1/vKu0tAfkACAAA=",hash:"e8e3fcf8"};const Mt=new n;let Pt=null;const xt=new ArrayBuffer(8);function Ft(e){return!Number.isInteger(e)||e<0||e>4294967295?new Error("Seed must be given as two valid 32-bit long unsigned integers (lo + high)."):null}function Rt(e,t,r){const i=new DataView(e);i.setUint32(0,t,!0),i.setUint32(4,r,!0)}function Ot(e,t=0,r=0){if(Ft(t))return Promise.reject(Ft(t));if(Ft(r))return Promise.reject(Ft(r));if(null===Pt)return S(Mt,kt,16).then((i=>(Pt=i,Rt(xt,t,r),Pt.writeMemory(new Uint8Array(xt)),Pt.calculate(e))));try{Rt(xt,t,r),Pt.writeMemory(new Uint8Array(xt));const i=Pt.calculate(e);return Promise.resolve(i)}catch(e){return Promise.reject(e)}}function Tt(e=0,t=0){return Ft(e)?Promise.reject(Ft(e)):Ft(t)?Promise.reject(Ft(t)):C(kt,16).then((r=>{const i=new ArrayBuffer(8);Rt(i,e,t),r.writeMemory(new Uint8Array(i)),r.init();const n={init:()=>(r.writeMemory(new Uint8Array(i)),r.init(),n),update:e=>(r.update(e),n),digest:e=>r.digest(e),save:()=>r.save(),load:e=>(r.load(e),n),blockSize:512,digestSize:16};return n}))}var Nt={name:"ripemd160",data:"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",hash:"42f1de39"};const Ut=new n;let jt=null;function Lt(e){if(null===jt)return S(Ut,Nt,20).then((t=>(jt=t,jt.calculate(e))));try{const t=jt.calculate(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function qt(){return C(Nt,20).then((e=>{e.init();const t={init:()=>(e.init(),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:20};return t}))}function Kt(e,t){if(!e||!e.then)throw new Error('Invalid hash function is provided! Usage: createHMAC(createMD5(), "key").');return e.then((e=>function(e,t){e.init();const{blockSize:r}=e,i=function(e,t){const{blockSize:r}=e,i=p(t);if(i.length>r){e.update(i);const t=e.digest("binary");return e.init(),t}return new Uint8Array(i.buffer,i.byteOffset,i.length)}(e,t),n=new Uint8Array(r);n.set(i);const o=new Uint8Array(r);for(let e=0;e<r;e++){const t=n[e];o[e]=92^t,n[e]=54^t}e.update(n);const s={init:()=>(e.init(),e.update(n),s),update:t=>(e.update(t),s),digest:t=>{const r=e.digest("binary");return e.init(),e.update(o),e.update(r),e.digest(t)},save:()=>{throw new Error("save() not supported")},load:()=>{throw new Error("load() not supported")},blockSize:e.blockSize,digestSize:e.digestSize};return s}(e,t)))}const Ht=e=>{if(!e||"object"!=typeof e)throw new Error("Invalid options parameter. It requires an object.");if(!e.hashFunction||!e.hashFunction.then)throw new Error('Invalid hash function is provided! Usage: pbkdf2("password", "salt", 1000, 32, createSHA1()).');if(!Number.isInteger(e.iterations)||e.iterations<1)throw new Error("Iterations should be a positive number");if(!Number.isInteger(e.hashLength)||e.hashLength<1)throw new Error("Hash length should be a positive number");if(void 0===e.outputType&&(e.outputType="hex"),!["hex","binary"].includes(e.outputType))throw new Error(`Insupported output type ${e.outputType}. Valid values: ['hex', 'binary']`)};function Gt(e){return i(this,void 0,void 0,(function*(){return Ht(e),function(e,t,r,n,o){return i(this,void 0,void 0,(function*(){const i=new Uint8Array(n),s=new Uint8Array(t.length+4),a=new DataView(s.buffer),c=p(t),u=new Uint8Array(c.buffer,c.byteOffset,c.length);s.set(u);let h=0;const d=e.digestSize,l=Math.ceil(n/d);let A=null,g=null;for(let o=1;o<=l;o++){a.setUint32(t.length,o),e.init(),e.update(s),A=e.digest("binary"),g=A.slice();for(let t=1;t<r;t++){e.init(),e.update(g),g=e.digest("binary");for(let e=0;e<d;e++)A[e]^=g[e]}i.set(A.subarray(0,n-h),h),h+=d}return"binary"===o?i:f(new Uint8Array(2*n),i,n)}))}(yield Kt(e.hashFunction,e.password),e.salt,e.iterations,e.hashLength,e.outputType)}))}var zt={name:"scrypt",data:"AGFzbQEAAAABIwZgAX8Bf2AAAX9gBX9/fn9/AGAEf39/fwBgAX8AYAN/f38AAwcGAAECAwQFBAUBcAEBAQUGAQECgIACBggBfwFBkIgECwc5BAZtZW1vcnkCABJIYXNoX1NldE1lbW9yeVNpemUAAA5IYXNoX0dldEJ1ZmZlcgABBnNjcnlwdAAFCpcmBlsBAX9BACEBAkAgAEEAKAKACGsiAEUNAAJAIABBEHYgAEGAgHxxIABJaiIAQABBf0cNAEH/ASEBDAELQQAhAUEAQQApA4AIIABBEHStfDcDgAgLIAFBGHRBGHULagECfwJAQQAoAogIIgANAEEAPwBBEHQiADYCiAhBgIAgQQAoAoAIayIBRQ0AAkAgAUEQdiABQYCAfHEgAUlqIgBAAEF/Rw0AQQAPC0EAQQApA4AIIABBEHStfDcDgAhBACgCiAghAAsgAAu5EAMMfwl+An8gAUEFdCEFIAQgAUEIdGohBiAEIAFBB3QiB2ohCAJAAkACQAJAIAFFDQBBACEJIAAhCiAEIQsDQCALIAooAgA2AgAgCkEEaiEKIAtBBGohCyAJQQFqIgkgBUkNAAsgAlANAiABQQh0IQxBACENIAMhDgNAQQAhCSABIQ8DQCAOIAlqIgogBCAJaiILKQMANwMAIApBCGogC0EIaikDADcDACAKQRBqIAtBEGopAwA3AwAgCkEYaiALQRhqKQMANwMAIApBIGogC0EgaikDADcDACAKQShqIAtBKGopAwA3AwAgCkEwaiALQTBqKQMANwMAIApBOGogC0E4aikDADcDACAKQcAAaiALQcAAaikDADcDACAKQcgAaiALQcgAaikDADcDACAKQdAAaiALQdAAaikDADcDACAKQdgAaiALQdgAaikDADcDACAKQeAAaiALQeAAaikDADcDACAKQegAaiALQegAaikDADcDACAKQfAAaiALQfAAaikDADcDACAKQfgAaiALQfgAaikDADcDACAJQYABaiEJIA9Bf2oiDw0ACyAEIAggBiABEAMgDiEJIAQhDyABIRADQCAJIAdqIgogDyAHaiILKQMANwMAIApBCGogC0EIaikDADcDACAKQRBqIAtBEGopAwA3AwAgCkEYaiALQRhqKQMANwMAIApBIGogC0EgaikDADcDACAKQShqIAtBKGopAwA3AwAgCkEwaiALQTBqKQMANwMAIApBOGogC0E4aikDADcDACAKQcAAaiALQcAAaikDADcDACAKQcgAaiALQcgAaikDADcDACAKQdAAaiALQdAAaikDADcDACAKQdgAaiALQdgAaikDADcDACAKQeAAaiALQeAAaikDADcDACAKQegAaiALQegAaikDADcDACAKQfAAaiALQfAAaikDADcDACAKQfgAaiALQfgAaikDADcDACAJQYABaiEJIA9BgAFqIQ8gEEF/aiIQDQALIAggBCAGIAEQAyAOIAxqIQ4gDUECaiINrSACVA0ADAILCyACUA0CIAhBQGoiCikDOCERIAopAzAhEiAKKQMoIRMgCikDICEUIAopAxghFSAKKQMQIRYgCikDCCEXIAopAwAhGEECIQoDQCAKrSEZIApBAmohCiAZIAJUDQALIAYgETcDOCAGIBI3AzAgBiATNwMoIAYgFDcDICAGIBU3AxggBiAWNwMQIAYgFzcDCCAGIBg3AwALAkAgAUUNACAHQUBqIgogCGohGiACp0F/aiEOIAogBGohGyABQQd0IQ1BACEMA0AgAyANIBsoAgAgDnFsaiEHQQAhCSABIQ8DQCAEIAlqIgogCikDACAHIAlqIgspAwCFNwMAIApBCGoiECAQKQMAIAtBCGopAwCFNwMAIApBEGoiECAQKQMAIAtBEGopAwCFNwMAIApBGGoiECAQKQMAIAtBGGopAwCFNwMAIApBIGoiECAQKQMAIAtBIGopAwCFNwMAIApBKGoiECAQKQMAIAtBKGopAwCFNwMAIApBMGoiECAQKQMAIAtBMGopAwCFNwMAIApBOGoiECAQKQMAIAtBOGopAwCFNwMAIApBwABqIhAgECkDACALQcAAaikDAIU3AwAgCkHIAGoiECAQKQMAIAtByABqKQMAhTcDACAKQdAAaiIQIBApAwAgC0HQAGopAwCFNwMAIApB2ABqIhAgECkDACALQdgAaikDAIU3AwAgCkHgAGoiECAQKQMAIAtB4ABqKQMAhTcDACAKQegAaiIQIBApAwAgC0HoAGopAwCFNwMAIApB8ABqIhAgECkDACALQfAAaikDAIU3AwAgCkH4AGoiCiAKKQMAIAtB+ABqKQMAhTcDACAJQYABaiEJIA9Bf2oiDw0ACyAEIAggBiABEAMgAyANIBooAgAgDnFsaiEHQQAhCSABIQ8DQCAIIAlqIgogCikDACAHIAlqIgspAwCFNwMAIApBCGoiECAQKQMAIAtBCGopAwCFNwMAIApBEGoiECAQKQMAIAtBEGopAwCFNwMAIApBGGoiECAQKQMAIAtBGGopAwCFNwMAIApBIGoiECAQKQMAIAtBIGopAwCFNwMAIApBKGoiECAQKQMAIAtBKGopAwCFNwMAIApBMGoiECAQKQMAIAtBMGopAwCFNwMAIApBOGoiECAQKQMAIAtBOGopAwCFNwMAIApBwABqIhAgECkDACALQcAAaikDAIU3AwAgCkHIAGoiECAQKQMAIAtByABqKQMAhTcDACAKQdAAaiIQIBApAwAgC0HQAGopAwCFNwMAIApB2ABqIhAgECkDACALQdgAaikDAIU3AwAgCkHgAGoiECAQKQMAIAtB4ABqKQMAhTcDACAKQegAaiIQIBApAwAgC0HoAGopAwCFNwMAIApB8ABqIhAgECkDACALQfAAaikDAIU3AwAgCkH4AGoiCiAKKQMAIAtB+ABqKQMAhTcDACAJQYABaiEJIA9Bf2oiDw0ACyAIIAQgBiABEAMgDEECaiIMrSACVA0ADAILCyAIQUBqIgopAzghESAKKQMwIRIgCikDKCETIAopAyAhFCAKKQMYIRUgCikDECEWIAopAwghFyAKKQMAIRhBAiEKA0AgCq0hGSAKQQJqIQogGSACVA0ACyAGIBE3AzggBiASNwMwIAYgEzcDKCAGIBQ3AyAgBiAVNwMYIAYgFjcDECAGIBc3AwggBiAYNwMACyABRQ0AQQAhCgNAIAAgBCgCADYCACAAQQRqIQAgBEEEaiEEIApBAWoiCiAFSQ0ACwsL4wUDAX8IfgJ/IAIgA0EHdCAAakFAaiIEKQMAIgU3AwAgAiAEKQMIIgY3AwggAiAEKQMQIgc3AxAgAiAEKQMYIgg3AxggAiAEKQMgIgk3AyAgAiAEKQMoIgo3AyggAiAEKQMwIgs3AzAgAiAEKQM4Igw3AzgCQCADRQ0AIANBAXQhDSAAQfgAaiEEIANBBnQhDkECIQADQCACIAUgBEGIf2opAwCFNwMAIAIgBiAEQZB/aikDAIU3AwggAiAHIARBmH9qKQMAhTcDECACIAggBEGgf2opAwCFNwMYIAIgCSAEQah/aikDAIU3AyAgAiAKIARBsH9qKQMAhTcDKCACIAsgBEG4f2opAwCFNwMwIAIgDCAEQUBqKQMAhTcDOCACEAQgASACKQMANwMAIAFBCGogAikDCDcDACABQRBqIAIpAxA3AwAgAUEYaiACKQMYNwMAIAFBIGogAikDIDcDACABQShqIAIpAyg3AwAgAUEwaiACKQMwNwMAIAFBOGogAikDODcDACACIAIpAwAgBEFIaikDAIU3AwAgAiACKQMIIARBUGopAwCFNwMIIAIgAikDECAEQVhqKQMAhTcDECACIAIpAxggBEFgaikDAIU3AxggAiACKQMgIARBaGopAwCFNwMgIAIgAikDKCAEQXBqKQMAhTcDKCACIAIpAzAgBEF4aikDAIU3AzAgAiACKQM4IAQpAwCFNwM4IAIQBCABIA5qIgMgAikDADcDACADQQhqIAIpAwg3AwAgA0EQaiACKQMQNwMAIANBGGogAikDGDcDACADQSBqIAIpAyA3AwAgA0EoaiACKQMoNwMAIANBMGogAikDMDcDACADQThqIAIpAzg3AwAgACANTw0BIARBgAFqIQQgAUHAAGohASAAQQJqIQAgAikDOCEMIAIpAzAhCyACKQMoIQogAikDICEJIAIpAxghCCACKQMQIQcgAikDCCEGIAIpAwAhBQwACwsLug0IAX4BfwF+AX8BfgF/AX4SfyAAIAAoAgQgACkDKCIBQiCIpyICIAApAzgiA0IgiKciBGpBB3cgACkDCCIFQiCIp3MiBiAEakEJdyAAKQMYIgdCIIincyIIIAZqQQ13IAJzIgkgB6ciCiABpyILakEHdyADp3MiAiALakEJdyAFp3MiDCACakENdyAKcyINIAxqQRJ3IAtzIg4gACkDACIBQiCIpyIPIAApAxAiA0IgiKciEGpBB3cgACkDICIFQiCIp3MiC2pBB3dzIgogCSAIakESdyAEcyIRIAJqQQd3IAApAzAiB6ciCSABpyISakEHdyADp3MiBCASakEJdyAFp3MiEyAEakENdyAJcyIUcyIJIBFqQQl3IAsgEGpBCXcgB0IgiKdzIhVzIhYgCWpBDXcgAnMiFyAWakESdyARcyIRakEHdyAGIBQgE2pBEncgEnMiEmpBB3cgFSALakENdyAPcyIUcyICIBJqQQl3IAxzIg8gAmpBDXcgBnMiGHMiBiARakEJdyAIIA0gFCAVakESdyAQcyIQIARqQQd3cyIMIBBqQQl3cyIIcyIVIAZqQQ13IApzIhQgDCAKIA5qQQl3IBNzIhMgCmpBDXcgC3MiGSATakESdyAOcyIKakEHdyAXcyILIApqQQl3IA9zIg4gC2pBDXcgDHMiFyAOakESdyAKcyINIAIgCCAMakENdyAEcyIMIAhqQRJ3IBBzIghqQQd3IBlzIgpqQQd3cyIEIBQgFWpBEncgEXMiECALakEHdyAJIBggD2pBEncgEnMiEWpBB3cgDHMiDCARakEJdyATcyISIAxqQQ13IAlzIg9zIgkgEGpBCXcgCiAIakEJdyAWcyITcyIWIAlqQQ13IAtzIhQgFmpBEncgEHMiEGpBB3cgBiAPIBJqQRJ3IBFzIhFqQQd3IBMgCmpBDXcgAnMiC3MiAiARakEJdyAOcyIOIAJqQQ13IAZzIhhzIgYgEGpBCXcgFSAXIAsgE2pBEncgCHMiCCAMakEHd3MiCyAIakEJd3MiE3MiFSAGakENdyAEcyIXIAsgBCANakEJdyAScyISIARqQQ13IApzIhkgEmpBEncgDXMiBGpBB3cgFHMiCiAEakEJdyAOcyIPIApqQQ13IAtzIhQgD2pBEncgBHMiDSACIBMgC2pBDXcgDHMiDCATakESdyAIcyIIakEHdyAZcyILakEHd3MiBCAXIBVqQRJ3IBBzIhAgCmpBB3cgCSAYIA5qQRJ3IBFzIg5qQQd3IAxzIgwgDmpBCXcgEnMiESAMakENdyAJcyIXcyIJIBBqQQl3IAsgCGpBCXcgFnMiEnMiEyAJakENdyAKcyIYIBNqQRJ3IBBzIhBqQQd3IAYgFyARakESdyAOcyIKakEHdyASIAtqQQ13IAJzIhdzIgIgCmpBCXcgD3MiDiACakENdyAGcyIWcyIGIAkgFiAOakESdyAKcyIWakEHdyAVIBQgFyASakESdyAIcyIIIAxqQQd3cyIKIAhqQQl3cyISIApqQQ13IAxzIg9zIgwgFmpBCXcgBCANakEJdyARcyIRcyIVIAxqQQ13IAlzIhQgFWpBEncgFnMiCWpBB3cgAiAPIBJqQRJ3IAhzIghqQQd3IBEgBGpBDXcgC3MiD3MiCyAIakEJdyATcyITIAtqQQ13IAJzIhdzIhZqNgIEIAAgACgCCCAWIAlqQQl3IAogDyARakESdyANcyIRakEHdyAYcyICIBFqQQl3IA5zIg5zIg9qNgIIIAAgACgCDCAPIBZqQQ13IAZzIg1qNgIMIAAgACgCECAGIBBqQQl3IBJzIhIgDiACakENdyAKcyIYIBcgE2pBEncgCHMiCiAMakEHd3MiCCAKakEJd3MiFiAIakENdyAMcyIMajYCECAAIAAoAgAgDSAPakESdyAJc2o2AgAgACAAKAIUIAwgFmpBEncgCnNqNgIUIAAgACgCGCAIajYCGCAAIAAoAhwgFmo2AhwgACAAKAIgIBIgBmpBDXcgBHMiCSAYIA5qQRJ3IBFzIgYgC2pBB3dzIgogBmpBCXcgFXMiBGo2AiAgACAAKAIkIAQgCmpBDXcgC3MiC2o2AiQgACAAKAIoIAsgBGpBEncgBnNqNgIoIAAgACgCLCAKajYCLCAAIAAoAjAgCSASakESdyAQcyIGIAJqQQd3IBRzIgtqNgIwIAAgACgCNCALIAZqQQl3IBNzIgpqNgI0IAAgACgCOCAKIAtqQQ13IAJzIgJqNgI4IAAgACgCPCACIApqQRJ3IAZzajYCPAtyAwF/AX4CfwJAIAJFDQBBACgCiAgiAyAAIAGtIgQgAyAAQQd0IgUgAmxqIgMgAyAFIAFsaiIGEAIgAkEBRg0AIAJBf2ohASAFIQIDQEEAKAKICCACaiAAIAQgAyAGEAIgAiAFaiECIAFBf2oiAQ0ACwsL",hash:"d96fb75f"};const Jt=e=>{if(!e||"object"!=typeof e)throw new Error("Invalid options parameter. It requires an object.");if(!Number.isInteger(e.blockSize)||e.blockSize<1)throw new Error("Block size should be a positive number");if(!Number.isInteger(e.costFactor)||e.costFactor<2||!(t=e.costFactor)||t&t-1)throw new Error("Cost factor should be a power of 2, greater than 1");var t;if(!Number.isInteger(e.parallelism)||e.parallelism<1)throw new Error("Parallelism should be a positive number");if(!Number.isInteger(e.hashLength)||e.hashLength<1)throw new Error("Hash length should be a positive number.");if(void 0===e.outputType&&(e.outputType="hex"),!["hex","binary"].includes(e.outputType))throw new Error(`Insupported output type ${e.outputType}. Valid values: ['hex', 'binary']`)};function Yt(e){return i(this,void 0,void 0,(function*(){return Jt(e),function(e){return i(this,void 0,void 0,(function*(){const{costFactor:t,blockSize:r,parallelism:i,hashLength:n}=e,o=Ze(),s=yield Gt({password:e.password,salt:e.salt,iterations:1,hashLength:128*r*i,hashFunction:o,outputType:"binary"}),a=yield C(zt,0),c=128*r*t,u=256*r;a.setMemorySize(s.length+c+u),a.writeMemory(s,0),a.getExports().scrypt(r,t,i);const h=a.getMemory().subarray(0,128*r*i),d=yield Gt({password:e.password,salt:h,iterations:1,hashLength:n,hashFunction:o,outputType:"binary"});return"hex"===e.outputType?f(new Uint8Array(2*n),d,n):d}))}(e)}))}var Vt={name:"bcrypt",data:"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",hash:"9f4c7b9e"};const $t=e=>{if(!e||"object"!=typeof e)throw new Error("Invalid options parameter. It requires an object.");if(!Number.isInteger(e.costFactor)||e.costFactor<4||e.costFactor>31)throw new Error("Cost factor should be a number between 4 and 31");if(e.password=p(e.password),e.password.length<1)throw new Error("Password should be at least 1 byte long");if(e.password.length>72)throw new Error("Password should be at most 72 bytes long");if(e.salt=p(e.salt),16!==e.salt.length)throw new Error("Salt should be 16 bytes long");if(void 0===e.outputType&&(e.outputType="encoded"),!["hex","binary","encoded"].includes(e.outputType))throw new Error(`Insupported output type ${e.outputType}. Valid values: ['hex', 'binary', 'encoded']`)};function Wt(e){return i(this,void 0,void 0,(function*(){return $t(e),function(e){return i(this,void 0,void 0,(function*(){const{costFactor:t,password:r,salt:i}=e,n=yield C(Vt,0);n.writeMemory(p(i),0);const o=p(r);n.writeMemory(o,16);const s="encoded"===e.outputType?1:0;n.getExports().bcrypt(o.length,t,s);const a=n.getMemory();return"encoded"===e.outputType?(c=a,String.fromCharCode(...c.subarray(0,60))):"hex"===e.outputType?f(new Uint8Array(48),a,24):a.slice(0,24);var c}))}(e)}))}const Zt=e=>{if(!e||"object"!=typeof e)throw new Error("Invalid options parameter. It requires an object.");if(void 0===e.hash||"string"!=typeof e.hash)throw new Error("Hash should be specified");if(60!==e.hash.length)throw new Error("Hash should be 60 bytes long");if(t=e.hash,!/^\$2[axyb]\$[0-3][0-9]\$[./A-Za-z0-9]{53}$/.test(t)||"0"===t[4]&&parseInt(t[5],10)<4||"3"===t[4]&&parseInt(t[5],10)>1)throw new Error("Invalid hash");var t;if(e.password=p(e.password),e.password.length<1)throw new Error("Password should be at least 1 byte long");if(e.password.length>72)throw new Error("Password should be at most 72 bytes long")};function Xt(e){return i(this,void 0,void 0,(function*(){Zt(e);const{hash:t,password:r}=e,i=yield C(Vt,0);i.writeMemory(p(t),0);const n=p(r);return i.writeMemory(n,60),!!i.getExports().bcrypt_verify(n.length)}))}var er={name:"whirlpool",data:"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",hash:"358808f8"};const tr=new n;let rr=null;function ir(e){if(null===rr)return S(tr,er,64).then((t=>(rr=t,rr.calculate(e))));try{const t=rr.calculate(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function nr(){return C(er,64).then((e=>{e.init();const t={init:()=>(e.init(),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:64};return t}))}var or={name:"sm3",data:"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",hash:"6e6f46ad"};const sr=new n;let ar=null;function cr(e){if(null===ar)return S(sr,or,32).then((t=>(ar=t,ar.calculate(e))));try{const t=ar.calculate(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}function ur(){return C(or,32).then((e=>{e.init();const t={init:()=>(e.init(),t),update:r=>(e.update(r),t),digest:t=>e.digest(t),save:()=>e.save(),load:r=>(e.load(r),t),blockSize:64,digestSize:32};return t}))}},33715:(e,t,r)=>{var i=t;i.utils=r(26436),i.common=r(95772),i.sha=r(89041),i.ripemd=r(12949),i.hmac=r(52344),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},95772:(e,t,r)=>{"use strict";var i=r(26436),n=r(79746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e}else for(i[n++]=255&e,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,o=8;o<this.padLength;o++)i[n++]=0;return i}},52344:(e,t,r)=>{"use strict";var i=r(26436),n=r(79746);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},12949:(e,t,r)=>{"use strict";var i=r(26436),n=r(95772),o=i.rotl32,s=i.sum32,a=i.sum32_3,c=i.sum32_4,u=n.BlockHash;function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function l(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}i.inherits(h,u),t.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],u=this.h[3],h=this.h[4],y=r,I=i,w=n,b=u,v=h,E=0;E<80;E++){var C=s(o(c(r,d(E,i,n,u),e[p[E]+t],l(E)),g[E]),h);r=h,h=u,u=o(n,10),n=i,i=C,C=s(o(c(y,d(79-E,I,w,b),e[A[E]+t],f(E)),m[E]),v),y=v,v=b,b=o(w,10),w=I,I=C}C=a(this.h[1],n,b),this.h[1]=a(this.h[2],u,v),this.h[2]=a(this.h[3],h,y),this.h[3]=a(this.h[4],r,I),this.h[4]=a(this.h[0],i,w),this.h[0]=C},h.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],A=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},89041:(e,t,r)=>{"use strict";t.sha1=r(84761),t.sha224=r(10799),t.sha256=r(89344),t.sha384=r(80772),t.sha512=r(45900)},84761:(e,t,r)=>{"use strict";var i=r(26436),n=r(95772),o=r(37038),s=i.rotl32,a=i.sum32,c=i.sum32_5,u=o.ft_1,h=n.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(l,h),e.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=s(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],o=this.h[1],h=this.h[2],l=this.h[3],f=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),A=c(s(n,5),u(p,o,h,l),f,r[i],d[p]);f=l,l=h,h=s(o,30),o=n,n=A}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],h),this.h[3]=a(this.h[3],l),this.h[4]=a(this.h[4],f)},l.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},10799:(e,t,r)=>{"use strict";var i=r(26436),n=r(89344);function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,n),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},89344:(e,t,r)=>{"use strict";var i=r(26436),n=r(95772),o=r(37038),s=r(79746),a=i.sum32,c=i.sum32_4,u=i.sum32_5,h=o.ch32,d=o.maj32,l=o.s0_256,f=o.s1_256,p=o.g0_256,A=o.g1_256,g=n.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}i.inherits(y,g),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=c(A(r[i-2]),r[i-7],p(r[i-15]),r[i-16]);var n=this.h[0],o=this.h[1],g=this.h[2],m=this.h[3],y=this.h[4],I=this.h[5],w=this.h[6],b=this.h[7];for(s(this.k.length===r.length),i=0;i<r.length;i++){var v=u(b,f(y),h(y,I,w),this.k[i],r[i]),E=a(l(n),d(n,o,g));b=w,w=I,I=y,y=a(m,v),m=g,g=o,o=n,n=a(v,E)}this.h[0]=a(this.h[0],n),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],I),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],b)},y.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},80772:(e,t,r)=>{"use strict";var i=r(26436),n=r(45900);function o(){if(!(this instanceof o))return new o;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,n),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},45900:(e,t,r)=>{"use strict";var i=r(26436),n=r(95772),o=r(79746),s=i.rotr64_hi,a=i.rotr64_lo,c=i.shr64_hi,u=i.shr64_lo,h=i.sum64,d=i.sum64_hi,l=i.sum64_lo,f=i.sum64_4_hi,p=i.sum64_4_lo,A=i.sum64_5_hi,g=i.sum64_5_lo,m=n.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function I(){if(!(this instanceof I))return new I;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,r,i,n){var o=e&r^~e&n;return o<0&&(o+=4294967296),o}function b(e,t,r,i,n,o){var s=t&i^~t&o;return s<0&&(s+=4294967296),s}function v(e,t,r,i,n){var o=e&r^e&n^r&n;return o<0&&(o+=4294967296),o}function E(e,t,r,i,n,o){var s=t&i^t&o^i&o;return s<0&&(s+=4294967296),s}function C(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function B(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function _(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function Q(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function D(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}i.inherits(I,m),e.exports=I,I.blockSize=1024,I.outSize=512,I.hmacStrength=192,I.padLength=128,I.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=(g=r[i-4],m=r[i-3],y=void 0,(y=s(g,m,19)^s(m,g,29)^c(g,m,6))<0&&(y+=4294967296),y),o=D(r[i-4],r[i-3]),a=r[i-14],u=r[i-13],h=_(r[i-30],r[i-29]),d=Q(r[i-30],r[i-29]),l=r[i-32],A=r[i-31];r[i]=f(n,o,a,u,h,d,l,A),r[i+1]=p(n,o,a,u,h,d,l,A)}var g,m,y},I.prototype._update=function(e,t){this._prepareBlock(e,t);var r,i,n,a=this.W,c=this.h[0],u=this.h[1],f=this.h[2],p=this.h[3],m=this.h[4],y=this.h[5],I=this.h[6],_=this.h[7],Q=this.h[8],D=this.h[9],k=this.h[10],M=this.h[11],P=this.h[12],x=this.h[13],F=this.h[14],R=this.h[15];o(this.k.length===a.length);for(var O=0;O<a.length;O+=2){var T=F,N=R,U=(n=void 0,(n=s(r=Q,i=D,14)^s(r,i,18)^s(i,r,9))<0&&(n+=4294967296),n),j=S(Q,D),L=w(Q,0,k,0,P),q=b(0,D,0,M,0,x),K=this.k[O],H=this.k[O+1],G=a[O],z=a[O+1],J=A(T,N,U,j,L,q,K,H,G,z),Y=g(T,N,U,j,L,q,K,H,G,z);T=C(c,u),N=B(c,u),U=v(c,0,f,0,m),j=E(0,u,0,p,0,y);var V=d(T,N,U,j),$=l(T,N,U,j);F=P,R=x,P=k,x=M,k=Q,M=D,Q=d(I,_,J,Y),D=l(_,_,J,Y),I=m,_=y,m=f,y=p,f=c,p=u,c=d(J,Y,V,$),u=l(J,Y,V,$)}h(this.h,0,c,u),h(this.h,2,f,p),h(this.h,4,m,y),h(this.h,6,I,_),h(this.h,8,Q,D),h(this.h,10,k,M),h(this.h,12,P,x),h(this.h,14,F,R)},I.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},37038:(e,t,r)=>{"use strict";var i=r(26436).rotr32;function n(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,i){return 0===e?n(t,r,i):1===e||3===e?s(t,r,i):2===e?o(t,r,i):void 0},t.ch32=n,t.maj32=o,t.p32=s,t.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},26436:(e,t,r)=>{"use strict";var i=r(79746),n=r(35717);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=n,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=63&s|128):o(e,n)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=63&s|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=63&s|128)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];"little"===t&&(n=s(n)),r+=c(n.toString(16))}return r},t.zero2=a,t.zero8=c,t.join32=function(e,t,r,n){var o=r-t;i(o%4==0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var u;u="big"===n?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[a]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),i=0,n=0;i<e.length;i++,n+=4){var o=e[i];"big"===t?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=255&o):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,i){return e+t+r+i>>>0},t.sum32_5=function(e,t,r,i,n){return e+t+r+i+n>>>0},t.sum64=function(e,t,r,i){var n=e[t],o=i+e[t+1]>>>0,s=(o<i?1:0)+r+n;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,i){return(t+i>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,i){return t+i>>>0},t.sum64_4_hi=function(e,t,r,i,n,o,s,a){var c=0,u=t;return c+=(u=u+i>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+n+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,i,n,o,s,a){return t+i+o+a>>>0},t.sum64_5_hi=function(e,t,r,i,n,o,s,a,c,u){var h=0,d=t;return h+=(d=d+i>>>0)<t?1:0,h+=(d=d+o>>>0)<o?1:0,h+=(d=d+a>>>0)<a?1:0,e+r+n+s+c+(h+=(d=d+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,i,n,o,s,a,c,u){return t+i+o+a+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},48824:(e,t,r)=>{"use strict";var i=Function.prototype.call,n=Object.prototype.hasOwnProperty,o=r(58612);e.exports=o.call(i,n)},2156:(e,t,r)=>{"use strict";var i=r(33715),n=r(34504),o=r(79746);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=n.toArray(e.entropy,e.entropyEnc||"hex"),r=n.toArray(e.nonce,e.nonceEnc||"hex"),i=n.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}e.exports=s,s.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=null),e=n.toArray(e,t),r=n.toArray(r,i),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,n.encode(s,t)}},80645:(e,t)=>{t.read=function(e,t,r,i,n){var o,s,a=8*n-i-1,c=(1<<a)-1,u=c>>1,h=-7,d=r?n-1:0,l=r?-1:1,f=e[t+d];for(d+=l,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+e[t+d],d+=l,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;h>0;s=256*s+e[t+d],d+=l,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,i),o-=u}return(f?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,r,i,n,o){var s,a,c,u=8*o-n-1,h=(1<<u)-1,d=h>>1,l=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?l/c:l*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=h?(a=0,s=h):s+d>=1?(a=(t*c-1)*Math.pow(2,n),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,n),s=0));n>=8;e[r+f]=255&a,f+=p,a/=256,n-=8);for(s=s<<n|a,u+=n;u>0;e[r+f]=255&s,f+=p,s/=256,u-=8);e[r+f-p]|=128*A}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},9496:(e,t,r)=>{"use strict";var i=r(40210),n=r(48824),o=r(37478)(),s=i("%TypeError%"),a={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`O` is not an object");if("string"!=typeof t)throw new s("`slot` must be a string");if(o.assert(e),!a.has(e,t))throw new s("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`O` is not an object");if("string"!=typeof t)throw new s("`slot` must be a string");var r=o.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`O` is not an object");if("string"!=typeof t)throw new s("`slot` must be a string");var r=o.get(e);return!!r&&n(r,"$"+t)},set:function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`O` is not an object");if("string"!=typeof t)throw new s("`slot` must be a string");var i=o.get(e);i||(i={},o.set(e,i)),i["$"+t]=r}};Object.freeze&&Object.freeze(a),e.exports=a},95320:e=>{"use strict";var t,r,i=Function.prototype.toString,n="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof n&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},n((function(){throw 42}),null,t)}catch(e){e!==r&&(n=null)}else n=null;var o=/^\s*class\b/,s=function(e){try{var t=i.call(e);return o.test(t)}catch(e){return!1}},a=function(e){try{return!s(e)&&(i.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,h=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var l=document.all;c.call(l)===c.call(document.all)&&(d=function(e){if((h||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=n?function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{n(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)&&a(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return a(e);if(s(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},18923:(e,t,r)=>{"use strict";var i=Date.prototype.getDay,n=Object.prototype.toString,o=r(96410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return i.call(e),!0}catch(e){return!1}}(e):"[object Date]"===n.call(e))}},98420:(e,t,r)=>{"use strict";var i,n,o,s,a=r(21924),c=r(96410)();if(c){i=a("Object.prototype.hasOwnProperty"),n=a("RegExp.prototype.exec"),o={};var u=function(){throw o};s={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=u)}var h=a("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!=typeof e)return!1;var t=d(e,"lastIndex");if(!t||!i(t,"value"))return!1;try{n(e,s)}catch(e){return e===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===h(e)}},12636:(e,t,r)=>{"use strict";var i=Object.prototype.toString;if(r(41405)()){var n=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==i.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(n.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},39499:function(e){e.exports=function(){"use strict";var e=Math.imul,t=Math.clz32;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){for(var r,i=0;i<t.length;i++)(r=t[i]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function n(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(){return u=c()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&a(n,r.prototype),n},u.apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){function r(){return u(e,arguments,s(this).constructor)}if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)},h(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){var t=c();return function(){var r,i=s(e);if(t){var n=s(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,r)}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,o=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,n=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw n}}return o}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}var g=function(e){var t=Math.abs,i=Math.max,s=Math.floor;function a(e,t){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=c.call(this,e)).sign=t,Object.setPrototypeOf(d(r),a.prototype),e>a.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r}o(a,e);var c=l(a);return n(a,[{key:"toDebugString",value:function(){var e,t=["BigInt["],r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(a)throw o}}}}(this);try{for(r.s();!(e=r.n()).done;){var i=e.value;t.push((i?(i>>>0).toString(16):i)+", ")}}catch(e){r.e(e)}finally{r.f()}return t.push("]"),t.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?a.__toStringBasePowerOfTwo(this,e):a.__toStringGeneric(this,e,!1)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var e=new a(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return a.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var i=32767&e,n=e>>>15,o=0,s=t,c=0;c<r;c++){var u=this.__digit(c),h=32767&u,d=u>>>15,l=a.__imul(h,i),f=a.__imul(h,n),p=a.__imul(d,i),A=s+l+o;o=A>>>30,A&=1073741823,o+=(A+=((32767&f)<<15)+((32767&p)<<15))>>>30,s=a.__imul(d,n)+(f>>>15)+(p>>>15),this.__setDigit(c,1073741823&A)}if(0!==o||0!==s)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var i,n=0,o=0;o<r;o++)n=(i=this.__halfDigit(t+o)+e.__halfDigit(o)+n)>>>15,this.__setHalfDigit(t+o,32767&i);return n}},{key:"__inplaceSub",value:function(e,t,r){var i=0;if(1&t){t>>=1;for(var n=this.__digit(t),o=32767&n,s=0;s<r-1>>>1;s++){var a=e.__digit(s),c=(n>>>15)-(32767&a)-i;i=1&c>>>15,this.__setDigit(t+s,(32767&c)<<15|32767&o),i=1&(o=(32767&(n=this.__digit(t+s+1)))-(a>>>15)-i)>>>15}var u=e.__digit(s),h=(n>>>15)-(32767&u)-i;if(i=1&h>>>15,this.__setDigit(t+s,(32767&h)<<15|32767&o),t+s+1>=this.length)throw new RangeError("out of bounds");0==(1&r)&&(i=1&(o=(32767&(n=this.__digit(t+s+1)))-(u>>>15)-i)>>>15,this.__setDigit(t+e.length,1073709056&n|32767&o))}else{t>>=1;for(var d=0;d<e.length-1;d++){var l=this.__digit(t+d),f=e.__digit(d),p=(32767&l)-(32767&f)-i,A=(l>>>15)-(f>>>15)-(i=1&p>>>15);i=1&A>>>15,this.__setDigit(t+d,(32767&A)<<15|32767&p)}var g=this.__digit(t+d),m=e.__digit(d),y=(32767&g)-(32767&m)-i;i=1&y>>>15;var I=0;0==(1&r)&&(i=1&(I=(g>>>15)-(m>>>15)-i)>>>15),this.__setDigit(t+d,(32767&I)<<15|32767&y)}return i}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,i=this.length-1,n=0;n<i;n++)t=this.__digit(n+1),this.__setDigit(n,1073741823&t<<30-e|r),r=t>>>e;this.__setDigit(i,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 32767&this[e>>>1]>>>15*(1&e)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,i=this.__digit(r),n=1&e?32767&i|t<<15:1073709056&i|32767&t;this.__setDigit(r,n)}}],[{key:"BigInt",value:function(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return a.__zero();if(a.__isOneDigitInt(e))return 0>e?a.__oneDigit(-e,!0):a.__oneDigit(e,!1);if(!t(e)||s(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(e)}if("string"==typeof e){var i=a.__fromString(e);if(null===i)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return i}if("boolean"==typeof e)return!0===e?a.__oneDigit(1,!1):a.__zero();if("object"===r(e)){if(e.constructor===a)return e;var n=a.__toPrimitive(e);return a.BigInt(n)}throw new TypeError("Cannot convert "+e+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var i=e.__digit(t-1),n=a.__clz30(i),o=30*t-n;if(1024<o)return e.sign?-1/0:1/0;var s=o-1,c=i,u=t-1,h=n+3,d=32===h?0:c<<h;d>>>=12;var l=h-12,f=12<=h?0:c<<20+h,p=20+h;for(0<l&&0<u&&(u--,d|=(c=e.__digit(u))>>>30-l,f=c<<l+2,p=l+2);0<p&&0<u;)u--,c=e.__digit(u),f|=30<=p?c<<p-30:c>>>30-p,p-=30;var A=a.__decideRounding(e,p,u,c);if((1===A||0===A&&1==(1&f))&&0==(f=f+1>>>0)&&0!=++d>>>20&&(d=0,1023<++s))return e.sign?-1/0:1/0;var g=e.sign?-2147483648:0;return s=s+1023<<20,a.__kBitConversionInts[1]=g|s|d,a.__kBitConversionInts[0]=f,a.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?a.__absoluteSubOne(e).__trim():a.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return a.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?a.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(r>=a.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var i=1+(0|r/30),n=new a(i,e.sign&&0!=(1&r));n.__initializeDigits();var o=1<<r%30;return n.__setDigit(i-1,o),n}var s=null,c=e;for(0!=(1&r)&&(s=e),r>>=1;0!==r;r>>=1)c=a.multiply(c,c),0!=(1&r)&&(s=null===s?c:a.multiply(s,c));return s}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;var i=new a(r,e.sign!==t.sign);i.__initializeDigits();for(var n=0;n<e.length;n++)a.__multiplyAccumulate(t,e.__digit(n),i,n);return i.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return a.__zero();var r,i=e.sign!==t.sign,n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return i===e.sign?e:a.unaryMinus(e);r=a.__absoluteDivSmall(e,n,null)}else r=a.__absoluteDivLarge(e,t,!0,!1);return r.sign=i,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return e;var r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return a.__zero();var i=a.__absoluteModSmall(e,r);return 0===i?a.__zero():a.__oneDigit(i,e.sign)}var n=a.__absoluteDivLarge(e,t,!1,!0);return n.sign=e.sign,n.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?a.__absoluteAdd(e,t,r):0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,r):a.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,r):a.__absoluteSub(t,e,!r):a.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?a.__rightShiftByAbsolute(e,t):a.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?a.__leftShiftByAbsolute(e,t):a.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>a.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=a.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<a.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=a.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!a.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return a.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length)+1,n=a.__absoluteSubOne(e,r),o=a.__absoluteSubOne(t);return n=a.__absoluteOr(n,o,n),a.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}return a.__absoluteAndNot(e,a.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return a.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=i(e.length,t.length),n=a.__absoluteSubOne(e,r),o=a.__absoluteSubOne(t);return a.__absoluteXor(n,o,n).__trim()}var s=i(e.length,t.length)+1;if(e.sign){var c=[t,e];e=c[0],t=c[1]}var u=a.__absoluteSubOne(t,s);return u=a.__absoluteXor(u,e,u),a.__absoluteAddOne(u,!0,u).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=i(e.length,t.length);if(!e.sign&&!t.sign)return a.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=a.__absoluteSubOne(e,r),o=a.__absoluteSubOne(t);return n=a.__absoluteAnd(n,o,n),a.__absoluteAddOne(n,!0,n).__trim()}if(e.sign){var s=[t,e];e=s[0],t=s[1]}var c=a.__absoluteSubOne(t,r);return c=a.__absoluteAndNot(c,e,c),a.__absoluteAddOne(c,!0,c).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(e>=a.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var i=t.__unsignedDigit(r-1),n=1<<(e-1)%30;if(t.length===r&&i<n)return t;if((i&n)!==n)return a.__truncateToNBits(e,t);if(!t.sign)return a.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(i&n-1)){for(var o=r-2;0<=o;o--)if(0!==t.__digit(o))return a.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&i===n?t:a.__truncateToNBits(e,t)}return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0>(e=s(e)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(t.sign){if(e>a.__kMaxLengthBits)throw new RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=a.__kMaxLengthBits)return t;var r=0|(e+29)/30;if(t.length<r)return t;var i=e%30;if(t.length==r){if(0===i)return t;if(0==t.__digit(r-1)>>>i)return t}return a.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)&&a.__isBigInt(t))return a.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return a.__compare(e,t,0)}},{key:"LE",value:function(e,t){return a.__compare(e,t,1)}},{key:"GT",value:function(e,t){return a.__compare(e,t,2)}},{key:"GE",value:function(e,t){return a.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(a.__isBigInt(e))return a.__isBigInt(t)?a.equal(e,t):a.EQ(t,e);if("number"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,e);if("object"!==r(t))return e==t;t=a.__toPrimitive(t)}else if("string"==typeof e){if(a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.equal(e,t);if("object"!==r(t))return e==t;t=a.__toPrimitive(t)}else if("boolean"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,+e);if("object"!==r(t))return e==t;t=a.__toPrimitive(t)}else if("symbol"===r(e)){if(a.__isBigInt(t))return!1;if("object"!==r(t))return e==t;t=a.__toPrimitive(t)}else{if("object"!==r(e))return e==t;if("object"===r(t)&&t.constructor!==a)return e==t;e=a.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!a.EQ(e,t)}},{key:"DataViewGetBigInt64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return a.asIntN(64,a.DataViewGetBigUint64(e,t,r))}},{key:"DataViewGetBigUint64",value:function(e,t){var r=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=f(r?[4,0]:[0,4],2),n=i[0],o=i[1],s=e.getUint32(t+n,r),c=e.getUint32(t+o,r),u=new a(3,!1);return u.__setDigit(0,1073741823&c),u.__setDigit(1,(268435455&s)<<2|c>>>30),u.__setDigit(2,s>>>28),u.__trim()}},{key:"DataViewSetBigInt64",value:function(e,t,r){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];a.DataViewSetBigUint64(e,t,r,i)}},{key:"DataViewSetBigUint64",value:function(e,t,r){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],n=0,o=0;if(0<(r=a.asUintN(64,r)).length&&(o=r.__digit(0),1<r.length)){var s=r.__digit(1);o|=s<<30,n=s>>>2,2<r.length&&(n|=r.__digit(2)<<28)}var c=f(i?[4,0]:[0,4],2),u=c[0],h=c[1];e.setUint32(t+u,n,i),e.setUint32(t+h,o,i)}},{key:"__zero",value:function(){return new a(0,!1)}},{key:"__oneDigit",value:function(e,t){var r=new a(1,t);return r.__setDigit(0,e),r}},{key:"__decideRounding",value:function(e,t,r,i){if(0<t)return-1;var n;if(0>t)n=-t-1;else{if(0===r)return-1;r--,i=e.__digit(r),n=29}var o=1<<n;if(0==(i&o))return-1;if(0!=(i&(o-=1)))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){a.__kBitConversionDouble[0]=e;var t,r=(2047&a.__kBitConversionInts[1]>>>20)-1023,i=1+(0|r/30),n=new a(i,0>e),o=1048575&a.__kBitConversionInts[1]|1048576,s=a.__kBitConversionInts[0],c=r%30,u=0;if(c<20){var h=20-c;u=h+32,t=o>>>h,o=o<<32-h|s>>>h,s<<=32-h}else if(20===c)u=32,t=o,o=s,s=0;else{var d=c-20;u=32-d,t=o<<d|s>>>32-d,o=s<<d,s=0}n.__setDigit(i-1,t);for(var l=i-2;0<=l;l--)0<u?(u-=30,t=o>>>2,o=o<<30|s>>>2,s<<=30):t=0,n.__setDigit(l,t);return n.__trim()}},{key:"__isWhitespace",value:function(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,i=e.length,n=0;if(n===i)return a.__zero();for(var o=e.charCodeAt(n);a.__isWhitespace(o);){if(++n===i)return a.__zero();o=e.charCodeAt(n)}if(43===o){if(++n===i)return null;o=e.charCodeAt(n),r=1}else if(45===o){if(++n===i)return null;o=e.charCodeAt(n),r=-1}if(0===t){if(t=10,48===o){if(++n===i)return a.__zero();if(88===(o=e.charCodeAt(n))||120===o){if(t=16,++n===i)return null;o=e.charCodeAt(n)}else if(79===o||111===o){if(t=8,++n===i)return null;o=e.charCodeAt(n)}else if(66===o||98===o){if(t=2,++n===i)return null;o=e.charCodeAt(n)}}}else if(16===t&&48===o){if(++n===i)return a.__zero();if(88===(o=e.charCodeAt(n))||120===o){if(++n===i)return null;o=e.charCodeAt(n)}}if(0!==r&&10!==t)return null;for(;48===o;){if(++n===i)return a.__zero();o=e.charCodeAt(n)}var s=i-n,c=a.__kMaxBitsPerChar[t],u=a.__kBitsPerCharTableMultiplier-1;if(s>1073741824/c)return null;var h=new a(0|(29+(c*s+u>>>a.__kBitsPerCharTableShift))/30,!1),d=10>t?t:10,l=10<t?t-10:0;if(0==(t&t-1)){c>>=a.__kBitsPerCharTableShift;var f=[],p=[],A=!1;do{for(var g,m=0,y=0;;){if(g=void 0,o-48>>>0<d)g=o-48;else{if(!((32|o)-97>>>0<l)){A=!0;break}g=(32|o)-87}if(y+=c,m=m<<c|g,++n===i){A=!0;break}if(o=e.charCodeAt(n),30<y+c)break}f.push(m),p.push(y)}while(!A);a.__fillFromParts(h,f,p)}else{h.__initializeDigits();var I=!1,w=0;do{for(var b,v=0,E=1;;){if(b=void 0,o-48>>>0<d)b=o-48;else{if(!((32|o)-97>>>0<l)){I=!0;break}b=(32|o)-87}var C=E*t;if(1073741823<C)break;if(E=C,v=v*t+b,w++,++n===i){I=!0;break}o=e.charCodeAt(n)}var B=0|(c*w+(u=30*a.__kBitsPerCharTableMultiplier-1)>>>a.__kBitsPerCharTableShift)/30;h.__inplaceMultiplyAdd(E,v,B)}while(!I)}if(n!==i){if(!a.__isWhitespace(o))return null;for(n++;n<i;n++)if(o=e.charCodeAt(n),!a.__isWhitespace(o))return null}return h.sign=-1===r,h.__trim()}},{key:"__fillFromParts",value:function(e,t,r){for(var i=0,n=0,o=0,s=t.length-1;0<=s;s--){var a=t[s],c=r[s];n|=a<<o,30===(o+=c)?(e.__setDigit(i++,n),o=0,n=0):30<o&&(e.__setDigit(i++,1073741823&n),n=a>>>c-(o-=30))}if(0!==n){if(i>=e.length)throw new Error("implementation bug");e.__setDigit(i++,n)}for(;i<e.length;i++)e.__setDigit(i,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,i=t-1,n=i=(15&(i=(51&(i=(85&i>>>1)+(85&i))>>>2)+(51&i))>>>4)+(15&i),o=t-1,s=e.__digit(r-1),c=0|(30*r-a.__clz30(s)+n-1)/n;if(e.sign&&c++,268435456<c)throw new Error("string too long");for(var u=Array(c),h=c-1,d=0,l=0,f=0;f<r-1;f++){var p=e.__digit(f),A=(d|p<<l)&o;u[h--]=a.__kConversionChars[A];var g=n-l;for(d=p>>>g,l=30-g;l>=n;)u[h--]=a.__kConversionChars[d&o],d>>>=n,l-=n}var m=(d|s<<l)&o;for(u[h--]=a.__kConversionChars[m],d=s>>>n-l;0!==d;)u[h--]=a.__kConversionChars[d&o],d>>>=n;if(e.sign&&(u[h--]="-"),-1!==h)throw new Error("implementation bug");return u.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var i=e.length;if(0===i)return"";if(1===i){var n=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(n="-"+n),n}var o,s,c=30*i-a.__clz30(e.__digit(i-1)),u=a.__kMaxBitsPerChar[t]-1,h=c*a.__kBitsPerCharTableMultiplier,d=1+(h=0|(h+=u-1)/u)>>1,l=a.exponentiate(a.__oneDigit(t,!1),a.__oneDigit(d,!1)),f=l.__unsignedDigit(0);if(1===l.length&&32767>=f){(o=new a(e.length,!1)).__initializeDigits();for(var p,A=0,g=2*e.length-1;0<=g;g--)p=A<<15|e.__halfDigit(g),o.__setHalfDigit(g,0|p/f),A=0|p%f;s=A.toString(t)}else{var m=a.__absoluteDivLarge(e,l,!0,!0);o=m.quotient;var y=m.remainder.__trim();s=a.__toStringGeneric(y,t,!0)}o.__trim();for(var I=a.__toStringGeneric(o,t,!0);s.length<d;)s="0"+s;return!1===r&&e.sign&&(I="-"+I),I+s}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return a.__unequalSign(r);var i=a.__absoluteCompare(e,t);return 0<i?a.__absoluteGreater(r):0>i?a.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,r){if(a.__isOneDigitInt(r)){var i=e.sign,n=0>r;if(i!==n)return a.__unequalSign(i);if(0===e.length){if(n)throw new Error("implementation bug");return 0===r?0:-1}if(1<e.length)return a.__absoluteGreater(i);var o=t(r),s=e.__unsignedDigit(0);return s>o?a.__absoluteGreater(i):s<o?a.__absoluteLess(i):0}return a.__compareToDouble(e,r)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==0>t)return a.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;a.__kBitConversionDouble[0]=t;var i=2047&a.__kBitConversionInts[1]>>>20;if(2047==i)throw new Error("implementation bug: handled elsewhere");var n=i-1023;if(0>n)return a.__absoluteGreater(r);var o=e.length,s=e.__digit(o-1),c=a.__clz30(s),u=30*o-c,h=n+1;if(u<h)return a.__absoluteLess(r);if(u>h)return a.__absoluteGreater(r);var d=1048576|1048575&a.__kBitConversionInts[1],l=a.__kBitConversionInts[0],f=29-c;if(f!==(0|(u-1)%30))throw new Error("implementation bug");var p,A=0;if(f<20){var g=20-f;A=g+32,p=d>>>g,d=d<<32-g|l>>>g,l<<=32-g}else if(20===f)A=32,p=d,d=l,l=0;else{var m=f-20;A=32-m,p=d<<m|l>>>32-m,d=l<<m,l=0}if((s>>>=0)>(p>>>=0))return a.__absoluteGreater(r);if(s<p)return a.__absoluteLess(r);for(var y=o-2;0<=y;y--){0<A?(A-=30,p=d>>>2,d=d<<30|l>>>2,l<<=30):p=0;var I=e.__unsignedDigit(y);if(I>p)return a.__absoluteGreater(r);if(I<p)return a.__absoluteLess(r)}if(0!==d||0!==l){if(0===A)throw new Error("implementation bug");return a.__absoluteLess(r)}return 0}},{key:"__equalToNumber",value:function(e,r){return a.__isOneDigitInt(r)?0===r?0===e.length:1===e.length&&e.sign===0>r&&e.__unsignedDigit(0)===t(r):0===a.__compareToDouble(e,r)}},{key:"__comparisonResultToBool",value:function(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}},{key:"__compare",value:function(e,t,r){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(a.__isBigInt(e)&&"string"==typeof t)return null!==(t=a.__fromString(t))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if("string"==typeof e&&a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)){if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return a.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:a.unaryMinus(e);var i=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&i++;for(var n,o=new a(i,r),s=0,c=0;c<t.length;c++)s=(n=e.__digit(c)+t.__digit(c)+s)>>>30,o.__setDigit(c,1073741823&n);for(;c<e.length;c++){var u=e.__digit(c)+s;s=u>>>30,o.__setDigit(c,1073741823&u)}return c<o.length&&o.__setDigit(c,s),o.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:a.unaryMinus(e);for(var i,n=new a(e.length,r),o=0,s=0;s<t.length;s++)o=1&(i=e.__digit(s)-t.__digit(s)-o)>>>30,n.__setDigit(s,1073741823&i);for(;s<e.length;s++){var c=e.__digit(s)-o;o=1&c>>>30,n.__setDigit(s,1073741823&c)}return n.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=e.length;null===r?r=new a(i,t):r.sign=t;for(var n,o=1,s=0;s<i;s++)o=(n=e.__digit(s)+o)>>>30,r.__setDigit(s,1073741823&n);return 0!==o&&r.__setDigitGrow(i,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r,i=e.length,n=new a(t=t||i,!1),o=1,s=0;s<i;s++)o=1&(r=e.__digit(s)-o)>>>30,n.__setDigit(s,1073741823&r);if(0!==o)throw new Error("implementation bug");for(var c=i;c<t;c++)n.__setDigit(c,0);return n}},{key:"__absoluteAnd",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=e.length,n=t.length,o=n;if(i<n){o=i;var s=e,c=i;e=t,i=n,t=s,n=c}var u=o;null===r?r=new a(u,!1):u=r.length;for(var h=0;h<o;h++)r.__setDigit(h,e.__digit(h)&t.__digit(h));for(;h<u;h++)r.__setDigit(h,0);return r}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=e.length,n=t.length,o=n;i<n&&(o=i);var s=i;null===r?r=new a(s,!1):s=r.length;for(var c=0;c<o;c++)r.__setDigit(c,e.__digit(c)&~t.__digit(c));for(;c<i;c++)r.__setDigit(c,e.__digit(c));for(;c<s;c++)r.__setDigit(c,0);return r}},{key:"__absoluteOr",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=e.length,n=t.length,o=n;if(i<n){o=i;var s=e,c=i;e=t,i=n,t=s,n=c}var u=i;null===r?r=new a(u,!1):u=r.length;for(var h=0;h<o;h++)r.__setDigit(h,e.__digit(h)|t.__digit(h));for(;h<i;h++)r.__setDigit(h,e.__digit(h));for(;h<u;h++)r.__setDigit(h,0);return r}},{key:"__absoluteXor",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=e.length,n=t.length,o=n;if(i<n){o=i;var s=e,c=i;e=t,i=n,t=s,n=c}var u=i;null===r?r=new a(u,!1):u=r.length;for(var h=0;h<o;h++)r.__setDigit(h,e.__digit(h)^t.__digit(h));for(;h<i;h++)r.__setDigit(h,e.__digit(h));for(;h<u;h++)r.__setDigit(h,0);return r}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var i=e.length-1;0<=i&&e.__digit(i)===t.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>t.__unsignedDigit(i)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,i){if(0!==t){for(var n=32767&t,o=t>>>15,s=0,c=0,u=0;u<e.length;u++,i++){var h=r.__digit(i),d=e.__digit(u),l=32767&d,f=d>>>15,p=a.__imul(l,n),A=a.__imul(l,o),g=a.__imul(f,n);s=(h+=c+p+s)>>>30,h&=1073741823,s+=(h+=((32767&A)<<15)+((32767&g)<<15))>>>30,c=a.__imul(f,o)+(A>>>15)+(g>>>15),r.__setDigit(i,1073741823&h)}for(;0!==s||0!==c;i++){var m=r.__digit(i);m+=s+c,c=0,s=m>>>30,r.__setDigit(i,1073741823&m)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,i,n){for(var o=r,s=0,c=0;c<i;c++){var u=e.__digit(c),h=a.__imul(32767&u,t),d=a.__imul(u>>>15,t),l=h+((32767&d)<<15)+s+o;o=l>>>30,s=d>>>15,n.__setDigit(c,1073741823&l)}if(n.length>i)for(n.__setDigit(i++,o+s);i<n.length;)n.__setDigit(i++,0);else if(0!==o+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r=new a(e.length,!1));for(var i=0,n=2*e.length-1;0<=n;n-=2){var o=(i<<15|e.__halfDigit(n))>>>0,s=0|o/t,c=0|(o=((i=0|o%t)<<15|e.__halfDigit(n-1))>>>0)/t;i=0|o%t,r.__setDigit(n>>>1,s<<15|c)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,i=2*e.length-1;0<=i;i--)r=0|((r<<15|e.__halfDigit(i))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,i){var n=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-n,c=null;r&&(c=new a(s+2>>>1,!1)).__initializeDigits();var u=new a(n+2>>>1,!1);u.__initializeDigits();var h=a.__clz15(t.__halfDigit(n-1));0<h&&(t=a.__specialLeftShift(t,h,0));for(var d=a.__specialLeftShift(e,h,1),l=t.__halfDigit(n-1),f=0,p=s;0<=p;p--){var A=32767,g=d.__halfDigit(p+n);if(g!==l){var m=(g<<15|d.__halfDigit(p+n-1))>>>0;A=0|m/l;for(var y=0|m%l,I=t.__halfDigit(n-2),w=d.__halfDigit(p+n-2);a.__imul(A,I)>>>0>(y<<16|w)>>>0&&(A--,!(32767<(y+=l))););}a.__internalMultiplyAdd(t,A,0,o,u);var b=d.__inplaceSub(u,p,n+1);0!==b&&(b=d.__inplaceAdd(t,p,n),d.__setHalfDigit(p+n,32767&d.__halfDigit(p+n)+b),A--),r&&(1&p?f=A<<15:c.__setDigit(p>>>1,f|A))}if(i)return d.__inplaceRightShift(h),r?{quotient:c,remainder:d}:d;if(r)return c;throw new Error("unreachable")}},{key:"__clz15",value:function(e){return a.__clz30(e)-15}},{key:"__specialLeftShift",value:function(e,t,r){var i=e.length,n=new a(i+r,!1);if(0===t){for(var o=0;o<i;o++)n.__setDigit(o,e.__digit(o));return 0<r&&n.__setDigit(i,0),n}for(var s,c=0,u=0;u<i;u++)s=e.__digit(u),n.__setDigit(u,1073741823&s<<t|c),c=s>>>30-t;return 0<r&&n.__setDigit(i,c),n}},{key:"__leftShiftByAbsolute",value:function(e,t){var r=a.__toShiftAmount(t);if(0>r)throw new RangeError("BigInt too big");var i=0|r/30,n=r%30,o=e.length,s=0!==n&&0!=e.__digit(o-1)>>>30-n,c=o+i+(s?1:0),u=new a(c,e.sign);if(0===n){for(var h=0;h<i;h++)u.__setDigit(h,0);for(;h<c;h++)u.__setDigit(h,e.__digit(h-i))}else{for(var d=0,l=0;l<i;l++)u.__setDigit(l,0);for(var f,p=0;p<o;p++)f=e.__digit(p),u.__setDigit(p+i,1073741823&f<<n|d),d=f>>>30-n;if(s)u.__setDigit(o+i,d);else if(0!==d)throw new Error("implementation bug")}return u.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,i=e.sign,n=a.__toShiftAmount(t);if(0>n)return a.__rightShiftByMaximum(i);var o=0|n/30,s=n%30,c=r-o;if(0>=c)return a.__rightShiftByMaximum(i);var u=!1;if(i)if(0!=(e.__digit(o)&(1<<s)-1))u=!0;else for(var h=0;h<o;h++)if(0!==e.__digit(h)){u=!0;break}u&&0===s&&0==~e.__digit(r-1)&&c++;var d=new a(c,i);if(0===s){d.__setDigit(c-1,0);for(var l=o;l<r;l++)d.__setDigit(l-o,e.__digit(l))}else{for(var f,p=e.__digit(o)>>>s,A=r-o-1,g=0;g<A;g++)f=e.__digit(g+o+1),d.__setDigit(g,1073741823&f<<30-s|p),p=f>>>s;d.__setDigit(A,p)}return u&&(d=a.__absoluteAddOne(d,!0,d)),d.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?a.__oneDigit(1,!0):a.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>a.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==r(e))return e;if(e.constructor===a)return e;if("undefined"!=typeof Symbol&&"symbol"===r(Symbol.toPrimitive)){var i=e[Symbol.toPrimitive];if(i){var n=i(t);if("object"!==r(n))return n;throw new TypeError("Cannot convert object to primitive value")}}var o=e.valueOf;if(o){var s=o.call(e);if("object"!==r(s))return s}var c=e.toString;if(c){var u=c.call(e);if("object"!==r(u))return u}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return a.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===r(e)&&null!==e&&e.constructor===a}},{key:"__truncateToNBits",value:function(e,t){for(var r=0|(e+29)/30,i=new a(r,t.sign),n=r-1,o=0;o<n;o++)i.__setDigit(o,t.__digit(o));var s=t.__digit(n);if(0!=e%30){var c=32-e%30;s=s<<c>>>c}return i.__setDigit(n,s),i.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var i,n=Math.min,o=0|(e+29)/30,s=new a(o,r),c=0,u=o-1,h=0,d=n(u,t.length);c<d;c++)h=1&(i=0-t.__digit(c)-h)>>>30,s.__setDigit(c,1073741823&i);for(;c<u;c++)s.__setDigit(c,0|1073741823&-h);var l,f=u<t.length?t.__digit(u):0,p=e%30;if(0===p)l=0-f-h,l&=1073741823;else{var A=32-p,g=1<<32-A;l=g-(f=f<<A>>>A)-h,l&=g-1}return s.__setDigit(u,l),s.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}},{key:"__isOneDigitInt",value:function(e){return(1073741823&e)===e}}]),a}(h(Array));return g.__kMaxLength=33554432,g.__kMaxLengthBits=g.__kMaxLength<<5,g.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],g.__kBitsPerCharTableShift=5,g.__kBitsPerCharTableMultiplier=1<<g.__kBitsPerCharTableShift,g.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],g.__kBitConversionBuffer=new ArrayBuffer(8),g.__kBitConversionDouble=new Float64Array(g.__kBitConversionBuffer),g.__kBitConversionInts=new Int32Array(g.__kBitConversionBuffer),g.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},g.__imul=e||function(e,t){return 0|e*t},g}()},49461:e=>{"use strict";var t=e.exports=function(e,t,i){"function"==typeof t&&(i=t,t={}),r(t,"function"==typeof(i=t.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e)};function r(e,i,n,o,s,a,c,u,h,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var l in i(o,s,a,c,u,h,d),o){var f=o[l];if(Array.isArray(f)){if(l in t.arrayKeywords)for(var p=0;p<f.length;p++)r(e,i,n,f[p],s+"/"+l+"/"+p,a,s,l,o,p)}else if(l in t.propsKeywords){if(f&&"object"==typeof f)for(var A in f)r(e,i,n,f[A],s+"/"+l+"/"+A.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,l,o,A)}else(l in t.keywords||e.allKeys&&!(l in t.skipKeywords))&&r(e,i,n,f,s+"/"+l,a,s,l,o)}n(o,s,a,c,u,h,d)}}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},96245:(e,t,r)=>{"use strict";function i(e){this.message=e}r.r(t),r.d(t,{InvalidTokenError:()=>s,default:()=>a}),i.prototype=new Error,i.prototype.name="InvalidCharacterError";var n="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,s=0,a="";n=t.charAt(s++);~n&&(r=o%4?64*r+n:n,o++%4)?a+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return a};function o(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(n(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return n(t)}}function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError";const a=function(e,t){if("string"!=typeof e)throw new s("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(o(e.split(".")[r]))}catch(e){throw new s("Invalid token specified: "+e.message)}}},51675:(e,t)=>{"use strict";t.supports=function(...e){const t=e.reduce(((e,t)=>Object.assign(e,t)),{});return Object.assign(t,{snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,getMany:t.getMany||!1,keyIterator:t.keyIterator||!1,valueIterator:t.valueIterator||!1,iteratorNextv:t.iteratorNextv||!1,iteratorAll:t.iteratorAll||!1,status:t.status||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:Object.assign({},t.encodings),events:Object.assign({},t.events),additionalMethods:Object.assign({},t.additionalMethods)})}},58499:(e,t,r)=>{"use strict";const i=r(94473),n=r(8002),{Encoding:o}=r(8266),{BufferFormat:s,ViewFormat:a,UTF8Format:c}=r(82376),u=Symbol("formats"),h=Symbol("encodings"),d=new Set(["buffer","view","utf8"]);t.Transcoder=class{constructor(e){if(!Array.isArray(e))throw new TypeError("The first argument 'formats' must be an array");if(!e.every((e=>d.has(e))))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[h]=new Map,this[u]=new Set(e);for(const e in n)try{this.encoding(e)}catch(e){if("LEVEL_ENCODING_NOT_SUPPORTED"!==e.code)throw e}}encodings(){return Array.from(new Set(this[h].values()))}encoding(e){let t=this[h].get(e);if(void 0===t){if("string"==typeof e&&""!==e){if(t=f[e],!t)throw new i(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof e||null===e)throw new TypeError("First argument 'encoding' must be a string or object");t=function(e){if(e instanceof o)return e;const t="type"in e&&"string"==typeof e.type?e.type:void 0,r=e.name||t||"anonymous-"+p++;switch(function(e){return"format"in e&&void 0!==e.format?e.format:"buffer"in e&&"boolean"==typeof e.buffer?e.buffer?"buffer":"utf8":"code"in e&&Number.isInteger(e.code)?"view":"buffer"}(e)){case"view":return new a({...e,name:r});case"utf8":return new c({...e,name:r});case"buffer":return new s({...e,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(e)}const{name:r,format:n}=t;if(!this[u].has(n))if(this[u].has("view"))t=t.createViewTranscoder();else if(this[u].has("buffer"))t=t.createBufferTranscoder();else{if(!this[u].has("utf8"))throw new i(`Encoding '${r}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});t=t.createUTF8Transcoder()}for(const i of[e,r,t.name,t.commonName])this[h].set(i,t)}return t}};const l={binary:n.buffer,"utf-8":n.utf8},f={...n,...l};let p=0},8266:(e,t,r)=>{"use strict";const i=r(94473),n=new Set(["buffer","view","utf8"]);t.Encoding=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!n.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new i(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new i(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new i(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},8002:(e,t,r)=>{"use strict";const{Buffer:i}=r(48764)||{Buffer:{isBuffer:()=>!1}},{textEncoder:n,textDecoder:o}=r(85850)(),{BufferFormat:s,ViewFormat:a,UTF8Format:c}=r(82376),u=e=>e;t.utf8=new c({encode:function(e){return i.isBuffer(e)?e.toString("utf8"):ArrayBuffer.isView(e)?o.decode(e):String(e)},decode:u,name:"utf8",createViewTranscoder(){return new a({encode:function(e){return ArrayBuffer.isView(e)?e:n.encode(e)},decode:function(e){return o.decode(e)},name:`${this.name}+view`})},createBufferTranscoder(){return new s({encode:function(e){return i.isBuffer(e)?e:ArrayBuffer.isView(e)?i.from(e.buffer,e.byteOffset,e.byteLength):i.from(String(e),"utf8")},decode:function(e){return e.toString("utf8")},name:`${this.name}+buffer`})}}),t.json=new c({encode:JSON.stringify,decode:JSON.parse,name:"json"}),t.buffer=new s({encode:function(e){return i.isBuffer(e)?e:ArrayBuffer.isView(e)?i.from(e.buffer,e.byteOffset,e.byteLength):i.from(String(e),"utf8")},decode:u,name:"buffer",createViewTranscoder(){return new a({encode:function(e){return ArrayBuffer.isView(e)?e:i.from(String(e),"utf8")},decode:function(e){return i.from(e.buffer,e.byteOffset,e.byteLength)},name:`${this.name}+view`})}}),t.view=new a({encode:function(e){return ArrayBuffer.isView(e)?e:n.encode(e)},decode:u,name:"view",createBufferTranscoder(){return new s({encode:function(e){return i.isBuffer(e)?e:ArrayBuffer.isView(e)?i.from(e.buffer,e.byteOffset,e.byteLength):i.from(String(e),"utf8")},decode:u,name:`${this.name}+buffer`})}}),t.hex=new s({encode:function(e){return i.isBuffer(e)?e:i.from(String(e),"hex")},decode:function(e){return e.toString("hex")},name:"hex"}),t.base64=new s({encode:function(e){return i.isBuffer(e)?e:i.from(String(e),"base64")},decode:function(e){return e.toString("base64")},name:"base64"})},82376:(e,t,r)=>{"use strict";const{Buffer:i}=r(48764)||{},{Encoding:n}=r(8266),o=r(85850);class s extends n{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new a({encode:this.encode,decode:e=>this.decode(i.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class a extends n{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new s({encode:e=>{const t=this.encode(e);return i.from(t.buffer,t.byteOffset,t.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}t.BufferFormat=s,t.ViewFormat=a,t.UTF8Format=class extends n{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new s({encode:e=>i.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:e,textDecoder:t}=o();return new a({encode:t=>e.encode(this.encode(t)),decode:e=>this.decode(t.decode(e)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},85850:e=>{"use strict";let t=null;e.exports=function(){return null===t&&(t={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),t}},21301:(e,t,r)=>{t.Level=r(11708).BrowserLevel},62705:(e,t,r)=>{var i=r(55639).Symbol;e.exports=i},44239:(e,t,r)=>{var i=r(62705),n=r(89607),o=r(2333),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?n(e):o(e)}},31957:(e,t,r)=>{var i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=i},85924:(e,t,r)=>{var i=r(5569)(Object.getPrototypeOf,Object);e.exports=i},89607:(e,t,r)=>{var i=r(62705),n=Object.prototype,o=n.hasOwnProperty,s=n.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var i=!0}catch(e){}var n=s.call(e);return i&&(t?e[a]=r:delete e[a]),n}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},55639:(e,t,r)=>{var i=r(31957),n="object"==typeof self&&self&&self.Object===Object&&self,o=i||n||Function("return this")();e.exports=o},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},68630:(e,t,r)=>{var i=r(44239),n=r(85924),o=r(37005),s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,h=c.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=n(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==h}},62318:(e,t,r)=>{"use strict";var i=r(35717),n=r(3349),o=r(89509).Buffer,s=new Array(16);function a(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,i,n,o,s){return c(e+(t&r|~t&i)+n+o|0,s)+t|0}function h(e,t,r,i,n,o,s){return c(e+(t&i|r&~i)+n+o|0,s)+t|0}function d(e,t,r,i,n,o,s){return c(e+(t^r^i)+n+o|0,s)+t|0}function l(e,t,r,i,n,o,s){return c(e+(r^(t|~i))+n+o|0,s)+t|0}i(a,n),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,i=this._b,n=this._c,o=this._d;r=u(r,i,n,o,e[0],3614090360,7),o=u(o,r,i,n,e[1],3905402710,12),n=u(n,o,r,i,e[2],606105819,17),i=u(i,n,o,r,e[3],3250441966,22),r=u(r,i,n,o,e[4],4118548399,7),o=u(o,r,i,n,e[5],1200080426,12),n=u(n,o,r,i,e[6],2821735955,17),i=u(i,n,o,r,e[7],4249261313,22),r=u(r,i,n,o,e[8],1770035416,7),o=u(o,r,i,n,e[9],2336552879,12),n=u(n,o,r,i,e[10],4294925233,17),i=u(i,n,o,r,e[11],2304563134,22),r=u(r,i,n,o,e[12],1804603682,7),o=u(o,r,i,n,e[13],4254626195,12),n=u(n,o,r,i,e[14],2792965006,17),r=h(r,i=u(i,n,o,r,e[15],1236535329,22),n,o,e[1],4129170786,5),o=h(o,r,i,n,e[6],3225465664,9),n=h(n,o,r,i,e[11],643717713,14),i=h(i,n,o,r,e[0],3921069994,20),r=h(r,i,n,o,e[5],3593408605,5),o=h(o,r,i,n,e[10],38016083,9),n=h(n,o,r,i,e[15],3634488961,14),i=h(i,n,o,r,e[4],3889429448,20),r=h(r,i,n,o,e[9],568446438,5),o=h(o,r,i,n,e[14],3275163606,9),n=h(n,o,r,i,e[3],4107603335,14),i=h(i,n,o,r,e[8],1163531501,20),r=h(r,i,n,o,e[13],2850285829,5),o=h(o,r,i,n,e[2],4243563512,9),n=h(n,o,r,i,e[7],1735328473,14),r=d(r,i=h(i,n,o,r,e[12],2368359562,20),n,o,e[5],4294588738,4),o=d(o,r,i,n,e[8],2272392833,11),n=d(n,o,r,i,e[11],1839030562,16),i=d(i,n,o,r,e[14],4259657740,23),r=d(r,i,n,o,e[1],2763975236,4),o=d(o,r,i,n,e[4],1272893353,11),n=d(n,o,r,i,e[7],4139469664,16),i=d(i,n,o,r,e[10],3200236656,23),r=d(r,i,n,o,e[13],681279174,4),o=d(o,r,i,n,e[0],3936430074,11),n=d(n,o,r,i,e[3],3572445317,16),i=d(i,n,o,r,e[6],76029189,23),r=d(r,i,n,o,e[9],3654602809,4),o=d(o,r,i,n,e[12],3873151461,11),n=d(n,o,r,i,e[15],530742520,16),r=l(r,i=d(i,n,o,r,e[2],3299628645,23),n,o,e[0],4096336452,6),o=l(o,r,i,n,e[7],1126891415,10),n=l(n,o,r,i,e[14],2878612391,15),i=l(i,n,o,r,e[5],4237533241,21),r=l(r,i,n,o,e[12],1700485571,6),o=l(o,r,i,n,e[3],2399980690,10),n=l(n,o,r,i,e[10],4293915773,15),i=l(i,n,o,r,e[1],2240044497,21),r=l(r,i,n,o,e[8],1873313359,6),o=l(o,r,i,n,e[15],4264355552,10),n=l(n,o,r,i,e[6],2734768916,15),i=l(i,n,o,r,e[13],1309151649,21),r=l(r,i,n,o,e[4],4149444226,6),o=l(o,r,i,n,e[11],3174756917,10),n=l(n,o,r,i,e[2],718787259,15),i=l(i,n,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},63047:(e,t,r)=>{var i=r(96240),n=r(29931);function o(e){this.rand=e||new n.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var n=new i(this.rand.generate(r))}while(n.cmp(e)>=0);return n},o.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},o.prototype.test=function(e,t,r){var n=e.bitLength(),o=i.mont(e),s=new i(1).toRed(o);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),c=0;!a.testn(c);c++);for(var u=e.shrn(c),h=a.toRed(o);t>0;t--){var d=this._randrange(new i(2),a);r&&r(d);var l=d.toRed(o).redPow(u);if(0!==l.cmp(s)&&0!==l.cmp(h)){for(var f=1;f<c;f++){if(0===(l=l.redSqr()).cmp(s))return!1;if(0===l.cmp(h))break}if(f===c)return!1}}return!0},o.prototype.getDivisor=function(e,t){var r=e.bitLength(),n=i.mont(e),o=new i(1).toRed(n);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),a=0;!s.testn(a);a++);for(var c=e.shrn(a),u=s.toRed(n);t>0;t--){var h=this._randrange(new i(2),s),d=e.gcd(h);if(0!==d.cmpn(1))return d;var l=h.toRed(n).redPow(c);if(0!==l.cmp(o)&&0!==l.cmp(u)){for(var f=1;f<a;f++){if(0===(l=l.redSqr()).cmp(o))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(u))break}if(f===a)return(l=l.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},96240:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(56619).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function u(e,t,r,i){for(var n=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=e.length-1,o=0;n>=0;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var o=e.length-r,s=o%i,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=i)c=u(e,h,h+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],o=0|t.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var h=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=l;f++){var p=u-f|0;h+=(s=(n=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);r=0!=(o=a>>>24-n&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],f=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var A=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?A+r:h[u-A.length]+A+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),h=this.clone();if(c){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,o=0;o<i.length;o++)t=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<r.length;o++)t=(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,o,s=e.words,a=t.words,c=r.words,u=0,h=0|s[0],d=8191&h,l=h>>>13,f=0|s[1],p=8191&f,A=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,I=0|s[3],w=8191&I,b=I>>>13,v=0|s[4],E=8191&v,C=v>>>13,B=0|s[5],S=8191&B,_=B>>>13,Q=0|s[6],D=8191&Q,k=Q>>>13,M=0|s[7],P=8191&M,x=M>>>13,F=0|s[8],R=8191&F,O=F>>>13,T=0|s[9],N=8191&T,U=T>>>13,j=0|a[0],L=8191&j,q=j>>>13,K=0|a[1],H=8191&K,G=K>>>13,z=0|a[2],J=8191&z,Y=z>>>13,V=0|a[3],$=8191&V,W=V>>>13,Z=0|a[4],X=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],oe=8191&ne,se=ne>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,he=0|a[8],de=8191&he,le=he>>>13,fe=0|a[9],pe=8191&fe,Ae=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(i=Math.imul(d,L))|0)+((8191&(n=(n=Math.imul(d,q))+Math.imul(l,L)|0))<<13)|0;u=((o=Math.imul(l,q))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,q))+Math.imul(A,L)|0,o=Math.imul(A,q);var me=(u+(i=i+Math.imul(d,H)|0)|0)+((8191&(n=(n=n+Math.imul(d,G)|0)+Math.imul(l,H)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,L),n=(n=Math.imul(m,q))+Math.imul(y,L)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,G)|0;var ye=(u+(i=i+Math.imul(d,J)|0)|0)+((8191&(n=(n=n+Math.imul(d,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((o=o+Math.imul(l,Y)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,L),n=(n=Math.imul(w,q))+Math.imul(b,L)|0,o=Math.imul(b,q),i=i+Math.imul(m,H)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0;var Ie=(u+(i=i+Math.imul(d,$)|0)|0)+((8191&(n=(n=n+Math.imul(d,W)|0)+Math.imul(l,$)|0))<<13)|0;u=((o=o+Math.imul(l,W)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(E,L),n=(n=Math.imul(E,q))+Math.imul(C,L)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,Y)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,W)|0;var we=(u+(i=i+Math.imul(d,X)|0)|0)+((8191&(n=(n=n+Math.imul(d,ee)|0)+Math.imul(l,X)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(S,L),n=(n=Math.imul(S,q))+Math.imul(_,L)|0,o=Math.imul(_,q),i=i+Math.imul(E,H)|0,n=(n=n+Math.imul(E,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(m,$)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,W)|0,i=i+Math.imul(p,X)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,ee)|0;var be=(u+(i=i+Math.imul(d,re)|0)|0)+((8191&(n=(n=n+Math.imul(d,ie)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ie)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(D,L),n=(n=Math.imul(D,q))+Math.imul(k,L)|0,o=Math.imul(k,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(E,J)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,W)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(m,X)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ie)|0;var ve=(u+(i=i+Math.imul(d,oe)|0)|0)+((8191&(n=(n=n+Math.imul(d,se)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,se)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,q))+Math.imul(x,L)|0,o=Math.imul(x,q),i=i+Math.imul(D,H)|0,n=(n=n+Math.imul(D,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(E,$)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,W)|0,i=i+Math.imul(w,X)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0;var Ee=(u+(i=i+Math.imul(d,ce)|0)|0)+((8191&(n=(n=n+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,L),n=(n=Math.imul(R,q))+Math.imul(O,L)|0,o=Math.imul(O,q),i=i+Math.imul(P,H)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(D,J)|0,n=(n=n+Math.imul(D,Y)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0;var Ce=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(n=(n=n+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(N,L),n=(n=Math.imul(N,q))+Math.imul(U,L)|0,o=Math.imul(U,q),i=i+Math.imul(R,H)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,G)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(D,$)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,W)|0,i=i+Math.imul(S,X)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(E,re)|0,n=(n=n+Math.imul(E,ie)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ie)|0,i=i+Math.imul(w,oe)|0,n=(n=n+Math.imul(w,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(p,de)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Be=(u+(i=i+Math.imul(d,pe)|0)|0)+((8191&(n=(n=n+Math.imul(d,Ae)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(N,H),n=(n=Math.imul(N,G))+Math.imul(U,H)|0,o=Math.imul(U,G),i=i+Math.imul(R,J)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(D,X)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,ee)|0,i=i+Math.imul(S,re)|0,n=(n=n+Math.imul(S,ie)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0,i=i+Math.imul(m,de)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,le)|0;var Se=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(N,J),n=(n=Math.imul(N,Y))+Math.imul(U,J)|0,o=Math.imul(U,Y),i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(D,re)|0,n=(n=n+Math.imul(D,ie)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ie)|0,i=i+Math.imul(S,oe)|0,n=(n=n+Math.imul(S,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,i=i+Math.imul(E,ce)|0,n=(n=n+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,i=i+Math.imul(w,de)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var _e=(u+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(N,$),n=(n=Math.imul(N,W))+Math.imul(U,$)|0,o=Math.imul(U,W),i=i+Math.imul(R,X)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,ee)|0,i=i+Math.imul(P,re)|0,n=(n=n+Math.imul(P,ie)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,i=i+Math.imul(S,ce)|0,n=(n=n+Math.imul(S,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(E,de)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,le)|0;var Qe=(u+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,Ae)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,i=Math.imul(N,X),n=(n=Math.imul(N,ee))+Math.imul(U,X)|0,o=Math.imul(U,ee),i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ie)|0,i=i+Math.imul(P,oe)|0,n=(n=n+Math.imul(P,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,i=i+Math.imul(D,ce)|0,n=(n=n+Math.imul(D,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,i=i+Math.imul(S,de)|0,n=(n=n+Math.imul(S,le)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,le)|0;var De=(u+(i=i+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(N,re),n=(n=Math.imul(N,ie))+Math.imul(U,re)|0,o=Math.imul(U,ie),i=i+Math.imul(R,oe)|0,n=(n=n+Math.imul(R,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,i=i+Math.imul(P,ce)|0,n=(n=n+Math.imul(P,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,i=i+Math.imul(D,de)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var ke=(u+(i=i+Math.imul(S,pe)|0)|0)+((8191&(n=(n=n+Math.imul(S,Ae)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(N,oe),n=(n=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,i=i+Math.imul(P,de)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,le)|0;var Me=(u+(i=i+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(N,ce),n=(n=Math.imul(N,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),i=i+Math.imul(R,de)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Pe=(u+(i=i+Math.imul(P,pe)|0)|0)+((8191&(n=(n=n+Math.imul(P,Ae)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,Ae)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(N,de),n=(n=Math.imul(N,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var xe=(u+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(u+(i=Math.imul(N,pe))|0)+((8191&(n=(n=Math.imul(N,Ae))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,Ae))+(n>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=Ie,c[4]=we,c[5]=be,c[6]=ve,c[7]=Ee,c[8]=Ce,c[9]=Be,c[10]=Se,c[11]=_e,c[12]=Qe,c[13]=De,c[14]=ke,c[15]=Me,c[16]=Pe,c[17]=xe,c[18]=Fe,0!==u&&(c[19]=u,r.length++),r};function A(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),o.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h=o-u,d=(0|e.words[h])*(0|t.words[u]),l=67108863&d;a=67108863&(l=l+a|0),n+=(s=(s=s+(d/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,e,t):A(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},g.prototype.permute=function(e,t,r,i,n,o){for(var s=0;s<o;s++)i[s]=t[e[s]],n[s]=r[e[s]]},g.prototype.transform=function(e,t,r,i,n,o){this.permute(o,e,t,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<n;h+=a)for(var d=c,l=u,f=0;f<s;f++){var p=r[h+f],A=i[h+f],g=r[h+f+s],m=i[h+f+s],y=d*g-l*m;m=d*m+l*g,g=y,r[h+f]=p+g,i[h+f]=A+m,r[h+f+s]=p-g,i[h+f+s]=A-m,f!==a&&(y=c*d-u*l,l=c*l+u*d,d=y)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},g.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},g.prototype.convert13b=function(e,t,r,n){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<n;++s)r[s]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=new Array(i),l=r.words;l.length=i,this.convert13b(e.words,e.length,s,i),this.convert13b(t.words,t.length,u,i),this.transform(s,o,a,c,i,n),this.transform(u,o,h,d,i,n);for(var f=0;f<i;f++){var p=a[f]*h[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*h[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,l,o,i,n),this.conjugate(l,o,i),this.normalize13b(l,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),A(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var n;i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var d=0|this.words[u];this.words[u]=h<<26-o|d>>>o,h=d&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r||!(this.words[r]&n))},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,o,s=e.length+r;this._expand(s);var a=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!=(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var h=i.clone()._ishlnsubmul(n,1,c);0===h.negative&&(i=h,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|i.words[n.length+d])+(0|i.words[n.length+d-1]);for(l=Math.min(l/s|0,67108863),i._ishlnsubmul(n,l,d);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,d),i.isZero()||(i.negative^=1);a&&(a.words[d]=l)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},o.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:n,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(h),s.isub(d)),n.iushrn(1),s.iushrn(1);for(var p=0,A=1;0==(r.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),s.isub(c)):(r.isub(t),a.isub(n),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,l=1;0==(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(n=0===t.cmpn(1)?s:a).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var o=t;t=r,r=o}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(I,y),I.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[n-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},I.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(b,y),n(v,y),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new I;else if("p224"===e)t=new w;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return m[e]=t,t},E.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var d=this.pow(h,n),l=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=s;0!==f.cmp(a);){for(var A=f,g=0;0!==A.cmp(a);g++)A=A.redSqr();i(g<p);var m=this.pow(d,new o(1).iushln(p-g-1));l=l.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],h=c-1;h>=0;h--){var d=u>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===i&&0===h)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}c=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},n(C,E),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},79746:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},34504:(e,t)=>{"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",r=0;r<e.length;r++)t+=i(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16));else for(i=0;i<e.length;i++){var n=e.charCodeAt(i),o=n>>8,s=255&n;o?r.push(o,s):r.push(s)}return r},r.zero2=i,r.toHex=n,r.encode=function(e,t){return"hex"===t?n(e):e}},94473:e=>{"use strict";e.exports=class extends Error{constructor(e,t){super(e||""),"object"==typeof t&&null!==t&&(t.code&&(this.code=String(t.code)),t.expected&&(this.expected=!0),t.transient&&(this.transient=!0),t.cause&&(this.cause=t.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},57824:e=>{var t=1e3,r=60*t,i=60*r,n=24*i;function o(e,t,r,i){var n=t>=1.5*r;return Math.round(e/r)+" "+i+(n?"s":"")}e.exports=function(e,s){s=s||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*n;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(a=e,(c=Math.abs(a))>=n?o(a,c,n,"day"):c>=i?o(a,c,i,"hour"):c>=r?o(a,c,r,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=n?Math.round(e/n)+"d":o>=i?Math.round(e/i)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},80556:(e,t,r)=>{"use strict";const{encodeText:i}=r(82413);e.exports=class{constructor(e,t,r,n){this.name=e,this.code=t,this.codeBuf=i(this.code),this.alphabet=n,this.codec=r(n)}encode(e){return this.codec.encode(e)}decode(e){for(const t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}}},25077:(e,t,r)=>{"use strict";const i=r(28820),n=r(80556),{rfc4648:o}=r(36727),{decodeText:s,encodeText:a}=r(82413),c=[["identity","\0",()=>({encode:s,decode:a}),""],["base2","0",o(1),"01"],["base8","7",o(3),"01234567"],["base10","9",i,"0123456789"],["base16","f",o(4),"0123456789abcdef"],["base16upper","F",o(4),"0123456789ABCDEF"],["base32hex","v",o(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",o(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",o(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",o(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",o(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",i,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",i,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",i,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",i,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],u=c.reduce(((e,t)=>(e[t[0]]=new n(t[0],t[1],t[2],t[3]),e)),{}),h=c.reduce(((e,t)=>(e[t[1]]=u[t[0]],e)),{});e.exports={names:u,codes:h}},36957:(e,t,r)=>{"use strict";const i=r(25077),{encodeText:n,decodeText:o,concat:s}=r(82413);function a(e){if(Object.prototype.hasOwnProperty.call(i.names,e))return i.names[e];if(Object.prototype.hasOwnProperty.call(i.codes,e))return i.codes[e];throw new Error(`Unsupported encoding: ${e}`)}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");const{name:r,codeBuf:i}=a(e);return function(e,t){a(e).decode(o(t))}(r,t),s([i,t],i.length+t.length)}).encode=function(e,t){const r=a(e),i=n(r.encode(t));return s([r.codeBuf,i],r.codeBuf.length+i.length)},t.decode=function(e){e instanceof Uint8Array&&(e=o(e));const t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),a(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=o(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return a(e[0]).name}catch(e){return!1}},t.encoding=a,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=o(e)),a(e[0])};const c=Object.freeze(i.names),u=Object.freeze(i.codes);t.names=c,t.codes=u},36727:e=>{"use strict";e.exports={rfc4648:e=>t=>({encode:r=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(r,t,e),decode:r=>((e,t,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let n=e.length;for(;"="===e[n-1];)--n;const o=new Uint8Array(n*r/8|0);let s=0,a=0,c=0;for(let t=0;t<n;++t){const n=i[e[t]];if(void 0===n)throw new SyntaxError("Invalid character "+e[t]);a=a<<r|n,s+=r,s>=8&&(s-=8,o[c++]=255&a>>s)}if(s>=r||255&a<<8-s)throw new SyntaxError("Unexpected end of data");return o})(r,t,e)})}},82413:e=>{"use strict";const t=new TextDecoder,r=new TextEncoder;e.exports={decodeText:e=>t.decode(e),encodeText:e=>r.encode(e),concat:function(e,t){const r=new Uint8Array(t);let i=0;for(const t of e)r.set(t,i),i+=t.length;return r}}},2623:e=>{e.exports=function e(i,n){var o,s=0,a=0,c=n=n||0,u=i.length;do{if(c>=u)throw e.bytes=0,new RangeError("Could not decode varint");o=i[c++],s+=a<28?(o&r)<<a:(o&r)*Math.pow(2,a),a+=7}while(o>=t);return e.bytes=c-n,s};var t=128,r=127},13657:e=>{e.exports=function e(n,o,s){o=o||[];for(var a=s=s||0;n>=i;)o[s++]=255&n|t,n/=128;for(;n&r;)o[s++]=255&n|t,n>>>=7;return o[s]=0|n,e.bytes=s-a+1,o};var t=128,r=-128,i=Math.pow(2,31)},88414:(e,t,r)=>{e.exports={encode:r(13657),decode:r(2623),encodingLength:r(58078)}},58078:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),n=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<i?3:e<n?4:e<o?5:e<s?6:e<a?7:e<c?8:e<u?9:10}},71291:e=>{"use strict";const t=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:t}},18370:(e,t,r)=>{"use strict";const i=r(36957),n=r(88414),{names:o}=r(71291),{toString:s}=r(864),{fromString:a}=r(17105),{concat:c}=r(79114),u={};for(const e in o){const t=e;u[o[t]]=t}function h(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const t=n.decode(e);if(!f(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(n.decode.bytes);const r=n.decode(e);if(r<0)throw new Error(`multihash invalid length: ${r}`);if((e=e.slice(n.decode.bytes)).length!==r)throw new Error(`multihash length inconsistent: 0x${s(e,"base16")}`);return{code:t,name:u[t],length:r,digest:e}}function d(e){let t=e;if("string"==typeof e){if(void 0===o[e])throw new Error(`Unrecognized hash function named: ${e}`);t=o[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(void 0===u[t]&&!l(t))throw new Error(`Unrecognized function code: ${t}`);return t}function l(e){return e>0&&e<16}function f(e){return!!l(e)||!!u[e]}function p(e){h(e)}Object.freeze(u),e.exports={names:o,codes:u,toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return s(e,"base16")},fromHexString:function(e){return a(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return s(i.encode("base58btc",e)).slice(1)},fromB58String:function(e){const t=e instanceof Uint8Array?s(e):e;return i.decode("z"+t)},decode:h,encode:function(e,t,r){if(!e||void 0===t)throw new Error("multihash encode requires at least two args: digest, code");const i=d(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==r&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");const o=n.encode(i),s=n.encode(r);return c([o,s,e],o.length+s.length+e.length)},coerceCode:d,isAppCode:l,validate:p,prefix:function(e){return p(e),e.subarray(0,2)},isValidCode:f}},40469:(e,t,r)=>{e.exports=r(18027)},18027:function(e,t){!function(r,i){"use strict";var n={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function c(e){return e=s(e^=e>>>16,2246822507),(e=s(e^=e>>>13,3266489909))^e>>>16}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function h(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function d(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function l(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function f(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=f(e,[0,e[0]>>>1]),e=f(e=h(e,[4283543511,3981806797]),[0,e[0]>>>1]),f(e=h(e,[3301882366,444984403]),[0,e[0]>>>1])}n.x86.hash32=function(e,t){if(n.inputValidation&&!o(e))return i;t=t||0;for(var r=e.length%4,u=e.length-r,h=t,d=0,l=3432918353,f=461845907,p=0;p<u;p+=4)d=s(d=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,l),d=s(d=a(d,15),f),h=s(h=a(h^=d,13),5)+3864292196;switch(d=0,r){case 3:d^=e[p+2]<<16;case 2:d^=e[p+1]<<8;case 1:d=s(d^=e[p],l),h^=d=s(d=a(d,15),f)}return(h=c(h^=e.length))>>>0},n.x86.hash128=function(e,t){if(n.inputValidation&&!o(e))return i;t=t||0;for(var r=e.length%16,u=e.length-r,h=t,d=t,l=t,f=t,p=0,A=0,g=0,m=0,y=597399067,I=2869860233,w=951274213,b=2716044179,v=0;v<u;v+=16)p=e[v]|e[v+1]<<8|e[v+2]<<16|e[v+3]<<24,A=e[v+4]|e[v+5]<<8|e[v+6]<<16|e[v+7]<<24,g=e[v+8]|e[v+9]<<8|e[v+10]<<16|e[v+11]<<24,m=e[v+12]|e[v+13]<<8|e[v+14]<<16|e[v+15]<<24,p=a(p=s(p,y),15),h=a(h^=p=s(p,I),19),h=s(h+=d,5)+1444728091,A=a(A=s(A,I),16),d=a(d^=A=s(A,w),17),d=s(d+=l,5)+197830471,g=a(g=s(g,w),17),l=a(l^=g=s(g,b),15),l=s(l+=f,5)+2530024501,m=a(m=s(m,b),18),f=a(f^=m=s(m,y),13),f=s(f+=h,5)+850148119;switch(p=0,A=0,g=0,m=0,r){case 15:m^=e[v+14]<<16;case 14:m^=e[v+13]<<8;case 13:m=s(m^=e[v+12],b),f^=m=s(m=a(m,18),y);case 12:g^=e[v+11]<<24;case 11:g^=e[v+10]<<16;case 10:g^=e[v+9]<<8;case 9:g=s(g^=e[v+8],w),l^=g=s(g=a(g,17),b);case 8:A^=e[v+7]<<24;case 7:A^=e[v+6]<<16;case 6:A^=e[v+5]<<8;case 5:A=s(A^=e[v+4],I),d^=A=s(A=a(A,16),w);case 4:p^=e[v+3]<<24;case 3:p^=e[v+2]<<16;case 2:p^=e[v+1]<<8;case 1:p=s(p^=e[v],y),h^=p=s(p=a(p,15),I)}return h^=e.length,h+=d^=e.length,h+=l^=e.length,d+=h+=f^=e.length,l+=h,f+=h,h=c(h),h+=d=c(d),h+=l=c(l),d+=h+=f=c(f),l+=h,f+=h,("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)},n.x64.hash128=function(e,t){if(n.inputValidation&&!o(e))return i;t=t||0;for(var r=e.length%16,s=e.length-r,a=[0,t],c=[0,t],A=[0,0],g=[0,0],m=[2277735313,289559509],y=[1291169091,658871167],I=0;I<s;I+=16)A=[e[I+4]|e[I+5]<<8|e[I+6]<<16|e[I+7]<<24,e[I]|e[I+1]<<8|e[I+2]<<16|e[I+3]<<24],g=[e[I+12]|e[I+13]<<8|e[I+14]<<16|e[I+15]<<24,e[I+8]|e[I+9]<<8|e[I+10]<<16|e[I+11]<<24],A=d(A=h(A,m),31),a=u(a=d(a=f(a,A=h(A,y)),27),c),a=u(h(a,[0,5]),[0,1390208809]),g=d(g=h(g,y),33),c=u(c=d(c=f(c,g=h(g,m)),31),a),c=u(h(c,[0,5]),[0,944331445]);switch(A=[0,0],g=[0,0],r){case 15:g=f(g,l([0,e[I+14]],48));case 14:g=f(g,l([0,e[I+13]],40));case 13:g=f(g,l([0,e[I+12]],32));case 12:g=f(g,l([0,e[I+11]],24));case 11:g=f(g,l([0,e[I+10]],16));case 10:g=f(g,l([0,e[I+9]],8));case 9:g=h(g=f(g,[0,e[I+8]]),y),c=f(c,g=h(g=d(g,33),m));case 8:A=f(A,l([0,e[I+7]],56));case 7:A=f(A,l([0,e[I+6]],48));case 6:A=f(A,l([0,e[I+5]],40));case 5:A=f(A,l([0,e[I+4]],32));case 4:A=f(A,l([0,e[I+3]],24));case 3:A=f(A,l([0,e[I+2]],16));case 2:A=f(A,l([0,e[I+1]],8));case 1:A=h(A=f(A,[0,e[I]]),m),a=f(a,A=h(A=d(A,31),y))}return a=u(a=f(a,[0,e.length]),c=f(c,[0,e.length])),c=u(c,a),a=u(a=p(a),c=p(c)),c=u(c,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=n),t.murmurHash3=n}()},29204:e=>{e.exports=function e(r,i){if(!r){var n=new t(i);throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}};class t extends Error{}t.prototype.name="AssertionError"},70631:(e,t,r)=>{var i="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=i&&n&&"function"==typeof n.get?n.get:null,s=i&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&c&&"function"==typeof c.get?c.get:null,h=a&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,l="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,A=Object.prototype.toString,g=Function.prototype.toString,m=String.prototype.match,y=String.prototype.slice,I=String.prototype.replace,w=String.prototype.toUpperCase,b=String.prototype.toLowerCase,v=RegExp.prototype.test,E=Array.prototype.concat,C=Array.prototype.join,B=Array.prototype.slice,S=Math.floor,_="function"==typeof BigInt?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,M="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,P=Object.prototype.propertyIsEnumerable,x=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function F(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||v.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-S(-e):S(e);if(i!==e){var n=String(i),o=y.call(t,n.length+1);return I.call(n,r,"$&_")+"."+I.call(I.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return I.call(t,r,"$&_")}var R=r(24654),O=R.custom,T=q(O)?O:null;function N(e,t,r){var i="double"===(r.quoteStyle||t)?'"':"'";return i+e+i}function U(e){return I.call(String(e),/"/g,"&quot;")}function j(e){return!("[object Array]"!==G(e)||M&&"object"==typeof e&&M in e)}function L(e){return!("[object RegExp]"!==G(e)||M&&"object"==typeof e&&M in e)}function q(e){if(k)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!D)return!1;try{return D.call(e),!0}catch(e){}return!1}e.exports=function e(t,i,n,a){var c=i||{};if(H(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var A=!H(c,"customInspect")||c.customInspect;if("boolean"!=typeof A&&"symbol"!==A)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var w=c.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return J(t,c);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var v=String(t);return w?F(t,v):v}if("bigint"==typeof t){var S=String(t)+"n";return w?F(t,S):S}var Q=void 0===c.depth?5:c.depth;if(void 0===n&&(n=0),n>=Q&&Q>0&&"object"==typeof t)return j(t)?"[Array]":"[Object]";var O,K=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=C.call(Array(e.indent+1)," ")}return{base:r,prev:C.call(Array(t+1),r)}}(c,n);if(void 0===a)a=[];else if(z(a,t)>=0)return"[Circular]";function Y(t,r,i){if(r&&(a=B.call(a)).push(r),i){var o={depth:c.depth};return H(c,"quoteStyle")&&(o.quoteStyle=c.quoteStyle),e(t,o,n+1,a)}return e(t,c,n+1,a)}if("function"==typeof t&&!L(t)){var ee=function(e){if(e.name)return e.name;var t=m.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),te=X(t,Y);return"[Function"+(ee?": "+ee:" (anonymous)")+"]"+(te.length>0?" { "+C.call(te,", ")+" }":"")}if(q(t)){var re=k?I.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(t);return"object"!=typeof t||k?re:V(re)}if((O=t)&&"object"==typeof O&&("undefined"!=typeof HTMLElement&&O instanceof HTMLElement||"string"==typeof O.nodeName&&"function"==typeof O.getAttribute)){for(var ie="<"+b.call(String(t.nodeName)),ne=t.attributes||[],oe=0;oe<ne.length;oe++)ie+=" "+ne[oe].name+"="+N(U(ne[oe].value),"double",c);return ie+=">",t.childNodes&&t.childNodes.length&&(ie+="..."),ie+"</"+b.call(String(t.nodeName))+">"}if(j(t)){if(0===t.length)return"[]";var se=X(t,Y);return K&&!function(e){for(var t=0;t<e.length;t++)if(z(e[t],"\n")>=0)return!1;return!0}(se)?"["+Z(se,K)+"]":"[ "+C.call(se,", ")+" ]"}if(function(e){return!("[object Error]"!==G(e)||M&&"object"==typeof e&&M in e)}(t)){var ae=X(t,Y);return"cause"in Error.prototype||!("cause"in t)||P.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+C.call(ae,", ")+" }":"{ ["+String(t)+"] "+C.call(E.call("[cause]: "+Y(t.cause),ae),", ")+" }"}if("object"==typeof t&&A){if(T&&"function"==typeof t[T]&&R)return R(t,{depth:Q-n});if("symbol"!==A&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ce=[];return s&&s.call(t,(function(e,r){ce.push(Y(r,t,!0)+" => "+Y(e,t))})),W("Map",o.call(t),ce,K)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ue=[];return h&&h.call(t,(function(e){ue.push(Y(e,t))})),W("Set",u.call(t),ue,K)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{l.call(e,l)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return $("WeakMap");if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e,l);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return $("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return $("WeakRef");if(function(e){return!("[object Number]"!==G(e)||M&&"object"==typeof e&&M in e)}(t))return V(Y(Number(t)));if(function(e){if(!e||"object"!=typeof e||!_)return!1;try{return _.call(e),!0}catch(e){}return!1}(t))return V(Y(_.call(t)));if(function(e){return!("[object Boolean]"!==G(e)||M&&"object"==typeof e&&M in e)}(t))return V(p.call(t));if(function(e){return!("[object String]"!==G(e)||M&&"object"==typeof e&&M in e)}(t))return V(Y(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==G(e)||M&&"object"==typeof e&&M in e)}(t)&&!L(t)){var he=X(t,Y),de=x?x(t)===Object.prototype:t instanceof Object||t.constructor===Object,le=t instanceof Object?"":"null prototype",fe=!de&&M&&Object(t)===t&&M in t?y.call(G(t),8,-1):le?"Object":"",pe=(de||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(fe||le?"["+C.call(E.call([],fe||[],le||[]),": ")+"] ":"");return 0===he.length?pe+"{}":K?pe+"{"+Z(he,K)+"}":pe+"{ "+C.call(he,", ")+" }"}return String(t)};var K=Object.prototype.hasOwnProperty||function(e){return e in this};function H(e,t){return K.call(e,t)}function G(e){return A.call(e)}function z(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function J(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return J(y.call(e,0,t.maxStringLength),t)+i}return N(I.call(I.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function V(e){return"Object("+e+")"}function $(e){return e+" { ? }"}function W(e,t,r,i){return e+" ("+t+") {"+(i?Z(r,i):C.call(r,", "))+"}"}function Z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+C.call(e,","+r)+"\n"+t.prev}function X(e,t){var r=j(e),i=[];if(r){i.length=e.length;for(var n=0;n<e.length;n++)i[n]=H(e,n)?t(e[n],e):""}var o,s="function"==typeof Q?Q(e):[];if(k){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in e)H(e,c)&&(r&&String(Number(c))===c&&c<e.length||k&&o["$"+c]instanceof Symbol||(v.call(/[^\w$]/,c)?i.push(t(c,e)+": "+t(e[c],e)):i.push(c+": "+t(e[c],e))));if("function"==typeof Q)for(var u=0;u<s.length;u++)P.call(e,s[u])&&i.push("["+t(s[u])+"]: "+t(e[s[u]],e));return i}},18987:(e,t,r)=>{"use strict";var i;if(!Object.keys){var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(21414),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!l["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();i=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),i=s(e),a=t&&"[object String]"===o.call(e),l=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var p=u&&r;if(a&&e.length>0&&!n.call(e,0))for(var A=0;A<e.length;++A)l.push(String(A));if(i&&e.length>0)for(var g=0;g<e.length;++g)l.push(String(g));else for(var m in e)p&&"prototype"===m||!n.call(e,m)||l.push(String(m));if(c)for(var y=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(e){return!1}}(e),I=0;I<h.length;++I)y&&"constructor"===h[I]||!n.call(e,h[I])||l.push(h[I]);return l}}e.exports=i},82215:(e,t,r)=>{"use strict";var i=Array.prototype.slice,n=r(21414),o=Object.keys,s=o?function(e){return o(e)}:r(18987),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return n(e)?a(i.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),i="[object Arguments]"===r;return i||(i="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),i}},52818:(e,t,r)=>{"use strict";var i=r(39809);t.certificate=r(41934);var n=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=n;var o=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var s=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));t.PublicKey=s;var a=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var h=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=h,t.DSAparam=i.define("DSAparam",(function(){this.int()}));var d=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(l),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=d;var l=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},41934:(e,t,r)=>{"use strict";var i=r(39809),n=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),s=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())})),c=i.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=i.define("RDNSequence",(function(){this.seqof(c)})),h=i.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),d=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))})),l=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(s),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())})),p=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(s),this.key("signatureValue").bitstr())}));e.exports=p},77631:(e,t,r)=>{var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,s=r(13048),a=r(44696),c=r(89509).Buffer;e.exports=function(e,t){var r,u=e.toString(),h=u.match(i);if(h){var d="aes"+h[1],l=c.from(h[2],"hex"),f=c.from(h[3].replace(/[\r\n]/g,""),"base64"),p=s(t,l.slice(0,8),parseInt(h[1],10)).key,A=[],g=a.createDecipheriv(d,p,l);A.push(g.update(f)),A.push(g.final()),r=c.concat(A)}else{var m=u.match(o);r=c.from(m[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(n)[1],data:r}}},70980:(e,t,r)=>{var i=r(52818),n=r(22562),o=r(77631),s=r(44696),a=r(25632),c=r(89509).Buffer;function u(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,u,h=o(e,t),d=h.tag,l=h.data;switch(d){case"CERTIFICATE":u=i.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=i.PublicKey.decode(l,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=i.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":l=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=n[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,h=e.subjectPrivateKey,d=parseInt(o.split("-")[1],10)/8,l=a.pbkdf2Sync(t,r,i,d,"sha1"),f=s.createDecipheriv(o,l,u),p=[];return p.push(f.update(h)),p.push(f.final()),c.concat(p)}(l=i.EncryptedPrivateKey.decode(l,"der"),t);case"PRIVATE KEY":switch(r=(u=i.PrivateKey.decode(l,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:i.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=i.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return{curve:(l=i.ECPrivateKey.decode(l,"der")).parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+d)}}e.exports=u,u.signature=i.signature},25632:(e,t,r)=>{t.pbkdf2=r(88638),t.pbkdf2Sync=r(91257)},88638:(e,t,r)=>{var i,n,o=r(89509).Buffer,s=r(77357),a=r(12368),c=r(91257),u=r(57777),h=r.g.crypto&&r.g.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},l=[];function f(){return n||(n=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(e,t,r,i,n){return h.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return h.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:n}},e,i<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,t,n,A,g,m){"function"==typeof g&&(m=g,g=void 0);var y=d[(g=g||"sha1").toLowerCase()];if(y&&"function"==typeof r.g.Promise){if(s(n,A),e=u(e,a,"Password"),t=u(t,a,"Salt"),"function"!=typeof m)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){f()((function(){t(null,e)}))}),(function(e){f()((function(){t(e)}))}))}(function(e){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==l[e])return l[e];var t=p(i=i||o.alloc(8),i,10,128,e).then((function(){return!0})).catch((function(){return!1}));return l[e]=t,t}(y).then((function(r){return r?p(e,t,n,A,y):c(e,t,n,A,g)})),m)}else f()((function(){var r;try{r=c(e,t,n,A,g)}catch(e){return m(e)}m(null,r)}))}},12368:(e,t,r)=>{var i,n=r(34155);i=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=i},77357:e=>{var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>t||r!=r)throw new TypeError("Bad key length")}},91257:(e,t,r)=>{var i=r(78028),n=r(79785),o=r(89072),s=r(89509).Buffer,a=r(77357),c=r(12368),u=r(57777),h=s.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function l(e,t,r){var a=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new n).update(e).digest()}:"md5"===e?i:function(t){return o(e).update(t).digest()}}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=a(t):t.length<c&&(t=s.concat([t,h],c));for(var u=s.allocUnsafe(c+d[e]),l=s.allocUnsafe(c+d[e]),f=0;f<c;f++)u[f]=54^t[f],l[f]=92^t[f];var p=s.allocUnsafe(c+r+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=l,this.alg=e,this.blocksize=c,this.hash=a,this.size=d[e]}l.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,i,n){a(r,i);var o=new l(n=n||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),h=s.allocUnsafe(i),f=s.allocUnsafe(t.length+4);t.copy(f,0,0,t.length);for(var p=0,A=d[n],g=Math.ceil(i/A),m=1;m<=g;m++){f.writeUInt32BE(m,t.length);for(var y=o.run(f,o.ipad1),I=y,w=1;w<r;w++){I=o.run(I,o.ipad2);for(var b=0;b<A;b++)y[b]^=I[b]}y.copy(h,p),p+=A}return h}},57777:(e,t,r)=>{var i=r(89509).Buffer;e.exports=function(e,t,r){if(i.isBuffer(e))return e;if("string"==typeof e)return i.from(e,t);if(ArrayBuffer.isView(e))return i.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},34155:e=>{var t,r,i=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],u=!1,h=-1;function d(){u&&a&&(u=!1,a.length?c=a.concat(c):h=-1,c.length&&l())}function l(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(a=c,c=[];++h<t;)a&&a[h].run();h=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(l)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},7900:(e,t,r)=>{t.publicEncrypt=r(16559),t.privateDecrypt=r(26138),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},99199:(e,t,r)=>{var i=r(23482),n=r(89509).Buffer;function o(e){var t=n.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,s=n.alloc(0),a=0;s.length<t;)r=o(a++),s=n.concat([s,i("sha1").update(e).update(r).digest()]);return s.slice(0,t)}},92144:function(e,t,r){!function(e,t){"use strict";function i(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(77108).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var i=a(e,r);return r-1>=t&&(i|=a(e,r-1)<<4),i}function u(e,t,r,i){for(var n=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;n*=i,n+=a>=49?a-49+10:a>=17?a-17+10:a}return n}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),i(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(i(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(i("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,s,a=0;if("be"===r)for(n=e.length-1,o=0;n>=0;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(n=0,o=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,s=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=c(e,t,i)<<o,this.words[s]|=67108863&n,o>=18?(o-=18,s+=1,this.words[s]|=n>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var o=e.length-r,s=o%i,a=Math.min(o,o-s)+r,c=0,h=r;h<a;h+=i)c=u(e,h,h+i,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var d=1;for(c=u(e,h,e.length,t),h=0;h<s;h++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],o=0|t.words[0],s=n*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<i;u++){for(var h=c>>>26,d=67108863&c,l=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=l;f++){var p=u-f|0;h+=(s=(n=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}r.words[u]=0|d,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var n=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<n|o)).toString(16);r=0!=(o=a>>>24-n&16777215)||s!==this.length-1?h[6-c.length]+c+r:c+r,(n+=2)>=26&&(n-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],f=l[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var A=p.modn(f).toString(e);r=(p=p.idivn(f)).isZero()?A+r:h[u-A.length]+A+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return i(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),o=r||Math.max(1,n);i(n<=o,"byte array longer than desired length"),i(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),h=this.clone();if(c){for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-n;a++)u[a]=0;for(a=0;!h.isZero();a++)s=h.andln(255),h.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return i(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return i(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return i(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){i("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return r>0&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){i("number"==typeof e&&e>=0);var r=e/26|0,n=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<n:this.words[r]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,o=0;o<i.length;o++)t=(0|r.words[o])+(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<r.length;o++)t=(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var i,n,o,s=e.words,a=t.words,c=r.words,u=0,h=0|s[0],d=8191&h,l=h>>>13,f=0|s[1],p=8191&f,A=f>>>13,g=0|s[2],m=8191&g,y=g>>>13,I=0|s[3],w=8191&I,b=I>>>13,v=0|s[4],E=8191&v,C=v>>>13,B=0|s[5],S=8191&B,_=B>>>13,Q=0|s[6],D=8191&Q,k=Q>>>13,M=0|s[7],P=8191&M,x=M>>>13,F=0|s[8],R=8191&F,O=F>>>13,T=0|s[9],N=8191&T,U=T>>>13,j=0|a[0],L=8191&j,q=j>>>13,K=0|a[1],H=8191&K,G=K>>>13,z=0|a[2],J=8191&z,Y=z>>>13,V=0|a[3],$=8191&V,W=V>>>13,Z=0|a[4],X=8191&Z,ee=Z>>>13,te=0|a[5],re=8191&te,ie=te>>>13,ne=0|a[6],oe=8191&ne,se=ne>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,he=0|a[8],de=8191&he,le=he>>>13,fe=0|a[9],pe=8191&fe,Ae=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(u+(i=Math.imul(d,L))|0)+((8191&(n=(n=Math.imul(d,q))+Math.imul(l,L)|0))<<13)|0;u=((o=Math.imul(l,q))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,q))+Math.imul(A,L)|0,o=Math.imul(A,q);var me=(u+(i=i+Math.imul(d,H)|0)|0)+((8191&(n=(n=n+Math.imul(d,G)|0)+Math.imul(l,H)|0))<<13)|0;u=((o=o+Math.imul(l,G)|0)+(n>>>13)|0)+(me>>>26)|0,me&=67108863,i=Math.imul(m,L),n=(n=Math.imul(m,q))+Math.imul(y,L)|0,o=Math.imul(y,q),i=i+Math.imul(p,H)|0,n=(n=n+Math.imul(p,G)|0)+Math.imul(A,H)|0,o=o+Math.imul(A,G)|0;var ye=(u+(i=i+Math.imul(d,J)|0)|0)+((8191&(n=(n=n+Math.imul(d,Y)|0)+Math.imul(l,J)|0))<<13)|0;u=((o=o+Math.imul(l,Y)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,i=Math.imul(w,L),n=(n=Math.imul(w,q))+Math.imul(b,L)|0,o=Math.imul(b,q),i=i+Math.imul(m,H)|0,n=(n=n+Math.imul(m,G)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,G)|0,i=i+Math.imul(p,J)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,Y)|0;var Ie=(u+(i=i+Math.imul(d,$)|0)|0)+((8191&(n=(n=n+Math.imul(d,W)|0)+Math.imul(l,$)|0))<<13)|0;u=((o=o+Math.imul(l,W)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(E,L),n=(n=Math.imul(E,q))+Math.imul(C,L)|0,o=Math.imul(C,q),i=i+Math.imul(w,H)|0,n=(n=n+Math.imul(w,G)|0)+Math.imul(b,H)|0,o=o+Math.imul(b,G)|0,i=i+Math.imul(m,J)|0,n=(n=n+Math.imul(m,Y)|0)+Math.imul(y,J)|0,o=o+Math.imul(y,Y)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,W)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,W)|0;var we=(u+(i=i+Math.imul(d,X)|0)|0)+((8191&(n=(n=n+Math.imul(d,ee)|0)+Math.imul(l,X)|0))<<13)|0;u=((o=o+Math.imul(l,ee)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(S,L),n=(n=Math.imul(S,q))+Math.imul(_,L)|0,o=Math.imul(_,q),i=i+Math.imul(E,H)|0,n=(n=n+Math.imul(E,G)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,G)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,Y)|0,i=i+Math.imul(m,$)|0,n=(n=n+Math.imul(m,W)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,W)|0,i=i+Math.imul(p,X)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(A,X)|0,o=o+Math.imul(A,ee)|0;var be=(u+(i=i+Math.imul(d,re)|0)|0)+((8191&(n=(n=n+Math.imul(d,ie)|0)+Math.imul(l,re)|0))<<13)|0;u=((o=o+Math.imul(l,ie)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,i=Math.imul(D,L),n=(n=Math.imul(D,q))+Math.imul(k,L)|0,o=Math.imul(k,q),i=i+Math.imul(S,H)|0,n=(n=n+Math.imul(S,G)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,G)|0,i=i+Math.imul(E,J)|0,n=(n=n+Math.imul(E,Y)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,Y)|0,i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,W)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,W)|0,i=i+Math.imul(m,X)|0,n=(n=n+Math.imul(m,ee)|0)+Math.imul(y,X)|0,o=o+Math.imul(y,ee)|0,i=i+Math.imul(p,re)|0,n=(n=n+Math.imul(p,ie)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ie)|0;var ve=(u+(i=i+Math.imul(d,oe)|0)|0)+((8191&(n=(n=n+Math.imul(d,se)|0)+Math.imul(l,oe)|0))<<13)|0;u=((o=o+Math.imul(l,se)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,q))+Math.imul(x,L)|0,o=Math.imul(x,q),i=i+Math.imul(D,H)|0,n=(n=n+Math.imul(D,G)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,G)|0,i=i+Math.imul(S,J)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,Y)|0,i=i+Math.imul(E,$)|0,n=(n=n+Math.imul(E,W)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,W)|0,i=i+Math.imul(w,X)|0,n=(n=n+Math.imul(w,ee)|0)+Math.imul(b,X)|0,o=o+Math.imul(b,ee)|0,i=i+Math.imul(m,re)|0,n=(n=n+Math.imul(m,ie)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ie)|0,i=i+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0;var Ee=(u+(i=i+Math.imul(d,ce)|0)|0)+((8191&(n=(n=n+Math.imul(d,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((o=o+Math.imul(l,ue)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(R,L),n=(n=Math.imul(R,q))+Math.imul(O,L)|0,o=Math.imul(O,q),i=i+Math.imul(P,H)|0,n=(n=n+Math.imul(P,G)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,G)|0,i=i+Math.imul(D,J)|0,n=(n=n+Math.imul(D,Y)|0)+Math.imul(k,J)|0,o=o+Math.imul(k,Y)|0,i=i+Math.imul(S,$)|0,n=(n=n+Math.imul(S,W)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,W)|0,i=i+Math.imul(E,X)|0,n=(n=n+Math.imul(E,ee)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,ee)|0,i=i+Math.imul(w,re)|0,n=(n=n+Math.imul(w,ie)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ie)|0,i=i+Math.imul(m,oe)|0,n=(n=n+Math.imul(m,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,i=i+Math.imul(p,ce)|0,n=(n=n+Math.imul(p,ue)|0)+Math.imul(A,ce)|0,o=o+Math.imul(A,ue)|0;var Ce=(u+(i=i+Math.imul(d,de)|0)|0)+((8191&(n=(n=n+Math.imul(d,le)|0)+Math.imul(l,de)|0))<<13)|0;u=((o=o+Math.imul(l,le)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(N,L),n=(n=Math.imul(N,q))+Math.imul(U,L)|0,o=Math.imul(U,q),i=i+Math.imul(R,H)|0,n=(n=n+Math.imul(R,G)|0)+Math.imul(O,H)|0,o=o+Math.imul(O,G)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(x,J)|0,o=o+Math.imul(x,Y)|0,i=i+Math.imul(D,$)|0,n=(n=n+Math.imul(D,W)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,W)|0,i=i+Math.imul(S,X)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(_,X)|0,o=o+Math.imul(_,ee)|0,i=i+Math.imul(E,re)|0,n=(n=n+Math.imul(E,ie)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ie)|0,i=i+Math.imul(w,oe)|0,n=(n=n+Math.imul(w,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,i=i+Math.imul(m,ce)|0,n=(n=n+Math.imul(m,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,i=i+Math.imul(p,de)|0,n=(n=n+Math.imul(p,le)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,le)|0;var Be=(u+(i=i+Math.imul(d,pe)|0)|0)+((8191&(n=(n=n+Math.imul(d,Ae)|0)+Math.imul(l,pe)|0))<<13)|0;u=((o=o+Math.imul(l,Ae)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(N,H),n=(n=Math.imul(N,G))+Math.imul(U,H)|0,o=Math.imul(U,G),i=i+Math.imul(R,J)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(O,J)|0,o=o+Math.imul(O,Y)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,W)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,W)|0,i=i+Math.imul(D,X)|0,n=(n=n+Math.imul(D,ee)|0)+Math.imul(k,X)|0,o=o+Math.imul(k,ee)|0,i=i+Math.imul(S,re)|0,n=(n=n+Math.imul(S,ie)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ie)|0,i=i+Math.imul(E,oe)|0,n=(n=n+Math.imul(E,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,i=i+Math.imul(w,ce)|0,n=(n=n+Math.imul(w,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0,i=i+Math.imul(m,de)|0,n=(n=n+Math.imul(m,le)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,le)|0;var Se=(u+(i=i+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,Ae)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,Ae)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(N,J),n=(n=Math.imul(N,Y))+Math.imul(U,J)|0,o=Math.imul(U,Y),i=i+Math.imul(R,$)|0,n=(n=n+Math.imul(R,W)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,W)|0,i=i+Math.imul(P,X)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(x,X)|0,o=o+Math.imul(x,ee)|0,i=i+Math.imul(D,re)|0,n=(n=n+Math.imul(D,ie)|0)+Math.imul(k,re)|0,o=o+Math.imul(k,ie)|0,i=i+Math.imul(S,oe)|0,n=(n=n+Math.imul(S,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,i=i+Math.imul(E,ce)|0,n=(n=n+Math.imul(E,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,i=i+Math.imul(w,de)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,le)|0;var _e=(u+(i=i+Math.imul(m,pe)|0)|0)+((8191&(n=(n=n+Math.imul(m,Ae)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,Ae)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(N,$),n=(n=Math.imul(N,W))+Math.imul(U,$)|0,o=Math.imul(U,W),i=i+Math.imul(R,X)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(O,X)|0,o=o+Math.imul(O,ee)|0,i=i+Math.imul(P,re)|0,n=(n=n+Math.imul(P,ie)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ie)|0,i=i+Math.imul(D,oe)|0,n=(n=n+Math.imul(D,se)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,se)|0,i=i+Math.imul(S,ce)|0,n=(n=n+Math.imul(S,ue)|0)+Math.imul(_,ce)|0,o=o+Math.imul(_,ue)|0,i=i+Math.imul(E,de)|0,n=(n=n+Math.imul(E,le)|0)+Math.imul(C,de)|0,o=o+Math.imul(C,le)|0;var Qe=(u+(i=i+Math.imul(w,pe)|0)|0)+((8191&(n=(n=n+Math.imul(w,Ae)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,Ae)|0)+(n>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,i=Math.imul(N,X),n=(n=Math.imul(N,ee))+Math.imul(U,X)|0,o=Math.imul(U,ee),i=i+Math.imul(R,re)|0,n=(n=n+Math.imul(R,ie)|0)+Math.imul(O,re)|0,o=o+Math.imul(O,ie)|0,i=i+Math.imul(P,oe)|0,n=(n=n+Math.imul(P,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,i=i+Math.imul(D,ce)|0,n=(n=n+Math.imul(D,ue)|0)+Math.imul(k,ce)|0,o=o+Math.imul(k,ue)|0,i=i+Math.imul(S,de)|0,n=(n=n+Math.imul(S,le)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,le)|0;var De=(u+(i=i+Math.imul(E,pe)|0)|0)+((8191&(n=(n=n+Math.imul(E,Ae)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,Ae)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(N,re),n=(n=Math.imul(N,ie))+Math.imul(U,re)|0,o=Math.imul(U,ie),i=i+Math.imul(R,oe)|0,n=(n=n+Math.imul(R,se)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,se)|0,i=i+Math.imul(P,ce)|0,n=(n=n+Math.imul(P,ue)|0)+Math.imul(x,ce)|0,o=o+Math.imul(x,ue)|0,i=i+Math.imul(D,de)|0,n=(n=n+Math.imul(D,le)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,le)|0;var ke=(u+(i=i+Math.imul(S,pe)|0)|0)+((8191&(n=(n=n+Math.imul(S,Ae)|0)+Math.imul(_,pe)|0))<<13)|0;u=((o=o+Math.imul(_,Ae)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(N,oe),n=(n=Math.imul(N,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),i=i+Math.imul(R,ce)|0,n=(n=n+Math.imul(R,ue)|0)+Math.imul(O,ce)|0,o=o+Math.imul(O,ue)|0,i=i+Math.imul(P,de)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,le)|0;var Me=(u+(i=i+Math.imul(D,pe)|0)|0)+((8191&(n=(n=n+Math.imul(D,Ae)|0)+Math.imul(k,pe)|0))<<13)|0;u=((o=o+Math.imul(k,Ae)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(N,ce),n=(n=Math.imul(N,ue))+Math.imul(U,ce)|0,o=Math.imul(U,ue),i=i+Math.imul(R,de)|0,n=(n=n+Math.imul(R,le)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,le)|0;var Pe=(u+(i=i+Math.imul(P,pe)|0)|0)+((8191&(n=(n=n+Math.imul(P,Ae)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,Ae)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(N,de),n=(n=Math.imul(N,le))+Math.imul(U,de)|0,o=Math.imul(U,le);var xe=(u+(i=i+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,Ae)|0)+Math.imul(O,pe)|0))<<13)|0;u=((o=o+Math.imul(O,Ae)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Fe=(u+(i=Math.imul(N,pe))|0)+((8191&(n=(n=Math.imul(N,Ae))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,Ae))+(n>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=ge,c[1]=me,c[2]=ye,c[3]=Ie,c[4]=we,c[5]=be,c[6]=ve,c[7]=Ee,c[8]=Ce,c[9]=Be,c[10]=Se,c[11]=_e,c[12]=Qe,c[13]=De,c[14]=ke,c[15]=Me,c[16]=Pe,c[17]=xe,c[18]=Fe,0!==u&&(c[19]=u,r.length++),r};function A(e,t,r){return(new g).mulp(e,t,r)}function g(e,t){this.x=e,this.y=t}Math.imul||(p=f),o.prototype.mulTo=function(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):i<63?f(this,e,t):i<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,o=0;o<r.length-1;o++){var s=n;n=0;for(var a=67108863&i,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h=o-u,d=(0|e.words[h])*(0|t.words[u]),l=67108863&d;a=67108863&(l=l+a|0),n+=(s=(s=s+(d/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[o]=a,i=s,s=n}return 0!==i?r.words[o]=i:r.length--,r.strip()}(this,e,t):A(this,e,t),r},g.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},g.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},g.prototype.permute=function(e,t,r,i,n,o){for(var s=0;s<o;s++)i[s]=t[e[s]],n[s]=r[e[s]]},g.prototype.transform=function(e,t,r,i,n,o){this.permute(o,e,t,r,i,n);for(var s=1;s<n;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<n;h+=a)for(var d=c,l=u,f=0;f<s;f++){var p=r[h+f],A=i[h+f],g=r[h+f+s],m=i[h+f+s],y=d*g-l*m;m=d*m+l*g,g=y,r[h+f]=p+g,i[h+f]=A+m,r[h+f+s]=p-g,i[h+f+s]=A-m,f!==a&&(y=c*d-u*l,l=c*l+u*d,d=y)}},g.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},g.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},g.prototype.normalize13b=function(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},g.prototype.convert13b=function(e,t,r,n){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<n;++s)r[s]=0;i(0===o),i(0==(-8192&o))},g.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},g.prototype.mulp=function(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),o=this.stub(i),s=new Array(i),a=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=new Array(i),l=r.words;l.length=i,this.convert13b(e.words,e.length,s,i),this.convert13b(t.words,t.length,u,i),this.transform(s,o,a,c,i,n),this.transform(u,o,h,d,i,n);for(var f=0;f<i;f++){var p=a[f]*h[f]-c[f]*d[f];c[f]=a[f]*d[f]+c[f]*h[f],a[f]=p}return this.conjugate(a,c,i),this.transform(a,c,l,o,i,n),this.conjugate(l,o,i),this.normalize13b(l,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),A(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){i("number"==typeof e),i(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},o.prototype.iushln=function(e){i("number"==typeof e&&e>=0);var t,r=e%26,n=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return i(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var n;i("number"==typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(n-=s,n=Math.max(0,n),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=n);u--){var d=0|this.words[u];this.words[u]=h<<26-o|d>>>o,h=d&a}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return i(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,n=1<<t;return!(this.length<=r||!(this.words[r]&n))},o.prototype.imaskn=function(e){i("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return i("number"==typeof e),i(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(i("number"==typeof e),i(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var n,o,s=e.length+r;this._expand(s);var a=0;for(n=0;n<e.length;n++){o=(0|this.words[n+r])+a;var c=(0|e.words[n])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[n+r]=67108863&o}for(;n<this.length-r;n++)a=(o=(0|this.words[n+r])+a)>>26,this.words[n+r]=67108863&o;if(0===a)return this.strip();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(o=-(0|this.words[n])+a)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!=(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,c=i.length-n.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var h=i.clone()._ishlnsubmul(n,1,c);0===h.negative&&(i=h,a&&(a.words[c]=1));for(var d=c-1;d>=0;d--){var l=67108864*(0|i.words[n.length+d])+(0|i.words[n.length+d-1]);for(l=Math.min(l/s|0,67108863),i._ishlnsubmul(n,l,d);0!==i.negative;)l--,i.negative=0,i._ishlnsubmul(n,1,d),i.isZero()||(i.negative^=1);a&&(a.words[d]=l)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},o.prototype.divmod=function(e,t,r){return i(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:n,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),o=r.cmp(i);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){i(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;n>=0;n--)r=(t*r+(0|this.words[n]))%e;return r},o.prototype.idivn=function(e){i(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var h=r.clone(),d=t.clone();!t.isZero();){for(var l=0,f=1;0==(t.words[0]&f)&&l<26;++l,f<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(n.isOdd()||s.isOdd())&&(n.iadd(h),s.isub(d)),n.iushrn(1),s.iushrn(1);for(var p=0,A=1;0==(r.words[0]&A)&&p<26;++p,A<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(h),c.isub(d)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(a),s.isub(c)):(r.isub(t),a.isub(n),c.isub(s))}return{a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){i(0===e.negative),i(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var d=0,l=1;0==(r.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(n=0===t.cmpn(1)?s:a).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var o=t;t=r,r=o}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){i("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var o=n,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),i(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return i(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return i(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function b(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else i(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},n(I,y),I.prototype.split=function(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[n-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},I.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,y),n(b,y),n(v,y),v.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new I;else if("p224"===e)t=new w;else if("p192"===e)t=new b;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new v}return m[e]=t,t},E.prototype._verify1=function(e){i(0===e.negative,"red works only with positives"),i(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){i(0==(e.negative|t.negative),"red works only with positives"),i(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(i(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var n=this.m.subn(1),s=0;!n.isZero()&&0===n.andln(1);)s++,n.iushrn(1);i(!n.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var d=this.pow(h,n),l=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=s;0!==f.cmp(a);){for(var A=f,g=0;0!==A.cmp(a);g++)A=A.redSqr();i(g<p);var m=this.pow(d,new o(1).iushln(p-g-1));l=l.redMul(m),d=m.redSqr(),f=f.redMul(d),p=g}return l},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],h=c-1;h>=0;h--){var d=u>>h&1;n!==r[0]&&(n=this.sqr(n)),0!==d||0!==s?(s<<=1,s|=d,(4==++a||0===i&&0===h)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}c=26}return n},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},n(C,E),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},26138:(e,t,r)=>{var i=r(70980),n=r(99199),o=r(57859),s=r(92144),a=r(23663),c=r(23482),u=r(84818),h=r(89509).Buffer;e.exports=function(e,t,r){var d;d=e.padding?e.padding:r?1:4;var l,f=i(e),p=f.modulus.byteLength();if(t.length>p||new s(t).cmp(f.modulus)>=0)throw new Error("decryption error");l=r?u(new s(t),f):a(t,f);var A=h.alloc(p-l.length);if(l=h.concat([A,l],p),4===d)return function(e,t){var r=e.modulus.byteLength(),i=c("sha1").update(h.alloc(0)).digest(),s=i.length;if(0!==t[0])throw new Error("decryption error");var a=t.slice(1,s+1),u=t.slice(s+1),d=o(a,n(u,s)),l=o(u,n(d,r-s-1));if(function(e,t){e=h.from(e),t=h.from(t);var r=0,i=e.length;e.length!==t.length&&(r++,i=Math.min(e.length,t.length));for(var n=-1;++n<i;)r+=e[n]^t[n];return r}(i,l.slice(0,s)))throw new Error("decryption error");for(var f=s;0===l[f];)f++;if(1!==l[f++])throw new Error("decryption error");return l.slice(f)}(f,l);if(1===d)return function(e,t,r){for(var i=t.slice(0,2),n=2,o=0;0!==t[n++];)if(n>=t.length){o++;break}var s=t.slice(2,n-1);if(("0002"!==i.toString("hex")&&!r||"0001"!==i.toString("hex")&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return t.slice(n)}(0,l,r);if(3===d)return l;throw new Error("unknown padding")}},16559:(e,t,r)=>{var i=r(70980),n=r(61798),o=r(23482),s=r(99199),a=r(57859),c=r(92144),u=r(84818),h=r(23663),d=r(89509).Buffer;e.exports=function(e,t,r){var l;l=e.padding?e.padding:r?1:4;var f,p=i(e);if(4===l)f=function(e,t){var r=e.modulus.byteLength(),i=t.length,u=o("sha1").update(d.alloc(0)).digest(),h=u.length,l=2*h;if(i>r-l-2)throw new Error("message too long");var f=d.alloc(r-i-l-2),p=r-h-1,A=n(h),g=a(d.concat([u,f,d.alloc(1,1),t],p),s(A,p)),m=a(A,s(g,h));return new c(d.concat([d.alloc(1),m,g],r))}(p,t);else if(1===l)f=function(e,t,r){var i,o=t.length,s=e.modulus.byteLength();if(o>s-11)throw new Error("message too long");return i=r?d.alloc(s-o-3,255):function(e){for(var t,r=d.allocUnsafe(e),i=0,o=n(2*e),s=0;i<e;)s===o.length&&(o=n(2*e),s=0),(t=o[s++])&&(r[i++]=t);return r}(s-o-3),new c(d.concat([d.from([0,r?1:2]),i,d.alloc(1),t],s))}(p,t,r);else{if(3!==l)throw new Error("unknown padding");if((f=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?h(f,p):u(f,p)}},84818:(e,t,r)=>{var i=r(92144),n=r(89509).Buffer;e.exports=function(e,t){return n.from(e.toRed(i.mont(t.modulus)).redPow(new i(t.publicExponent)).fromRed().toArray())}},57859:e=>{e.exports=function(e,t){for(var r=e.length,i=-1;++i<r;)e[i]^=t[i];return e}},54375:(e,t,r)=>{let i;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:r.g):e=>(i||(i=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},61798:(e,t,r)=>{"use strict";var i=r(34155),n=65536,o=r(89509).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=o.allocUnsafe(e);if(e>0)if(e>n)for(var a=0;a<e;a+=n)s.getRandomValues(r.slice(a,a+n));else s.getRandomValues(r);return"function"==typeof t?i.nextTick((function(){t(null,r)})):r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},77963:(e,t,r)=>{"use strict";var i=r(34155);function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=r(89509),s=r(61798),a=o.Buffer,c=o.kMaxLength,u=r.g.crypto||r.g.msCrypto,h=Math.pow(2,32)-1;function d(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>h||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function l(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>h||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function f(e,t,r,n){if(i.browser){var o=e.buffer,a=new Uint8Array(o,t,r);return u.getRandomValues(a),n?void i.nextTick((function(){n(null,e)})):e}if(!n)return s(r).copy(e,t),e;s(r,(function(r,i){if(r)return n(r);i.copy(e,t),n(null,e)}))}u&&u.getRandomValues||!i.browser?(t.randomFill=function(e,t,i,n){if(!(a.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)n=t,t=0,i=e.length;else if("function"==typeof i)n=i,i=e.length-t;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return d(t,e.length),l(i,t,e.length),f(e,t,i,n)},t.randomFillSync=function(e,t,i){if(void 0===t&&(t=0),!(a.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return d(t,e.length),void 0===i&&(i=e.length-t),l(i,t,e.length),f(e,t,i)}):(t.randomFill=n,t.randomFillSync=n)},58090:(e,t,r)=>{"use strict";t.F=void 0;const i=r(95507);class n extends i.Readable{constructor(e){super(),this.bytesRead=0,this.released=!1,this.reader=e.getReader()}async _read(){if(this.released)return void this.push(null);this.pendingRead=this.reader.read();const e=await this.pendingRead;delete this.pendingRead,e.done||this.released?this.push(null):(this.bytesRead+=e.value.length,this.push(e.value))}async waitForReadToComplete(){this.pendingRead&&await this.pendingRead}async close(){await this.syncAndRelease()}async syncAndRelease(){this.released=!0,await this.waitForReadToComplete(),await this.reader.releaseLock()}}t.F=n},11281:e=>{"use strict";var t={};function r(e,r,i){i||(i=Error);var n=function(e){var t,i;function n(t,i,n){return e.call(this,function(e,t,i){return"string"==typeof r?r:r(e,t,i)}(t,i,n))||this}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n}(i);n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o,s,a,c;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(i(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},96201:(e,t,r)=>{"use strict";var i=r(34155),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=r(62460),s=r(1103);r(35717)(h,o);for(var a=n(s.prototype),c=0;c<a.length;c++){var u=a[c];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},24404:(e,t,r)=>{"use strict";e.exports=n;var i=r(67749);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(35717)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},62460:(e,t,r)=>{"use strict";var i,n=r(34155);e.exports=B,B.ReadableState=C,r(17187).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(28114),c=r(48764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=r(43838);o=h&&h.debuglog?h.debuglog("stream"):function(){};var d,l,f,p=r(30597),A=r(80358),g=r(75267).getHighWaterMark,m=r(11281).q,y=m.ERR_INVALID_ARG_TYPE,I=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(B,a);var v=A.errorOrDestroy,E=["error","close","destroy","pause","resume"];function C(e,t,n){i=i||r(96201),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(32553).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function B(e){if(i=i||r(96201),!(this instanceof B))return new B(e);var t=this instanceof i;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function S(e,t,r,i,n){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}}(e,a);else if(n||(s=function(e,t){var r,i;return i=t,c.isBuffer(i)||i instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)v(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i)a.endEmitted?v(e,new b):_(e,a,t,!0);else if(a.ended)v(e,new I);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):P(e,a)):_(e,a,t,!1)}else i||(a.reading=!1,P(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function _(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),P(e,t)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),B.prototype.destroy=A.destroy,B.prototype._undestroy=A.undestroy,B.prototype._destroy=function(e,t){t(e)},B.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},B.prototype.unshift=function(e){return S(this,e,null,!0,!1)},B.prototype.isPaused=function(){return!1===this._readableState.flowing},B.prototype.setEncoding=function(e){d||(d=r(32553).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Q=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=Q?e=Q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(M,e))}function M(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,T(e)}function P(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(x,e,t))}function x(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function F(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){o("readable nexttick read 0"),e.read(0)}function O(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(j,t,e))}function j(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}B.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):k(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,n=t.needReadable;return o("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",n=!0),t.ended||t.reading?o("reading or ended",n=!1):n&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},B.prototype._read=function(e){v(this,new w("_read()"))},B.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?A:c;function c(){o("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",(function t(n,s){o("onunpipe"),n===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",A),r.removeListener("data",d),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(r);e.on("drain",u);var h=!1;function d(t){o("ondata");var n=e.write(t);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!h&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function l(t){o("onerror",t),A(),e.removeListener("error",l),0===s(e,"error")&&v(e,t)}function f(){e.removeListener("finish",p),A()}function p(){o("onfinish"),e.removeListener("close",f),A()}function A(){o("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",f),e.once("finish",p),e.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),e},B.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},B.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?k(this):i.reading||n.nextTick(R,this))),r},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(F,this),r},B.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(F,this),t},B.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(O,e,t))}(this,e)),e.paused=!1,this},B.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){o("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(B.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=r(26913)),l(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),B._fromList=N,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(B.from=function(e,t){return void 0===f&&(f=r(92887)),f(B,e,t)})},67749:(e,t,r)=>{"use strict";e.exports=h;var i=r(11281).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,c=r(96201);function u(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(35717)(h,c),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},1103:(e,t,r)=>{"use strict";var i,n=r(34155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=B,B.WritableState=C;var s,a={deprecate:r(94927)},c=r(28114),u=r(48764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=r(80358),l=r(75267).getHighWaterMark,f=r(11281).q,p=f.ERR_INVALID_ARG_TYPE,A=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,I=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,v=d.errorOrDestroy;function E(){}function C(e,t,s){i=i||r(96201),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(M,e,t),e._writableState.errorEmitted=!0,v(e,i)):(o(i),e._writableState.errorEmitted=!0,v(e,i),M(e,t))}(e,r,i,t,o);else{var s=D(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||Q(e,r),i?n.nextTick(_,e,r,s,o):_(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function B(e){var t=this instanceof(i=i||r(96201));if(!t&&!s.call(B,this))return new B(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function S(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function _(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),M(e,t)}function Q(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)n[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;n.allBuffers=c,S(e,t,!0,t.length,n,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,d=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,h,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var r=D(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(35717)(B,c),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===B&&e&&e._writableState instanceof C}})):s=function(e){return e instanceof this},B.prototype.pipe=function(){v(this,new m)},B.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof h);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;v(e,r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o;return null===r?o=new I:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(v(e,o),n.nextTick(i,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,i,n,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,a,i,n,o);return c}(this,o,a,e,t,r)),s},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||Q(this,e))},B.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(e,t,r){r(new A("_write()"))},B.prototype._writev=null,B.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,M(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),B.prototype.destroy=d.destroy,B.prototype._undestroy=d.undestroy,B.prototype._destroy=function(e,t){t(e)}},26913:(e,t,r)=>{"use strict";var i,n=r(34155);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(22880),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function A(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function g(e){n.nextTick(A,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(i={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[h])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,i=this[d];if(i)r=new Promise(function(e,t){return function(r,i){e.then((function(){t[h]?r(p(void 0,!0)):t[l](r,i)}),i)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[l])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),o(i,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),i),m);e.exports=function(e){var t,r=Object.create(y,(o(t={},f,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,h,{value:e._readableState.endEmitted,writable:!0}),o(t,l,{value:function(e,t){var i=r[f].read();i?(r[d]=null,r[a]=null,r[c]=null,e(p(i,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[d]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[d]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var i=r[a];null!==i&&(r[d]=null,r[a]=null,r[c]=null,i(p(void 0,!0))),r[h]=!0})),e.on("readable",g.bind(null,r)),r}},30597:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(48764).Buffer,u=r(99283).inspect,h=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,i,n=c.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=n,i=s,c.prototype.copy.call(t,r,i),s+=o.data.length,o=o.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?i+=n:i+=n.slice(0,e),0==(e-=o)){o===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return u(this,n(n({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},80358:(e,t,r)=>{"use strict";var i=r(34155);function n(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,e)):i.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(o,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t?(i.nextTick(o,r),t(e)):i.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},22880:(e,t,r)=>{"use strict";var i=r(11281).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(o||n);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},u=t._writableState&&t._writableState.finished,h=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},A=function(){t.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",h),t.on("abort",p),t.req?A():t.on("request",A)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",l),t.on("finish",h),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",h),t.removeListener("abort",p),t.removeListener("request",A),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",p)}}},92887:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},60677:(e,t,r)=>{"use strict";var i,n=r(11281).q,o=n.ERR_MISSING_ARGS,s=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var h,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var l=t.map((function(e,n){var o=n<t.length-1;return function(e,t,n,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===i&&(i=r(22880)),i(e,{readable:t,writable:n},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,n>0,(function(e){h||(h=e),e&&l.forEach(c),o||(l.forEach(c),d(h))}))}));return t.reduce(u)}},75267:(e,t,r)=>{"use strict";var i=r(11281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(n?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},28114:(e,t,r)=>{e.exports=r(17187).EventEmitter},95507:(e,t,r)=>{(t=e.exports=r(62460)).Stream=t,t.Readable=t,t.Writable=r(1103),t.Duplex=r(96201),t.Transform=r(67749),t.PassThrough=r(24404),t.finished=r(22880),t.pipeline=r(60677)},53697:(e,t,r)=>{"use strict";var i=r(58052),n=Object,o=TypeError;e.exports=i((function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0)},2847:(e,t,r)=>{"use strict";var i=r(4289),n=r(55559),o=r(53697),s=r(71721),a=r(32753),c=n(s());i(c,{getPolyfill:s,implementation:o,shim:a}),e.exports=c},71721:(e,t,r)=>{"use strict";var i=r(53697),n=r(4289).supportsDescriptors,o=Object.getOwnPropertyDescriptor;e.exports=function(){if(n&&"gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return i}},32753:(e,t,r)=>{"use strict";var i=r(4289).supportsDescriptors,n=r(71721),o=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!i||!c)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=n(),t=c(u),r=o(t,"flags");return r&&r.get===e||s(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},79785:(e,t,r)=>{"use strict";var i=r(48764).Buffer,n=r(35717),o=r(3349),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function f(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function A(e,t,r,i,n,o,s,a){return p(e+(t^r^i)+o+s|0,a)+n|0}function g(e,t,r,i,n,o,s,a){return p(e+(t&r|~t&i)+o+s|0,a)+n|0}function m(e,t,r,i,n,o,s,a){return p(e+((t|~r)^i)+o+s|0,a)+n|0}function y(e,t,r,i,n,o,s,a){return p(e+(t&i|r&~i)+o+s|0,a)+n|0}function I(e,t,r,i,n,o,s,a){return p(e+(t^(r|~i))+o+s|0,a)+n|0}n(f,o),f.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,i=0|this._b,n=0|this._c,o=0|this._d,f=0|this._e,w=0|this._a,b=0|this._b,v=0|this._c,E=0|this._d,C=0|this._e,B=0;B<80;B+=1){var S,_;B<16?(S=A(r,i,n,o,f,e[a[B]],d[0],u[B]),_=I(w,b,v,E,C,e[c[B]],l[0],h[B])):B<32?(S=g(r,i,n,o,f,e[a[B]],d[1],u[B]),_=y(w,b,v,E,C,e[c[B]],l[1],h[B])):B<48?(S=m(r,i,n,o,f,e[a[B]],d[2],u[B]),_=m(w,b,v,E,C,e[c[B]],l[2],h[B])):B<64?(S=y(r,i,n,o,f,e[a[B]],d[3],u[B]),_=g(w,b,v,E,C,e[c[B]],l[3],h[B])):(S=I(r,i,n,o,f,e[a[B]],d[4],u[B]),_=A(w,b,v,E,C,e[c[B]],l[4],h[B])),r=f,f=o,o=p(n,10),n=i,i=S,w=C,C=E,E=p(v,10),v=b,b=_}var Q=this._b+n+E|0;this._b=this._c+o+C|0,this._c=this._d+f+w|0,this._d=this._e+r+b|0,this._e=this._a+i+v|0,this._a=Q},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=f},29967:(e,t,r)=>{e.exports=function(e,t,r){if("number"!=typeof t)throw new Error("second argument must be a Number");let n,o,s,a,c,u,h=!0;function d(e){function t(){r&&r(e,n),r=null}h?i(t):t()}function l(t,r,i){if(n[t]=i,r&&(c=!0),0==--s||r)d(r);else if(!c&&u<o){let t;a?(t=a[u],u+=1,e[t]((function(e,r){l(t,e,r)}))):(t=u,u+=1,e[t]((function(e,r){l(t,e,r)})))}}Array.isArray(e)?(n=[],s=o=e.length):(a=Object.keys(e),n={},s=o=a.length),u=t,s?a?a.some((function(r,i){return e[r]((function(e,t){l(r,e,t)})),i===t-1})):e.some((function(e,r){return e((function(e,t){l(r,e,t)})),r===t-1})):d(null),h=!1};const i=r(54375)},89509:(e,t,r)=>{var i=r(48764),n=i.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(o(i,t),t.Buffer=s),s.prototype=Object.create(n.prototype),o(n,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},79246:(e,t,r)=>{"use strict";var i=r(21924),n=r(40210),o=r(98420),s=i("RegExp.prototype.exec"),a=n("%TypeError%");e.exports=function(e){if(!o(e))throw new a("`regex` must be a RegExp");return function(t){return null!==s(e,t)}}},2399:(e,t,r)=>{"use strict";var i,n=r(34155),o=r(48764),s=o.Buffer,a={};for(i in o)o.hasOwnProperty(i)&&"SlowBuffer"!==i&&"Buffer"!==i&&(a[i]=o[i]);var c=a.Buffer={};for(i in s)s.hasOwnProperty(i)&&"allocUnsafe"!==i&&"allocUnsafeSlow"!==i&&(c[i]=s[i]);if(a.Buffer.prototype=s.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return s(e,t,r)}),c.alloc||(c.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var i=s(e);return t&&0!==t.length?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i}),!a.kStringMaxLength)try{a.kStringMaxLength=n.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a},67771:(e,t,r)=>{"use strict";var i=r(40210),n=r(12296),o=r(31044)(),s=r(27296),a=i("%TypeError%"),c=i("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,u=!0;if("length"in e&&s){var h=s(e,"length");h&&!h.configurable&&(i=!1),h&&!h.writable&&(u=!1)}return(i||u||!r)&&(o?n(e,"length",t,!0,!0):n(e,"length",t)),e}},58052:(e,t,r)=>{"use strict";var i=r(12296),n=r(31044)(),o=r(25972).functionsHaveConfigurableNames(),s=TypeError;e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!o||(n?i(e,"name",t,!0,!0):i(e,"name",t)),e}},24189:(e,t,r)=>{var i=r(89509).Buffer;function n(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var r=this._block,n=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var c=s%n,u=Math.min(o-a,n-c),h=0;h<u;h++)r[c+h]=e[a+h];a+=u,(s+=u)%n==0&&this._update(r)}return this._len+=o,this},n.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=n},89072:(e,t,r)=>{var i=e.exports=function(e){e=e.toLowerCase();var t=i[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};i.sha=r(74448),i.sha1=r(18336),i.sha224=r(48432),i.sha256=r(67499),i.sha384=r(51686),i.sha512=r(87816)},74448:(e,t,r)=>{var i=r(35717),n=r(24189),o=r(89509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,n.call(this,64,56)}function u(e){return e<<30|e>>>2}function h(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(c,n),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,d=0;d<16;++d)r[d]=e.readInt32BE(4*d);for(;d<80;++d)r[d]=r[d-3]^r[d-8]^r[d-14]^r[d-16];for(var l=0;l<80;++l){var f=~~(l/20),p=0|((t=i)<<5|t>>>27)+h(f,n,o,a)+c+r[l]+s[f];c=a,a=o,o=u(n),n=i,i=p}this._a=i+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},18336:(e,t,r)=>{var i=r(35717),n=r(24189),o=r(89509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function c(){this.init(),this._w=a,n.call(this,64,56)}function u(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function d(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(c,n),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=(t=r[l-3]^r[l-8]^r[l-14]^r[l-16])<<1|t>>>31;for(var f=0;f<80;++f){var p=~~(f/20),A=u(i)+d(p,n,o,a)+c+r[f]+s[p]|0;c=a,a=o,o=h(n),n=i,i=A}this._a=i+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},48432:(e,t,r)=>{var i=r(35717),n=r(67499),o=r(24189),s=r(89509).Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}i(c,n),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},67499:(e,t,r)=>{var i=r(35717),n=r(24189),o=r(89509).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function c(){this.init(),this._w=a,n.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function h(e,t,r){return e&t|r&(e|t)}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function l(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function f(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}i(c,n),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,n=0|this._b,o=0|this._c,a=0|this._d,c=0|this._e,p=0|this._f,A=0|this._g,g=0|this._h,m=0;m<16;++m)r[m]=e.readInt32BE(4*m);for(;m<64;++m)r[m]=0|(((t=r[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[m-7]+f(r[m-15])+r[m-16];for(var y=0;y<64;++y){var I=g+l(c)+u(c,p,A)+s[y]+r[y]|0,w=d(i)+h(i,n,o)|0;g=A,A=p,p=c,c=a+I|0,a=o,o=n,n=i,i=I+w|0}this._a=i+this._a|0,this._b=n+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=A+this._g|0,this._h=g+this._h|0},c.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},51686:(e,t,r)=>{var i=r(35717),n=r(87816),o=r(24189),s=r(89509).Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}i(c,n),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,i){e.writeInt32BE(t,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},87816:(e,t,r)=>{var i=r(35717),n=r(24189),o=r(89509).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function c(){this.init(),this._w=a,n.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function h(e,t,r){return e&t|r&(e|t)}function d(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function l(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function f(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function A(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}i(c,n),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,i=0|this._bh,n=0|this._ch,o=0|this._dh,a=0|this._eh,c=0|this._fh,y=0|this._gh,I=0|this._hh,w=0|this._al,b=0|this._bl,v=0|this._cl,E=0|this._dl,C=0|this._el,B=0|this._fl,S=0|this._gl,_=0|this._hl,Q=0;Q<32;Q+=2)t[Q]=e.readInt32BE(4*Q),t[Q+1]=e.readInt32BE(4*Q+4);for(;Q<160;Q+=2){var D=t[Q-30],k=t[Q-30+1],M=f(D,k),P=p(k,D),x=A(D=t[Q-4],k=t[Q-4+1]),F=g(k,D),R=t[Q-14],O=t[Q-14+1],T=t[Q-32],N=t[Q-32+1],U=P+O|0,j=M+R+m(U,P)|0;j=(j=j+x+m(U=U+F|0,F)|0)+T+m(U=U+N|0,N)|0,t[Q]=j,t[Q+1]=U}for(var L=0;L<160;L+=2){j=t[L],U=t[L+1];var q=h(r,i,n),K=h(w,b,v),H=d(r,w),G=d(w,r),z=l(a,C),J=l(C,a),Y=s[L],V=s[L+1],$=u(a,c,y),W=u(C,B,S),Z=_+J|0,X=I+z+m(Z,_)|0;X=(X=(X=X+$+m(Z=Z+W|0,W)|0)+Y+m(Z=Z+V|0,V)|0)+j+m(Z=Z+U|0,U)|0;var ee=G+K|0,te=H+q+m(ee,G)|0;I=y,_=S,y=c,S=B,c=a,B=C,a=o+X+m(C=E+Z|0,E)|0,o=n,E=v,n=i,v=b,i=r,b=w,r=X+te+m(w=Z+ee|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+b|0,this._cl=this._cl+v|0,this._dl=this._dl+E|0,this._el=this._el+C|0,this._fl=this._fl+B|0,this._gl=this._gl+S|0,this._hl=this._hl+_|0,this._ah=this._ah+r+m(this._al,w)|0,this._bh=this._bh+i+m(this._bl,b)|0,this._ch=this._ch+n+m(this._cl,v)|0,this._dh=this._dh+o+m(this._dl,E)|0,this._eh=this._eh+a+m(this._el,C)|0,this._fh=this._fh+c+m(this._fl,B)|0,this._gh=this._gh+y+m(this._gl,S)|0,this._hh=this._hh+I+m(this._hl,_)|0},c.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,i){e.writeInt32BE(t,i),e.writeInt32BE(r,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},93553:(e,t,r)=>{const i=r(37867),n=r(77882);var o=i;e.exports=function(){return new o},e.exports.ready=function(e){n.ready((function(){e()}))},e.exports.WASM_SUPPORTED=n.WASM_SUPPORTED,e.exports.WASM_LOADED=!1,e.exports.SHA256_BYTES=32,n.ready((function(t){t||(e.exports.WASM_LOADED=!0,e.exports=o=n)}))},37867:(e,t,r)=>{const i=r(29204),n=r(10130);e.exports=u;const o=e.exports.SHA256_BYTES=32,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function a(e,t,r,i){return((e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+t+(((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)+i)<<0}function c(e,t){var r,i,n,[o,c,u,h,l,f,p,A]=e;const g=new Uint32Array(64);for(let e=0;e<16;e++)g[e]=d(t[e]);for(let e=16;e<64;e++)g[e]=a(g[e-2],g[e-7],g[e-15],g[e-16]);for(let e=0;e<64;e+=4)r=o&c^o&u^c&u,i=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),n=A+(l&f^~l&p)+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+g[m=e]+s[m],A=h+n,r=(h=n+(i+r))&o^h&c^o&c,i=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=p+(A&l^~A&f)+((A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))+g[m+1]+s[m+1],p=u+n,r=(u=n+(i+r))&h^u&o^h&o,i=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=f+(p&A^~p&l)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+g[m+2]+s[m+2],f=c+n,r=(c=n+(i+r))&u^c&h^u&h,i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=l+(f&p^~f&A)+((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+g[m+3]+s[m+3],l=o+n,o=n+(i+r);var m;e[0]=e[0]+o,e[1]=e[1]+c,e[2]=e[2]+u,e[3]=e[3]+h,e[4]=e[4]+l,e[5]=e[5]+f,e[6]=e[6]+p,e[7]=e[7]+A}function u(){return this instanceof u?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=o,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new u}function h(e){if(!(this instanceof h))return new h(e);this.pad=n.alloc(64),this.inner=u(),this.outer=u();const t=n.alloc(32);e.byteLength>64&&(u().update(e).digest(t),e=t),this.pad.fill(54);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.inner.update(this.pad),this.pad.fill(92);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function d(e){return(16711935&e)>>>8|(16711935&e)<<24|(4278255360&e)<<8|(4278255360&e)>>>24}u.prototype.update=function(e,t){i(!1===this.finalised,"Hash instance finalised");var[r,o]=function(e,t){var r=n.from(e,t);return[r,r.byteLength]}(e,t),s=0;for(this.bytesRead+=o;o>0&&(this.load.set(r.subarray(s,s+64-this.pos),this.pos),s+=64-this.pos,!((o-=64-this.pos)<0));)this.pos=0,c(this.state,this.words);return this.pos=63&this.bytesRead,this.load.fill(0,this.pos),this},u.prototype.digest=function(e,t=0){i(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,this.pos>55&&(c(this.state,this.words),this.words.fill(0),this.pos=0);const r=new DataView(this.buffer);r.setUint32(56,this.bytesRead/2**29),r.setUint32(60,this.bytesRead<<3),c(this.state,this.words);const o=new Uint8Array(this.state.map(d).buffer);if(!e)return new Uint8Array(o);if("string"==typeof e)return n.toString(o,e);i(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),i(e.byteLength>=this.digestLength+t,"input not large enough for digest");for(let r=0;r<this.digestLength;r++)e[r+t]=o[r];return e},h.prototype.update=function(e,t){return this.inner.update(e,t),this},h.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},u.HMAC=h},77882:(e,t,r)=>{const i=r(29204),n=r(10130),o="undefined"!=typeof WebAssembly&&r(51798)({imports:{debug:{log(...e){console.log(...e.map((e=>(e>>>0).toString(16).padStart(8,"0"))))},log_tee:e=>(console.log((e>>>0).toString(16).padStart(8,"0")),e)}}});let s=0;const a=[];e.exports=h;const c=e.exports.SHA256_BYTES=32,u=108;function h(){if(!(this instanceof h))return new h;if(!o)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");a.length||(a.push(s),s+=u),this.finalized=!1,this.digestLength=c,this.pointer=a.pop(),this.pos=0,this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+u),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+u)}function d(e){if(!(this instanceof d))return new d(e);this.pad=n.alloc(64),this.inner=h(),this.outer=h();const t=n.alloc(32);e.byteLength>64&&(h().update(e).digest(t),e=t),this.pad.fill(54);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.inner.update(this.pad),this.pad.fill(92);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function l(){}h.prototype._realloc=function(e){o.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},h.prototype.update=function(e,t){i(!1===this.finalized,"Hash instance finalized"),s%4!=0&&(s+=4-s%4),i(s%4==0,"input shoud be aligned for int32");const[r,a]=function(e,t){var r=n.from(e,t);return[r,r.byteLength]}(e,t);return i(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),s+a>this._memory.length&&this._realloc(s+e.length),this._memory.fill(0,s,s+(a+64-1&-64)-64),this._memory.set(r.subarray(0,64-this.pos),this.pointer+40+this.pos),this._memory.set(r.subarray(64-this.pos),s),this.pos=this.pos+a&63,o.sha256(this.pointer,s,a,0),this},h.prototype.digest=function(e,t=0){i(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,a.push(this.pointer);const r=this.pointer+40+this.pos;this._memory.fill(0,r,this.pointer+40+64),o.sha256(this.pointer,s,0,1);const c=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return c;if("string"==typeof e)return n.toString(c,e);i(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),i(e.byteLength>=this.digestLength+t,"output must have at least 'SHA256_BYTES' bytes remaining");for(let r=0;r<this.digestLength;r++)e[r+t]=c[r];return e},h.WASM=o,h.WASM_SUPPORTED="undefined"!=typeof WebAssembly,h.ready=function(e){return e||(e=l),o?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))},h.prototype.ready=h.ready,d.prototype.update=function(e,t){return this.inner.update(e,t),this},d.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},h.HMAC=d},51798:e=>{var t,r,i=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,i=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),n=0,o=0;n<r;){var s=e[t.charCodeAt(n++)],a=e[t.charCodeAt(n++)],c=e[t.charCodeAt(n++)],u=e[t.charCodeAt(n++)];i[o++]=s<<2|a>>4,i[o++]=a<<4|c>>2,i[o++]=c<<6|u}return i}})(),n=(t={"wasm-binary:./sha256.wat"(e,t){t.exports=i("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")}},function(){return r||(0,t[Object.keys(t)[0]])((r={exports:{}}).exports,r),r.exports})(),o=new WebAssembly.Module(n);e.exports=e=>new WebAssembly.Instance(o,e).exports},71246:(e,t,r)=>{const i=r(53572),n=r(49540);var o=i;e.exports=function(){return new o},e.exports.ready=function(e){n.ready((function(){e()}))},e.exports.WASM_SUPPORTED=n.SUPPORTED,e.exports.WASM_LOADED=!1,e.exports.SHA512_BYTES=64,n.ready((function(t){t||(e.exports.WASM_LOADED=!0,e.exports=o=n)}))},53572:(e,t,r)=>{const i=r(29204),n=r(10130);e.exports=a;const o=128;var s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function a(){return this instanceof a?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new a}function c(e,t,r,i){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=i>>24&255,e[t+5]=i>>16&255,e[t+6]=i>>8&255,e[t+7]=255&i}function u(e,t,r,i){for(var n,o,a,c,u,h,d,l,f,p,A,g,m,y,I,w,b,v,E,C,B,S,_,Q,D,k,M=new Int32Array(16),P=new Int32Array(16),x=e[0],F=e[1],R=e[2],O=e[3],T=e[4],N=e[5],U=e[6],j=e[7],L=t[0],q=t[1],K=t[2],H=t[3],G=t[4],z=t[5],J=t[6],Y=t[7],V=0;i>=128;){for(E=0;E<16;E++)C=8*E+V,M[E]=r[C+0]<<24|r[C+1]<<16|r[C+2]<<8|r[C+3],P[E]=r[C+4]<<24|r[C+5]<<16|r[C+6]<<8|r[C+7];for(E=0;E<80;E++)if(n=x,o=F,a=R,c=O,u=T,h=N,d=U,f=L,p=q,A=K,g=H,m=G,y=z,I=J,_=65535&(S=Y),Q=S>>>16,D=65535&(B=j),k=B>>>16,_+=65535&(S=(G>>>14|T<<18)^(G>>>18|T<<14)^(T>>>9|G<<23)),Q+=S>>>16,D+=65535&(B=(T>>>14|G<<18)^(T>>>18|G<<14)^(G>>>9|T<<23)),k+=B>>>16,_+=65535&(S=G&z^~G&J),Q+=S>>>16,D+=65535&(B=T&N^~T&U),k+=B>>>16,_+=65535&(S=s[2*E+1]),Q+=S>>>16,D+=65535&(B=s[2*E]),k+=B>>>16,B=M[E%16],Q+=(S=P[E%16])>>>16,D+=65535&B,k+=B>>>16,D+=(Q+=(_+=65535&S)>>>16)>>>16,_=65535&(S=v=65535&_|Q<<16),Q=S>>>16,D=65535&(B=b=65535&D|(k+=D>>>16)<<16),k=B>>>16,_+=65535&(S=(L>>>28|x<<4)^(x>>>2|L<<30)^(x>>>7|L<<25)),Q+=S>>>16,D+=65535&(B=(x>>>28|L<<4)^(L>>>2|x<<30)^(L>>>7|x<<25)),k+=B>>>16,Q+=(S=L&q^L&K^q&K)>>>16,D+=65535&(B=x&F^x&R^F&R),k+=B>>>16,l=65535&(D+=(Q+=(_+=65535&S)>>>16)>>>16)|(k+=D>>>16)<<16,w=65535&_|Q<<16,_=65535&(S=g),Q=S>>>16,D=65535&(B=c),k=B>>>16,Q+=(S=v)>>>16,D+=65535&(B=b),k+=B>>>16,F=n,R=o,O=a,T=c=65535&(D+=(Q+=(_+=65535&S)>>>16)>>>16)|(k+=D>>>16)<<16,N=u,U=h,j=d,x=l,q=f,K=p,H=A,G=g=65535&_|Q<<16,z=m,J=y,Y=I,L=w,E%16==15)for(C=0;C<16;C++)B=M[C],_=65535&(S=P[C]),Q=S>>>16,D=65535&B,k=B>>>16,B=M[(C+9)%16],_+=65535&(S=P[(C+9)%16]),Q+=S>>>16,D+=65535&B,k+=B>>>16,b=M[(C+1)%16],_+=65535&(S=((v=P[(C+1)%16])>>>1|b<<31)^(v>>>8|b<<24)^(v>>>7|b<<25)),Q+=S>>>16,D+=65535&(B=(b>>>1|v<<31)^(b>>>8|v<<24)^b>>>7),k+=B>>>16,b=M[(C+14)%16],Q+=(S=((v=P[(C+14)%16])>>>19|b<<13)^(b>>>29|v<<3)^(v>>>6|b<<26))>>>16,D+=65535&(B=(b>>>19|v<<13)^(v>>>29|b<<3)^b>>>6),k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,M[C]=65535&D|k<<16,P[C]=65535&_|Q<<16;_=65535&(S=L),Q=S>>>16,D=65535&(B=x),k=B>>>16,B=e[0],Q+=(S=t[0])>>>16,D+=65535&B,k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,e[0]=x=65535&D|k<<16,t[0]=L=65535&_|Q<<16,_=65535&(S=q),Q=S>>>16,D=65535&(B=F),k=B>>>16,B=e[1],Q+=(S=t[1])>>>16,D+=65535&B,k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,e[1]=F=65535&D|k<<16,t[1]=q=65535&_|Q<<16,_=65535&(S=K),Q=S>>>16,D=65535&(B=R),k=B>>>16,B=e[2],Q+=(S=t[2])>>>16,D+=65535&B,k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,e[2]=R=65535&D|k<<16,t[2]=K=65535&_|Q<<16,_=65535&(S=H),Q=S>>>16,D=65535&(B=O),k=B>>>16,B=e[3],Q+=(S=t[3])>>>16,D+=65535&B,k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,e[3]=O=65535&D|k<<16,t[3]=H=65535&_|Q<<16,_=65535&(S=G),Q=S>>>16,D=65535&(B=T),k=B>>>16,B=e[4],Q+=(S=t[4])>>>16,D+=65535&B,k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,e[4]=T=65535&D|k<<16,t[4]=G=65535&_|Q<<16,_=65535&(S=z),Q=S>>>16,D=65535&(B=N),k=B>>>16,B=e[5],Q+=(S=t[5])>>>16,D+=65535&B,k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,e[5]=N=65535&D|k<<16,t[5]=z=65535&_|Q<<16,_=65535&(S=J),Q=S>>>16,D=65535&(B=U),k=B>>>16,B=e[6],Q+=(S=t[6])>>>16,D+=65535&B,k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,e[6]=U=65535&D|k<<16,t[6]=J=65535&_|Q<<16,_=65535&(S=Y),Q=S>>>16,D=65535&(B=j),k=B>>>16,B=e[7],Q+=(S=t[7])>>>16,D+=65535&B,k+=B>>>16,k+=(D+=(Q+=(_+=65535&S)>>>16)>>>16)>>>16,e[7]=j=65535&D|k<<16,t[7]=Y=65535&_|Q<<16,V+=128,i-=128}}function h(e){if(!(this instanceof h))return new h(e);this.pad=n.alloc(128),this.inner=a(),this.outer=a();const t=n.alloc(64);e.byteLength>128&&(a().update(e).digest(t),e=t),this.pad.fill(54);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.inner.update(this.pad),this.pad.fill(92);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}a.prototype.update=function(e,t){i(!1===this.finalised,"Hash instance finalised");var[r,s]=function(e,t){var r=n.from(e,t);return[r,r.byteLength]}(e,t);this.bytesRead+=s;const a=s+this.pos&-128;this.buffer.set(r.subarray(0,o-this.pos),this.pos);const c=this.pos;return(s-=o-this.pos)>=0&&(u(this.hh,this.hl,this.buffer,128),this.pos=0),s>127&&(u(this.hh,this.hl,r.subarray(o-c,a-c),a-o),s%=128),this.buffer.set(r.subarray(r.byteLength-s)),this.pos=127&this.bytesRead,this.buffer.fill(0,this.pos),this},a.prototype.digest=function(e,t=0){if(i(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,this.pos>111&&(u(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),c(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),u(this.hh,this.hl,this.buffer,128),e instanceof Uint8Array&&e.byteLength>63){for(let r=0;r<8;r++)c(e,8*r+t,this.hh[r],this.hl[r]);return e}const r=new Uint8Array(64);for(let e=0;e<8;e++)c(r,8*e,this.hh[e],this.hl[e]);return"string"==typeof e?n.toString(r,e):r},h.prototype.update=function(e,t){return this.inner.update(e,t),this},h.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},a.HMAC=h},49540:(e,t,r)=>{const i=r(29204),n=r(10130),o="undefined"!=typeof WebAssembly&&r(706)({imports:{debug:{log(...e){console.log(...e.map((e=>(e>>>0).toString(16).padStart(8,"0"))))},log_tee:e=>(console.log((e>>>0).toString(16).padStart(8,"0")),e)}}});let s=0;const a=[];e.exports=d;const c=e.exports.SHA512_BYTES=64,u=216,h=128;function d(){if(!(this instanceof d))return new d;if(!o)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");a.length||(a.push(s),s+=u),this.finalized=!1,this.digestLength=c,this.pointer=a.pop(),this.pos=0,this.wasm=o,this._memory=new Uint8Array(o.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+u),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+u)}function l(e){if(!(this instanceof l))return new l(e);this.pad=n.alloc(128),this.inner=d(),this.outer=d();const t=n.alloc(64);e.byteLength>128&&(d().update(e).digest(t),e=t),this.pad.fill(54);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.inner.update(this.pad),this.pad.fill(92);for(let t=0;t<e.byteLength;t++)this.pad[t]^=e[t];this.outer.update(this.pad),this.pad.fill(0),t.fill(0)}function f(){}d.prototype._realloc=function(e){o.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(o.memory.buffer)},d.prototype.update=function(e,t){i(!1===this.finalized,"Hash instance finalized"),s%8!=0&&(s+=8-s%8),i(s%8==0,"input should be aligned for int64");const[r,a]=function(e,t){var r=n.from(e,t);return[r,r.byteLength]}(e,t);return i(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),s+e.length>this._memory.length&&this._realloc(s+e.length),this._memory.fill(0,s,s+(a+h-1&-128)-h),this._memory.set(r.subarray(0,h-this.pos),this.pointer+80+this.pos),this._memory.set(r.subarray(h-this.pos),s),this.pos=this.pos+a&127,o.sha512(this.pointer,s,a,0),this},d.prototype.digest=function(e,t=0){i(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,a.push(this.pointer);const r=this.pointer+80+this.pos;this._memory.fill(0,r,this.pointer+80+h),o.sha512(this.pointer,s,0,1);const c=this._memory.subarray(this.pointer,this.pointer+this.digestLength);if(!e)return c;if("string"==typeof e)return n.toString(c,e);i(e instanceof Uint8Array,"output must be Uint8Array or Buffer"),i(e.byteLength>=this.digestLength+t,"output must have at least 'SHA512_BYTES' bytes remaining");for(let r=0;r<this.digestLength;r++)e[r+t]=c[r];return e},d.WASM=o,d.WASM_SUPPORTED="undefined"!=typeof WebAssembly,d.ready=function(e){return e||(e=f),o?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))},d.prototype.ready=d.ready,l.prototype.update=function(e,t){return this.inner.update(e,t),this},l.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},d.HMAC=l},706:e=>{var t,r,i=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,i=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),n=0,o=0;n<r;){var s=e[t.charCodeAt(n++)],a=e[t.charCodeAt(n++)],c=e[t.charCodeAt(n++)],u=e[t.charCodeAt(n++)];i[o++]=s<<2|a>>4,i[o++]=a<<4|c>>2,i[o++]=c<<6|u}return i}})(),n=(t={"wasm-binary:./sha512.wat"(e,t){t.exports=i("AGFzbQEAAAABNAVgAX4BfmAIfn5+fn5+fn4AYAR+fn5+AX5gEX9+fn5+fn5+fn5+fn5+fn5+AGAEf39/fwADBgUAAQIDBAUDAQABBikIfgFCAAt+AUIAC34BQgALfgFCAAt+AUIAC34BQgALfgFCAAt+AUIACwcTAgZtZW1vcnkCAAZzaGE1MTIABAqZHgVCACAAQoCA/P+PgECDQhCJIABC//+DgPD/P4NCEIqEIQAgAEL/gfyH8J/A/wCDQgiJIABCgP6D+I/gv4B/g0IIioQLvAMBBn4jBCMFgyMEQn+FIwaDhSEKIwAjAYMjACMCg4UjASMCg4UhCyMAQhyKIwBCIoqFIwBCJ4qFIQwjBEIOiiMEQhKKhSMEQimKhSENIwcgCnwgDXwgAHwgBHwhCCAMIAt8IQkjAyAIfCQHIAggCXwkAyMHIwSDIwdCf4UjBYOFIQojAyMAgyMDIwGDhSMAIwGDhSELIwNCHIojA0IiioUjA0InioUhDCMHQg6KIwdCEoqFIwdCKYqFIQ0jBiAKfCANfCABfCAFfCEIIAwgC3whCSMCIAh8JAYgCCAJfCQCIwYjB4MjBkJ/hSMEg4UhCiMCIwODIwIjAIOFIwMjAIOFIQsjAkIciiMCQiKKhSMCQieKhSEMIwZCDoojBkISioUjBkIpioUhDSMFIAp8IA18IAJ8IAZ8IQggDCALfCEJIwEgCHwkBSAIIAl8JAEjBSMGgyMFQn+FIweDhSEKIwEjAoMjASMDg4UjAyMCg4UhCyMBQhyKIwFCIoqFIwFCJ4qFIQwjBUIOiiMFQhKKhSMFQimKhSENIwQgCnwgDXwgA3wgB3whCCAMIAt8IQkjACAIfCQEIAggCXwkAAsrACAAQhOKIABCPYqFIABCBoiFIAF8IAJCAYogAkIIioUgAkIHiIUgA3x8C6QRACAAKQPQAUIAUQRAIABCiJLznf/M+YTqADcDACAAQrvOqqbY0Ouzu383AwggAEKr8NP0r+68tzw3AxAgAELx7fT4paf9p6V/NwMYIABC0YWa7/rPlIfRADcDICAAQp/Y+dnCkdqCm383AyggAELr+obav7X2wR83AzAgAEL5wvibkaOz8NsANwM4IABCATcD0AELIAApAwAkACAAKQMIJAEgACkDECQCIAApAxgkAyAAKQMgJAQgACkDKCQFIAApAzAkBiAAKQM4JAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEKi3KK5jfOLxcIAQs3LvZ+SktGb8QBCr/a04v75vuC1f0K8t6eM2PT22mkQASAFIAYgByAIQrjqopq/y7CrOUKZoJewm77E+NkAQpuf5fjK1OCfkn9CmIK2093al46rfxABIAkgCiALIAxCwoSMmIrT6oNYQr7fwauU4NbBEkKM5ZL35LfhmCRC4un+r724n4bVABABIA0gDiAPIBBC75Luk8+ul9/yAEKxrdrY47+s74B/QrWknK7y1IHum39ClM2k+8yu/M1BEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBELSlcX3mbjazWRC48u8wuPwkd9vQrWrs9zouOfgD0LluLK9x7mohiQQASAFIAYgByAIQvWErMn1jcv0LUKDyZv1ppWhusoAQtT3h+rLu6rY3ABCtafFmKib4vz2ABABIAkgCiALIAxCq7+b866qlJ+Yf0KQ5NDt0s3xmKh/Qr/C7MeJ+cmBsH9C5J289/v436y/fxABIA0gDiAPIBBCwp+i7bP+gvBGQqXOqpj5qOTTVULvhI6AnuqY5QZC8Ny50PCsypQUEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBEL838i21NDC2ydCppKb4YWnyI0uQu3VkNbFv5uWzQBC3+fW7Lmig5zTABABIAUgBiAHIAhC3se93cjqnIXlAEKo5d7js9eCtfYAQubdtr/kpbLhgX9Cu+qIpNGQi7mSfxABIAkgCiALIAxC5IbE55SU+t+if0KB4Ijiu8mZjah/QpGv4oeN7uKlQkKw/NKysLSUtkcQASANIA4gDyAQQpikvbedg7rJUUKQ0parxcTBzFZCqsDEu9WwjYd0Qrij75WDjqi1EBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCyKHLxuuisNIZQtPWhoqFgdubHkKZ17v8zemdpCdCqJHtjN6Wr9g0EAEgBSAGIAcgCELjtKWuvJaDjjlCy5WGmq7JquzOAELzxo+798myztsAQqPxyrW9/puX6AAQASAJIAogCyAMQvzlvu/l3eDH9ABC4N7cmPTt2NL4AELy1sKPyoKe5IR/QuzzkNOBwcDjjH8QASANIA4gDyAQQqi8jJui/7/fkH9C6fuK9L2dm6ikf0KV8pmW+/7o/L5/QqumyZuunt64RhABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCnMOZ0e7Zz5NKQoeEg47ymK7DUUKe1oPv7Lqf7WpC+KK78/7v0751EAEgBSAGIAcgCEK6392Qp/WZ+AZCprGiltq437EKQq6b5PfLgOafEUKbjvGY0ebCuBsQASAJIAogCyAMQoT7kZjS/t3tKEKTyZyGtO+q5TJCvP2mrqHBr888QsyawODJ+NmOwwAQASANIA4gDyAQQraF+dnsl/XizABCqvyV48+zyr/ZAELs9dvWs/Xb5d8AQpewndLEsYai7AAQASAAIAApAwAjAHw3AwAgACAAKQMIIwF8NwMIIAAgACkDECMCfDcDECAAIAApAxgjA3w3AxggACAAKQMgIwR8NwMgIAAgACkDKCMFfDcDKCAAIAApAzAjBnw3AzAgACAAKQM4Iwd8NwM4C8MIARV+IAApA0AhBCAAKQNIIQUgBEL/AIMgAq18IQggBCEGIAQgAq18IQQgACAENwNAIAQgBlQEQCAFQgF8IQUgACAFNwNICwJAIAApA1AhCSAAKQNYIQogACkDYCELIAApA2ghDCAAKQNwIQ0gACkDeCEOIAApA4ABIQ8gACkDiAEhECAAKQOQASERIAApA5gBIRIgACkDoAEhEyAAKQOoASEUIAApA7ABIRUgACkDuAEhFiAAKQPAASEXIAApA8gBIRggCEKAAX0iCEIAUw0AIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADA0AgASkDACEJIAEpAwghCiABKQMQIQsgASkDGCEMIAEpAyAhDSABKQMoIQ4gASkDMCEPIAEpAzghECABKQNAIREgASkDSCESIAEpA1AhEyABKQNYIRQgASkDYCEVIAEpA2ghFiABKQNwIRcgASkDeCEYIAFBgAFqIQEgCEKAAX0iCEIAUwRAIAAgCTcDUCAAIAo3A1ggACALNwNgIAAgDDcDaCAAIA03A3AgACAONwN4IAAgDzcDgAEgACAQNwOIASAAIBE3A5ABIAAgEjcDmAEgACATNwOgASAAIBQ3A6gBIAAgFTcDsAEgACAWNwO4ASAAIBc3A8ABIAAgGDcDyAEMAgsgACAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYgFyAYEAMMAAsLIANBAUYEQCAEQv8AgyEIQoABIAhCB4NCA4aGIQcCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBA3YODwMEBQYHCAkKCwwNDg8QAQILCyAHIBeEIRdCACEHCyAHIBiEIRhCACEHIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgBDcDQEIAIQlCACEKQgAhC0IAIQxCACENQgAhDkIAIQ9CACEQQgAhEUIAIRJCACETQgAhFEIAIRVCACEWQgAhF0IAIRgLIAcgCYQhCUIAIQcLIAcgCoQhCkIAIQcLIAcgC4QhC0IAIQcLIAcgDIQhDEIAIQcLIAcgDYQhDUIAIQcLIAcgDoQhDkIAIQcLIAcgD4QhD0IAIQcLIAcgEIQhEEIAIQcLIAcgEYQhEUIAIQcLIAcgEoQhEkIAIQcLIAcgE4QhE0IAIQcLIAcgFIQhFEIAIQcLIAcgFYQhFUIAIQcLIAcgFoQhFkIAIQcLIARCPYggBUIDiHwQACEXIARCCH4QACEYIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgACkDABAANwMAIAAgACkDCBAANwMIIAAgACkDEBAANwMQIAAgACkDGBAANwMYIAAgACkDIBAANwMgIAAgACkDKBAANwMoIAAgACkDMBAANwMwIAAgACkDOBAANwM4Cws=")}},function(){return r||(0,t[Object.keys(t)[0]])((r={exports:{}}).exports,r),r.exports})(),o=new WebAssembly.Module(n);e.exports=e=>new WebAssembly.Instance(o,e).exports},37478:(e,t,r)=>{"use strict";var i=r(40210),n=r(21924),o=r(70631),s=i("%TypeError%"),a=i("%WeakMap%",!0),c=i("%Map%",!0),u=n("WeakMap.prototype.get",!0),h=n("WeakMap.prototype.set",!0),d=n("WeakMap.prototype.has",!0),l=n("Map.prototype.get",!0),f=n("Map.prototype.set",!0),p=n("Map.prototype.has",!0),A=function(e,t){for(var r,i=e;null!==(r=i.next);i=r)if(r.key===t)return i.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,i={assert:function(e){if(!i.has(e))throw new s("Side channel does not contain "+o(e))},get:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(e)return u(e,i)}else if(c){if(t)return l(t,i)}else if(r)return function(e,t){var r=A(e,t);return r&&r.value}(r,i)},has:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(e)return d(e,i)}else if(c){if(t)return p(t,i)}else if(r)return function(e,t){return!!A(e,t)}(r,i);return!1},set:function(i,n){a&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new a),h(e,i,n)):c?(t||(t=new c),f(t,i,n)):(r||(r={key:{},next:null}),function(e,t,r){var i=A(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}}(r,i,n))}};return i}},58937:e=>{function t(e,t){var r=e.l+t.l,i={h:e.h+t.h+(r/2>>>31)>>>0,l:r>>>0};e.h=i.h,e.l=i.l}function r(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function i(e,t){var r={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=r.h,e.l=r.l}function n(e){var t=e.l;e.l=e.h,e.h=t}function o(e,o,s,a){t(e,o),t(s,a),i(o,13),i(a,16),r(o,e),r(a,s),n(e),t(s,o),t(e,a),i(o,17),i(a,21),r(o,s),r(a,e),n(s)}function s(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}e.exports=function(e,t,i){var n,a={h:s(i,4),l:s(i,0)},c={h:s(i,12),l:s(i,8)},u={h:a.h,l:a.l},h=a,d={h:c.h,l:c.l},l=c,f=0,p=t.length,A=p-7,g=new Uint8Array(new ArrayBuffer(8));for(r(u,{h:1936682341,l:1886610805}),r(d,{h:1685025377,l:1852075885}),r(h,{h:1819895653,l:1852142177}),r(l,{h:1952801890,l:2037671283});f<A;)r(l,n={h:s(t,f+4),l:s(t,f)}),o(u,d,h,l),o(u,d,h,l),r(u,n),f+=8;g[7]=p;for(var m=0;f<p;)g[m++]=t[f++];for(;m<7;)g[m++]=0;r(l,n={h:g[7]<<24|g[6]<<16|g[5]<<8|g[4],l:g[3]<<24|g[2]<<16|g[1]<<8|g[0]}),o(u,d,h,l),o(u,d,h,l),r(u,n),r(h,{h:0,l:255}),o(u,d,h,l),o(u,d,h,l),o(u,d,h,l),o(u,d,h,l);var y=u;r(y,d),r(y,h),r(y,l),e[0]=255&y.l,e[1]=y.l>>8&255,e[2]=y.l>>16&255,e[3]=y.l>>24&255,e[4]=255&y.h,e[5]=y.h>>8&255,e[6]=y.h>>16&255,e[7]=y.h>>24&255}},82976:(e,t,r)=>{var i=r(29204),n="undefined"!=typeof WebAssembly&&r(61044)(),o=r(58937);e.exports=u;var s=u.BYTES=8,a=u.KEYBYTES=16;u.WASM_SUPPORTED=!!n,u.WASM_LOADED=!!n;var c=new Uint8Array(n?n.memory.buffer:0);function u(e,t,r,u){var h;return r||(r=new Uint8Array(8)),!0!==u&&(i(r.length>=s,"output must be at least "+s),i(t.length>=a,"key must be at least "+a)),n?(e.length+24>c.length&&(h=e.length+24,n.memory.grow(Math.max(0,Math.ceil(Math.abs(h-c.length)/65536))),c=new Uint8Array(n.memory.buffer)),c.set(t,8),c.set(e,24),n.siphash(24,e.length),r.set(c.subarray(0,8))):o(r,e,t),r}},61044:e=>{var t,r,i=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,i=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),n=0,o=0;n<r;){var s=e[t.charCodeAt(n++)],a=e[t.charCodeAt(n++)],c=e[t.charCodeAt(n++)],u=e[t.charCodeAt(n++)];i[o++]=s<<2|a>>4,i[o++]=a<<4|c>>2,i[o++]=c<<6|u}return i}})(),n=(t={"wasm-binary:./siphash24.wat"(e,t){t.exports=i("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}},function(){return r||(0,t[Object.keys(t)[0]])((r={exports:{}}).exports,r),r.exports})(),o=new WebAssembly.Module(n);e.exports=e=>new WebAssembly.Instance(o,e).exports},35658:(e,t,r)=>{const{crypto_stream_chacha20_ietf:i,crypto_stream_chacha20_ietf_xor_ic:n}=r(41777),{crypto_verify_16:o}=r(25157),s=r(1593),a=r(29204),c=16,u=Number.MAX_SAFE_INTEGER,h=new Uint8Array(16);function d(e,t,r,o,l,p,A){if(null===o)return d(e,t,r,new Uint8Array(0),l,p,A);a(e.byteLength===r.byteLength,"ciphertext should be same length than message"),a(12===p.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),a(32===A.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),a(r.byteLength<=u,"message is too large"),a(t.byteLength<=c,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const g=new Uint8Array(64);var m=new Uint8Array(8);i(g,p,A);const y=new s(g);return g.fill(0),y.update(o,0,o.byteLength),y.update(h,0,16-o.byteLength&15),n(e,r,p,1,A),y.update(e,0,r.byteLength),y.update(h,0,16-r.byteLength&15),f(m,0,o.byteLength),y.update(m,0,m.byteLength),f(m,0,r.byteLength),y.update(m,0,m.byteLength),y.finish(t,0),m.fill(0),c}function l(e,t,r,d,p,A,g){if(null===p)return l(e,t,r,d,new Uint8Array(0),A,g);a(r.byteLength===e.byteLength,"message should be same length than ciphertext"),a(12===A.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),a(32===g.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),a(e.byteLength<=u,"message is too large"),a(d.byteLength<=c,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const m=new Uint8Array(64),y=new Uint8Array(8),I=new Uint8Array(c);i(m,A,g);const w=new s(m);m.fill(0),w.update(p,0,p.byteLength),w.update(h,0,16-p.byteLength&15);const b=r.byteLength;w.update(r,0,b),w.update(h,0,16-b&15),f(y,0,p.byteLength),w.update(y,0,y.byteLength),f(y,0,b),w.update(y,0,y.byteLength),w.finish(I,0),a(16===I.byteLength);const v=o(I,0,d,0);if(I.fill(0),y.fill(0),!v)throw e.fill(0),new Error("could not verify data");n(e,r,A,1,g)}function f(e,t,r){e.fill(0,0,8);const i=new DataView(e.buffer,e.byteOffset,e.byteLength);i.setUint32(t,4294967295&r,!0),i.setUint32(t+4,r/2**32&4294967295,!0)}e.exports={crypto_aead_chacha20poly1305_ietf_encrypt:function e(t,r,i,n,o,s){if(null===i)return e(t,r,new Uint8Array(0),n,o,s);a(t.byteLength===r.byteLength+c,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),a(12===o.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),a(32===s.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),a(r.byteLength<=u,"message is too large");const h=d(t.subarray(0,r.byteLength),t.subarray(r.byteLength),r,i,n,o,s);return r.byteLength+h},crypto_aead_chacha20poly1305_ietf_encrypt_detached:d,crypto_aead_chacha20poly1305_ietf_decrypt:function e(t,r,i,n,o,s){if(null===n)return e(t,r,i,new Uint8Array(0),o,s);if(a(t.byteLength===i.byteLength-c,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),a(12===o.byteLength,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),a(32===s.byteLength,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),a(t.byteLength<=u,"message is too large"),i.byteLength<c)throw new Error("could not verify data");return l(t,r,i.subarray(0,i.byteLength-c),i.subarray(i.byteLength-c),n,o,s),i.byteLength-c},crypto_aead_chacha20poly1305_ietf_decrypt_detached:l,crypto_aead_chacha20poly1305_ietf_ABYTES:c,crypto_aead_chacha20poly1305_ietf_KEYBYTES:32,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:12,crypto_aead_chacha20poly1305_ietf_NSECBYTES:0,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:u}},55962:(e,t,r)=>{const{crypto_verify_32:i}=r(25157),n=r(71246),o=r(29204);e.exports={crypto_auth_BYTES:32,crypto_auth_KEYBYTES:32,crypto_auth:function(e,t,r){o(32===e.byteLength,"out should be 'crypto_auth_BYTES' in length"),o(32===r.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");const i=new Uint8Array(64),s=n.HMAC(r);s.update(t),s.digest(i),e.set(i.subarray(0,32))},crypto_auth_verify:function(e,t,r){o(32===e.byteLength,"h should be 'crypto_auth_BYTES' in length"),o(32===r.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");const s=n.HMAC(r).update(t).digest();return i(e,0,s,0)}}},4701:(e,t,r)=>{const{crypto_hash_sha512:i}=r(94426),{crypto_scalarmult:n,crypto_scalarmult_base:o}=r(59261),{randombytes:s}=r(32407),{crypto_generichash_batch:a}=r(31140),{crypto_stream_xsalsa20_MESSAGEBYTES_MAX:c}=r(86600),{crypto_secretbox_open_easy:u,crypto_secretbox_easy:h,crypto_secretbox_detached:d,crypto_secretbox_open_detached:l}=r(36539),f=r(64559),p=r(29204),A=32,g=32,m=16,y=c-16;function I(e,t){return b(e,A),b(t,g),s(t,32),o(e,t)}function w(e,t,r){const i=new Uint8Array(16),o=new Uint8Array(32);return p(0===n(o,r,t)),f.core_hsalsa20(e,i,o,f.SIGMA),!0}function b(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function v(e){for(let t=0;t<e.length;t++)e[t]=0}e.exports={crypto_box_easy:function(e,t,r,i,n){return p(e.length>=t.length+m,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),p(t.length<=y,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),function(e,t,r,i,n,o){b(t,m),b(i,24),b(n,A),b(o,g);const s=new Uint8Array(32);p(w(s,n,o));const a=function(e,t,r,i,n){return d(e,t,r,i,n)}(e,t,r,i,s);return v(s),a}(e.subarray(m,t.length+m),e.subarray(0,m),t,r,i,n)},crypto_box_open_easy:function(e,t,r,i,n){return p(t.length>=e.length+m,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),function(e,t,r,i,n,o){const s=new Uint8Array(32);p(w(s,n,o));const a=function(e,t,r,i,n){return l(e,t,r,i,n)}(e,t,r,i,s);return v(s),a}(e,t.subarray(m,e.length+m),t.subarray(0,m),r,i,n)},crypto_box_keypair:I,crypto_box_seed_keypair:function(e,t,r){p(e.byteLength===A,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),p(t.byteLength===g,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),p(32===t.byteLength,"sk should be 'crypto_box_SEEDBYTES' bytes");const n=new Uint8Array(64);return i(n,r,32),t.set(n.subarray(0,32)),n.fill(0),o(e,t)},crypto_box_seal:function(e,t,r){b(e,48+t.length),b(r,A);var i=e.subarray(0,A),o=new Uint8Array(g);I(i,o);var s=new Uint8Array(24);a(s,[i,r]);var c=new Uint8Array(A);n(c,o,r);var u=new Uint8Array(32),d=new Uint8Array(16);f.core_hsalsa20(u,d,c,f.SIGMA),h(e.subarray(i.length),t,s,u),v(o)},crypto_box_seal_open:function(e,t,r,i){b(t,48),b(e,t.length-48),b(r,A),b(i,g);var o=t.subarray(0,A),s=new Uint8Array(24);a(s,[o,r]);var c=new Uint8Array(A);n(c,i,o);var h=new Uint8Array(32),d=new Uint8Array(16);return f.core_hsalsa20(h,d,c,f.SIGMA),u(e,t.subarray(o.length),s,h)},crypto_box_PUBLICKEYBYTES:A,crypto_box_SECRETKEYBYTES:g,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_box_SEALBYTES:48,crypto_box_SEEDBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_MACBYTES:m}},31140:(e,t,r)=>{var i=r(17462);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");e.exports.crypto_generichash_PRIMITIVE="blake2b",e.exports.crypto_generichash_BYTES_MIN=i.BYTES_MIN,e.exports.crypto_generichash_BYTES_MAX=i.BYTES_MAX,e.exports.crypto_generichash_BYTES=i.BYTES,e.exports.crypto_generichash_KEYBYTES_MIN=i.KEYBYTES_MIN,e.exports.crypto_generichash_KEYBYTES_MAX=i.KEYBYTES_MAX,e.exports.crypto_generichash_KEYBYTES=i.KEYBYTES,e.exports.crypto_generichash_WASM_SUPPORTED=i.WASM_SUPPORTED,e.exports.crypto_generichash_WASM_LOADED=!1,e.exports.crypto_generichash=function(e,t,r){i(e.length,r).update(t).final(e)},e.exports.crypto_generichash_ready=i.ready,e.exports.crypto_generichash_batch=function(e,t,r){for(var n=i(e.length,r),o=0;o<t.length;o++)n.update(t[o]);n.final(e)},e.exports.crypto_generichash_instance=function(t,r){return null==r&&(r=e.exports.crypto_generichash_BYTES),i(r,t)},i.ready((function(t){e.exports.crypto_generichash_WASM_LOADED=i.WASM_LOADED}))},94426:(e,t,r)=>{const i=r(71246),n=r(29204);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function o(e,t,r){return n(64===e.byteLength,"out must be 'crypto_hash_sha512_BYTES' bytes long"),i().update(t.subarray(0,r)).digest(e),0}e.exports={crypto_hash:function(e,t,r){return o(e,t,r)},crypto_hash_sha512:o,crypto_hash_sha512_BYTES:64,crypto_hash_BYTES:64}},84335:(e,t,r)=>{const i=r(93553),n=r(29204);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");e.exports={crypto_hash_sha256:function(e,t,r){return n(32===e.byteLength,"out must be 'crypto_hash_sha256_BYTES' bytes long"),i().update(t.subarray(0,r)).digest(e),0},crypto_hash_sha256_BYTES:32}},72466:(e,t,r)=>{const i=r(29204),n=r(32407).randombytes_buf,o=r(17462);e.exports.crypto_kdf_PRIMITIVE="blake2b",e.exports.crypto_kdf_BYTES_MIN=16,e.exports.crypto_kdf_BYTES_MAX=64,e.exports.crypto_kdf_CONTEXTBYTES=8,e.exports.crypto_kdf_KEYBYTES=32,e.exports.crypto_kdf_derive_from_key=function(t,r,n,s){i(t.length>=e.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),i(r>=0&&r<=9007199254740991,"subkey_id must be safe integer"),i(n.length>=e.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var a=new Uint8Array(o.PERSONALBYTES),c=new Uint8Array(o.SALTBYTES);a.set(n,0,e.exports.crypto_kdf_CONTEXTBYTES),function(e,t){var r=1,i=0;for(e[0]=255&t;++i<8&&(r*=256);)e[i]=t/r&255}(c,r);var u=Math.min(t.length,e.exports.crypto_kdf_BYTES_MAX);o(u,s.subarray(0,e.exports.crypto_kdf_KEYBYTES),c,a,!0).final(t)},e.exports.crypto_kdf_keygen=function(t){i(t.length>=e.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),n(t.subarray(0,e.exports.crypto_kdf_KEYBYTES))}},13979:(e,t,r)=>{const{crypto_scalarmult_base:i}=r(59261),{crypto_generichash:n}=r(31140),{randombytes_buf:o}=r(32407),s=r(29204);e.exports={crypto_kx_keypair:function(e,t){return s(32===e.byteLength,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),s(32===t.byteLength,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),o(t,32),i(e,t)},crypto_kx_seed_keypair:function(e,t,r){return s(32===e.byteLength,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),s(32===t.byteLength,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),s(32===r.byteLength,"seed must be 'crypto_kx_SEEDBYTES' bytes"),n(t,r),i(e,t)},crypto_kx_SEEDBYTES:32,crypto_kx_SECRETKEYBYTES:32,crypto_kx_PUBLICKEYBYTES:32}},50855:(e,t,r)=>{const i=r(29204),n=r(1593),{crypto_verify_16:o}=r(25157);function s(e,t,r){i(16===e.byteLength,"mac must be 'crypto_onetimeauth_BYTES' bytes"),i(null!=t.byteLength,"msg must be buffer"),i(32===r.byteLength,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var o=new n(r);o.update(t,0,t.byteLength),o.finish(e,0)}e.exports={crypto_onetimeauth:s,crypto_onetimeauth_verify:function(e,t,r){i(16===e.byteLength,"mac must be 'crypto_onetimeauth_BYTES' bytes"),i(null!=t.byteLength,"msg must be buffer"),i(32===r.byteLength,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new Uint8Array(16);return s(n,t,r),o(e,0,n,0)},crypto_onetimeauth_BYTES:16,crypto_onetimeauth_KEYBYTES:32,crypto_onetimeauth_PRIMITIVE:"poly1305"}},59261:(e,t,r)=>{const{_9:i,_121665:n,gf:o,inv25519:s,pack25519:a,unpack25519:c,sel25519:u,A:h,M:d,Z:l,S:f}=r(66706);function p(e,t,r){A(e,32),A(t,32),A(r,32);var i,p,g=new Uint8Array(32),m=new Float64Array(80),y=o(),I=o(),w=o(),b=o(),v=o(),E=o();for(p=0;p<31;p++)g[p]=t[p];for(g[31]=127&t[31]|64,g[0]&=248,c(m,r),p=0;p<16;p++)I[p]=m[p],b[p]=y[p]=w[p]=0;for(y[0]=b[0]=1,p=254;p>=0;--p)i=g[p>>>3]>>>(7&p)&1,u(y,I,i),u(w,b,i),h(v,y,w),l(y,y,w),h(w,I,b),l(I,I,b),f(b,v),f(E,y),d(y,w,y),d(w,I,v),h(v,y,w),l(y,y,w),f(I,y),l(w,b,E),d(y,w,n),h(y,y,b),d(w,w,y),d(y,b,E),d(b,I,m),f(I,v),u(y,I,i),u(w,b,i);for(p=0;p<16;p++)m[p+16]=y[p],m[p+32]=w[p],m[p+48]=I[p],m[p+64]=b[p];var C=m.subarray(32),B=m.subarray(16);return s(C,C),d(B,B,C),a(e,B),0}function A(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}e.exports={crypto_scalarmult:p,crypto_scalarmult_base:function(e,t){return p(e,t,i)},crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32}},36539:(e,t,r)=>{const i=r(29204),{crypto_stream:n,crypto_stream_xor:o}=r(86600),{crypto_onetimeauth:s,crypto_onetimeauth_verify:a,crypto_onetimeauth_BYTES:c,crypto_onetimeauth_KEYBYTES:u}=r(50855),h=32,d=24,l=32,f=16;function p(e,t,r,n){i(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");const a=t.byteLength;i(a>=l,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),i(r.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),i(n.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes"),o(e,t,r,n),s(e.subarray(f,f+c),e.subarray(f+c,e.byteLength),e.subarray(0,u)),e.fill(0,0,f)}function A(e,t,r,s){i(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");const p=e.byteLength;i(p>=l,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),i(r.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),i(s.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const A=new Uint8Array(u);return n(A,r,s),!1!==a(t.subarray(f,f+c),t.subarray(f+c,t.byteLength),A)&&(o(e,t,r,s),e.fill(0,0,32),!0)}function g(e,t,r,n){i(e.byteLength===t.byteLength+16,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),i(r.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),i(n.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(l+t.byteLength),s=new Uint8Array(o.byteLength);o.set(t,l),p(s,o,r,n),e.set(s.subarray(f))}function m(e,t,r,n){i(t.byteLength===e.byteLength+16,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),i(r.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),i(n.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(f+t.byteLength),s=new Uint8Array(o.byteLength);return o.set(t,f),!1!==A(s,o,r,n)&&(e.set(s.subarray(l)),!0)}e.exports={crypto_secretbox:p,crypto_secretbox_open:A,crypto_secretbox_detached:function(e,t,r,n,o){i(e.byteLength===r.byteLength,"o must be 'msg.byteLength' bytes"),i(16===t.byteLength,"mac must be 'crypto_secretbox_MACBYTES' bytes"),i(n.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),i(o.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const s=new Uint8Array(r.byteLength+t.byteLength);return g(s,r,n,o),t.set(s.subarray(0,t.byteLength)),e.set(s.subarray(t.byteLength)),!0},crypto_secretbox_open_detached:function(e,t,r,n,o){i(t.byteLength===e.byteLength,"o must be 'msg.byteLength' bytes"),i(16===r.byteLength,"mac must be 'crypto_secretbox_MACBYTES' bytes"),i(n.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),i(o.byteLength===h,"k must be 'crypto_secretbox_KEYBYTES' bytes");const s=new Uint8Array(t.byteLength+r.byteLength);return s.set(r),s.set(t,r.byteLength),m(e,s,n,o)},crypto_secretbox_easy:g,crypto_secretbox_open_easy:m,crypto_secretbox_KEYBYTES:h,crypto_secretbox_NONCEBYTES:d,crypto_secretbox_ZEROBYTES:l,crypto_secretbox_BOXZEROBYTES:f,crypto_secretbox_MACBYTES:16}},34608:(e,t,r)=>{const i=r(29204),{randombytes_buf:n}=r(32407),{crypto_stream_chacha20_ietf:o,crypto_stream_chacha20_ietf_xor:s,crypto_stream_chacha20_ietf_xor_ic:a,crypto_stream_chacha20_ietf_KEYBYTES:c}=r(41777),{crypto_core_hchacha20:u,crypto_core_hchacha20_INPUTBYTES:h}=r(82271),d=r(1593),{sodium_increment:l,sodium_is_zero:f,sodium_memcmp:p}=r(23007),A=4,g=32,m=Number.MAX_SAFE_INTEGER,y=Number.MAX_SAFE_INTEGER,I=new Uint8Array([0]),w=new Uint8Array([1]),b=new Uint8Array([2]),v=new Uint8Array([w|b]),E=40+A+8,C=g,B=C+8+A,S=new Uint8Array(16);function _(e,t){let r=1,i=0;for(e[0]=255&t;++i<8&&(r*=256);)e[i]=t/r&255}function Q(e){i(e.byteLength===E,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const t=e.subarray(C,B);for(let e=0;e<A;e++)t[e]=0;t[0]=1}function D(e){i(e.byteLength===E,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const t=e.subarray(0,C),r=e.subarray(C,B),n=new Uint8Array(c+8);let o;for(o=0;o<c;o++)n[o]=t[o];for(o=0;o<8;o++)n[c+o]=r[A+o];for(s(n,n,r,t),o=0;o<c;o++)t[o]=n[o];for(o=0;o<8;o++)r[A+o]=n[c+o];Q(e)}function k(e,t,r){for(let i=0;i<r;i++)e[i]^=t[i]}e.exports={crypto_secretstream_xchacha20poly1305_keygen:function(e){i(e.length===g),n(e)},crypto_secretstream_xchacha20poly1305_init_push:function(e,t,r){i(e.byteLength===E,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i(t instanceof Uint8Array&&24===t.length,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),i(r instanceof Uint8Array&&r.length===g,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");const o=e.subarray(0,C),s=e.subarray(C,B),a=e.subarray(B);n(t,24),u(o,t,r,null),Q(e);for(let e=0;e<8;e++)s[e+A]=t[e+h];a.fill(0)},crypto_secretstream_xchacha20poly1305_init_pull:function(e,t,r){i(e.byteLength===E,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i(t instanceof Uint8Array&&24===t.length,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),i(r instanceof Uint8Array&&r.length===g,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");const n=e.subarray(0,C),o=e.subarray(C,B),s=e.subarray(B);u(n,t,r,null),Q(e);for(let e=0;e<8;e++)o[e+A]=t[e+h];s.fill(0)},crypto_secretstream_xchacha20poly1305_rekey:D,crypto_secretstream_xchacha20poly1305_push:function(e,t,r,n,s){i(e.byteLength===E,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),n||(n=new Uint8Array(0));const c=e.subarray(0,C),u=e.subarray(C,B),h=new Uint8Array(64),p=new Uint8Array(8);i(m<=y),o(h,u,c);const g=new d(h);h.fill(0),g.update(n,0,n.byteLength),g.update(S,0,16-n.byteLength&15),h[0]=s[0],a(h,h,u,1,c),g.update(h,0,h.byteLength),t[0]=h[0];const I=t.subarray(1,t.byteLength);a(I,r,u,2,c),g.update(I,0,r.byteLength),g.update(S,0,16-h.byteLength+r.byteLength&15),_(p,n.byteLength),g.update(p,0,p.byteLength),_(p,h.byteLength+r.byteLength),g.update(p,0,p.byteLength);const w=t.subarray(1+r.byteLength,t.byteLength);return g.finish(w,0),i(!0),k(u.subarray(A,u.length),w,8),l(u),(0!=(s[0]&b)||f(u.subarray(0,A)))&&D(e),17+r.byteLength},crypto_secretstream_xchacha20poly1305_pull:function(e,t,r,n,s){i(e.byteLength===E,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),s||(s=new Uint8Array(0));const c=e.subarray(0,C),u=e.subarray(C,B),h=new Uint8Array(64),g=new Uint8Array(8),m=new Uint8Array(16);i(n.byteLength>=17,"ciphertext is too short.");const y=n.byteLength-17;o(h,u,c);const I=new d(h);h.fill(0),I.update(s,0,s.byteLength),I.update(S,0,16-s.byteLength&15),h.fill(0),h[0]=n[0],a(h,h,u,1,c),r[0]=h[0],h[0]=n[0],I.update(h,0,h.byteLength);const w=n.subarray(1,n.length);I.update(w,0,y),I.update(S,0,16-h.byteLength+y&15),_(g,s.byteLength),I.update(g,0,g.byteLength),_(g,h.byteLength+t.byteLength),I.update(g,0,g.byteLength),I.finish(m,0);const v=n.subarray(1+y,n.length);if(!p(m,v))throw m.fill(0),new Error("MAC could not be verified.");return a(t,w.subarray(0,t.length),u,2,c),k(u.subarray(A,u.length),m,8),l(u),(0!=(r&b)||f(u.subarray(0,A)))&&D(e),y},crypto_secretstream_xchacha20poly1305_STATEBYTES:E,crypto_secretstream_xchacha20poly1305_ABYTES:17,crypto_secretstream_xchacha20poly1305_HEADERBYTES:24,crypto_secretstream_xchacha20poly1305_KEYBYTES:g,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:m,crypto_secretstream_xchacha20poly1305_TAGBYTES:1,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:I,crypto_secretstream_xchacha20poly1305_TAG_PUSH:w,crypto_secretstream_xchacha20poly1305_TAG_REKEY:b,crypto_secretstream_xchacha20poly1305_TAG_FINAL:v}},53025:(e,t,r)=>{var i=r(82976);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");t.crypto_shorthash_PRIMITIVE="siphash24",t.crypto_shorthash_BYTES=i.BYTES,t.crypto_shorthash_KEYBYTES=i.KEYBYTES,t.crypto_shorthash_WASM_SUPPORTED=i.WASM_SUPPORTED,t.crypto_shorthash_WASM_LOADED=i.WASM_LOADED,t.crypto_shorthash=function(e,t,r,n){i(t,r,e,n)}},46977:(e,t,r)=>{const{crypto_verify_32:i}=r(25157),{crypto_hash:n}=r(94426),{gf:o,gf0:s,gf1:a,D:c,D2:u,X:h,Y:d,I:l,A:f,Z:p,M:A,S:g,sel25519:m,pack25519:y,inv25519:I,unpack25519:w}=r(66706),{randombytes:b}=r(32407),{crypto_scalarmult_BYTES:v}=r(59261),{crypto_hash_sha512_BYTES:E}=r(94426),C=r(29204),B=64;function S(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function _(e,t){var r=o(),i=o(),n=o(),s=o(),a=o(),c=o(),h=o(),d=o(),l=o();p(r,e[1],e[0]),p(l,t[1],t[0]),A(r,r,l),f(i,e[0],e[1]),f(l,t[0],t[1]),A(i,i,l),A(n,e[3],t[3]),A(n,n,u),A(s,e[2],t[2]),f(s,s,s),p(a,i,r),p(c,s,n),f(h,s,n),f(d,i,r),A(e[0],a,c),A(e[1],d,h),A(e[2],h,c),A(e[3],a,d)}function Q(e,t,r){var i;for(i=0;i<4;i++)m(e[i],t[i],r)}function D(e,t){var r=o(),i=o(),n=o();I(n,t[2]),A(r,t[0],n),A(i,t[1],n),y(e,i),e[31]^=U(r)<<7}function k(e,t,r){var i,n,c=[o(t[0]),o(t[1]),o(t[2]),o(t[3])];for(S(e[0],s),S(e[1],a),S(e[2],a),S(e[3],s),n=255;n>=0;--n)Q(e,c,i=r[n/8|0]>>(7&n)&1),_(c,e),_(e,e),Q(e,c,i)}function M(e,t){var r=[o(),o(),o(),o()];S(r[0],h),S(r[1],d),S(r[2],a),A(r[3],h,d),k(e,r,t)}function P(e,t,r){L(e,32),L(t,64);var i,s=new Uint8Array(64),a=[o(),o(),o(),o()];for(r||b(t,32),n(s,t,32),s[0]&=248,s[31]&=127,s[31]|=64,M(a,s),D(e,a),i=0;i<32;i++)t[i+32]=e[i]}e.exports={crypto_sign_keypair:P,crypto_sign_seed_keypair:function(e,t,r){return L(r,32),t.set(r),P(e,t,!0)},crypto_sign:O,crypto_sign_detached:function(e,t,r){var i=new Uint8Array(t.length+B);O(i,t,r);for(let t=0;t<B;t++)e[t]=i[t]},crypto_sign_open:N,crypto_sign_verify_detached:function(e,t,r){L(e,B);var i=new Uint8Array(t.length+B),n=0;for(n=0;n<B;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+B]=t[n];return N(t,i,r)},crypto_sign_BYTES:B,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_sign_ed25519_PUBLICKEYBYTES:32,crypto_sign_ed25519_SECRETKEYBYTES:64,crypto_sign_ed25519_SEEDBYTES:32,crypto_sign_ed25519_BYTES:64,crypto_sign_ed25519_pk_to_curve25519:function(e,t){L(e,32),L(t,32);var r=[o(),o(),o(),o()],i=o([1]),n=o([1]);C(function(e){Uint8Array.from([]);var t,r=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],i=new Uint8Array(7);L(r,7);for(let n=0;n<r.length;n++)for(t=0;t<31;t++)i[n]|=e[t]^r[n][t];for(let n=0;n<r.length;n++)i[n]|=127&e[t]^r[n][t];var n=0;for(let e=0;e<r.length;e++)n|=i[e]-1;return 0==(n>>8&1)}(t)&&T(r,t)&&function(e){var t=[o(),o(),o(),o()];!function(e,t){k(e,t,x)}(t,e);var r=0;for(let e=0;e<16;e++)r|=65535&t[0][e];return 0===r}(r),"Cannot convert key: bad point");for(let t=0;t<r.length;t++)y(e,r[t]);return p(n,n,r[1]),f(i,i,r[1]),I(n,n),A(i,i,n),y(e,i),0},crypto_sign_ed25519_sk_to_curve25519:function(e,t){C(e&&e.byteLength===v,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),C(t&&64===t.byteLength,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var r=new Uint8Array(E);return n(r,t,32),r[0]&=248,r[31]&=127,r[31]|=64,e.set(r.subarray(0,v)),r.fill(0),e},crypto_sign_ed25519_sk_to_pk:function(e,t){return L(e,32),e.set(t.subarray(32)),e},unpackneg:T,pack:D};var x=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function F(e,t){var r,i,n,o;for(i=63;i>=32;--i){for(r=0,n=i-32,o=i-12;n<o;++n)t[n]+=r-16*t[i]*x[n-(i-32)],r=t[n]+128>>8,t[n]-=256*r;t[n]+=r,t[i]=0}for(r=0,n=0;n<32;n++)t[n]+=r-(t[31]>>4)*x[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*x[n];for(i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}function R(e){var t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let t=0;t<64;t++)e[t]=0;F(e,t)}function O(e,t,r){L(e,B+t.length),L(t,0),L(r,64);var i,s,a=t.length,c=new Uint8Array(64),u=new Uint8Array(64),h=new Uint8Array(64),d=new Float64Array(64),l=[o(),o(),o(),o()];n(c,r,32),c[0]&=248,c[31]&=127,c[31]|=64;var f=a+64;for(i=0;i<a;i++)e[64+i]=t[i];for(i=0;i<32;i++)e[32+i]=c[32+i];for(n(h,e.subarray(32),a+32),R(h),M(l,h),D(e,l),i=32;i<64;i++)e[i]=r[i];for(n(u,e,a+64),R(u),i=0;i<64;i++)d[i]=0;for(i=0;i<32;i++)d[i]=h[i];for(i=0;i<32;i++)for(s=0;s<32;s++)d[i+s]+=u[i]*c[s];return F(e.subarray(32),d),f}function T(e,t){var r=o(),i=o(),n=o(),s=o(),u=o(),h=o(),d=o();return S(e[2],a),w(e[1],t),g(n,e[1]),A(s,n,c),p(n,n,e[2]),f(s,e[2],s),g(u,s),g(h,u),A(d,h,u),A(r,d,n),A(r,r,s),function(e,t){var r,i=o();for(r=0;r<16;r++)i[r]=t[r];for(r=250;r>=0;r--)g(i,i),1!==r&&A(i,i,t);for(r=0;r<16;r++)e[r]=i[r]}(r,r),A(r,r,n),A(r,r,s),A(r,r,s),A(e[0],r,s),g(i,e[0]),A(i,i,s),j(i,n)||A(e[0],e[0],l),g(i,e[0]),A(i,i,s),!!j(i,n)&&(U(e[0])===t[31]>>7&&p(e[0],o(),e[0]),A(e[3],e[0],e[1]),!0)}function N(e,t,r){L(e,t.length-B),L(t,B),L(r,32);var s,a=t.length,c=new Uint8Array(t.length),u=new Uint8Array(32),h=new Uint8Array(64),d=[o(),o(),o(),o()],l=[o(),o(),o(),o()];if(a<64)return!1;if(!T(l,r))return!1;for(s=0;s<a;s++)c[s]=t[s];for(s=0;s<32;s++)c[s+32]=r[s];if(n(h,c,a),R(h),k(d,l,h),M(l,t.subarray(32)),_(d,l),D(u,d),a-=64,!i(t,0,u,0)){for(s=0;s<a;s++)c[s]=0;return!1}for(s=0;s<a;s++)e[s]=t[s+64];return!0}function U(e){var t=new Uint8Array(32);return y(t,e),1&t[0]}function j(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return y(r,e),y(n,t),i(r,0,n,0)}function L(e,t,r="Argument"){if(!e||t&&e.length<t)throw new Error(r+" must be a buffer"+(t?" of length "+t:""))}},86600:(e,t,r)=>{const i=r(64559);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function n(e,t){this._instance=i(e,t)}t.crypto_stream_KEYBYTES=32,t.crypto_stream_NONCEBYTES=24,t.crypto_stream_PRIMITIVE="xsalsa20",t.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,t.crypto_stream=function(e,r,i){e.fill(0),t.crypto_stream_xor(e,e,r,i)},t.crypto_stream_xor=function(e,t,r,n){const o=i(r,n);o.update(t,e),o.final()},t.crypto_stream_xor_instance=function(e,t){return new n(e,t)},n.prototype.update=function(e,t){this._instance.update(t,e)},n.prototype.final=function(){this._instance.finalize(),this._instance=null}},41777:(e,t,r)=>{const i=r(29204),n=r(4551);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");t.crypto_stream_chacha20_KEYBYTES=32,t.crypto_stream_chacha20_NONCEBYTES=8,t.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,t.crypto_stream_chacha20_ietf_KEYBYTES=32,t.crypto_stream_chacha20_ietf_NONCEBYTES=12,t.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=2**32,t.crypto_stream_chacha20=function(e,r,i){e.fill(0),t.crypto_stream_chacha20_xor(e,e,r,i)},t.crypto_stream_chacha20_xor=function(e,r,o,s){i(o.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),i(s.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const a=new n(o,s);a.update(e,r),a.final()},t.crypto_stream_chacha20_xor_ic=function(e,r,o,s,a){i(o.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),i(a.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const c=new n(o,a,s);c.update(e,r),c.final()},t.crypto_stream_chacha20_xor_instance=function(e,r){return i(e.byteLength===t.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),i(r.byteLength===t.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new n(e,r)},t.crypto_stream_chacha20_ietf=function(e,r,i){e.fill(0),t.crypto_stream_chacha20_ietf_xor(e,e,r,i)},t.crypto_stream_chacha20_ietf_xor=function(e,r,o,s){i(o.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),i(s.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const a=new n(o,s);a.update(e,r),a.final()},t.crypto_stream_chacha20_ietf_xor_ic=function(e,r,o,s,a){i(o.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),i(a.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const c=new n(o,a,s);c.update(e,r),c.final()},t.crypto_stream_chacha20_ietf_xor_instance=function(e,r){return i(e.byteLength===t.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),i(r.byteLength===t.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new n(e,r)}},25157:e=>{function t(e,t,r,i,n){var o=0;for(let s=0;s<n;s++)o|=e[t+s]^r[i+s];return(1&o-1>>>8)-1}e.exports={crypto_verify_16:function(e,r,i,n){return 0===t(e,r,i,n,16)},crypto_verify_32:function(e,r,i,n){return 0===t(e,r,i,n,32)},crypto_verify_64:function(e,r,i,n){return 0===t(e,r,i,n,64)}},Object.defineProperty(e.exports,"vn",{value:t})},23007:(e,t,r)=>{const i=r(29204),{vn:n}=r(25157);e.exports={sodium_increment:function(e){const t=e.byteLength;for(var r=1,i=0;i<t;i++)r+=e[i],e[i]=r,r>>=8},sodium_memcmp:function(e,t){return i(e.byteLength===t.byteLength,"buffers must be the same size"),0===n(e,0,t,0,e.byteLength)},sodium_is_zero:function(e){var t=0;for(let r=0;r<e.length;r++)t|=e[r];return 0===t}}},95985:(e,t,r)=>{"use strict";function i(t){Object.keys(t).forEach((function(r){e.exports[r]=t[r]}))}i(r(32407)),i(r(89016)),i(r(23007)),i(r(25157)),i(r(55962)),i(r(4701)),i(r(31140)),i(r(94426)),i(r(84335)),i(r(72466)),i(r(13979)),i(r(35658)),i(r(50855)),i(r(59261)),i(r(36539)),i(r(34608)),i(r(53025)),i(r(46977)),i(r(86600)),i(r(41777))},66706:e=>{if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=(new Uint8Array(16),new Uint8Array(32));r[0]=9;var i=t(),n=t([1]),o=t([56129,1]),s=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),a=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),u=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r){var i,n,o=0,s=0,a=0,c=0,u=0,h=0,d=0,l=0,f=0,p=0,A=0,g=0,m=0,y=0,I=0,w=0,b=0,v=0,E=0,C=0,B=0,S=0,_=0,Q=0,D=0,k=0,M=0,P=0,x=0,F=0,R=0,O=r[0],T=r[1],N=r[2],U=r[3],j=r[4],L=r[5],q=r[6],K=r[7],H=r[8],G=r[9],z=r[10],J=r[11],Y=r[12],V=r[13],$=r[14],W=r[15];o+=(i=t[0])*O,s+=i*T,a+=i*N,c+=i*U,u+=i*j,h+=i*L,d+=i*q,l+=i*K,f+=i*H,p+=i*G,A+=i*z,g+=i*J,m+=i*Y,y+=i*V,I+=i*$,w+=i*W,s+=(i=t[1])*O,a+=i*T,c+=i*N,u+=i*U,h+=i*j,d+=i*L,l+=i*q,f+=i*K,p+=i*H,A+=i*G,g+=i*z,m+=i*J,y+=i*Y,I+=i*V,w+=i*$,b+=i*W,a+=(i=t[2])*O,c+=i*T,u+=i*N,h+=i*U,d+=i*j,l+=i*L,f+=i*q,p+=i*K,A+=i*H,g+=i*G,m+=i*z,y+=i*J,I+=i*Y,w+=i*V,b+=i*$,v+=i*W,c+=(i=t[3])*O,u+=i*T,h+=i*N,d+=i*U,l+=i*j,f+=i*L,p+=i*q,A+=i*K,g+=i*H,m+=i*G,y+=i*z,I+=i*J,w+=i*Y,b+=i*V,v+=i*$,E+=i*W,u+=(i=t[4])*O,h+=i*T,d+=i*N,l+=i*U,f+=i*j,p+=i*L,A+=i*q,g+=i*K,m+=i*H,y+=i*G,I+=i*z,w+=i*J,b+=i*Y,v+=i*V,E+=i*$,C+=i*W,h+=(i=t[5])*O,d+=i*T,l+=i*N,f+=i*U,p+=i*j,A+=i*L,g+=i*q,m+=i*K,y+=i*H,I+=i*G,w+=i*z,b+=i*J,v+=i*Y,E+=i*V,C+=i*$,B+=i*W,d+=(i=t[6])*O,l+=i*T,f+=i*N,p+=i*U,A+=i*j,g+=i*L,m+=i*q,y+=i*K,I+=i*H,w+=i*G,b+=i*z,v+=i*J,E+=i*Y,C+=i*V,B+=i*$,S+=i*W,l+=(i=t[7])*O,f+=i*T,p+=i*N,A+=i*U,g+=i*j,m+=i*L,y+=i*q,I+=i*K,w+=i*H,b+=i*G,v+=i*z,E+=i*J,C+=i*Y,B+=i*V,S+=i*$,_+=i*W,f+=(i=t[8])*O,p+=i*T,A+=i*N,g+=i*U,m+=i*j,y+=i*L,I+=i*q,w+=i*K,b+=i*H,v+=i*G,E+=i*z,C+=i*J,B+=i*Y,S+=i*V,_+=i*$,Q+=i*W,p+=(i=t[9])*O,A+=i*T,g+=i*N,m+=i*U,y+=i*j,I+=i*L,w+=i*q,b+=i*K,v+=i*H,E+=i*G,C+=i*z,B+=i*J,S+=i*Y,_+=i*V,Q+=i*$,D+=i*W,A+=(i=t[10])*O,g+=i*T,m+=i*N,y+=i*U,I+=i*j,w+=i*L,b+=i*q,v+=i*K,E+=i*H,C+=i*G,B+=i*z,S+=i*J,_+=i*Y,Q+=i*V,D+=i*$,k+=i*W,g+=(i=t[11])*O,m+=i*T,y+=i*N,I+=i*U,w+=i*j,b+=i*L,v+=i*q,E+=i*K,C+=i*H,B+=i*G,S+=i*z,_+=i*J,Q+=i*Y,D+=i*V,k+=i*$,M+=i*W,m+=(i=t[12])*O,y+=i*T,I+=i*N,w+=i*U,b+=i*j,v+=i*L,E+=i*q,C+=i*K,B+=i*H,S+=i*G,_+=i*z,Q+=i*J,D+=i*Y,k+=i*V,M+=i*$,P+=i*W,y+=(i=t[13])*O,I+=i*T,w+=i*N,b+=i*U,v+=i*j,E+=i*L,C+=i*q,B+=i*K,S+=i*H,_+=i*G,Q+=i*z,D+=i*J,k+=i*Y,M+=i*V,P+=i*$,x+=i*W,I+=(i=t[14])*O,w+=i*T,b+=i*N,v+=i*U,E+=i*j,C+=i*L,B+=i*q,S+=i*K,_+=i*H,Q+=i*G,D+=i*z,k+=i*J,M+=i*Y,P+=i*V,x+=i*$,F+=i*W,w+=(i=t[15])*O,s+=38*(v+=i*N),a+=38*(E+=i*U),c+=38*(C+=i*j),u+=38*(B+=i*L),h+=38*(S+=i*q),d+=38*(_+=i*K),l+=38*(Q+=i*H),f+=38*(D+=i*G),p+=38*(k+=i*z),A+=38*(M+=i*J),g+=38*(P+=i*Y),m+=38*(x+=i*V),y+=38*(F+=i*$),I+=38*(R+=i*W),o=(i=(o+=38*(b+=i*T))+(n=1)+65535)-65536*(n=Math.floor(i/65536)),s=(i=s+n+65535)-65536*(n=Math.floor(i/65536)),a=(i=a+n+65535)-65536*(n=Math.floor(i/65536)),c=(i=c+n+65535)-65536*(n=Math.floor(i/65536)),u=(i=u+n+65535)-65536*(n=Math.floor(i/65536)),h=(i=h+n+65535)-65536*(n=Math.floor(i/65536)),d=(i=d+n+65535)-65536*(n=Math.floor(i/65536)),l=(i=l+n+65535)-65536*(n=Math.floor(i/65536)),f=(i=f+n+65535)-65536*(n=Math.floor(i/65536)),p=(i=p+n+65535)-65536*(n=Math.floor(i/65536)),A=(i=A+n+65535)-65536*(n=Math.floor(i/65536)),g=(i=g+n+65535)-65536*(n=Math.floor(i/65536)),m=(i=m+n+65535)-65536*(n=Math.floor(i/65536)),y=(i=y+n+65535)-65536*(n=Math.floor(i/65536)),I=(i=I+n+65535)-65536*(n=Math.floor(i/65536)),w=(i=w+n+65535)-65536*(n=Math.floor(i/65536)),o=(i=(o+=n-1+37*(n-1))+(n=1)+65535)-65536*(n=Math.floor(i/65536)),s=(i=s+n+65535)-65536*(n=Math.floor(i/65536)),a=(i=a+n+65535)-65536*(n=Math.floor(i/65536)),c=(i=c+n+65535)-65536*(n=Math.floor(i/65536)),u=(i=u+n+65535)-65536*(n=Math.floor(i/65536)),h=(i=h+n+65535)-65536*(n=Math.floor(i/65536)),d=(i=d+n+65535)-65536*(n=Math.floor(i/65536)),l=(i=l+n+65535)-65536*(n=Math.floor(i/65536)),f=(i=f+n+65535)-65536*(n=Math.floor(i/65536)),p=(i=p+n+65535)-65536*(n=Math.floor(i/65536)),A=(i=A+n+65535)-65536*(n=Math.floor(i/65536)),g=(i=g+n+65535)-65536*(n=Math.floor(i/65536)),m=(i=m+n+65535)-65536*(n=Math.floor(i/65536)),y=(i=y+n+65535)-65536*(n=Math.floor(i/65536)),I=(i=I+n+65535)-65536*(n=Math.floor(i/65536)),w=(i=w+n+65535)-65536*(n=Math.floor(i/65536)),o+=n-1+37*(n-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=h,e[6]=d,e[7]=l,e[8]=f,e[9]=p,e[10]=A,e[11]=g,e[12]=m,e[13]=y,e[14]=I,e[15]=w}function l(e,t){d(e,t,t)}function f(e,t,r){for(var i,n=~(r-1),o=0;o<16;o++)i=n&(e[o]^t[o]),e[o]^=i,t[o]^=i}function p(e){var t,r,i=1;for(t=0;t<16;t++)r=e[t]+i+65535,i=Math.floor(r/65536),e[t]=r-65536*i;e[0]+=i-1+37*(i-1)}e.exports={gf:t,A:function(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]+r[i]},Z:function(e,t,r){for(var i=0;i<16;i++)e[i]=t[i]-r[i]},M:d,S:l,sel25519:f,pack25519:function(e,r){var i,n,o,s=t(),a=t();for(i=0;i<16;i++)a[i]=r[i];for(p(a),p(a),p(a),n=0;n<2;n++){for(s[0]=a[0]-65517,i=1;i<15;i++)s[i]=a[i]-65535-(s[i-1]>>16&1),s[i-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,f(a,s,1-o)}for(i=0;i<16;i++)e[2*i]=255&a[i],e[2*i+1]=a[i]>>8},unpack25519:function(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767},inv25519:function(e,r){var i,n=t();for(i=0;i<16;i++)n[i]=r[i];for(i=253;i>=0;i--)l(n,n),2!==i&&4!==i&&d(n,n,r);for(i=0;i<16;i++)e[i]=n[i]},gf0:i,gf1:n,_9:r,_121665:o,D:s,D2:a,X:c,Y:u,I:h}},82271:(e,t,r)=>{const{sodium_malloc:i}=r(89016),n=r(29204);if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function o(e,t){return(e&=4294967295)<<(t&=4294967295)|e>>>32-t}function s(e,t){n(e instanceof Uint8Array,"src not byte array");let r=e[t];return r|=e[t+1]<<8,r|=e[t+2]<<16,r|=e[t+3]<<24,r}function a(e,t,r){n(e instanceof Uint8Array,"dest not byte array");var i=1,o=0;for(e[r]=255&t;++o<4&&(i*=256);)e[r+o]=t/i&255}function c(e,t,r,i,n){e[t]+=e[r],e[n]=o(e[n]^e[t],16),e[i]+=e[n],e[r]=o(e[r]^e[i],12),e[t]+=e[r],e[n]=o(e[n]^e[t],8),e[i]+=e[n],e[r]=o(e[r]^e[i],7)}e.exports={crypto_core_hchacha20_INPUTBYTES:16,LOAD32_LE:s,STORE32_LE:a,QUARTERROUND:c,crypto_core_hchacha20:function(e,t,r,i){n(e instanceof Uint8Array&&32===e.length,"out is not an array of 32 bytes"),n(r instanceof Uint8Array&&32===r.length,"k is not an array of 32 bytes"),n(null===i||i instanceof Uint8Array&&16===i.length,"c is not null or an array of 16 bytes");let o=0;const u=new Uint32Array(16);for(i?(u[0]=s(i,0),u[1]=s(i,4),u[2]=s(i,8),u[3]=s(i,12)):(u[0]=1634760805,u[1]=857760878,u[2]=2036477234,u[3]=1797285236),u[4]=s(r,0),u[5]=s(r,4),u[6]=s(r,8),u[7]=s(r,12),u[8]=s(r,16),u[9]=s(r,20),u[10]=s(r,24),u[11]=s(r,28),u[12]=s(t,0),u[13]=s(t,4),u[14]=s(t,8),u[15]=s(t,12),o=0;o<10;o++)c(u,0,4,8,12),c(u,1,5,9,13),c(u,2,6,10,14),c(u,3,7,11,15),c(u,0,5,10,15),c(u,1,6,11,12),c(u,2,7,8,13),c(u,3,4,9,14);return a(e,u[0],0),a(e,u[1],4),a(e,u[2],8),a(e,u[3],12),a(e,u[12],16),a(e,u[13],20),a(e,u[14],24),a(e,u[15],28),0},crypto_core_hchacha20_outputbytes:function(){return 32},crypto_core_hchacha20_inputbytes:function(){return 16},crypto_core_hchacha20_keybytes:function(){return 32},crypto_core_hchacha20_constbytes:function(){return 16}}},1593:e=>{if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");var t=function(e){var t,r,i,n,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),i=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|i<<6),n=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(i>>>7|n<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(n>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),c=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};t.prototype.blocks=function(e,t,r){for(var i,n,o,s,a,c,u,h,d,l,f,p,A,g,m,y,I,w,b,v=this.fin?0:2048,E=this.h[0],C=this.h[1],B=this.h[2],S=this.h[3],_=this.h[4],Q=this.h[5],D=this.h[6],k=this.h[7],M=this.h[8],P=this.h[9],x=this.r[0],F=this.r[1],R=this.r[2],O=this.r[3],T=this.r[4],N=this.r[5],U=this.r[6],j=this.r[7],L=this.r[8],q=this.r[9];r>=16;)l=d=0,l+=(E+=8191&(i=255&e[t+0]|(255&e[t+1])<<8))*x,l+=(C+=8191&(i>>>13|(n=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*q),l+=(B+=8191&(n>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*L),l+=(S+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*j),d=(l+=(_+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*U))>>>13,l&=8191,l+=(Q+=a>>>1&8191)*(5*N),l+=(D+=8191&(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*T),l+=(k+=8191&(c>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*O),l+=(M+=8191&(u>>>8|(h=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*R),f=d+=(l+=(P+=h>>>5|v)*(5*F))>>>13,f+=E*F,f+=C*x,f+=B*(5*q),f+=S*(5*L),d=(f+=_*(5*j))>>>13,f&=8191,f+=Q*(5*U),f+=D*(5*N),f+=k*(5*T),f+=M*(5*O),d+=(f+=P*(5*R))>>>13,f&=8191,p=d,p+=E*R,p+=C*F,p+=B*x,p+=S*(5*q),d=(p+=_*(5*L))>>>13,p&=8191,p+=Q*(5*j),p+=D*(5*U),p+=k*(5*N),p+=M*(5*T),A=d+=(p+=P*(5*O))>>>13,A+=E*O,A+=C*R,A+=B*F,A+=S*x,d=(A+=_*(5*q))>>>13,A&=8191,A+=Q*(5*L),A+=D*(5*j),A+=k*(5*U),A+=M*(5*N),g=d+=(A+=P*(5*T))>>>13,g+=E*T,g+=C*O,g+=B*R,g+=S*F,d=(g+=_*x)>>>13,g&=8191,g+=Q*(5*q),g+=D*(5*L),g+=k*(5*j),g+=M*(5*U),m=d+=(g+=P*(5*N))>>>13,m+=E*N,m+=C*T,m+=B*O,m+=S*R,d=(m+=_*F)>>>13,m&=8191,m+=Q*x,m+=D*(5*q),m+=k*(5*L),m+=M*(5*j),y=d+=(m+=P*(5*U))>>>13,y+=E*U,y+=C*N,y+=B*T,y+=S*O,d=(y+=_*R)>>>13,y&=8191,y+=Q*F,y+=D*x,y+=k*(5*q),y+=M*(5*L),I=d+=(y+=P*(5*j))>>>13,I+=E*j,I+=C*U,I+=B*N,I+=S*T,d=(I+=_*O)>>>13,I&=8191,I+=Q*R,I+=D*F,I+=k*x,I+=M*(5*q),w=d+=(I+=P*(5*L))>>>13,w+=E*L,w+=C*j,w+=B*U,w+=S*N,d=(w+=_*T)>>>13,w&=8191,w+=Q*O,w+=D*R,w+=k*F,w+=M*x,b=d+=(w+=P*(5*q))>>>13,b+=E*q,b+=C*L,b+=B*j,b+=S*U,d=(b+=_*N)>>>13,b&=8191,b+=Q*T,b+=D*O,b+=k*R,b+=M*F,E=l=8191&(d=(d=((d+=(b+=P*x)>>>13)<<2)+d|0)+(l&=8191)|0),C=f+=d>>>=13,B=p&=8191,S=A&=8191,_=g&=8191,Q=m&=8191,D=y&=8191,k=I&=8191,M=w&=8191,P=b&=8191,t+=16,r-=16;this.h[0]=E,this.h[1]=C,this.h[2]=B,this.h[3]=S,this.h[4]=_,this.h[5]=Q,this.h[6]=D,this.h[7]=k,this.h[8]=M,this.h[9]=P},t.prototype.finish=function(e,t){var r,i,n,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,i=(1^r)-1,o=0;o<10;o++)s[o]&=i;for(i=~i,o=0;o<10;o++)this.h[o]=this.h[o]&i|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),n=this.h[0]+this.pad[0],this.h[0]=65535&n,o=1;o<8;o++)n=(this.h[o]+this.pad[o]|0)+(n>>>16)|0,this.h[o]=65535&n;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},t.prototype.update=function(e,t,r){var i,n;if(this.leftover){for((n=16-this.leftover)>r&&(n=r),i=0;i<n;i++)this.buffer[this.leftover+i]=e[t+i];if(r-=n,t+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(n=r-r%16,this.blocks(e,t,n),t+=n,r-=n),r){for(i=0;i<r;i++)this.buffer[this.leftover+i]=e[t+i];this.leftover+=r}},e.exports=t},89016:(e,t,r)=>{function i(e){e.fill(0)}var n;e.exports={sodium_malloc:function(e){return new Uint8Array(e)},sodium_free:function(e){i(e),function(){if(n)return n;var e=globalThis.MessageChannel;return null==e&&({MessageChannel:e}=r(64599)),n=new e}().port1.postMessage(e.buffer,[e.buffer])},sodium_memzero:i}},32407:(e,t,r)=>{var i=r(29204),n=function(){var e=globalThis.crypto||globalThis.msCrypto;return e&&e.getRandomValues?function(t,r){for(let i=0;i<r;i+=65536)e.getRandomValues(new Uint8Array(t.buffer,i+t.byteOffset,Math.min(r-i,65536)))}:null!=r(17364)&&(e=r(722))&&e.randomBytes?function(t,r){new Uint8Array(t.buffer,t.byteOffset,r).set(e.randomBytes(r))}:function(){throw new Error("No secure random number generator available")}}();Object.defineProperty(e.exports,"randombytes",{value:n}),e.exports.randombytes_buf=function(e){i(e,"out must be given"),n(e,e.byteLength)}},17364:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=17364,e.exports=t},34471:(e,t,r)=>{e.exports=r(95985)},78213:(e,t,r)=>{var i=r(32728),n=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,t){for(var r=new s,i=0,n=e.length;i<n;i++)r.add(e[i],t);return r},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var r=o?e:i.toSetString(e),s=o?this.has(e):n.call(this._set,r),a=this._array.length;s&&!t||this._array.push(e),s||(o?this._set.set(e,a):this._set[r]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var t=i.toSetString(e);return n.call(this._set,t)},s.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var r=i.toSetString(e);if(n.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.I=s},16400:(e,t,r)=>{var i=r(67923);t.encode=function(e){var t,r="",n=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&n,(n>>>=5)>0&&(t|=32),r+=i.encode(t)}while(n>0);return r},t.decode=function(e,t,r){var n,o,s,a,c=e.length,u=0,h=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));n=!!(32&o),u+=(o&=31)<<h,h+=5}while(n);r.value=(a=(s=u)>>1,1==(1&s)?-a:a),r.rest=t}},67923:(e,t)=>{var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},9216:(e,t)=>{function r(e,i,n,o,s,a){var c=Math.floor((i-e)/2)+e,u=s(n,o[c],!0);return 0===u?c:u>0?i-c>1?r(c,i,n,o,s,a):a==t.LEAST_UPPER_BOUND?i<o.length?i:-1:c:c-e>1?r(e,c,n,o,s,a):a==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,i,n,o){if(0===i.length)return-1;var s=r(-1,i.length,e,i,n,o||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&0===n(i[s],i[s-1],!0);)--s;return s}},21188:(e,t,r)=>{var i=r(32728);function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}n.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},n.prototype.add=function(e){var t,r,n,o,s,a;r=e,n=(t=this._last).generatedLine,o=r.generatedLine,s=t.generatedColumn,a=r.generatedColumn,o>n||o==n&&a>=s||i.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},n.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.H=n},22826:(e,t)=>{function r(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function i(e,t,n,o){if(n<o){var s=n-1;r(e,(h=n,d=o,Math.round(h+Math.random()*(d-h))),o);for(var a=e[o],c=n;c<o;c++)t(e[c],a)<=0&&r(e,s+=1,c);r(e,s+1,c);var u=s+1;i(e,t,n,u-1),i(e,t,u+1,o)}var h,d}t.U=function(e,t){i(e,t,0,e.length-1)}},76771:(e,t,r)=>{var i=r(32728),n=r(9216),o=r(78213).I,s=r(16400),a=r(22826).U;function c(e,t){var r=e;return"string"==typeof e&&(r=i.parseSourceMapInput(e)),null!=r.sections?new d(r,t):new u(r,t)}function u(e,t){var r=e;"string"==typeof e&&(r=i.parseSourceMapInput(e));var n=i.getArg(r,"version"),s=i.getArg(r,"sources"),a=i.getArg(r,"names",[]),c=i.getArg(r,"sourceRoot",null),u=i.getArg(r,"sourcesContent",null),h=i.getArg(r,"mappings"),d=i.getArg(r,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);c&&(c=i.normalize(c)),s=s.map(String).map(i.normalize).map((function(e){return c&&i.isAbsolute(c)&&i.isAbsolute(e)?i.relative(c,e):e})),this._names=o.fromArray(a.map(String),!0),this._sources=o.fromArray(s,!0),this._absoluteSources=this._sources.toArray().map((function(e){return i.computeSourceURL(c,e,t)})),this.sourceRoot=c,this.sourcesContent=u,this._mappings=h,this._sourceMapURL=t,this.file=d}function h(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function d(e,t){var r=e;"string"==typeof e&&(r=i.parseSourceMapInput(e));var n=i.getArg(r,"version"),s=i.getArg(r,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new o,this._names=new o;var a={line:-1,column:0};this._sections=s.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=i.getArg(e,"offset"),n=i.getArg(r,"line"),o=i.getArg(r,"column");if(n<a.line||n===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=r,{generatedOffset:{generatedLine:n+1,generatedColumn:o+1},consumer:new c(i.getArg(e,"map"),t)}}))}c.fromSourceMap=function(e,t){return u.fromSourceMap(e,t)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,r){var n,o=t||null;switch(r||c.GENERATED_ORDER){case c.GENERATED_ORDER:n=this._generatedMappings;break;case c.ORIGINAL_ORDER:n=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;n.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=i.computeSourceURL(s,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},c.prototype.allGeneratedPositionsFor=function(e){var t=i.getArg(e,"line"),r={source:i.getArg(e,"source"),originalLine:t,originalColumn:i.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var o=[],s=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,n.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)o.push({line:i.getArg(a,"generatedLine",null),column:i.getArg(a,"generatedColumn",null),lastColumn:i.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==u;)o.push({line:i.getArg(a,"generatedLine",null),column:i.getArg(a,"generatedColumn",null),lastColumn:i.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=i.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},u.fromSourceMap=function(e,t){var r=Object.create(u.prototype),n=r._names=o.fromArray(e._names.toArray(),!0),s=r._sources=o.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map((function(e){return i.computeSourceURL(r.sourceRoot,e,t)}));for(var c=e._mappings.toArray().slice(),d=r.__generatedMappings=[],l=r.__originalMappings=[],f=0,p=c.length;f<p;f++){var A=c[f],g=new h;g.generatedLine=A.generatedLine,g.generatedColumn=A.generatedColumn,A.source&&(g.source=s.indexOf(A.source),g.originalLine=A.originalLine,g.originalColumn=A.originalColumn,A.name&&(g.name=n.indexOf(A.name)),l.push(g)),d.push(g)}return a(r.__originalMappings,i.compareByOriginalPositions),r},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),u.prototype._parseMappings=function(e,t){for(var r,n,o,c,u,d=1,l=0,f=0,p=0,A=0,g=0,m=e.length,y=0,I={},w={},b=[],v=[];y<m;)if(";"===e.charAt(y))d++,y++,l=0;else if(","===e.charAt(y))y++;else{for((r=new h).generatedLine=d,c=y;c<m&&!this._charIsMappingSeparator(e,c);c++);if(o=I[n=e.slice(y,c)])y+=n.length;else{for(o=[];y<c;)s.decode(e,y,w),u=w.value,y=w.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");I[n]=o}r.generatedColumn=l+o[0],l=r.generatedColumn,o.length>1&&(r.source=A+o[1],A+=o[1],r.originalLine=f+o[2],f=r.originalLine,r.originalLine+=1,r.originalColumn=p+o[3],p=r.originalColumn,o.length>4&&(r.name=g+o[4],g+=o[4])),v.push(r),"number"==typeof r.originalLine&&b.push(r)}a(v,i.compareByGeneratedPositionsDeflated),this.__generatedMappings=v,a(b,i.compareByOriginalPositions),this.__originalMappings=b},u.prototype._findMapping=function(e,t,r,i,o,s){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return n.search(e,t,o,s)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositionsDeflated,i.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var n=this._generatedMappings[r];if(n.generatedLine===t.generatedLine){var o=i.getArg(n,"source",null);null!==o&&(o=this._sources.at(o),o=i.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var s=i.getArg(n,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:i.getArg(n,"originalLine",null),column:i.getArg(n,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var n,o=e;if(null!=this.sourceRoot&&(o=i.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(n=i.urlParse(this.sourceRoot))){var s=o.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!n.path||"/"==n.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=i.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")},n=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,i.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var o=this._originalMappings[n];if(o.source===r.source)return{line:i.getArg(o,"generatedLine",null),column:i.getArg(o,"generatedColumn",null),lastColumn:i.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},d.prototype=Object.create(c.prototype),d.prototype.constructor=c,d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),d.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},r=n.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[r];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},d.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var i=this._sections[r].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(i.getArg(e,"source"))){var n=r.consumer.generatedPositionFor(e);if(n)return{line:n.line+(r.generatedOffset.generatedLine-1),column:n.column+(r.generatedOffset.generatedLine===n.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},d.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var n=this._sections[r],o=n.consumer._generatedMappings,s=0;s<o.length;s++){var c=o[s],u=n.consumer._sources.at(c.source);u=i.computeSourceURL(n.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var h=null;c.name&&(h=n.consumer._names.at(c.name),this._names.add(h),h=this._names.indexOf(h));var d={source:u,generatedLine:c.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(n.generatedOffset.generatedLine===c.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:h};this.__generatedMappings.push(d),"number"==typeof d.originalLine&&this.__originalMappings.push(d)}a(this.__generatedMappings,i.compareByGeneratedPositionsDeflated),a(this.__originalMappings,i.compareByOriginalPositions)}},34433:(e,t,r)=>{var i=r(16400),n=r(32728),o=r(78213).I,s=r(21188).H;function a(e){e||(e={}),this._file=n.getArg(e,"file",null),this._sourceRoot=n.getArg(e,"sourceRoot",null),this._skipValidation=n.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,r=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=n.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),r.addMapping(i)})),e.sources.forEach((function(i){var o=i;null!==t&&(o=n.relative(t,i)),r._sources.has(o)||r._sources.add(o);var s=e.sourceContentFor(i);null!=s&&r.setSourceContent(i,s)})),r},a.prototype.addMapping=function(e){var t=n.getArg(e,"generated"),r=n.getArg(e,"original",null),i=n.getArg(e,"source",null),o=n.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,i,o),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:i,name:o})},a.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=n.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[n.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[n.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,r){var i=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}var s=this._sourceRoot;null!=s&&(i=n.relative(s,i));var a=new o,c=new o;this._mappings.unsortedForEach((function(t){if(t.source===i&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=r&&(t.source=n.join(r,t.source)),null!=s&&(t.source=n.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var h=t.name;null==h||c.has(h)||c.add(h)}),this),this._sources=a,this._names=c,e.sources.forEach((function(t){var i=e.sourceContentFor(t);null!=i&&(null!=r&&(t=n.join(r,t)),null!=s&&(t=n.relative(s,t)),this.setSourceContent(t,i))}),this)},a.prototype._validateMapping=function(e,t,r,i){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||i)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:i}))},a.prototype._serializeMappings=function(){for(var e,t,r,o,s=0,a=1,c=0,u=0,h=0,d=0,l="",f=this._mappings.toArray(),p=0,A=f.length;p<A;p++){if(e="",(t=f[p]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(p>0){if(!n.compareByGeneratedPositionsInflated(t,f[p-1]))continue;e+=","}e+=i.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=i.encode(o-d),d=o,e+=i.encode(t.originalLine-1-u),u=t.originalLine-1,e+=i.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=i.encode(r-h),h=r)),l+=e}return l},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=n.relative(t,e));var r=n.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.h=a},17085:(e,t,r)=>{var i=r(34433).h,n=r(32728),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,r,i,n){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==n?null:n,this[s]=!0,null!=i&&this.add(i)}a.fromStringWithSourceMap=function(e,t,r){var i=new a,s=e.split(o),c=0,u=function(){return e()+(e()||"");function e(){return c<s.length?s[c++]:void 0}},h=1,d=0,l=null;return t.eachMapping((function(e){if(null!==l){if(!(h<e.generatedLine)){var t=(r=s[c]||"").substr(0,e.generatedColumn-d);return s[c]=r.substr(e.generatedColumn-d),d=e.generatedColumn,f(l,t),void(l=e)}f(l,u()),h++,d=0}for(;h<e.generatedLine;)i.add(u()),h++;if(d<e.generatedColumn){var r=s[c]||"";i.add(r.substr(0,e.generatedColumn)),s[c]=r.substr(e.generatedColumn),d=e.generatedColumn}l=e}),this),c<s.length&&(l&&f(l,u()),i.add(s.splice(c).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=r&&(e=n.join(r,e)),i.setSourceContent(e,o))})),i;function f(e,t){if(null===e||void 0===e.source)i.add(t);else{var o=r?n.join(r,e.source):e.source;i.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,r=0,i=this.children.length;r<i;r++)(t=this.children[r])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,r,i=this.children.length;if(i>0){for(t=[],r=0;r<i-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[s]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[n.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var i=Object.keys(this.sourceContents);for(t=0,r=i.length;t<r;t++)e(n.fromSetString(i[t]),this.sourceContents[i[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new i(e),n=!1,o=null,s=null,a=null,c=null;return this.walk((function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&s===i.line&&a===i.column&&c===i.name||r.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,s=i.line,a=i.column,c=i.name,n=!0):n&&(r.addMapping({generated:{line:t.line,column:t.column}}),o=null,n=!1);for(var u=0,h=e.length;u<h;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===h?(o=null,n=!1):n&&r.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}},t.SourceNode=a},32728:(e,t)=>{t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function n(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var r=e,i=n(e);if(i){if(!i.path)return e;r=i.path}for(var s,a=t.isAbsolute(r),c=r.split(/\/+/),u=0,h=c.length-1;h>=0;h--)"."===(s=c[h])?c.splice(h,1):".."===s?u++:u>0&&(""===s?(c.splice(h+1,u),u=0):(c.splice(h,2),u--));return""===(r=c.join("/"))&&(r=a?"/":"."),i?(i.path=r,o(i)):r}function a(e,t){""===e&&(e="."),""===t&&(t=".");var r=n(t),a=n(e);if(a&&(e=a.path||"/"),r&&!r.scheme)return a&&(r.scheme=a.scheme),o(r);if(r||t.match(i))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c}t.urlParse=n,t.urlGenerate=o,t.normalize=s,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var i=e.lastIndexOf("/");if(i<0)return t;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function h(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function d(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return h(e)?"$"+e:e},t.fromSetString=c?u:function(e){return h(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var i=d(e.source,t.source);return 0!==i||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)||r||0!=(i=e.generatedColumn-t.generatedColumn)||0!=(i=e.generatedLine-t.generatedLine)?i:d(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,r){var i=e.generatedLine-t.generatedLine;return 0!==i||0!=(i=e.generatedColumn-t.generatedColumn)||r||0!==(i=d(e.source,t.source))||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)?i:d(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||0!==(r=d(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:d(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var i=n(r);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var c=i.path.lastIndexOf("/");c>=0&&(i.path=i.path.substring(0,c+1))}t=a(o(i),t)}return s(t)}},49125:(e,t,r)=>{r(34433).h,r(76771),t.SourceNode=r(17085).SourceNode},20544:e=>{"use strict";function t(e,t){return e+r(t)}function r(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function i(e,t){return e[0]-t[0]}function n(e){return e[1]}e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let i=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):i=!0,this._setInternalPos(r,e,t,i),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,r=new Array(this.length);for(;t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}reduce(e,t){let r=0,i=t;for(;r<this.length;)i=e(i,this.get(r),r),r++;return i}find(e){let t,r,i=0;for(;i<this.length&&!t;)r=this.get(i),t=e(r),i++;return t?r:void 0}_internalPositionFor(e,i){const n=this._bytePosFor(e,i);if(n>=this._bitArrays.length)return-1;const o=this._bitArrays[n],s=e-7*n;return(o&1<<s)>0?this._bitArrays.slice(0,n).reduce(t,0)+r(o&~(4294967295<<s+1))-1:-1}_bytePosFor(e,t){const r=Math.floor(e/7),i=r+1;for(;!t&&this._bitArrays.length<i;)this._bitArrays.push(0);return r}_setBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-7*t}_unsetBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-7*t)}_setInternalPos(e,t,r,i){const n=this._data,o=[t,r];if(i)this._sortData(),n[e]=o;else{if(n.length)if(n[n.length-1][0]>=t)n.push(o);else if(n[0][0]<=t)n.unshift(o);else{const e=Math.round(n.length/2);this._data=n.slice(0,e).concat(o).concat(n.slice(e))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(i),this._changedData=!1}bitField(){const e=[];let t,r=8,i=0,n=0;const o=this._bitArrays.slice();for(;o.length||i;){0===i&&(t=o.shift(),i=7);const s=Math.min(i,r);n|=(t&~(255<<s))<<8-r,t>>>=s,i-=s,r-=s,r&&(i||o.length)||(e.push(n),n=0,r=8)}for(var s=e.length-1;s>0&&0===e[s];s--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(n)}}},75209:(e,t,r)=>{var i=r(90312).R_;e.exports=function(e,t){t||(t={});var r={},n=function e(n,o){if("Literal"===n.type)return n.value;if("UnaryExpression"===n.type){var s=e(n.argument);return"+"===n.operator?+s:"-"===n.operator?-s:"~"===n.operator?~s:"!"===n.operator?!s:r}if("ArrayExpression"===n.type){for(var a=[],c=0,u=n.elements.length;c<u;c++){if((m=e(n.elements[c]))===r)return r;a.push(m)}return a}if("ObjectExpression"===n.type){var h={};for(c=0;c<n.properties.length;c++){var d=null===(y=n.properties[c]).value?y.value:e(y.value);if(d===r)return r;h[y.key.value||y.key.name]=d}return h}if("BinaryExpression"===n.type||"LogicalExpression"===n.type){if((u=e(n.left))===r)return r;var l=e(n.right);if(l===r)return r;var f=n.operator;return"=="===f?u==l:"==="===f?u===l:"!="===f?u!=l:"!=="===f?u!==l:"+"===f?u+l:"-"===f?u-l:"*"===f?u*l:"/"===f?u/l:"%"===f?u%l:"<"===f?u<l:"<="===f?u<=l:">"===f?u>l:">="===f?u>=l:"|"===f?u|l:"&"===f?u&l:"^"===f?u^l:"&&"===f?u&&l:"||"===f?u||l:r}if("Identifier"===n.type)return{}.hasOwnProperty.call(t,n.name)?t[n.name]:r;if("ThisExpression"===n.type)return{}.hasOwnProperty.call(t,"this")?t.this:r;if("CallExpression"===n.type){var p=e(n.callee);if(p===r)return r;if("function"!=typeof p)return r;var A=n.callee.object?e(n.callee.object):r;A===r&&(A=null);var g=[];for(c=0,u=n.arguments.length;c<u;c++){var m;if((m=e(n.arguments[c]))===r)return r;g.push(m)}return p.apply(A,g)}var y;if("MemberExpression"===n.type)return(h=e(n.object))===r||"function"==typeof h?r:"Identifier"===n.property.type?h[n.property.name]:(y=e(n.property))===r?r:h[y];if("ConditionalExpression"===n.type)return(s=e(n.test))===r?r:e(s?n.consequent:n.alternate);if("ExpressionStatement"===n.type)return(s=e(n.expression))===r?r:s;if("ReturnStatement"===n.type)return e(n.argument);if("FunctionExpression"===n.type){var I=n.body.body,w={};for(Object.keys(t).forEach((function(e){w[e]=t[e]})),c=0;c<n.params.length;c++){var b=n.params[c];if("Identifier"!=b.type)return r;t[b.name]=null}for(var c in I)if(e(I[c])===r)return r;t=w;var v=Object.keys(t),E=v.map((function(e){return t[e]}));return Function(v.join(", "),"return "+i(n)).apply(null,E)}if("TemplateLiteral"===n.type){var C="";for(c=0;c<n.expressions.length;c++)C+=e(n.quasis[c]),C+=e(n.expressions[c]);return C+e(n.quasis[c])}if("TaggedTemplateExpression"===n.type){var B=e(n.tag),S=n.quasi,_=S.quasis.map(e),Q=S.expressions.map(e);return B.apply(null,[_].concat(Q))}return"TemplateElement"===n.type?n.value.cooked:r}(e);return n===r?void 0:n}},42830:(e,t,r)=>{e.exports=n;var i=r(17187).EventEmitter;function n(){i.call(this)}r(35717)(n,i),n.Readable=r(56577),n.Writable=r(20323),n.Duplex=r(68656),n.Transform=r(67538),n.PassThrough=r(2366),n.finished=r(81086),n.pipeline=r(56472),n.Stream=n,n.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",c));var s=!1;function a(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(h(),0===i.listenerCount(this,"error"))throw e}function h(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return r.on("error",u),e.on("error",u),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e}},58106:e=>{"use strict";var t={};function r(e,r,i){i||(i=Error);var n=function(e){var t,i;function n(t,i,n){return e.call(this,function(e,t,i){return"string"==typeof r?r:r(e,t,i)}(t,i,n))||this}return i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i,n}(i);n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o,s,a,c;if("string"==typeof t&&(o="not ",t.substr(0,4)===o)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-9,r)===t}(e," argument"))s="The ".concat(e," ").concat(n," ").concat(i(t,"type"));else{var u=("number"!=typeof c&&(c=0),c+1>(a=e).length||-1===a.indexOf(".",c)?"argument":"property");s='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(i(t,"type"))}return s+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},68656:(e,t,r)=>{"use strict";var i=r(34155),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=r(56577),s=r(20323);r(35717)(h,o);for(var a=n(s.prototype),c=0;c<a.length;c++){var u=a[c];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2366:(e,t,r)=>{"use strict";e.exports=n;var i=r(67538);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(35717)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},56577:(e,t,r)=>{"use strict";var i,n=r(34155);e.exports=B,B.ReadableState=C,r(17187).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=r(83194),c=r(48764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=r(40964);o=h&&h.debuglog?h.debuglog("stream"):function(){};var d,l,f,p=r(39686),A=r(71029),g=r(30094).getHighWaterMark,m=r(58106).q,y=m.ERR_INVALID_ARG_TYPE,I=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(35717)(B,a);var v=A.errorOrDestroy,E=["error","close","destroy","pause","resume"];function C(e,t,n){i=i||r(68656),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(32553).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function B(e){if(i=i||r(68656),!(this instanceof B))return new B(e);var t=this instanceof i;this._readableState=new C(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function S(e,t,r,i,n){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}}(e,a);else if(n||(s=function(e,t){var r,i;return i=t,c.isBuffer(i)||i instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(a,t)),s)v(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i)a.endEmitted?v(e,new b):_(e,a,t,!0);else if(a.ended)v(e,new I);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!r?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):P(e,a)):_(e,a,t,!1)}else i||(a.reading=!1,P(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function _(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),P(e,t)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),B.prototype.destroy=A.destroy,B.prototype._undestroy=A.undestroy,B.prototype._destroy=function(e,t){t(e)},B.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},B.prototype.unshift=function(e){return S(this,e,null,!0,!1)},B.prototype.isPaused=function(){return!1===this._readableState.flowing},B.prototype.setEncoding=function(e){d||(d=r(32553).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Q=1073741824;function D(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=Q?e=Q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(M,e))}function M(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,T(e)}function P(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(x,e,t))}function x(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(o("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function F(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function R(e){o("readable nexttick read 0"),e.read(0)}function O(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),T(e),t.flowing&&!t.reading&&e.read(0)}function T(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function N(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(j,t,e))}function j(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function L(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}B.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):k(this),null;if(0===(e=D(e,t))&&t.ended)return 0===t.length&&U(this),null;var i,n=t.needReadable;return o("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",n=!0),t.ended||t.reading?o("reading or ended",n=!1):n&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=D(r,t))),null===(i=e>0?N(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==i&&this.emit("data",i),i},B.prototype._read=function(e){v(this,new w("_read()"))},B.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,o("pipe count=%d opts=%j",i.pipesCount,t);var a=t&&!1===t.end||e===n.stdout||e===n.stderr?A:c;function c(){o("onend"),e.end()}i.endEmitted?n.nextTick(a):r.once("end",a),e.on("unpipe",(function t(n,s){o("onunpipe"),n===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",l),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",A),r.removeListener("data",d),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,T(e))}}(r);e.on("drain",u);var h=!1;function d(t){o("ondata");var n=e.write(t);o("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==L(i.pipes,e))&&!h&&(o("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function l(t){o("onerror",t),A(),e.removeListener("error",l),0===s(e,"error")&&v(e,t)}function f(){e.removeListener("finish",p),A()}function p(){o("onfinish"),e.removeListener("close",f),A()}function A(){o("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",l),e.once("close",f),e.once("finish",p),e.emit("pipe",r),i.flowing||(o("pipe resume"),r.resume()),e},B.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=L(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},B.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,o("on readable",i.length,i.reading),i.length?k(this):i.reading||n.nextTick(R,this))),r},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(e,t){var r=a.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(F,this),r},B.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(F,this),t},B.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(O,e,t))}(this,e)),e.paused=!1,this},B.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(o("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){o("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<E.length;s++)e.on(E[s],this.emit.bind(this,E[s]));return this._read=function(t){o("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(B.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=r(20828)),l(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),B._fromList=N,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(B.from=function(e,t){return void 0===f&&(f=r(31265)),f(B,e,t)})},67538:(e,t,r)=>{"use strict";e.exports=h;var i=r(58106).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,o=i.ERR_MULTIPLE_CALLBACK,s=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,c=r(68656);function u(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(t,r){l(e,t,r)}))}function l(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r(35717)(h,c),h.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},h.prototype._transform=function(e,t,r){r(new n("_transform()"))},h.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},h.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},h.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},20323:(e,t,r)=>{"use strict";var i,n=r(34155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=B,B.WritableState=C;var s,a={deprecate:r(94927)},c=r(83194),u=r(48764).Buffer,h=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=r(71029),l=r(30094).getHighWaterMark,f=r(58106).q,p=f.ERR_INVALID_ARG_TYPE,A=f.ERR_METHOD_NOT_IMPLEMENTED,g=f.ERR_MULTIPLE_CALLBACK,m=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,I=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,b=f.ERR_UNKNOWN_ENCODING,v=d.errorOrDestroy;function E(){}function C(e,t,s){i=i||r(68656),e=e||{},"boolean"!=typeof s&&(s=t instanceof i),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(M,e,t),e._writableState.errorEmitted=!0,v(e,i)):(o(i),e._writableState.errorEmitted=!0,v(e,i),M(e,t))}(e,r,i,t,o);else{var s=D(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||Q(e,r),i?n.nextTick(_,e,r,s,o):_(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function B(e){var t=this instanceof(i=i||r(68656));if(!t&&!s.call(B,this))return new B(e);this._writableState=new C(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function S(e,t,r,i,n,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function _(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),M(e,t)}function Q(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,c=!0;r;)n[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;n.allBuffers=c,S(e,t,!0,t.length,n,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,d=r.callback;if(S(e,t,!1,t.objectMode?1:u.length,u,h,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),M(e,t)}))}function M(e,t){var r=D(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(35717)(B,c),C.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(C.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===B&&e&&e._writableState instanceof C}})):s=function(e){return e instanceof this},B.prototype.pipe=function(){v(this,new m)},B.prototype.write=function(e,t,r){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof h);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=E),o.ending?function(e,t){var r=new w;v(e,r),n.nextTick(t,r)}(this,r):(a||function(e,t,r,i){var o;return null===r?o=new I:"string"==typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(v(e,o),n.nextTick(i,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,i,n,o){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r)),t}(t,i,n);i!==s&&(r=!0,n="buffer",i=s)}var a=t.objectMode?1:i.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var h=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,a,i,n,o);return c}(this,o,a,e,t,r)),s},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||Q(this,e))},B.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(e,t,r){r(new A("_write()"))},B.prototype._writev=null,B.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,M(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),B.prototype.destroy=d.destroy,B.prototype._undestroy=d.undestroy,B.prototype._destroy=function(e,t){t(e)}},20828:(e,t,r)=>{"use strict";var i,n=r(34155);function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(81086),a=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),l=Symbol("handlePromise"),f=Symbol("stream");function p(e,t){return{value:e,done:t}}function A(e){var t=e[a];if(null!==t){var r=e[f].read();null!==r&&(e[d]=null,e[a]=null,e[c]=null,t(p(r,!1)))}}function g(e){n.nextTick(A,e)}var m=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((o(i={get stream(){return this[f]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[h])return Promise.resolve(p(void 0,!0));if(this[f].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,i=this[d];if(i)r=new Promise(function(e,t){return function(r,i){e.then((function(){t[h]?r(p(void 0,!0)):t[l](r,i)}),i)}}(i,this));else{var o=this[f].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[l])}return this[d]=r,r}},Symbol.asyncIterator,(function(){return this})),o(i,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),i),m);e.exports=function(e){var t,r=Object.create(y,(o(t={},f,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,h,{value:e._readableState.endEmitted,writable:!0}),o(t,l,{value:function(e,t){var i=r[f].read();i?(r[d]=null,r[a]=null,r[c]=null,e(p(i,!1))):(r[a]=e,r[c]=t)},writable:!0}),t));return r[d]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[c];return null!==t&&(r[d]=null,r[a]=null,r[c]=null,t(e)),void(r[u]=e)}var i=r[a];null!==i&&(r[d]=null,r[a]=null,r[c]=null,i(p(void 0,!0))),r[h]=!0})),e.on("readable",g.bind(null,r)),r}},39686:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var c=r(48764).Buffer,u=r(69862).inspect,h=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return c.alloc(0);for(var t,r,i,n=c.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=n,i=s,c.prototype.copy.call(t,r,i),s+=o.data.length,o=o.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,o=e>n.length?n.length:e;if(o===n.length?i+=n:i+=n.slice(0,e),0==(e-=o)){o===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(o));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=c.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(o));break}++i}return this.length-=i,t}},{key:h,value:function(e,t){return u(this,n(n({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()},71029:(e,t,r)=>{"use strict";var i=r(34155);function n(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return a||c?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,e)):i.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?i.nextTick(o,r):(r._writableState.errorEmitted=!0,i.nextTick(n,r,e)):i.nextTick(n,r,e):t?(i.nextTick(o,r),t(e)):i.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},81086:(e,t,r)=>{"use strict";var i=r(58106).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(o||n);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},u=t._writableState&&t._writableState.finished,h=function(){a=!1,u=!0,s||o.call(t)},d=t._readableState&&t._readableState.endEmitted,l=function(){s=!1,d=!0,a||o.call(t)},f=function(e){o.call(t,e)},p=function(){var e;return s&&!d?(t._readableState&&t._readableState.ended||(e=new i),o.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new i),o.call(t,e)):void 0},A=function(){t.req.on("finish",h)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",h),t.on("abort",p),t.req?A():t.on("request",A)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",l),t.on("finish",h),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",h),t.removeListener("abort",p),t.removeListener("request",A),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",p)}}},31265:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},56472:(e,t,r)=>{"use strict";var i,n=r(58106).q,o=n.ERR_MISSING_ARGS,s=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e){e()}function u(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var h,d=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var l=t.map((function(e,n){var o=n<t.length-1;return function(e,t,n,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===i&&(i=r(81086)),i(e,{readable:t,writable:n},(function(e){if(e)return o(e);a=!0,o()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,n>0,(function(e){h||(h=e),e&&l.forEach(c),o||(l.forEach(c),d(h))}))}));return t.reduce(u)}},30094:(e,t,r)=>{"use strict";var i=r(58106).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new i(n?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},83194:(e,t,r)=>{e.exports=r(17187).EventEmitter},19505:(e,t,r)=>{"use strict";var i=r(43494),n=r(81589),o=r(84881),s=r(19376),a=r(16324),c=r(58974),u=r(21924),h=r(41405)(),d=r(2847),l=u("String.prototype.indexOf"),f=r(46966),p=function(e){var t=f();if(h&&"symbol"==typeof Symbol.matchAll){var r=o(e,Symbol.matchAll);return r===RegExp.prototype[Symbol.matchAll]&&r!==t?t:r}if(s(e))return t};e.exports=function(e){var t=c(this);if(null!=e){if(s(e)){var r="flags"in e?n(e,"flags"):d(e);if(c(r),l(a(r),"g")<0)throw new TypeError("matchAll requires a global regular expression")}var o=p(e);if(void 0!==o)return i(o,e,[t])}var u=a(t),h=new RegExp(e,"g");return i(p(h),h,[u])}},94956:(e,t,r)=>{"use strict";var i=r(55559),n=r(4289),o=r(19505),s=r(83447),a=r(42376),c=i(o);n(c,{getPolyfill:s,implementation:o,shim:a}),e.exports=c},46966:(e,t,r)=>{"use strict";var i=r(41405)(),n=r(27201);e.exports=function(){return i&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:n}},83447:(e,t,r)=>{"use strict";var i=r(19505);e.exports=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch(e){return String.prototype.matchAll}return i}},27201:(e,t,r)=>{"use strict";var i=r(50766),n=r(81589),o=r(89236),s=r(98100),a=r(17020),c=r(16324),u=r(58294),h=r(2847),d=r(58052),l=r(21924)("String.prototype.indexOf"),f=RegExp,p="flags"in RegExp.prototype,A=d((function(e){var t=this;if("Object"!==u(t))throw new TypeError('"this" value must be an Object');var r=c(e),d=function(e,t){var r="flags"in t?n(t,"flags"):c(h(t));return{flags:r,matcher:new e(p&&"string"==typeof r?t:e===f?t.source:t,r)}}(s(t,f),t),A=d.flags,g=d.matcher,m=a(n(t,"lastIndex"));o(g,"lastIndex",m,!0);var y=l(A,"g")>-1,I=l(A,"u")>-1;return i(g,r,y,I)}),"[Symbol.matchAll]",!0);e.exports=A},42376:(e,t,r)=>{"use strict";var i=r(4289),n=r(41405)(),o=r(83447),s=r(46966),a=Object.defineProperty,c=Object.getOwnPropertyDescriptor;e.exports=function(){var e=o();if(i(String.prototype,{matchAll:e},{matchAll:function(){return String.prototype.matchAll!==e}}),n){var t=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(i(Symbol,{matchAll:t},{matchAll:function(){return Symbol.matchAll!==t}}),a&&c){var r=c(Symbol,t);r&&!r.configurable||a(Symbol,t,{configurable:!1,enumerable:!1,value:t,writable:!1})}var u=s(),h={};h[t]=u;var d={};d[t]=function(){return RegExp.prototype[t]!==u},i(RegExp.prototype,h,d)}return e}},61040:(e,t,r)=>{"use strict";var i=r(58974),n=r(16324),o=r(21924)("String.prototype.replace"),s=/^\s$/.test("᠎"),a=s?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,c=s?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=n(i(this));return o(o(e,a,""),c,"")}},46057:(e,t,r)=>{"use strict";var i=r(55559),n=r(4289),o=r(58974),s=r(61040),a=r(30254),c=r(60029),u=i(a()),h=function(e){return o(e),u(e)};n(h,{getPolyfill:a,implementation:s,shim:c}),e.exports=h},30254:(e,t,r)=>{"use strict";var i=r(61040);e.exports=function(){return String.prototype.trim&&"​"==="​".trim()&&"᠎"==="᠎".trim()&&"_᠎"==="_᠎".trim()&&"᠎_"==="᠎_".trim()?String.prototype.trim:i}},60029:(e,t,r)=>{"use strict";var i=r(4289),n=r(30254);e.exports=function(){var e=n();return i(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},32553:(e,t,r)=>{"use strict";var i=r(89509).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=h,this.end=d,t=3;break;default:return this.write=l,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function h(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var n=s(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=s(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=s(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},60540:function(e,t){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,n=1;n<i;++n)t[n]=t[n].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(e){return e.toUpperCase()}function o(e){var i="[A-Za-z]",n="[0-9]",o=t(n,"[A-Fa-f]"),s=r(r("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+r("%[89A-Fa-f]"+o+"%"+o+o)+"|"+r("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",h=t(i,n,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=r(i+t(i,n,"[\\+\\-\\.]")+"*"),l=r(r(s+"|"+t(h,a,"[\\:]"))+"*"),f=(r(r("25[0-5]")+"|"+r("2[0-4]"+n)+"|"+r("1"+n+n)+"|"+r("[1-9]"+n)+"|"+n),r(r("25[0-5]")+"|"+r("2[0-4]"+n)+"|"+r("1"+n+n)+"|"+r("0?[1-9]"+n)+"|0?0?"+n)),p=r(f+"\\."+f+"\\."+f+"\\."+f),A=r(o+"{1,4}"),g=r(r(A+"\\:"+A)+"|"+p),m=r(r(A+"\\:")+"{6}"+g),y=r("\\:\\:"+r(A+"\\:")+"{5}"+g),I=r(r(A)+"?\\:\\:"+r(A+"\\:")+"{4}"+g),w=r(r(r(A+"\\:")+"{0,1}"+A)+"?\\:\\:"+r(A+"\\:")+"{3}"+g),b=r(r(r(A+"\\:")+"{0,2}"+A)+"?\\:\\:"+r(A+"\\:")+"{2}"+g),v=r(r(r(A+"\\:")+"{0,3}"+A)+"?\\:\\:"+A+"\\:"+g),E=r(r(r(A+"\\:")+"{0,4}"+A)+"?\\:\\:"+g),C=r(r(r(A+"\\:")+"{0,5}"+A)+"?\\:\\:"+A),B=r(r(r(A+"\\:")+"{0,6}"+A)+"?\\:\\:"),S=r([m,y,I,w,b,v,E,C,B].join("|")),_=r(r(h+"|"+s)+"+"),Q=(r(S+"\\%25"+_),r(S+r("\\%25|\\%(?!"+o+"{2})")+_)),D=r("[vV]"+o+"+\\."+t(h,a,"[\\:]")+"+"),k=r("\\["+r(Q+"|"+S+"|"+D)+"\\]"),M=r(r(s+"|"+t(h,a))+"*"),P=r(k+"|"+p+"(?!"+M+")|"+M),x=r(n+"*"),F=r(r(l+"@")+"?"+P+r("\\:"+x)+"?"),R=r(s+"|"+t(h,a,"[\\:\\@]")),O=r(R+"*"),T=r(R+"+"),N=r(r(s+"|"+t(h,a,"[\\@]"))+"+"),U=r(r("\\/"+O)+"*"),j=r("\\/"+r(T+U)+"?"),L=r(N+U),q=r(T+U),K="(?!"+R+")",H=(r(U+"|"+j+"|"+L+"|"+q+"|"+K),r(r(R+"|"+t("[\\/\\?]",u))+"*")),G=r(r(R+"|[\\/\\?]")+"*"),z=r(r("\\/\\/"+F+U)+"|"+j+"|"+q+"|"+K),J=r(d+"\\:"+z+r("\\?"+H)+"?"+r("\\#"+G)+"?"),Y=r(r("\\/\\/"+F+U)+"|"+j+"|"+L+"|"+K),V=r(Y+r("\\?"+H)+"?"+r("\\#"+G)+"?");return r(J+"|"+V),r(d+"\\:"+z+r("\\?"+H)+"?"),r(r("\\/\\/("+r("("+l+")@")+"?("+P+")"+r("\\:("+x+")")+"?)")+"?("+U+"|"+j+"|"+q+"|"+K+")"),r("\\?("+H+")"),r("\\#("+G+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+P+")"+r("\\:("+x+")")+"?)")+"?("+U+"|"+j+"|"+L+"|"+K+")"),r("\\?("+H+")"),r("\\#("+G+")"),r(r("\\/\\/("+r("("+l+")@")+"?("+P+")"+r("\\:("+x+")")+"?)")+"?("+U+"|"+j+"|"+q+"|"+K+")"),r("\\?("+H+")"),r("\\#("+G+")"),r("("+l+")@"),r("\\:("+x+")"),{NOT_SCHEME:new RegExp(t("[^]",i,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",h,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",h,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",h,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",h,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",h,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",h,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",h,a),"g"),UNRESERVED:new RegExp(h,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",h,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+S+")"+r(r("\\%25|\\%(?!"+o+"{2})")+"("+_+")")+"?\\]?$")}}var s=o(!1),a=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,h=36,d=/^xn--/,l=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=Math.floor,g=String.fromCharCode;function m(e){throw new RangeError(p[e])}function y(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+function(e,t){for(var r=[],i=e.length;i--;)r[i]=t(e[i]);return r}((e=e.replace(f,".")).split("."),t).join(".")}function I(e){for(var t=[],r=0,i=e.length;r<i;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&n)<<10)+(1023&o)+65536):(t.push(n),r--)}else t.push(n)}return t}var w=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},b=function(e,t,r){var i=0;for(e=r?A(e/700):e>>1,e+=A(e/t);e>455;i+=h)e=A(e/35);return A(i+36*e/(e+38))},v=function(e){var t,r=[],i=e.length,n=0,o=128,s=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&m("not-basic"),r.push(e.charCodeAt(c));for(var d=a>0?a+1:0;d<i;){for(var l=n,f=1,p=h;;p+=h){d>=i&&m("invalid-input");var g=(t=e.charCodeAt(d++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:h;(g>=h||g>A((u-n)/f))&&m("overflow"),n+=g*f;var y=p<=s?1:p>=s+26?26:p-s;if(g<y)break;var I=h-y;f>A(u/I)&&m("overflow"),f*=I}var w=r.length+1;s=b(n-l,w,0==l),A(n/w)>u-o&&m("overflow"),o+=A(n/w),n%=w,r.splice(n++,0,o)}return String.fromCodePoint.apply(String,r)},E=function(e){var t=[],r=(e=I(e)).length,i=128,n=0,o=72,s=!0,a=!1,c=void 0;try{for(var d,l=e[Symbol.iterator]();!(s=(d=l.next()).done);s=!0){var f=d.value;f<128&&t.push(g(f))}}catch(e){a=!0,c=e}finally{try{!s&&l.return&&l.return()}finally{if(a)throw c}}var p=t.length,y=p;for(p&&t.push("-");y<r;){var v=u,E=!0,C=!1,B=void 0;try{for(var S,_=e[Symbol.iterator]();!(E=(S=_.next()).done);E=!0){var Q=S.value;Q>=i&&Q<v&&(v=Q)}}catch(e){C=!0,B=e}finally{try{!E&&_.return&&_.return()}finally{if(C)throw B}}var D=y+1;v-i>A((u-n)/D)&&m("overflow"),n+=(v-i)*D,i=v;var k=!0,M=!1,P=void 0;try{for(var x,F=e[Symbol.iterator]();!(k=(x=F.next()).done);k=!0){var R=x.value;if(R<i&&++n>u&&m("overflow"),R==i){for(var O=n,T=h;;T+=h){var N=T<=o?1:T>=o+26?26:T-o;if(O<N)break;var U=O-N,j=h-N;t.push(g(w(N+U%j,0))),O=A(U/j)}t.push(g(w(O,0))),o=b(n,D,y==p),n=0,++y}}}catch(e){M=!0,P=e}finally{try{!k&&F.return&&F.return()}finally{if(M)throw P}}++n,++i}return t.join("")},C={version:"2.1.0",ucs2:{decode:I,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(e))}},decode:v,encode:E,toASCII:function(e){return y(e,(function(e){return l.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return y(e,(function(e){return d.test(e)?v(e.slice(4).toLowerCase()):e}))}},B={};function S(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function _(e){for(var t="",r=0,i=e.length;r<i;){var n=parseInt(e.substr(r+1,2),16);if(n<128)t+=String.fromCharCode(n),r+=3;else if(n>=194&&n<224){if(i-r>=6){var o=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&n)<<6|63&o)}else t+=e.substr(r,6);r+=6}else if(n>=224){if(i-r>=9){var s=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function Q(e,t){function r(e){var r=_(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,S).replace(t.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,S).replace(t.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,S).replace(t.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,S).replace(t.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,S).replace(t.PCT_ENCODED,n)),e}function D(e){return e.replace(/^0*(.*)/,"$1")||"0"}function k(e,t){var r=e.match(t.IPV4ADDRESS)||[],i=c(r,2)[1];return i?i.split(".").map(D).join("."):e}function M(e,t){var r=e.match(t.IPV6ADDRESS)||[],i=c(r,3),n=i[1],o=i[2];if(n){for(var s=n.toLowerCase().split("::").reverse(),a=c(s,2),u=a[0],h=a[1],d=h?h.split(":").map(D):[],l=u.split(":").map(D),f=t.IPV4ADDRESS.test(l[l.length-1]),p=f?7:8,A=l.length-p,g=Array(p),m=0;m<p;++m)g[m]=d[m]||l[A+m]||"";f&&(g[p-1]=k(g[p-1],t));var y=g.reduce((function(e,t,r){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===r?i.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],I=void 0;if(y&&y.length>1){var w=g.slice(0,y.index),b=g.slice(y.index+y.length);I=w.join(":")+"::"+b.join(":")}else I=g.join(":");return o&&(I+="%"+o),I}return e}var P=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,x=void 0==="".match(/(){0}/)[1];function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var n=e.match(P);if(n){x?(r.scheme=n[1],r.userinfo=n[3],r.host=n[4],r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=n[7],r.fragment=n[8],isNaN(r.port)&&(r.port=n[5])):(r.scheme=n[1]||void 0,r.userinfo=-1!==e.indexOf("@")?n[3]:void 0,r.host=-1!==e.indexOf("//")?n[4]:void 0,r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=-1!==e.indexOf("?")?n[7]:void 0,r.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),r.host&&(r.host=M(k(r.host,i),i)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var o=B[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)Q(r,i);else{if(r.host&&(t.domainHost||o&&o.domainHost))try{r.host=C.toASCII(r.host.replace(i.PCT_ENCODED,_).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}Q(r,s)}o&&o.parse&&o.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}var R=/^\.\.?\//,O=/^\/\.(\/|$)/,T=/^\/\.\.(\/|$)/,N=/^\/?(?:.|\n)*?(?=\/|$)/;function U(e){for(var t=[];e.length;)if(e.match(R))e=e.replace(R,"");else if(e.match(O))e=e.replace(O,"/");else if(e.match(T))e=e.replace(T,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(N);if(!r)throw new Error("Unexpected dot segment condition");var i=r[0];e=e.slice(i.length),t.push(i)}return t.join("")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?a:s,i=[],n=B[(t.scheme||e.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||n&&n.domainHost)try{e.host=t.iri?C.toUnicode(e.host):C.toASCII(e.host.replace(r.PCT_ENCODED,_).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}Q(e,r),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var o=function(e,t){var r=!1!==t.iri?a:s,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push(M(k(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&i.push("//"),i.push(o),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||n&&n.absolutePath||(c=U(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),i.push(c)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function L(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(e=F(j(e,r),r),t=F(j(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=U(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=U(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=U(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=U(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function q(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,_)}var K={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var z={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=G(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),i=c(r,2),n=i[0],o=i[1];e.path=n&&"/"!==n?n:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},J={scheme:"wss",domainHost:z.domainHost,parse:z.parse,serialize:z.serialize},Y={},V="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",$="[0-9A-Fa-f]",W=r(r("%[EFef]"+$+"%"+$+$+"%"+$+$)+"|"+r("%[89A-Fa-f]"+$+"%"+$+$)+"|"+r("%"+$+$)),Z=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),X=new RegExp(V,"g"),ee=new RegExp(W,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),re=new RegExp(t("[^]",V,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=re;function ne(e){var t=_(e);return t.match(X)?t:e}var oe={scheme:"mailto",parse:function(e,t){var r=e,i=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var n=!1,o={},s=r.query.split("&"),a=0,c=s.length;a<c;++a){var u=s[a].split("=");switch(u[0]){case"to":for(var h=u[1].split(","),d=0,l=h.length;d<l;++d)i.push(h[d]);break;case"subject":r.subject=q(u[1],t);break;case"body":r.body=q(u[1],t);break;default:n=!0,o[q(u[0],t)]=q(u[1],t)}}n&&(r.headers=o)}r.query=void 0;for(var f=0,p=i.length;f<p;++f){var A=i[f].split("@");if(A[0]=q(A[0]),t.unicodeSupport)A[1]=q(A[1],t).toLowerCase();else try{A[1]=C.toASCII(q(A[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[f]=A.join("@")}return r},serialize:function(e,t){var r,i=e,o=null!=(r=e.to)?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[];if(o){for(var s=0,a=o.length;s<a;++s){var c=String(o[s]),u=c.lastIndexOf("@"),h=c.slice(0,u).replace(ee,ne).replace(ee,n).replace(te,S),d=c.slice(u+1);try{d=t.iri?C.toUnicode(d):C.toASCII(q(d,t).toLowerCase())}catch(e){i.error=i.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=h+"@"+d}i.path=o.join(",")}var l=e.headers=e.headers||{};e.subject&&(l.subject=e.subject),e.body&&(l.body=e.body);var f=[];for(var p in l)l[p]!==Y[p]&&f.push(p.replace(ee,ne).replace(ee,n).replace(re,S)+"="+l[p].replace(ee,ne).replace(ee,n).replace(ie,S));return f.length&&(i.query=f.join("&")),i}},se=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(se),i=e;if(r){var n=t.scheme||i.scheme||"urn",o=r[1].toLowerCase(),s=r[2],a=n+":"+(t.nid||o),c=B[a];i.nid=o,i.nss=s,i.path=void 0,c&&(i=c.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",i=e.nid,n=r+":"+(t.nid||i),o=B[n];o&&(e=o.serialize(e,t));var s=e,a=e.nss;return s.path=(i||t.nid)+":"+a,s}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ue={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};B[K.scheme]=K,B[H.scheme]=H,B[z.scheme]=z,B[J.scheme]=J,B[oe.scheme]=oe,B[ae.scheme]=ae,B[ue.scheme]=ue,e.SCHEMES=B,e.pctEncChar=S,e.pctDecChars=_,e.parse=F,e.removeDotSegments=U,e.serialize=j,e.resolveComponents=L,e.resolve=function(e,t,r){var i=function(e,t){var r=e;if(t)for(var i in t)r[i]=t[i];return r}({scheme:"null"},r);return j(L(F(e,i),F(t,i),i,!0),i)},e.normalize=function(e,t){return"string"==typeof e?e=j(F(e,t),t):"object"===i(e)&&(e=F(j(e,t),t)),e},e.equal=function(e,t,r){return"string"==typeof e?e=j(F(e,r),r):"object"===i(e)&&(e=j(e,r)),"string"==typeof t?t=j(F(t,r),r):"object"===i(t)&&(t=j(t,r)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,S)},e.unescapeComponent=q,Object.defineProperty(e,"__esModule",{value:!0})}(t)},94927:(e,t,r)=>{function i(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},26988:e=>{e.exports=function e(i,n){var o,s=0,a=0,c=n=n||0,u=i.length;do{if(c>=u||a>49)throw e.bytes=0,new RangeError("Could not decode varint");o=i[c++],s+=a<28?(o&r)<<a:(o&r)*Math.pow(2,a),a+=7}while(o>=t);return e.bytes=c-n,s};var t=128,r=127},1312:e=>{e.exports=function e(n,o,s){if(Number.MAX_SAFE_INTEGER&&n>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");o=o||[];for(var a=s=s||0;n>=i;)o[s++]=255&n|t,n/=128;for(;n&r;)o[s++]=255&n|t,n>>>=7;return o[s]=0|n,e.bytes=s-a+1,o};var t=128,r=-128,i=Math.pow(2,31)},94676:(e,t,r)=>{e.exports={encode:r(1312),decode:r(26988),encodingLength:r(10082)}},10082:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),n=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<i?3:e<n?4:e<o?5:e<s?6:e<a?7:e<c?8:e<u?9:10}},64559:(e,t,r)=>{var i="undefined"!=typeof WebAssembly&&r(94038)(),n=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),o=144,s=o,a=[];function c(e,t){if(!(this instanceof c))return new c(e,t);if(!e||e.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=i?new u(e,t):new h(e,t)}function u(e,t){a.length||(a.push(o),o+=64),this._pointer=a.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(i.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(e,this._nonce),this._memory.set(t,this._key)}function h(e,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,l(this._s,e,t,n);for(var r=0;r<8;r++)this._z[r]=e[r+16]}function d(e,t,r,i){for(var n,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,A=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,I=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,b=o,v=s,E=a,C=c,B=u,S=h,_=d,Q=l,D=f,k=p,M=A,P=g,x=m,F=y,R=I,O=w,T=0;T<20;T+=2)b^=(n=(x^=(n=(D^=(n=(B^=(n=b+x|0)<<7|n>>>25)+b|0)<<9|n>>>23)+B|0)<<13|n>>>19)+D|0)<<18|n>>>14,S^=(n=(v^=(n=(F^=(n=(k^=(n=S+v|0)<<7|n>>>25)+S|0)<<9|n>>>23)+k|0)<<13|n>>>19)+F|0)<<18|n>>>14,M^=(n=(_^=(n=(E^=(n=(R^=(n=M+_|0)<<7|n>>>25)+M|0)<<9|n>>>23)+R|0)<<13|n>>>19)+E|0)<<18|n>>>14,O^=(n=(P^=(n=(Q^=(n=(C^=(n=O+P|0)<<7|n>>>25)+O|0)<<9|n>>>23)+C|0)<<13|n>>>19)+Q|0)<<18|n>>>14,b^=(n=(C^=(n=(E^=(n=(v^=(n=b+C|0)<<7|n>>>25)+b|0)<<9|n>>>23)+v|0)<<13|n>>>19)+E|0)<<18|n>>>14,S^=(n=(B^=(n=(Q^=(n=(_^=(n=S+B|0)<<7|n>>>25)+S|0)<<9|n>>>23)+_|0)<<13|n>>>19)+Q|0)<<18|n>>>14,M^=(n=(k^=(n=(D^=(n=(P^=(n=M+k|0)<<7|n>>>25)+M|0)<<9|n>>>23)+P|0)<<13|n>>>19)+D|0)<<18|n>>>14,O^=(n=(R^=(n=(F^=(n=(x^=(n=O+R|0)<<7|n>>>25)+O|0)<<9|n>>>23)+x|0)<<13|n>>>19)+F|0)<<18|n>>>14;b=b+o|0,v=v+s|0,E=E+a|0,C=C+c|0,B=B+u|0,S=S+h|0,_=_+d|0,Q=Q+l|0,D=D+f|0,k=k+p|0,M=M+A|0,P=P+g|0,x=x+m|0,F=F+y|0,R=R+I|0,O=O+w|0,e[0]=b>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=v>>>0&255,e[5]=v>>>8&255,e[6]=v>>>16&255,e[7]=v>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=C>>>0&255,e[13]=C>>>8&255,e[14]=C>>>16&255,e[15]=C>>>24&255,e[16]=B>>>0&255,e[17]=B>>>8&255,e[18]=B>>>16&255,e[19]=B>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=_>>>0&255,e[25]=_>>>8&255,e[26]=_>>>16&255,e[27]=_>>>24&255,e[28]=Q>>>0&255,e[29]=Q>>>8&255,e[30]=Q>>>16&255,e[31]=Q>>>24&255,e[32]=D>>>0&255,e[33]=D>>>8&255,e[34]=D>>>16&255,e[35]=D>>>24&255,e[36]=k>>>0&255,e[37]=k>>>8&255,e[38]=k>>>16&255,e[39]=k>>>24&255,e[40]=M>>>0&255,e[41]=M>>>8&255,e[42]=M>>>16&255,e[43]=M>>>24&255,e[44]=P>>>0&255,e[45]=P>>>8&255,e[46]=P>>>16&255,e[47]=P>>>24&255,e[48]=x>>>0&255,e[49]=x>>>8&255,e[50]=x>>>16&255,e[51]=x>>>24&255,e[52]=F>>>0&255,e[53]=F>>>8&255,e[54]=F>>>16&255,e[55]=F>>>24&255,e[56]=R>>>0&255,e[57]=R>>>8&255,e[58]=R>>>16&255,e[59]=R>>>24&255,e[60]=O>>>0&255,e[61]=O>>>8&255,e[62]=O>>>16&255,e[63]=O>>>24&255}function l(e,t,r,i){for(var n,o=255&i[0]|(255&i[1])<<8|(255&i[2])<<16|(255&i[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&i[4]|(255&i[5])<<8|(255&i[6])<<16|(255&i[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,A=255&i[8]|(255&i[9])<<8|(255&i[10])<<16|(255&i[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,y=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,I=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&i[12]|(255&i[13])<<8|(255&i[14])<<16|(255&i[15])<<24,b=0;b<20;b+=2)o^=(n=(m^=(n=(f^=(n=(u^=(n=o+m|0)<<7|n>>>25)+o|0)<<9|n>>>23)+u|0)<<13|n>>>19)+f|0)<<18|n>>>14,h^=(n=(s^=(n=(y^=(n=(p^=(n=h+s|0)<<7|n>>>25)+h|0)<<9|n>>>23)+p|0)<<13|n>>>19)+y|0)<<18|n>>>14,A^=(n=(d^=(n=(a^=(n=(I^=(n=A+d|0)<<7|n>>>25)+A|0)<<9|n>>>23)+I|0)<<13|n>>>19)+a|0)<<18|n>>>14,w^=(n=(g^=(n=(l^=(n=(c^=(n=w+g|0)<<7|n>>>25)+w|0)<<9|n>>>23)+c|0)<<13|n>>>19)+l|0)<<18|n>>>14,o^=(n=(c^=(n=(a^=(n=(s^=(n=o+c|0)<<7|n>>>25)+o|0)<<9|n>>>23)+s|0)<<13|n>>>19)+a|0)<<18|n>>>14,h^=(n=(u^=(n=(l^=(n=(d^=(n=h+u|0)<<7|n>>>25)+h|0)<<9|n>>>23)+d|0)<<13|n>>>19)+l|0)<<18|n>>>14,A^=(n=(p^=(n=(f^=(n=(g^=(n=A+p|0)<<7|n>>>25)+A|0)<<9|n>>>23)+g|0)<<13|n>>>19)+f|0)<<18|n>>>14,w^=(n=(I^=(n=(y^=(n=(m^=(n=w+I|0)<<7|n>>>25)+w|0)<<9|n>>>23)+m|0)<<13|n>>>19)+y|0)<<18|n>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=A>>>0&255,e[9]=A>>>8&255,e[10]=A>>>16&255,e[11]=A>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=l>>>0&255,e[21]=l>>>8&255,e[22]=l>>>16&255,e[23]=l>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}e.exports=c,c.NONCEBYTES=24,c.KEYBYTES=32,c.core_hsalsa20=l,c.SIGMA=n,c.prototype.update=function(e,t){if(!e)throw new Error("input must be Uint8Array or Buffer");return t||(t=new Uint8Array(e.length)),e.length&&this._xor.update(e,t),t},c.prototype.final=c.prototype.finalize=function(){this._xor.finalize(),this._xor=null},u.prototype.realloc=function(e){i.memory.grow(Math.ceil(Math.abs(e-this._memory.length)/65536)),this._memory=new Uint8Array(i.memory.buffer)},u.prototype.update=function(e,t){var r=this._overflow+e.length,n=o+this._overflow;(s=o+r)>=this._memory.length&&this.realloc(s),this._memory.set(e,n),i.xsalsa20_xor(this._pointer,o,o,r,this._nonce,this._key),t.set(this._memory.subarray(n,o+r)),this._overflow=63&r},u.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),s>o&&(this._memory.fill(0,o,s),s=0),a.push(this._pointer)},h.prototype.update=function(e,t){for(var r=new Uint8Array(64),i=0,o=this._overflow,s=e.length+this._overflow,a=this._z,c=-this._overflow,u=-this._overflow;s>=64;){for(d(r,a,this._s,n);o<64;o++)t[u+o]=e[c+o]^r[o];for(i=1,o=8;o<16;o++)i+=255&a[o]|0,a[o]=255&i,i>>>=8;s-=64,u+=64,c+=64,o=0}if(s>0)for(d(r,a,this._s,n);o<s;o++)t[u+o]=e[c+o]^r[o];this._overflow=63&s},h.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)}},94038:e=>{var t,r,i=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:4*t-205]=t;return t=>{for(var r=t.length,i=new Uint8Array(3*(r-("="==t[r-1])-("="==t[r-2]))/4|0),n=0,o=0;n<r;){var s=e[t.charCodeAt(n++)],a=e[t.charCodeAt(n++)],c=e[t.charCodeAt(n++)],u=e[t.charCodeAt(n++)];i[o++]=s<<2|a>>4,i[o++]=a<<4|c>>2,i[o++]=c<<6|u}return i}})(),n=(t={"wasm-binary:./xsalsa20.wat"(e,t){t.exports=i("AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL")}},function(){return r||(0,t[Object.keys(t)[0]])((r={exports:{}}).exports,r),r.exports})(),o=new WebAssembly.Module(n);e.exports=e=>new WebAssembly.Instance(o,e).exports},76607:(e,t,r)=>{const i=r(10130),n="ybndrfg8ejkmcpqxot1uwisza345h769",o=new Int8Array(74);o.fill(-1);for(let e=0;e<32;e++){const t=n.charCodeAt(e)-49;o[t]=e}function s(e,t){if(t>e.length)return 0;const r=e.charCodeAt(t);if(r<49||r>122)throw Error('Invalid character in base32 input: "'+e[t]+'" at position '+t);const i=o[r-49];if(-1===i)throw Error('Invalid character in base32 input: "'+e[t]+'" at position '+t);return i}t.encode=function(e){"string"==typeof e&&(e=i.from(e));const t=8*e.byteLength;let r="";for(let i=0;i<t;i+=5){const t=i>>>3,o=7&i;if(o<=3){r+=n[e[t]>>>3-o&31];continue}const s=o-3,a=e[t]<<s&31,c=(t>=e.byteLength?0:e[t+1])>>>8-s;r+=n[a|c]}return r},t.decode=function(e,t){let r=0,n=0;const o=7&e.length,a=(e.length-o)/8;t||(t=i.allocUnsafe(Math.ceil(5*e.length/8)));for(let i=0;i<a;i++){const i=s(e,n++),o=s(e,n++),a=s(e,n++),c=s(e,n++),u=s(e,n++),h=s(e,n++),d=s(e,n++),l=s(e,n++);t[r++]=i<<3|o>>>2,t[r++]=(3&o)<<6|a<<1|c>>>4,t[r++]=(15&c)<<4|u>>>1,t[r++]=(1&u)<<7|h<<2|d>>>3,t[r++]=(7&d)<<5|l}if(0===o)return t.subarray(0,r);const c=s(e,n++),u=s(e,n++);if(t[r++]=c<<3|u>>>2,o<=2)return t.subarray(0,r);const h=s(e,n++),d=s(e,n++);if(t[r++]=(3&u)<<6|h<<1|d>>>4,o<=4)return t.subarray(0,r);const l=s(e,n++);if(t[r++]=(15&d)<<4|l>>>1,o<=5)return t.subarray(0,r);const f=s(e,n++),p=s(e,n++);if(t[r++]=(1&l)<<7|f<<2|p>>>3,o<=7)return t.subarray(0,r);const A=s(e,n++);return t[r++]=(7&p)<<5|A,t.subarray(0,r)}},80950:()=>{},46601:()=>{},89214:()=>{},96419:()=>{},56353:()=>{},8623:()=>{},7748:()=>{},85568:()=>{},69386:()=>{},31616:()=>{},56619:()=>{},24654:()=>{},77108:()=>{},99283:()=>{},43838:()=>{},722:()=>{},64599:()=>{},69862:()=>{},40964:()=>{},69526:(e,t)=>{var r,i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=function(e,t,r){if(t=~~t,(r=r||e.length-t)===i.size)return i.decode(e,t,r);if(r===n.size)return n.decode(e,t,r);throw Error(`Invalid buffer size needs to be ${i.size} for v4 or ${n.size} for v6.`)},e.encode=function(e,t,r){r=~~r;const s=o(e);return"function"==typeof t&&(t=t(r+s)),s===i.size?i.encode(e,t,r):n.encode(e,t,r)},e.familyOf=function(e){return o(e)===i.size?1:2},e.name=void 0,e.sizeOf=o,e.v6=e.v4=void 0;const t=/^(\d{1,3}\.){3,3}\d{1,3}$/,r=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,i={name:"v4",size:4,isFormat:e=>t.test(e),encode(e,t,r){r=~~r,t=t||new Uint8Array(r+4);const i=e.length;let n=0;for(let o=0;o<i;){const i=e.charCodeAt(o++);46===i?(t[r++]=n,n=0):n=10*n+(i-48)}return t[r]=n,t},decode:(e,t)=>(t=~~t,`${e[t++]}.${e[t++]}.${e[t++]}.${e[t]}`)};e.v4=i;const n={name:"v6",size:16,isFormat:e=>e.length>0&&r.test(e),encode(e,t,r){let i=16+(r=~~r),n=-1,o=0,s=0,a=!0,c=!1;t=t||new Uint8Array(r+16);for(let u=0;u<e.length;u++){let h=e.charCodeAt(u);58===h?(a?-1!==n?(r<i&&(t[r]=0),r<i-1&&(t[r+1]=0),r+=2):r<i&&(n=r):(!0===c?(r<i&&(t[r]=s),r++):(r<i&&(t[r]=o>>8),r<i-1&&(t[r+1]=255&o),r+=2),o=0,s=0),a=!0,c=!1):46===h?(r<i&&(t[r]=s),r++,s=0,o=0,a=!1,c=!0):(a=!1,h>=97?h-=87:h>=65?h-=55:(h-=48,s=10*s+h),o=(o<<4)+h)}if(!1===a)!0===c?(r<i&&(t[r]=s),r++):(r<i&&(t[r]=o>>8),r<i-1&&(t[r+1]=255&o),r+=2);else if(0===n)r<i&&(t[r]=0),r<i-1&&(t[r+1]=0),r+=2;else if(-1!==n){r+=2;for(let e=Math.min(r-1,i-1);e>=n+2;e--)t[e]=t[e-2];t[n]=0,t[n+1]=0,n=r}if(n!==r&&-1!==n)for(r>i-2&&(r=i-2);i>n;)t[--i]=r<i&&r>n?t[--r]:0;else for(;r<i;)t[r++]=0;return t},decode(e,t){t=~~t;let r="";for(let i=0;i<16;i+=2)0!==i&&(r+=":"),r+=(e[t+i]<<8|e[t+i+1]).toString(16);return r.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function o(e){if(i.isFormat(e))return i.size;if(n.isFormat(e))return n.size;throw Error(`Invalid ip address: ${e}`)}return e.v6=n,e.name="ip","default"in e?e.default:e}({});void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)},69721:(e,t,r)=>{"use strict";var i=r(40210),n=r(68388),o=r(58294),s=r(41338),a=r(11645),c=i("%TypeError%");e.exports=function(e,t,r){if("String"!==o(e))throw new c("Assertion failed: `S` must be a String");if(!s(t)||t<0||t>a)throw new c("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("Boolean"!==o(r))throw new c("Assertion failed: `unicode` must be a Boolean");return r?t+1>=e.length?t+1:t+n(e,t)["[[CodeUnitCount]]"]:t+1}},43494:(e,t,r)=>{"use strict";var i=r(40210),n=r(21924),o=i("%TypeError%"),s=r(94815),a=i("%Reflect.apply%",!0)||n("Function.prototype.apply");e.exports=function(e,t){var r=arguments.length>2?arguments[2]:[];if(!s(r))throw new o("Assertion failed: optional `argumentsList`, if provided, must be a List");return a(e,t,r)}},68388:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(21924),o=r(29544),s=r(65424),a=r(58294),c=r(9113),u=n("String.prototype.charAt"),h=n("String.prototype.charCodeAt");e.exports=function(e,t){if("String"!==a(e))throw new i("Assertion failed: `string` must be a String");var r=e.length;if(t<0||t>=r)throw new i("Assertion failed: `position` must be >= 0, and < the length of `string`");var n=h(e,t),d=u(e,t),l=o(n),f=s(n);if(!l&&!f)return{"[[CodePoint]]":d,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(f||t+1===r)return{"[[CodePoint]]":d,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var p=h(e,t+1);return s(p)?{"[[CodePoint]]":c(n,p),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":d,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},64936:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(58294);e.exports=function(e,t){if("Boolean"!==n(t))throw new i("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}}},28613:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(63682),o=r(68344),s=r(40661),a=r(67906),c=r(5819),u=r(58294);e.exports=function(e,t,r){if("Object"!==u(e))throw new i("Assertion failed: Type(O) is not Object");if(!a(t))throw new i("Assertion failed: IsPropertyKey(P) is not true");return n(s,c,o,e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":r,"[[Writable]]":!0})}},50766:(e,t,r)=>{"use strict";var i=r(40210),n=r(41405)(),o=i("%TypeError%"),s=i("%IteratorPrototype%",!0),a=r(69721),c=r(64936),u=r(28613),h=r(81589),d=r(81322),l=r(71580),f=r(89236),p=r(17020),A=r(16324),g=r(58294),m=r(9496),y=r(44105),I=function(e,t,r,i){if("String"!==g(t))throw new o("`S` must be a string");if("Boolean"!==g(r))throw new o("`global` must be a boolean");if("Boolean"!==g(i))throw new o("`fullUnicode` must be a boolean");m.set(this,"[[IteratingRegExp]]",e),m.set(this,"[[IteratedString]]",t),m.set(this,"[[Global]]",r),m.set(this,"[[Unicode]]",i),m.set(this,"[[Done]]",!1)};s&&(I.prototype=d(s)),u(I.prototype,"next",(function(){var e=this;if("Object"!==g(e))throw new o("receiver must be an object");if(!(e instanceof I&&m.has(e,"[[IteratingRegExp]]")&&m.has(e,"[[IteratedString]]")&&m.has(e,"[[Global]]")&&m.has(e,"[[Unicode]]")&&m.has(e,"[[Done]]")))throw new o('"this" value must be a RegExpStringIterator instance');if(m.get(e,"[[Done]]"))return c(void 0,!0);var t=m.get(e,"[[IteratingRegExp]]"),r=m.get(e,"[[IteratedString]]"),i=m.get(e,"[[Global]]"),n=m.get(e,"[[Unicode]]"),s=l(t,r);if(null===s)return m.set(e,"[[Done]]",!0),c(void 0,!0);if(i){if(""===A(h(s,"0"))){var u=p(h(t,"lastIndex")),d=a(r,u,n);f(t,"lastIndex",d,!0)}return c(s,!1)}return m.set(e,"[[Done]]",!0),c(s,!1)})),n&&(y(I.prototype,"RegExp String Iterator"),Symbol.iterator&&"function"!=typeof I.prototype[Symbol.iterator])&&u(I.prototype,Symbol.iterator,(function(){return this})),e.exports=function(e,t,r,i){return new I(e,t,r,i)}},39524:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(2435),o=r(63682),s=r(68344),a=r(69406),c=r(40661),u=r(67906),h=r(5819),d=r(43013),l=r(58294);e.exports=function(e,t,r){if("Object"!==l(e))throw new i("Assertion failed: Type(O) is not Object");if(!u(t))throw new i("Assertion failed: IsPropertyKey(P) is not true");var f=n({Type:l,IsDataDescriptor:c,IsAccessorDescriptor:a},r)?r:d(r);if(!n({Type:l,IsDataDescriptor:c,IsAccessorDescriptor:a},f))throw new i("Assertion failed: Desc is not a valid Property Descriptor");return o(c,h,s,e,t,f)}},68344:(e,t,r)=>{"use strict";var i=r(62188),n=r(17141),o=r(58294);e.exports=function(e){return void 0!==e&&i(o,"Property Descriptor","Desc",e),n(e)}},81589:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(70631),o=r(67906),s=r(58294);e.exports=function(e,t){if("Object"!==s(e))throw new i("Assertion failed: Type(O) is not Object");if(!o(t))throw new i("Assertion failed: IsPropertyKey(P) is not true, got "+n(t));return e[t]}},84881:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(49738),o=r(41546),s=r(67906),a=r(70631);e.exports=function(e,t){if(!s(t))throw new i("Assertion failed: IsPropertyKey(P) is not true");var r=n(e,t);if(null!=r){if(!o(r))throw new i(a(t)+" is not a function: "+a(r));return r}}},49738:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(70631),o=r(67906);e.exports=function(e,t){if(!o(t))throw new i("Assertion failed: IsPropertyKey(P) is not true, got "+n(t));return e[t]}},69406:(e,t,r)=>{"use strict";var i=r(48824),n=r(58294),o=r(62188);e.exports=function(e){return void 0!==e&&(o(n,"Property Descriptor","Desc",e),!(!i(e,"[[Get]]")&&!i(e,"[[Set]]")))}},94815:(e,t,r)=>{"use strict";e.exports=r(675)},41546:(e,t,r)=>{"use strict";e.exports=r(95320)},13868:(e,t,r)=>{"use strict";var i=r(14445)("%Reflect.construct%",!0),n=r(39524);try{n({},"",{"[[Get]]":function(){}})}catch(e){n=null}if(n&&i){var o={},s={};n(s,"length",{"[[Get]]":function(){throw o},"[[Enumerable]]":!0}),e.exports=function(e){try{i(e,s)}catch(e){return e===o}}}else e.exports=function(e){return"function"==typeof e&&!!e.prototype}},40661:(e,t,r)=>{"use strict";var i=r(48824),n=r(58294),o=r(62188);e.exports=function(e){return void 0!==e&&(o(n,"Property Descriptor","Desc",e),!(!i(e,"[[Value]]")&&!i(e,"[[Writable]]")))}},67906:e=>{"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},19376:(e,t,r)=>{"use strict";var i=r(40210)("%Symbol.match%",!0),n=r(98420),o=r(37182);e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(i){var t=e[i];if(void 0!==t)return o(t)}return n(e)}},81322:(e,t,r)=>{"use strict";var i=r(40210),n=i("%Object.create%",!0),o=i("%TypeError%"),s=i("%SyntaxError%"),a=r(94815),c=r(58294),u=r(21069),h=r(9496),d=r(28185)();e.exports=function(e){if(null!==e&&"Object"!==c(e))throw new o("Assertion failed: `proto` must be null or an object");var t,r=arguments.length<2?[]:arguments[1];if(!a(r))throw new o("Assertion failed: `additionalInternalSlotsList` must be an Array");if(n)t=n(e);else if(d)t={__proto__:e};else{if(null===e)throw new s("native Object.create support is required to create null objects");var i=function(){};i.prototype=e,t=new i}return r.length>0&&u(r,(function(e){h.set(t,e,void 0)})),t}},71580:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(21924)("RegExp.prototype.exec"),o=r(43494),s=r(81589),a=r(41546),c=r(58294);e.exports=function(e,t){if("Object"!==c(e))throw new i("Assertion failed: `R` must be an Object");if("String"!==c(t))throw new i("Assertion failed: `S` must be a String");var r=s(e,"exec");if(a(r)){var u=o(r,e,[t]);if(null===u||"Object"===c(u))return u;throw new i('"exec" method must return `null` or an Object')}return n(e,t)}},58974:(e,t,r)=>{"use strict";e.exports=r(4559)},5819:(e,t,r)=>{"use strict";var i=r(29086);e.exports=function(e,t){return e===t?0!==e||1/e==1/t:i(e)&&i(t)}},89236:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%"),n=r(67906),o=r(5819),s=r(58294),a=function(){try{return delete[].length,!0}catch(e){return!1}}();e.exports=function(e,t,r,c){if("Object"!==s(e))throw new i("Assertion failed: `O` must be an Object");if(!n(t))throw new i("Assertion failed: `P` must be a Property Key");if("Boolean"!==s(c))throw new i("Assertion failed: `Throw` must be a Boolean");if(c){if(e[t]=r,a&&!o(e[t],r))throw new i("Attempted to assign to readonly property.");return!0}try{return e[t]=r,!a||o(e[t],r)}catch(e){return!1}}},98100:(e,t,r)=>{"use strict";var i=r(40210),n=i("%Symbol.species%",!0),o=i("%TypeError%"),s=r(13868),a=r(58294);e.exports=function(e,t){if("Object"!==a(e))throw new o("Assertion failed: Type(O) is not Object");var r=e.constructor;if(void 0===r)return t;if("Object"!==a(r))throw new o("O.constructor is not an Object");var i=n?r[n]:void 0;if(null==i)return t;if(s(i))return i;throw new o("no constructor found")}},82837:(e,t,r)=>{"use strict";var i=r(40210),n=i("%Number%"),o=i("%RegExp%"),s=i("%TypeError%"),a=i("%parseInt%"),c=r(21924),u=r(79246),h=c("String.prototype.slice"),d=u(/^0b[01]+$/i),l=u(/^0o[0-7]+$/i),f=u(/^[-+]0x[0-9a-f]+$/i),p=u(new o("["+["","​","￾"].join("")+"]","g")),A=r(46057),g=r(58294);e.exports=function e(t){if("String"!==g(t))throw new s("Assertion failed: `argument` is not a String");if(d(t))return n(a(h(t,2),2));if(l(t))return n(a(h(t,2),8));if(p(t)||f(t))return NaN;var r=A(t);return r!==t?e(r):n(t)}},37182:e=>{"use strict";e.exports=function(e){return!!e}},88681:(e,t,r)=>{"use strict";var i=r(43798),n=r(39217),o=r(29086),s=r(22633);e.exports=function(e){var t=i(e);return o(t)||0===t?0:s(t)?n(t):t}},17020:(e,t,r)=>{"use strict";var i=r(11645),n=r(88681);e.exports=function(e){var t=n(e);return t<=0?0:t>i?i:t}},43798:(e,t,r)=>{"use strict";var i=r(40210),n=i("%TypeError%"),o=i("%Number%"),s=r(64790),a=r(94647),c=r(82837);e.exports=function(e){var t=s(e)?e:a(e,o);if("symbol"==typeof t)throw new n("Cannot convert a Symbol value to a number");if("bigint"==typeof t)throw new n("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof t?c(t):o(t)}},94647:(e,t,r)=>{"use strict";var i=r(41503);e.exports=function(e){return arguments.length>1?i(e,arguments[1]):i(e)}},43013:(e,t,r)=>{"use strict";var i=r(48824),n=r(40210)("%TypeError%"),o=r(58294),s=r(37182),a=r(41546);e.exports=function(e){if("Object"!==o(e))throw new n("ToPropertyDescriptor requires an object");var t={};if(i(e,"enumerable")&&(t["[[Enumerable]]"]=s(e.enumerable)),i(e,"configurable")&&(t["[[Configurable]]"]=s(e.configurable)),i(e,"value")&&(t["[[Value]]"]=e.value),i(e,"writable")&&(t["[[Writable]]"]=s(e.writable)),i(e,"get")){var r=e.get;if(void 0!==r&&!a(r))throw new n("getter must be a function");t["[[Get]]"]=r}if(i(e,"set")){var c=e.set;if(void 0!==c&&!a(c))throw new n("setter must be a function");t["[[Set]]"]=c}if((i(t,"[[Get]]")||i(t,"[[Set]]"))&&(i(t,"[[Value]]")||i(t,"[[Writable]]")))throw new n("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},16324:(e,t,r)=>{"use strict";var i=r(40210),n=i("%String%"),o=i("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new o("Cannot convert a Symbol value to a string");return n(e)}},58294:(e,t,r)=>{"use strict";var i=r(23951);e.exports=function(e){return"symbol"==typeof e?"Symbol":"bigint"==typeof e?"BigInt":i(e)}},9113:(e,t,r)=>{"use strict";var i=r(40210),n=i("%TypeError%"),o=i("%String.fromCharCode%"),s=r(29544),a=r(65424);e.exports=function(e,t){if(!s(e)||!a(t))throw new n("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return o(e)+o(t)}},69806:(e,t,r)=>{"use strict";var i=r(58294),n=Math.floor;e.exports=function(e){return"BigInt"===i(e)?e:n(e)}},39217:(e,t,r)=>{"use strict";var i=r(40210),n=r(69806),o=i("%TypeError%");e.exports=function(e){if("number"!=typeof e&&"bigint"!=typeof e)throw new o("argument must be a Number or a BigInt");var t=e<0?-n(-e):n(e);return 0===t?0:t}},4559:(e,t,r)=>{"use strict";var i=r(40210)("%TypeError%");e.exports=function(e,t){if(null==e)throw new i(t||"Cannot call method on "+e);return e}},23951:e=>{"use strict";e.exports=function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}},14445:(e,t,r)=>{"use strict";e.exports=r(40210)},63682:(e,t,r)=>{"use strict";var i=r(31044),n=r(40210),o=i()&&n("%Object.defineProperty%",!0),s=i.hasArrayLengthDefineBug(),a=s&&r(675),c=r(21924)("Object.prototype.propertyIsEnumerable");e.exports=function(e,t,r,i,n,u){if(!o){if(!e(u))return!1;if(!u["[[Configurable]]"]||!u["[[Writable]]"])return!1;if(n in i&&c(i,n)!==!!u["[[Enumerable]]"])return!1;var h=u["[[Value]]"];return i[n]=h,t(i[n],h)}return s&&"length"===n&&"[[Value]]"in u&&a(i)&&i.length!==u["[[Value]]"]?(i.length=u["[[Value]]"],i.length===u["[[Value]]"]):(o(i,n,r(u)),!0)}},675:(e,t,r)=>{"use strict";var i=r(40210)("%Array%"),n=!i.isArray&&r(21924)("Object.prototype.toString");e.exports=i.isArray||function(e){return"[object Array]"===n(e)}},62188:(e,t,r)=>{"use strict";var i=r(40210),n=i("%TypeError%"),o=i("%SyntaxError%"),s=r(48824),a=r(41338),c={"Property Descriptor":function(e){var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};if(!e)return!1;for(var r in e)if(s(e,r)&&!t[r])return!1;var i=s(e,"[[Value]]"),o=s(e,"[[Get]]")||s(e,"[[Set]]");if(i&&o)throw new n("Property Descriptors may not be both accessor and data descriptors");return!0},"Match Record":r(64377),"Iterator Record":function(e){return s(e,"[[Iterator]]")&&s(e,"[[NextMethod]]")&&s(e,"[[Done]]")},"PromiseCapability Record":function(e){return!!e&&s(e,"[[Resolve]]")&&"function"==typeof e["[[Resolve]]"]&&s(e,"[[Reject]]")&&"function"==typeof e["[[Reject]]"]&&s(e,"[[Promise]]")&&e["[[Promise]]"]&&"function"==typeof e["[[Promise]]"].then},"AsyncGeneratorRequest Record":function(e){return!!e&&s(e,"[[Completion]]")&&s(e,"[[Capability]]")&&c["PromiseCapability Record"](e["[[Capability]]"])},"RegExp Record":function(e){return e&&s(e,"[[IgnoreCase]]")&&"boolean"==typeof e["[[IgnoreCase]]"]&&s(e,"[[Multiline]]")&&"boolean"==typeof e["[[Multiline]]"]&&s(e,"[[DotAll]]")&&"boolean"==typeof e["[[DotAll]]"]&&s(e,"[[Unicode]]")&&"boolean"==typeof e["[[Unicode]]"]&&s(e,"[[CapturingGroupsCount]]")&&"number"==typeof e["[[CapturingGroupsCount]]"]&&a(e["[[CapturingGroupsCount]]"])&&e["[[CapturingGroupsCount]]"]>=0}};e.exports=function(e,t,r,i){var s=c[t];if("function"!=typeof s)throw new o("unknown record type: "+t);if("Object"!==e(i)||!s(i))throw new n(r+" must be a "+t)}},21069:e=>{"use strict";e.exports=function(e,t){for(var r=0;r<e.length;r+=1)t(e[r],r,e)}},17141:e=>{"use strict";e.exports=function(e){if(void 0===e)return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}},22633:(e,t,r)=>{"use strict";var i=r(29086);e.exports=function(e){return("number"==typeof e||"bigint"==typeof e)&&!i(e)&&e!==1/0&&e!==-1/0}},41338:(e,t,r)=>{"use strict";var i=r(40210),n=i("%Math.abs%"),o=i("%Math.floor%"),s=r(29086),a=r(22633);e.exports=function(e){if("number"!=typeof e||s(e)||!a(e))return!1;var t=n(e);return o(t)===t}},29544:e=>{"use strict";e.exports=function(e){return"number"==typeof e&&e>=55296&&e<=56319}},64377:(e,t,r)=>{"use strict";var i=r(48824);e.exports=function(e){return i(e,"[[StartIndex]]")&&i(e,"[[EndIndex]]")&&e["[[StartIndex]]"]>=0&&e["[[EndIndex]]"]>=e["[[StartIndex]]"]&&String(parseInt(e["[[StartIndex]]"],10))===String(e["[[StartIndex]]"])&&String(parseInt(e["[[EndIndex]]"],10))===String(e["[[EndIndex]]"])}},29086:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},64790:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},2435:(e,t,r)=>{"use strict";var i=r(40210),n=r(48824),o=i("%TypeError%");e.exports=function(e,t){if("Object"!==e.Type(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var i in t)if(n(t,i)&&!r[i])return!1;if(e.IsDataDescriptor(t)&&e.IsAccessorDescriptor(t))throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}},65424:e=>{"use strict";e.exports=function(e){return"number"==typeof e&&e>=56320&&e<=57343}},11645:e=>{"use strict";e.exports=Number.MAX_SAFE_INTEGER||9007199254740991},58498:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var i=r(21283);function n(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,i.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},79114:(e,t,r)=>{"use strict";r.r(t),r.d(t,{concat:()=>o});var i=r(58498),n=r(21283);function o(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=(0,i.E)(t);let o=0;for(const t of e)r.set(t,o),o+=t.length;return(0,n.P)(r)}},17105:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromString:()=>o});var i=r(24004),n=r(21283);function o(e,t="utf8"){const r=i.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):(0,n.P)(globalThis.Buffer.from(e,"utf-8"))}},864:(e,t,r)=>{"use strict";r.r(t),r.d(t,{toString:()=>n});var i=r(24004);function n(e,t="utf8"){const r=i.Z[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},21283:(e,t,r)=>{"use strict";function i(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}r.d(t,{P:()=>i})},24004:(e,t,r)=>{"use strict";r.d(t,{Z:()=>je});var i={};r.r(i),r.d(i,{identity:()=>_});var n={};r.r(n),r.d(n,{base2:()=>Q});var o={};r.r(o),r.d(o,{base8:()=>D});var s={};r.r(s),r.d(s,{base10:()=>k});var a={};r.r(a),r.d(a,{base16:()=>M,base16upper:()=>P});var c={};r.r(c),r.d(c,{base32:()=>x,base32hex:()=>T,base32hexpad:()=>U,base32hexpadupper:()=>j,base32hexupper:()=>N,base32pad:()=>R,base32padupper:()=>O,base32upper:()=>F,base32z:()=>L});var u={};r.r(u),r.d(u,{base36:()=>q,base36upper:()=>K});var h={};r.r(h),r.d(h,{base58btc:()=>H,base58flickr:()=>G});var d={};r.r(d),r.d(d,{base64:()=>z,base64pad:()=>J,base64url:()=>Y,base64urlpad:()=>V});var l={};r.r(l),r.d(l,{base256emoji:()=>X});var f={};r.r(f),r.d(f,{sha256:()=>be,sha512:()=>ve});var p={};r.r(p),r.d(p,{identity:()=>Ce});var A={};r.r(A),r.d(A,{code:()=>Se,decode:()=>Qe,encode:()=>_e,name:()=>Be});var g={};r.r(g),r.d(g,{code:()=>Pe,decode:()=>Fe,encode:()=>xe,name:()=>Me});const m=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var d=0,l=o-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=a*s[l]>>>0,s[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=o-n;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(i+(o-f)),A=i;f!==o;)p[A++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*h+1>>>0,u=new Uint8Array(s);n!==o;){for(var d=t[n],l=0,f=s-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=256*u[f]>>>0,u[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var p=s-i;p!==s&&0===u[p];)p++;for(var A=c.repeat(r);p<s;++p)A+=e.charAt(u[p]);return A},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}},y=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class I{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class w{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return v(this,e)}}class b{constructor(e){this.decoders=e}or(e){return v(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const v=(e,t)=>new b({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class E{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new I(e,t,r),this.decoder=new w(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const C=({name:e,prefix:t,encode:r,decode:i})=>new E(e,t,r,i),B=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=m(r,t);return C({prefix:e,name:t,encode:i,decode:e=>y(n(e))})},S=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>C({prefix:t,name:e,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=n[e[t]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),_=C({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),Q=S({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),D=S({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),k=B({prefix:"9",name:"base10",alphabet:"0123456789"}),M=S({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),P=S({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),x=S({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),F=S({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),R=S({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),O=S({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),T=S({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N=S({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),U=S({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),j=S({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),L=S({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),q=B({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),K=B({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),H=B({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),G=B({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),z=S({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),J=S({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Y=S({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),V=S({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),$=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),W=$.reduce(((e,t,r)=>(e[r]=t,e)),[]),Z=$.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]),X=C({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+W[t]),"")},decode:function(e){const t=[];for(const r of e){const e=Z[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var ee=128,te=-128,re=Math.pow(2,31),ie=Math.pow(2,7),ne=Math.pow(2,14),oe=Math.pow(2,21),se=Math.pow(2,28),ae=Math.pow(2,35),ce=Math.pow(2,42),ue=Math.pow(2,49),he=Math.pow(2,56),de=Math.pow(2,63);const le=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=re;)r[i++]=255&t|ee,t/=128;for(;t&te;)r[i++]=255&t|ee,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},fe=function(e){return e<ie?1:e<ne?2:e<oe?3:e<se?4:e<ae?5:e<ce?6:e<ue?7:e<he?8:e<de?9:10},pe=(e,t,r=0)=>(le(e,t,r),t),Ae=e=>fe(e),ge=(e,t)=>{const r=t.byteLength,i=Ae(e),n=i+Ae(r),o=new Uint8Array(n+r);return pe(e,o,0),pe(r,o,i),o.set(t,n),new me(e,r,t,o)};class me{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const ye=({name:e,code:t,encode:r})=>new Ie(e,t,r);class Ie{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ge(this.code,t):t.then((e=>ge(this.code,e)))}throw Error("Unknown type, must be binary type")}}const we=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),be=ye({name:"sha2-256",code:18,encode:we("SHA-256")}),ve=ye({name:"sha2-512",code:19,encode:we("SHA-512")}),Ee=y,Ce={code:0,name:"identity",encode:Ee,digest:e=>ge(0,Ee(e))},Be="raw",Se=85,_e=e=>y(e),Qe=e=>y(e),De=new TextEncoder,ke=new TextDecoder,Me="json",Pe=512,xe=e=>De.encode(JSON.stringify(e)),Fe=e=>JSON.parse(ke.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Re={...i,...n,...o,...s,...a,...c,...u,...h,...d,...l};var Oe=r(58498);function Te(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Ne=Te("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Ue=Te("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,Oe.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),je={utf8:Ne,"utf-8":Ne,hex:Re.base16,latin1:Ue,ascii:Ue,binary:Ue,...Re}},64296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{customAlphabet:()=>s,customRandom:()=>o,nanoid:()=>a,random:()=>n,urlAlphabet:()=>i});let i="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",n=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,t,r)=>{let i=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*i*t/e.length);return(o=t)=>{let s="";for(;;){let t=r(n),a=n;for(;a--;)if(s+=e[t[a]&i]||"",s.length===o)return s}}},s=(e,t=21)=>o(e,t,n),a=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),"")},64775:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},98:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},44946:e=>{"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},75207:e=>{"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},1308:e=>{"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},29799:e=>{"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},18597:e=>{"use strict";e.exports={i8:"6.5.4"}},78531:e=>{"use strict";e.exports={}},42600:e=>{"use strict";e.exports={i8:"4.3.0"}},22562:e=>{"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={id:e,loaded:!1,exports:{}};return r[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"==typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"==typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{dQ:()=>Xt,ci:()=>Ht,bytesToNumberBE:()=>Jt,ty:()=>Yt,eV:()=>Zt,n$:()=>rr,ql:()=>Wt,hexToBytes:()=>zt,tL:()=>Vt,S5:()=>$t,FF:()=>nr});var t={};n.r(t),n.d(t,{code:()=>nh,decode:()=>sh,encode:()=>oh,name:()=>ih});var r={};n.r(r),n.d(r,{code:()=>Md,createLink:()=>Dd,createNode:()=>Qd,decode:()=>xd,encode:()=>Pd,name:()=>kd,prepare:()=>Sd,validate:()=>_d});var i={};n.r(i),n.d(i,{base10:()=>sl});var o={};n.r(o),n.d(o,{base16:()=>al,base16upper:()=>cl});var s={};n.r(s),n.d(s,{base2:()=>ul});var a={};n.r(a),n.d(a,{base256emoji:()=>fl});var c={};n.r(c),n.d(c,{base32:()=>pl,base32hex:()=>yl,base32hexpad:()=>wl,base32hexpadupper:()=>bl,base32hexupper:()=>Il,base32pad:()=>gl,base32padupper:()=>ml,base32upper:()=>Al,base32z:()=>vl});var u={};n.r(u),n.d(u,{base36:()=>El,base36upper:()=>Cl});var h={};n.r(h),n.d(h,{base58btc:()=>Bl,base58flickr:()=>Sl});var d={};n.r(d),n.d(d,{base64:()=>_l,base64pad:()=>Ql,base64url:()=>Dl,base64urlpad:()=>kl});var l={};n.r(l),n.d(l,{base8:()=>Ml});var f={};n.r(f),n.d(f,{identity:()=>Pl});var p={};n.r(p),n.d(p,{code:()=>Ol,decode:()=>Nl,encode:()=>Tl,name:()=>Rl});var A={};n.r(A),n.d(A,{code:()=>jl,decode:()=>ql,encode:()=>Ll,name:()=>Ul});var g={};n.r(g),n.d(g,{identity:()=>uf});var m={};n.r(m),n.d(m,{sha256:()=>ff,sha512:()=>pf});var y={};n.r(y),n.d(y,{code:()=>Jf,decode:()=>Vf,encode:()=>Yf,name:()=>zf});var I={};n.r(I),n.d(I,{abortedError:()=>bA,closeFailedError:()=>AA,deleteFailedError:()=>yA,getFailedError:()=>mA,hasFailedError:()=>IA,notFoundError:()=>wA,openFailedError:()=>pA,putFailedError:()=>gA});var w={};n.r(w),n.d(w,{Authorization:()=>LE,AuthorizationOwner:()=>GE,Definitions:()=>dC,EventsGet:()=>uC,GeneralJwk:()=>lC,GeneralJws:()=>fC,GenericSignaturePayload:()=>HC,JwkVerificationMethod:()=>pC,MessagesGet:()=>AC,PermissionsDefinitions:()=>mC,PermissionsGrant:()=>yC,PermissionsRequest:()=>vC,PermissionsRevoke:()=>BC,PermissionsScopes:()=>_C,ProtocolDefinition:()=>QC,ProtocolRuleSet:()=>RC,ProtocolsConfigure:()=>OC,ProtocolsQuery:()=>NC,PublicJwk:()=>KC,RecordsDelete:()=>JE,RecordsFilter:()=>qC,RecordsQuery:()=>VE,RecordsRead:()=>jC,RecordsWrite:()=>rC,RecordsWriteSignaturePayload:()=>GC,RecordsWriteUnidentified:()=>cC});var b={};n.r(b),n.d(b,{identity:()=>ZD});var v={};n.r(v),n.d(v,{base2:()=>XD});var E={};n.r(E),n.d(E,{base8:()=>ek});var C={};n.r(C),n.d(C,{base10:()=>tk});var B={};n.r(B),n.d(B,{base16:()=>rk,base16upper:()=>ik});var S={};n.r(S),n.d(S,{base32:()=>nk,base32hex:()=>ck,base32hexpad:()=>hk,base32hexpadupper:()=>dk,base32hexupper:()=>uk,base32pad:()=>sk,base32padupper:()=>ak,base32upper:()=>ok,base32z:()=>lk});var _={};n.r(_),n.d(_,{base36:()=>fk,base36upper:()=>pk});var Q={};n.r(Q),n.d(Q,{base58btc:()=>Ak,base58flickr:()=>gk});var D={};n.r(D),n.d(D,{base64:()=>mk,base64pad:()=>yk,base64url:()=>Ik,base64urlpad:()=>wk});var k={};n.r(k),n.d(k,{base256emoji:()=>Ck});var M={};n.r(M),n.d(M,{sha256:()=>Jk,sha512:()=>Yk});var P={};n.r(P),n.d(P,{identity:()=>$k});var x={};n.r(x),n.d(x,{code:()=>Zk,decode:()=>eM,encode:()=>Xk,name:()=>Wk});var F={};n.r(F),n.d(F,{code:()=>nM,decode:()=>sM,encode:()=>oM,name:()=>iM});class R extends Error{}class O extends R{}class T extends R{}class N extends R{}class U{checkAlgorithmName(e){const{algorithmName:t}=e;if(void 0===t)throw new TypeError("Required parameter missing: 'algorithmName'");if(t!==this.name)throw new T(`Algorithm not supported: '${t}'`)}checkCryptoKey(e){const{key:t}=e;if(!("algorithm"in t&&"extractable"in t&&"type"in t&&"usages"in t))throw new TypeError("Object is not a CryptoKey")}checkKeyAlgorithm(e){const{keyAlgorithmName:t}=e;if(void 0===t)throw new TypeError("Required parameter missing: 'keyAlgorithmName'");if(t&&t!==this.name)throw new O(`Algorithm '${this.name}' does not match the provided '${t}' key.`)}checkKeyType(e){const{keyType:t,allowedKeyType:r}=e;if(void 0===t||void 0===r)throw new TypeError("One or more required parameters missing: 'keyType, allowedKeyType'");if(t&&t!==r)throw new O(`Requested operation is not valid for the provided '${t}' key.`)}checkKeyUsages(e){const{keyUsages:t,allowedKeyUsages:r}=e;if(!(t&&t.length>0))throw new TypeError("Required parameter missing or empty: 'keyUsages'");const i=Array.isArray(r)?r:[...r.privateKey,...r.publicKey];if(!t.every((e=>i.includes(e))))throw new O(`Requested operation(s) '${t.join(", ")}' is not valid for the provided key.`)}static create(){return new this}}const j=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var d=0,l=o-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=a*s[l]>>>0,s[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=o-n;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(i+(o-f)),A=i;f!==o;)p[A++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*h+1>>>0,u=new Uint8Array(s);n!==o;){for(var d=t[n],l=0,f=s-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=256*u[f]>>>0,u[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var p=s-i;p!==s&&0===u[p];)p++;for(var A=c.repeat(r);p<s;++p)A+=e.charAt(u[p]);return A},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}},L=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class q{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class K{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return G(this,e)}}class H{constructor(e){this.decoders=e}or(e){return G(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const G=(e,t)=>new H({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class z{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new q(e,t,r),this.decoder=new K(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const J=({name:e,prefix:t,encode:r,decode:i})=>new z(e,t,r,i),Y=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=j(r,t);return J({prefix:e,name:t,encode:i,decode:e=>L(n(e))})},V=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>J({prefix:t,name:e,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=n[e[t]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),$=Y({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),W=(Y({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),V({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),V({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),V({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function Z(e){const t=Object.prototype.toString.call(e).match(/\s([a-zA-Z0-9]+)/),[r,i]=t;return i}V({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});const X=new TextEncoder,ee=new TextDecoder;class te{constructor(e,t){this.data=e,this.format=t}static arrayBuffer(e){return new te(e,"ArrayBuffer")}static base58Btc(e){return new te(e,"Base58Btc")}static base64Url(e){return new te(e,"Base64Url")}static bufferSource(e){return new te(e,"BufferSource")}static hex(e){if("string"!=typeof e)throw new TypeError("Hex input must be a string.");if(e.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new te(e,"Hex")}static multibase(e){return new te(e,"Multibase")}static object(e){return new te(e,"Object")}static string(e){return new te(e,"String")}static uint8Array(e){return new te(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return $.baseDecode(this.data).buffer;case"Base64Url":return W.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===Z(this.data))return this.data;if(ArrayBuffer.isView(this.data))return 0!==(e=this.data).byteOffset||e.byteLength!==e.buffer.byteLength?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}var e}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const e=new Uint8Array(this.data);return $.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return $.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const e=new Uint8Array(this.data);return W.baseEncode(e)}case"BufferSource":{const e=this.toUint8Array();return W.baseEncode(e)}case"Object":{const e=JSON.stringify(this.data),t=X.encode(e);return W.baseEncode(t)}case"String":{const e=X.encode(this.data);return W.baseEncode(e)}case"Uint8Array":return W.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toHex(){const e=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return te.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return te.uint8Array(e).toHex()}case"Uint8Array":{let t="";for(let r=0;r<this.data.length;r++)t+=e[this.data[r]];return t}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const e=W.baseDecode(this.data),t=ee.decode(e);return JSON.parse(t)}case"String":return JSON.parse(this.data);case"Uint8Array":{const e=ee.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return ee.decode(this.data);case"Base64Url":{const e=W.baseDecode(this.data);return ee.decode(e)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base58Btc":return $.baseDecode(this.data);case"Base64Url":return W.baseDecode(this.data);case"BufferSource":{const e=Z(this.data);if("Uint8Array"===e)return this.data;if("ArrayBuffer"===e)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const e=new Uint8Array(this.data.length/2);for(let t=0;t<this.data.length;t+=2){const r=parseInt(this.data.substring(t,t+2),16);if(isNaN(r))throw new TypeError("Input is not a valid hexadecimal string.");e[t/2]=r}return e}case"Object":{const e=JSON.stringify(this.data);return X.encode(e)}case"String":return X.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}}var re=128,ie=-128,ne=Math.pow(2,31),oe=128,se=127,ae=Math.pow(2,7),ce=Math.pow(2,14),ue=Math.pow(2,21),he=Math.pow(2,28),de=Math.pow(2,35),le=Math.pow(2,42),fe=Math.pow(2,49),pe=Math.pow(2,56),Ae=Math.pow(2,63);const ge={encode:function e(t,r,i){r=r||[];for(var n=i=i||0;t>=ne;)r[i++]=255&t|re,t/=128;for(;t&ie;)r[i++]=255&t|re,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},decode:function e(t,r){var i,n=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[s++],n+=o<28?(i&se)<<o:(i&se)*Math.pow(2,o),o+=7}while(i>=oe);return e.bytes=s-r,n},encodingLength:function(e){return e<ae?1:e<ce?2:e<ue?3:e<he?4:e<de?5:e<le?6:e<fe?7:e<pe?8:e<Ae?9:10}},me=(e,t=0)=>[ge.decode(e,t),ge.decode.bytes],ye=(e,t,r=0)=>(ge.encode(e,t,r),t),Ie=e=>ge.encodingLength(e),we=(e,t)=>{const r=t.byteLength,i=Ie(e),n=i+Ie(r),o=new Uint8Array(n+r);return ye(e,o,0),ye(r,o,i),o.set(t,n),new ve(e,r,t,o)},be=e=>{const t=L(e),[r,i]=me(t),[n,o]=me(t.subarray(i)),s=t.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new ve(r,n,s,t)};class ve{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const Ee=V({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ce=(V({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),V({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),V({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),V({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),V({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),V({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),V({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{const{bytes:r,version:i}=e;return 0===i?De(r,Se(e),t||$.encoder):ke(r,Se(e),t||Ee.encoder)}),Be=new WeakMap,Se=e=>{const t=Be.get(e);if(null==t){const t=new Map;return Be.set(e,t),t}return t};class _e{constructor(e,t,r,i){this.code=t,this.version=e,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==Me)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Pe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return _e.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=we(e,t);return _e.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return _e.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return Ce(this,e)}toJSON(){return{"/":Ce(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof _e)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:n}=t;return new _e(e,r,i,n||xe(e,r,i.bytes))}if(!0===t[Fe]){const{version:e,multihash:r,code:i}=t,n=be(r);return _e.create(e,i,n)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==Me)throw new Error(`Version 0 CID must use dag-pb (code: ${Me}) block encoding`);return new _e(e,t,r,r.bytes);case 1:{const i=xe(e,t,r.bytes);return new _e(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return _e.create(0,Me,e)}static createV1(e,t){return _e.create(1,e,t)}static decode(e){const[t,r]=_e.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=_e.inspectBytes(e),r=t.size-t.multihashSize,i=L(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const n=i.subarray(t.multihashSize-t.digestSize),o=new ve(t.multihashCode,t.digestSize,n,i);return[0===t.version?_e.createV0(o):_e.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,i]=me(e.subarray(t));return t+=i,r};let i=r(),n=Me;if(18===i?(i=0,t=0):n=r(),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const o=t,s=r(),a=r(),c=t+a;return{version:i,codec:n,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,i]=Qe(e,t),n=_e.decode(i);if(0===n.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return Se(n).set(r,e),n}}const Qe=(e,t)=>{switch(e[0]){case"Q":{const r=t||$;return[$.prefix,r.decode(`${$.prefix}${e}`)]}case $.prefix:{const r=t||$;return[$.prefix,r.decode(e)]}case Ee.prefix:{const r=t||Ee;return[Ee.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},De=(e,t,r)=>{const{prefix:i}=r;if(i!==$.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const n=t.get(i);if(null==n){const n=r.encode(e).slice(1);return t.set(i,n),n}return n},ke=(e,t,r)=>{const{prefix:i}=r,n=t.get(i);if(null==n){const n=r.encode(e);return t.set(i,n),n}return n},Me=112,Pe=18,xe=(e,t,r)=>{const i=Ie(e),n=i+Ie(t),o=new Uint8Array(n+r.byteLength);return ye(e,o,0),ye(t,o,i),o.set(r,n),o},Fe=Symbol.for("@ipld/js-cid/CID"),Re=({name:e,code:t,encode:r})=>new Oe(e,t,r);class Oe{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?we(this.code,t):t.then((e=>we(this.code,e)))}throw Error("Unknown type, must be binary type")}}class Te{static addPrefix(e){var t;let{code:r,data:i,name:n}=e;if(!(n?!r:r))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(r=Te.codeToName.has(r)?r:Te.nameToCode.get(n),void 0===r)throw new Error(`Unsupported multicodec: ${null!==(t=e.name)&&void 0!==t?t:e.code}`);const o=Ie(r),s=new Uint8Array(o+i.byteLength);return s.set(i,o),ye(r,s),s}static getCodeFromData(e){const{prefixedData:t}=e,[r,i]=me(t);return r}static getCodeFromName(e){const{name:t}=e,r=Te.nameToCode.get(t);if(void 0===r)throw new Error(`Unsupported multicodec: ${t}`);return r}static getNameFromCode(e){const{code:t}=e,r=Te.codeToName.get(t);if(void 0===r)throw new Error(`Unsupported multicodec: ${t}`);return r}static registerCodec(e){Te.codeToName.set(e.code,e.name),Te.nameToCode.set(e.name,e.code)}static removePrefix(e){const{prefixedData:t}=e,[r,i]=me(t),n=Te.codeToName.get(r);if(void 0===n)throw new Error(`Unsupported multicodec: ${r}`);return{code:r,data:t.slice(i),name:n}}}function Ne(e){return"object"==typeof e&&null!==e&&!(Object.getOwnPropertySymbols(e).length>0)&&0===Object.keys(e).length}function Ue(e){Object.keys(e).forEach((t=>{"object"==typeof e[t]&&Ue(e[t]),Ne(e[t])&&delete e[t]}))}function je(e){Object.keys(e).forEach((t=>{void 0===e[t]?delete e[t]:"object"==typeof e[t]&&je(e[t])}))}Te.codeToName=new Map,Te.nameToCode=new Map,Te.registerCodec({code:237,name:"ed25519-pub"}),Te.registerCodec({code:4864,name:"ed25519-priv"}),Te.registerCodec({code:236,name:"x25519-pub"}),Te.registerCodec({code:4866,name:"x25519-priv"}),Te.registerCodec({code:231,name:"secp256k1-pub"}),Te.registerCodec({code:4865,name:"secp256k1-priv"});var Le=n(21301),qe=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Ke{constructor(e="DATASTORE"){this.store=new Le.Level(e)}clear(){return qe(this,void 0,void 0,(function*(){yield this.store.clear()}))}close(){return qe(this,void 0,void 0,(function*(){yield this.store.close()}))}delete(e){return qe(this,void 0,void 0,(function*(){return yield this.store.del(e),!0}))}get(e){return qe(this,void 0,void 0,(function*(){return yield this.store.get(e)}))}set(e,t){return qe(this,void 0,void 0,(function*(){yield this.store.put(e,t)}))}}class He{constructor(){this.store=new Map}clear(){return qe(this,void 0,void 0,(function*(){this.store.clear()}))}close(){return qe(this,void 0,void 0,(function*(){}))}delete(e){return qe(this,void 0,void 0,(function*(){return this.store.delete(e)}))}get(e){return qe(this,void 0,void 0,(function*(){return this.store.get(e)}))}has(e){return qe(this,void 0,void 0,(function*(){return this.store.has(e)}))}list(){return qe(this,void 0,void 0,(function*(){return Array.from(this.store.values())}))}set(e,t){return qe(this,void 0,void 0,(function*(){this.store.set(e,t)}))}}const Ge="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ze=e=>e instanceof Uint8Array,Je=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ye=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const Ve=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function $e(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function We(e){if("string"==typeof e&&(e=$e(e)),!ze(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function Ze(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!ze(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}class Xe{clone(){return this._cloneInto()}}function et(e){const t=t=>e().update(We(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function tt(e=32){if(Ge&&"function"==typeof Ge.getRandomValues)return Ge.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function rt(e){if(!e||void 0===e.property||void 0===e.inObject)throw new TypeError("One or more required parameters missing: 'property, properties'");const{property:t,inObject:r}=e;if(!(t in r))throw new TypeError(`Required parameter missing: '${t}'`)}function it(e){if(!e||void 0===e.property||void 0===e.allowedProperties)throw new TypeError("One or more required parameters missing: 'property, allowedProperties'");const{property:t,allowedProperties:r}=e;if(Array.isArray(r)&&!r.includes(t)||r instanceof Set&&!r.has(t)||r instanceof Map&&!r.has(t)){const e=Array.from(r instanceof Map?r.keys():r).join(", ");throw new TypeError(`Out of range: '${t}'. Must be one of '${e}'`)}}function nt(e){return!!(e&&"privateKey"in e&&"publicKey"in e&&"Uint8Array"===Z(e.privateKey)&&"Uint8Array"===Z(e.publicKey))}function ot(e){const{key:t,multicodecCode:r,multicodecName:i}=e,n=Te.addPrefix({code:r,data:t,name:i}),o=te.uint8Array(n).toBase58Btc();return te.base58Btc(o).toMultibase()}function st(e){const{multibaseKeyId:t}=e,r=te.multibase(t).toBase58Btc(),i=te.base58Btc(r).toUint8Array(),{code:n,data:o,name:s}=Te.removePrefix({prefixedData:i});return{key:o,multicodecCode:n,multicodecName:s}}function at(e){return tt(e)}function ct(){const e=at(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=function(e){if(!ze(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Ve[e[r]];return t}(e);e.fill(0);const r=[t.slice(0,8),t.slice(8,12),t.slice(12,16),t.slice(16,20),t.slice(20,32)],i=r.join("-");return r.fill("0"),i}var ut=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class ht extends U{checkGenerateKey(e){const{algorithm:t,keyUsages:r}=e;this.checkAlgorithmName({algorithmName:t.name}),rt({property:"namedCurve",inObject:t}),it({property:t.namedCurve,allowedProperties:this.namedCurves}),this.checkKeyUsages({keyUsages:r,allowedKeyUsages:this.keyUsages})}decrypt(){return ut(this,void 0,void 0,(function*(){throw new O(`Requested operation 'decrypt' is not valid for ${this.name} keys.`)}))}encrypt(){return ut(this,void 0,void 0,(function*(){throw new O(`Requested operation 'encrypt' is not valid for ${this.name} keys.`)}))}}var dt=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class lt extends ht{constructor(){super(...arguments),this.name="ECDH",this.keyUsages={privateKey:["deriveBits","deriveKey"],publicKey:["deriveBits","deriveKey"]}}checkAlgorithmOptions(e){const{algorithm:t,baseKey:r}=e;if(this.checkAlgorithmName({algorithmName:t.name}),rt({property:"publicKey",inObject:t}),this.checkCryptoKey({key:t.publicKey}),this.checkKeyType({keyType:t.publicKey.type,allowedKeyType:"public"}),this.checkKeyAlgorithm({keyAlgorithmName:t.publicKey.algorithm.name}),rt({property:"baseKey",inObject:e}),this.checkCryptoKey({key:r}),this.checkKeyAlgorithm({keyAlgorithmName:r.algorithm.name}),this.checkKeyType({keyType:r.type,allowedKeyType:"private"}),"namedCurve"in t.publicKey.algorithm&&"namedCurve"in r.algorithm&&t.publicKey.algorithm.namedCurve!==r.algorithm.namedCurve)throw new O("The named curve of the publicKey and baseKey must match.")}sign(){return dt(this,void 0,void 0,(function*(){throw new O(`Requested operation 'sign' is not valid for ${this.name} keys.`)}))}verify(){return dt(this,void 0,void 0,(function*(){throw new O(`Requested operation 'verify' is not valid for ${this.name} keys.`)}))}}class ft extends ht{constructor(){super(...arguments),this.name="ECDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){const{algorithm:t}=e;this.checkAlgorithmName({algorithmName:t.name}),rt({property:"hash",inObject:t}),it({property:t.hash,allowedProperties:this.hashAlgorithms})}deriveBits(){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){throw new O(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)}))}}class pt extends ht{constructor(){super(...arguments),this.name="EdDSA",this.keyUsages={privateKey:["sign"],publicKey:["verify"]}}checkAlgorithmOptions(e){const{algorithm:t}=e;this.checkAlgorithmName({algorithmName:t.name})}deriveBits(){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){throw new O(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)}))}}var At=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class gt extends U{checkGenerateKey(e){const{algorithm:t,keyUsages:r}=e;if(this.checkAlgorithmName({algorithmName:t.name}),rt({property:"length",inObject:t}),"Number"!==Z(t.length))throw new TypeError("Algorithm 'length' is not of type: Number.");if(![128,192,256].includes(t.length))throw new N("Algorithm 'length' must be 128, 192, or 256.");this.checkKeyUsages({keyUsages:r,allowedKeyUsages:this.keyUsages})}deriveBits(){return At(this,void 0,void 0,(function*(){throw new O(`Requested operation 'deriveBits' is not valid for ${this.name} keys.`)}))}sign(){return At(this,void 0,void 0,(function*(){throw new O(`Requested operation 'sign' is not valid for ${this.name} keys.`)}))}verify(){return At(this,void 0,void 0,(function*(){throw new O(`Requested operation 'verify' is not valid for ${this.name} keys.`)}))}}class mt extends gt{constructor(){super(...arguments),this.name="AES-CTR",this.keyUsages=["encrypt","decrypt","wrapKey","unwrapKey"]}checkAlgorithmOptions(e){const{algorithm:t,key:r}=e;if(this.checkAlgorithmName({algorithmName:t.name}),rt({property:"counter",inObject:t}),"Uint8Array"!==Z(t.counter))throw new TypeError("Algorithm 'counter' is not of type: Uint8Array.");if(16!==t.counter.byteLength)throw new N("Algorithm 'counter' must have length: 16 bytes.");if(rt({property:"length",inObject:t}),"Number"!==Z(t.length))throw new TypeError("Algorithm 'length' is not of type: Number.");if(t.length<1||t.length>128)throw new N("Algorithm 'length' should be in the range: 1 to 128.");rt({property:"key",inObject:e}),this.checkCryptoKey({key:r}),this.checkKeyAlgorithm({keyAlgorithmName:r.algorithm.name}),this.checkKeyType({keyType:r.type,allowedKeyType:"secret"})}}class yt{constructor(e,t,r,i,n){this.algorithm=e,this.extractable=t,this.material=r,this.type=i,this.usages=n,Object.defineProperties(this,{type:{enumerable:!0,writable:!1,value:i},extractable:{enumerable:!0,writable:!0,value:t},algorithm:{enumerable:!0,writable:!1,value:e},usages:{enumerable:!0,writable:!0,value:n},material:{enumerable:!1,writable:!1,value:r}})}}var It=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class wt{static deriveKey(e){return It(this,void 0,void 0,(function*(){return globalThis.crypto&&globalThis.crypto.subtle?wt.deriveKeyWithWebCrypto(e):wt.deriveKeyWithNodeCrypto(e)}))}static deriveKeyWithNodeCrypto(e){return It(this,void 0,void 0,(function*(){const{password:t,salt:r,iterations:i}=e,o={"SHA-256":"sha256","SHA-384":"sha384","SHA-512":"sha512"}[e.hash],s=e.length/8,{pbkdf2:a}=yield Promise.resolve().then(n.t.bind(n,55835,19));return new Promise((e=>{a(t,r,i,s,o,((t,r)=>{t||e(new Uint8Array(r))}))}))}))}static deriveKeyWithWebCrypto(e){return It(this,void 0,void 0,(function*(){const{hash:t,password:r,salt:i,iterations:n,length:o}=e,s=yield Ge.subtle.importKey("raw",r,{name:"PBKDF2"},!1,["deriveBits"]),a=yield Ge.subtle.deriveBits({name:"PBKDF2",hash:t,salt:i,iterations:n},s,o);return new Uint8Array(a)}))}}function bt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function vt(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const Et={number:bt,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:vt,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");bt(e.outputLen),bt(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){vt(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},Ct=Et;class Bt extends Xe{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Je(this.buffer)}update(e){Ct.exists(this);const{view:t,buffer:r,blockLen:i}=this,n=(e=We(e)).length;for(let o=0;o<n;){const s=Math.min(i-this.pos,n-o);if(s!==i)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(t,0),this.pos=0);else{const t=Je(e);for(;i<=n-o;o+=i)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ct.exists(this),Ct.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:n}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let e=o;e<i;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),a=Number(r&o),c=i?4:0,u=i?0:4;e.setUint32(t+c,s,i),e.setUint32(t+u,a,i)}(r,i-8,BigInt(8*this.length),n),this.process(r,0);const s=Je(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,u[e],n)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=n,e.destroyed=o,i%t&&e.buffer.set(r),e}}const St=BigInt(2**32-1),_t=BigInt(32);function Qt(e,t=!1){return t?{h:Number(e&St),l:Number(e>>_t&St)}:{h:0|Number(e>>_t&St),l:0|Number(e&St)}}const Dt={fromBig:Qt,split:function(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:o,l:s}=Qt(e[n],t);[r[n],i[n]]=[o,s]}return[r,i]},toBig:(e,t)=>BigInt(e>>>0)<<_t|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,i){const n=(t>>>0)+(i>>>0);return{h:e+r+(n/2**32|0)|0,l:0|n}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,i)=>t+r+i+(e/2**32|0)|0,add4L:(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),add4H:(e,t,r,i,n)=>t+r+i+n+(e/2**32|0)|0,add5H:(e,t,r,i,n,o)=>t+r+i+n+o+(e/2**32|0)|0,add5L:(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0)},kt=Dt,[Mt,Pt]=kt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),xt=new Uint32Array(80),Ft=new Uint32Array(80);class Rt extends Bt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:h,Fl:d,Gh:l,Gl:f,Hh:p,Hl:A}=this;return[e,t,r,i,n,o,s,a,c,u,h,d,l,f,p,A]}set(e,t,r,i,n,o,s,a,c,u,h,d,l,f,p,A){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|h,this.Fl=0|d,this.Gh=0|l,this.Gl=0|f,this.Hh=0|p,this.Hl=0|A}process(e,t){for(let r=0;r<16;r++,t+=4)xt[r]=e.getUint32(t),Ft[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|xt[e-15],r=0|Ft[e-15],i=kt.rotrSH(t,r,1)^kt.rotrSH(t,r,8)^kt.shrSH(t,r,7),n=kt.rotrSL(t,r,1)^kt.rotrSL(t,r,8)^kt.shrSL(t,r,7),o=0|xt[e-2],s=0|Ft[e-2],a=kt.rotrSH(o,s,19)^kt.rotrBH(o,s,61)^kt.shrSH(o,s,6),c=kt.rotrSL(o,s,19)^kt.rotrBL(o,s,61)^kt.shrSL(o,s,6),u=kt.add4L(n,c,Ft[e-7],Ft[e-16]),h=kt.add4H(u,i,a,xt[e-7],xt[e-16]);xt[e]=0|h,Ft[e]=0|u}let{Ah:r,Al:i,Bh:n,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:h,El:d,Fh:l,Fl:f,Gh:p,Gl:A,Hh:g,Hl:m}=this;for(let e=0;e<80;e++){const t=kt.rotrSH(h,d,14)^kt.rotrSH(h,d,18)^kt.rotrBH(h,d,41),y=kt.rotrSL(h,d,14)^kt.rotrSL(h,d,18)^kt.rotrBL(h,d,41),I=h&l^~h&p,w=d&f^~d&A,b=kt.add5L(m,y,w,Pt[e],Ft[e]),v=kt.add5H(b,g,t,I,Mt[e],xt[e]),E=0|b,C=kt.rotrSH(r,i,28)^kt.rotrBH(r,i,34)^kt.rotrBH(r,i,39),B=kt.rotrSL(r,i,28)^kt.rotrBL(r,i,34)^kt.rotrBL(r,i,39),S=r&n^r&s^n&s,_=i&o^i&a^o&a;g=0|p,m=0|A,p=0|l,A=0|f,l=0|h,f=0|d,({h,l:d}=kt.add(0|c,0|u,0|v,0|E)),c=0|s,u=0|a,s=0|n,a=0|o,n=0|r,o=0|i;const Q=kt.add3L(E,B,_);r=kt.add3H(Q,v,C,S),i=0|Q}({h:r,l:i}=kt.add(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:o}=kt.add(0|this.Bh,0|this.Bl,0|n,0|o)),({h:s,l:a}=kt.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=kt.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h,l:d}=kt.add(0|this.Eh,0|this.El,0|h,0|d)),({h:l,l:f}=kt.add(0|this.Fh,0|this.Fl,0|l,0|f)),({h:p,l:A}=kt.add(0|this.Gh,0|this.Gl,0|p,0|A)),({h:g,l:m}=kt.add(0|this.Hh,0|this.Hl,0|g,0|m)),this.set(r,i,n,o,s,a,c,u,h,d,l,f,p,A,g,m)}roundClean(){xt.fill(0),Ft.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Ot extends Rt{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class Tt extends Rt{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class Nt extends Rt{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const Ut=et((()=>new Rt)),jt=(et((()=>new Ot)),et((()=>new Tt)),et((()=>new Nt)),BigInt(0),BigInt(1)),Lt=BigInt(2),qt=e=>e instanceof Uint8Array,Kt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ht(e){if(!qt(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Kt[e[r]];return t}function Gt(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function zt(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const i=2*t,n=e.slice(i,i+2),o=Number.parseInt(n,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[t]=o}return r}function Jt(e){return Gt(Ht(e))}function Yt(e){if(!qt(e))throw new Error("Uint8Array expected");return Gt(Ht(Uint8Array.from(e).reverse()))}function Vt(e,t){return zt(e.toString(16).padStart(2*t,"0"))}function $t(e,t){return Vt(e,t).reverse()}function Wt(e,t,r){let i;if("string"==typeof t)try{i=zt(t)}catch(r){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else{if(!qt(t))throw new Error(`${e} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const n=i.length;if("number"==typeof r&&n!==r)throw new Error(`${e} expected ${r} bytes, got ${n}`);return i}function Zt(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!qt(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}const Xt=e=>(Lt<<BigInt(e-1))-jt,er=e=>new Uint8Array(e),tr=e=>Uint8Array.from(e);function rr(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let i=er(e),n=er(e),o=0;const s=()=>{i.fill(1),n.fill(0),o=0},a=(...e)=>r(n,i,...e),c=(e=er())=>{n=a(tr([0]),e),i=a(),0!==e.length&&(n=a(tr([1]),e),i=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){i=a();const t=i.slice();r.push(t),e+=i.length}return Zt(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(u()));)c();return s(),r}}const ir={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function nr(e,t,r={}){const i=(t,r,i)=>{const n=ir[r];if("function"!=typeof n)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if(!(i&&void 0===o||n(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[e,r]of Object.entries(t))i(e,r,!1);for(const[e,t]of Object.entries(r))i(e,t,!0);return e}const or=BigInt(0),sr=BigInt(1),ar=BigInt(2),cr=BigInt(3),ur=BigInt(4),hr=BigInt(5),dr=BigInt(8);function lr(e,t){const r=e%t;return r>=or?r:t+r}function fr(e,t,r){if(r<=or||t<or)throw new Error("Expected power/modulo > 0");if(r===sr)return or;let i=sr;for(;t>or;)t&sr&&(i=i*e%r),e=e*e%r,t>>=sr;return i}function pr(e,t,r){let i=e;for(;t-- >or;)i*=i,i%=r;return i}function Ar(e,t){if(e===or||t<=or)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=lr(e,t),i=t,n=or,o=sr,s=sr,a=or;for(;r!==or;){const e=i/r,t=i%r,c=n-s*e,u=o-a*e;i=r,r=t,n=s,o=a,s=c,a=u}if(i!==sr)throw new Error("invert: does not exist");return lr(n,t)}BigInt(9),BigInt(16);const gr=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function mr(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function yr(e,t,r=!1,i={}){if(e<=or)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:n,nByteLength:o}=mr(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(e){if(e%ur===cr){const t=(e+sr)/ur;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%dr===hr){const t=(e-hr)/dr;return function(e,r){const i=e.mul(r,ar),n=e.pow(i,t),o=e.mul(r,n),s=e.mul(e.mul(o,ar),n),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-sr)/ar;let r,i,n;for(r=e-sr,i=0;r%ar===or;r/=ar,i++);for(n=ar;n<e&&fr(n,t,e)!==e-sr;n++);if(1===i){const t=(e+sr)/ur;return function(e,r){const i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw new Error("Cannot find square root");return i}}const o=(r+sr)/ar;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=i,c=e.pow(e.mul(e.ONE,n),r),u=e.pow(s,o),h=e.pow(s,r);for(;!e.eql(h,e.ONE);){if(e.eql(h,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(h);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(c,sr<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),h=e.mul(h,c),a=t}return u}}(e)}(e),a=Object.freeze({ORDER:e,BITS:n,BYTES:o,MASK:Xt(n),ZERO:or,ONE:sr,create:t=>lr(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return or<=t&&t<e},is0:e=>e===or,isOdd:e=>(e&sr)===sr,neg:t=>lr(-t,e),eql:(e,t)=>e===t,sqr:t=>lr(t*t,e),add:(t,r)=>lr(t+r,e),sub:(t,r)=>lr(t-r,e),mul:(t,r)=>lr(t*r,e),pow:(e,t)=>function(e,t,r){if(r<or)throw new Error("Expected power > 0");if(r===or)return e.ONE;if(r===sr)return t;let i=e.ONE,n=t;for(;r>or;)r&sr&&(i=e.mul(i,n)),n=e.sqr(n),r>>=sr;return i}(a,e,t),div:(t,r)=>lr(t*Ar(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Ar(t,e),sqrt:i.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),i=t.reduce(((t,i,n)=>e.is0(i)?t:(r[n]=t,e.mul(t,i))),e.ONE),n=e.inv(i);return t.reduceRight(((t,i,n)=>e.is0(i)?t:(r[n]=e.mul(t,r[n]),e.mul(t,i))),n),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?$t(e,o):Vt(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?Yt(e):Jt(e)}});return Object.freeze(a)}const Ir=BigInt(0),wr=BigInt(1);function br(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},i=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let i=e.ZERO,n=t;for(;r>Ir;)r&wr&&(i=i.add(n)),n=n.double(),r>>=wr;return i},precomputeWindow(e,t){const{windows:r,windowSize:n}=i(t),o=[];let s=e,a=s;for(let e=0;e<r;e++){a=s,o.push(a);for(let e=1;e<n;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,n,o){const{windows:s,windowSize:a}=i(t);let c=e.ZERO,u=e.BASE;const h=BigInt(2**t-1),d=2**t,l=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let i=Number(o&h);o>>=l,i>a&&(i-=d,o+=wr);const s=t,f=t+Math.abs(i)-1,p=e%2!=0,A=i<0;0===i?u=u.add(r(p,n[s])):c=c.add(r(A,n[f]))}return{p:c,f:u}},wNAFCached(e,t,r,i){const n=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,n),1!==n&&t.set(e,i(o))),this.wNAF(n,o,r)}}}function vr(e){return nr(e.Fp,gr.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),nr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mr(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Er=BigInt(0),Cr=BigInt(1),Br=BigInt(2),Sr=BigInt(8),_r={zip215:!0};function Qr(e){const t=function(e){const t=vr(e);return nr(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:i,prehash:n,hash:o,randomBytes:s,nByteLength:a,h:c}=t,u=Br<<BigInt(8*a)-Cr,h=r.create,d=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(e){return{isValid:!1,value:Er}}}),l=t.adjustScalarBytes||(e=>e),f=t.domain||((e,t,r)=>{if(t.length||r)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"==typeof e&&Er<e,A=(e,t)=>p(e)&&p(t)&&e<t,g=e=>e===Er||A(e,u);function m(e,t){if(A(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function y(e){return e===Er?e:m(e,i)}const I=new Map;function w(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}class b{constructor(e,t,r,i){if(this.ex=e,this.ey=t,this.ez=r,this.et=i,!g(e))throw new Error("x required");if(!g(t))throw new Error("y required");if(!g(r))throw new Error("z required");if(!g(i))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};if(!g(t)||!g(r))throw new Error("invalid affine point");return new b(t,r,Cr,h(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(b.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,I.delete(this)}assertValidity(){const{a:e,d:r}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:i,ey:n,ez:o,et:s}=this,a=h(i*i),c=h(n*n),u=h(o*o),d=h(u*u),l=h(a*e);if(h(u*h(l+c))!==h(d+h(r*h(a*c))))throw new Error("bad point: equation left != right (1)");if(h(i*n)!==h(o*s))throw new Error("bad point: equation left != right (2)")}equals(e){w(e);const{ex:t,ey:r,ez:i}=this,{ex:n,ey:o,ez:s}=e,a=h(t*s),c=h(n*i),u=h(r*s),d=h(o*i);return a===c&&u===d}is0(){return this.equals(b.ZERO)}negate(){return new b(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:e}=t,{ex:r,ey:i,ez:n}=this,o=h(r*r),s=h(i*i),a=h(Br*h(n*n)),c=h(e*o),u=r+i,d=h(h(u*u)-o-s),l=c+s,f=l-a,p=c-s,A=h(d*f),g=h(l*p),m=h(d*p),y=h(f*l);return new b(A,g,y,m)}add(e){w(e);const{a:r,d:i}=t,{ex:n,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:d,et:l}=e;if(r===BigInt(-1)){const e=h((o-n)*(u+c)),t=h((o+n)*(u-c)),r=h(t-e);if(r===Er)return this.double();const i=h(s*Br*l),f=h(a*Br*d),p=f+i,A=t+e,g=f-i,m=h(p*r),y=h(A*g),I=h(p*g),w=h(r*A);return new b(m,y,w,I)}const f=h(n*c),p=h(o*u),A=h(a*i*l),g=h(s*d),m=h((n+o)*(c+u)-f-p),y=g-A,I=g+A,v=h(p-r*f),E=h(m*y),C=h(I*v),B=h(m*v),S=h(y*I);return new b(E,C,S,B)}subtract(e){return this.add(e.negate())}wNAF(e){return C.wNAFCached(this,I,e,b.normalizeZ)}multiply(e){const{p:t,f:r}=this.wNAF(m(e,i));return b.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=y(e);return t===Er?E:this.equals(E)||t===Cr?this:this.equals(v)?this.wNAF(t).p:C.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return C.unsafeLadder(this,i).is0()}toAffine(e){const{ex:t,ey:i,ez:n}=this,o=this.is0();null==e&&(e=o?Sr:r.inv(n));const s=h(t*e),a=h(i*e),c=h(n*e);if(o)return{x:Er,y:Cr};if(c!==Cr)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===Cr?this:this.multiplyUnsafe(e)}static fromHex(e,i=!1){const{d:n,a:o}=t,s=r.BYTES,a=(e=Wt("pointHex",e,s)).slice(),c=e[s-1];a[s-1]=-129&c;const l=Yt(a);l===Er||m(l,i?u:r.ORDER);const f=h(l*l),p=h(f-Cr),A=h(n*f-o);let{isValid:g,value:y}=d(p,A);if(!g)throw new Error("Point.fromHex: invalid y coordinate");const I=(y&Cr)===Cr,w=0!=(128&c);if(!i&&y===Er&&w)throw new Error("Point.fromHex: x=0 and x_0=1");return w!==I&&(y=h(-y)),b.fromAffine({x:y,y:l})}static fromPrivateKey(e){return _(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),i=$t(t,r.BYTES);return i[i.length-1]|=e&Cr?128:0,i}toHex(){return Ht(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,Cr,h(t.Gx*t.Gy)),b.ZERO=new b(Er,Cr,Cr,Er);const{BASE:v,ZERO:E}=b,C=br(b,8*a);function B(e){return lr(e,i)}function S(e){return B(Yt(e))}function _(e){const t=a;e=Wt("private key",e,t);const r=Wt("hashed private key",o(e),2*t),i=l(r.slice(0,t)),n=r.slice(t,2*t),s=S(i),c=v.multiply(s),u=c.toRawBytes();return{head:i,prefix:n,scalar:s,point:c,pointBytes:u}}function Q(e=new Uint8Array,...t){const r=Zt(...t);return S(o(f(r,Wt("context",e),!!n)))}const D=_r;return v._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return _(e).pointBytes},sign:function(e,t,i={}){e=Wt("message",e),n&&(e=n(e));const{prefix:o,scalar:s,pointBytes:c}=_(t),u=Q(i.context,o,e),h=v.multiply(u).toRawBytes(),d=B(u+Q(i.context,h,c,e)*s);return y(d),Wt("result",Zt(h,$t(d,r.BYTES)),2*a)},verify:function(e,t,i,o=D){const{context:s,zip215:a}=o,c=r.BYTES;e=Wt("signature",e,2*c),t=Wt("message",t),n&&(t=n(t));const u=Yt(e.slice(c,2*c));let h,d,l;try{h=b.fromHex(i,a),d=b.fromHex(e.slice(0,c),a),l=v.multiplyUnsafe(u)}catch(e){return!1}if(!a&&h.isSmallOrder())return!1;const f=Q(s,d.toRawBytes(),h.toRawBytes(),t);return d.add(h.multiplyUnsafe(f)).subtract(l).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:_,randomPrivateKey:()=>s(r.BYTES),precompute:(e=8,t=b.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const Dr=BigInt(0),kr=BigInt(1);const Mr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Pr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),xr=(BigInt(0),BigInt(1)),Fr=BigInt(2),Rr=BigInt(5),Or=BigInt(10),Tr=BigInt(20),Nr=BigInt(40),Ur=BigInt(80);function jr(e){const t=Mr,r=e*e%t*e%t,i=pr(r,Fr,t)*r%t,n=pr(i,xr,t)*e%t,o=pr(n,Rr,t)*n%t,s=pr(o,Or,t)*o%t,a=pr(s,Tr,t)*s%t,c=pr(a,Nr,t)*a%t,u=pr(c,Ur,t)*c%t,h=pr(u,Ur,t)*c%t,d=pr(h,Or,t)*o%t;return{pow_p_5_8:pr(d,Fr,t)*e%t,b2:r}}function Lr(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const qr=yr(Mr,void 0,!0),Kr={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:qr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ut,randomBytes:tt,adjustScalarBytes:Lr,uvRatio:function(e,t){const r=Mr,i=lr(t*t*t,r),n=lr(i*i*t,r);let o=lr(e*i*jr(e*n).pow_p_5_8,r);const s=lr(t*o*o,r),a=o,c=lr(o*Pr,r),u=s===e,h=s===lr(-e,r),d=s===lr(-e*Pr,r);return u&&(o=a),(h||d)&&(o=c),(lr(o,r)&sr)===sr&&(o=lr(-o,r)),{isValid:u||h,value:o}}},Hr=Qr(Kr);function Gr(e,t,r){if(t.length>255)throw new Error("Context is too big");return Ze($e("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}Qr({...Kr,domain:Gr}),Qr({...Kr,domain:Gr,prehash:Ut});const zr=(()=>function(e){const t=(nr(r=e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r}));var r;const{P:i}=t,n=e=>lr(e,i),o=t.montgomeryBits,s=Math.ceil(o/8),a=t.nByteLength,c=t.adjustScalarBytes||(e=>e),u=t.powPminus2||(e=>fr(e,i-BigInt(2),i));function h(e,t,r){const i=n(e*(t-r));return[t=n(t-i),r=n(r+i)]}function d(e){if("bigint"==typeof e&&Dr<=e&&e<i)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const l=(t.a-BigInt(2))/BigInt(4);function f(e){return $t(n(e),s)}function p(e,t){const r=function(e){const t=Wt("u coordinate",e,s);return a===s&&(t[a-1]&=127),Yt(t)}(t),i=function(e){const t=Wt("scalar",e);if(t.length!==s&&t.length!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${t.length}`);return Yt(c(t))}(e),p=function(e,t){const r=d(e),i=d(t),s=r;let a,c=kr,f=Dr,p=r,A=kr,g=Dr;for(let e=BigInt(o-1);e>=Dr;e--){const t=i>>e&kr;g^=t,a=h(g,c,p),c=a[0],p=a[1],a=h(g,f,A),f=a[0],A=a[1],g=t;const r=c+f,o=n(r*r),u=c-f,d=n(u*u),m=o-d,y=p+A,I=n((p-A)*r),w=n(y*u),b=I+w,v=I-w;p=n(b*b),A=n(s*n(v*v)),c=n(o*d),f=n(m*(o+n(l*m)))}a=h(g,c,p),c=a[0],p=a[1],a=h(g,f,A),f=a[0],A=a[1];const m=u(f);return n(c*m)}(r,i);if(p===Dr)throw new Error("Invalid private or public key received");return f(p)}const A=f(t.Gu);function g(e){return p(e,A)}return{scalarMult:p,scalarMultBase:g,getSharedSecret:(e,t)=>p(e,t),getPublicKey:e=>g(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:A}}({P:Mr,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=Mr,{pow_p_5_8:r,b2:i}=jr(e);return lr(pr(r,BigInt(3),t)*i,t)},adjustScalarBytes:Lr,randomBytes:tt}))();const Jr=(qr.ORDER+BigInt(3))/BigInt(8);qr.pow(Fr,Jr),qr.sqrt(qr.neg(qr.ONE)),qr.ORDER,BigInt(5),BigInt(8),BigInt(486662),function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);e.isOdd(r)&&e.neg(r)}(qr,qr.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Yr=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Vr{static generateKeyPair(){return Yr(this,void 0,void 0,(function*(){const e=zr.utils.randomPrivateKey();return{privateKey:e,publicKey:zr.getPublicKey(e)}}))}static getPublicKey(e){return Yr(this,void 0,void 0,(function*(){let{privateKey:t}=e;return zr.getPublicKey(t)}))}static sharedSecret(e){return Yr(this,void 0,void 0,(function*(){let{privateKey:t,publicKey:r}=e;return zr.getSharedSecret(t,r)}))}static validatePublicKey(e){return Yr(this,void 0,void 0,(function*(){throw new Error("Not implemented: 'validatePublicKey()'")}))}}var $r=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Wr{static decrypt(e){return $r(this,void 0,void 0,(function*(){const{counter:t,data:r,key:i,length:n}=e,o=yield this.importKey(i),s=yield Ge.subtle.decrypt({name:"AES-CTR",counter:t,length:n},o,r);return new Uint8Array(s)}))}static encrypt(e){return $r(this,void 0,void 0,(function*(){const{counter:t,data:r,key:i,length:n}=e,o=yield this.importKey(i),s=yield Ge.subtle.encrypt({name:"AES-CTR",counter:t,length:n},o,r);return new Uint8Array(s)}))}static generateKey(e){return $r(this,void 0,void 0,(function*(){const{length:t}=e,r=t/8;return Ge.getRandomValues(new Uint8Array(r))}))}static importKey(e){return $r(this,void 0,void 0,(function*(){return Ge.subtle.importKey("raw",e.buffer,{name:"AES-CTR",length:8*e.byteLength},!0,["encrypt","decrypt"])}))}}var Zr=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Xr{static convertPrivateKeyToX25519(e){return Zr(this,void 0,void 0,(function*(){const{privateKey:t}=e;return function(e){const t=Kr.hash(e.subarray(0,32));return Kr.adjustScalarBytes(t).subarray(0,32)}(t)}))}static convertPublicKeyToX25519(e){return Zr(this,void 0,void 0,(function*(){const{publicKey:t}=e;if(!(yield Xr.validatePublicKey({key:t})))throw new Error("Ed25519: Invalid public key.");return function(e){const{y:t}=Hr.ExtendedPoint.fromHex(e),r=BigInt(1);return qr.toBytes(qr.create((r+t)*qr.inv(r-t)))}(t)}))}static generateKeyPair(){return Zr(this,void 0,void 0,(function*(){const e=Hr.utils.randomPrivateKey();return{privateKey:e,publicKey:Hr.getPublicKey(e)}}))}static getPublicKey(e){return Zr(this,void 0,void 0,(function*(){let{privateKey:t}=e;return Hr.getPublicKey(t)}))}static sign(e){return Zr(this,void 0,void 0,(function*(){const{key:t,data:r}=e;return Hr.sign(r,t)}))}static validatePublicKey(e){return Zr(this,void 0,void 0,(function*(){const{key:t}=e;try{Hr.ExtendedPoint.fromHex(t).assertValidity()}catch(e){return!1}return!0}))}static verify(e){return Zr(this,void 0,void 0,(function*(){const{key:t,signature:r,data:i}=e;return Hr.verify(r,i,t)}))}}const ei=(e,t,r)=>e&t^~e&r,ti=(e,t,r)=>e&t^e&r^t&r,ri=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ii=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ni=new Uint32Array(64);class oi extends Bt{constructor(){super(64,32,8,!1),this.A=0|ii[0],this.B=0|ii[1],this.C=0|ii[2],this.D=0|ii[3],this.E=0|ii[4],this.F=0|ii[5],this.G=0|ii[6],this.H=0|ii[7]}get(){const{A:e,B:t,C:r,D:i,E:n,F:o,G:s,H:a}=this;return[e,t,r,i,n,o,s,a]}set(e,t,r,i,n,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let r=0;r<16;r++,t+=4)ni[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=ni[e-15],r=ni[e-2],i=Ye(t,7)^Ye(t,18)^t>>>3,n=Ye(r,17)^Ye(r,19)^r>>>10;ni[e]=n+ni[e-7]+i+ni[e-16]|0}let{A:r,B:i,C:n,D:o,E:s,F:a,G:c,H:u}=this;for(let e=0;e<64;e++){const t=u+(Ye(s,6)^Ye(s,11)^Ye(s,25))+ei(s,a,c)+ri[e]+ni[e]|0,h=(Ye(r,2)^Ye(r,13)^Ye(r,22))+ti(r,i,n)|0;u=c,c=a,a=s,s=o+t|0,o=n,n=i,i=r,r=t+h|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,n,o,s,a,c,u)}roundClean(){ni.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class si extends oi{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const ai=et((()=>new oi));et((()=>new si));const{bytesToNumberBE:ci,hexToBytes:ui}=e,hi={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=hi;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],i=e.subarray(2,r+2);if(!r||i.length!==r)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ci(i),l:e.subarray(r+2)}},toSig(e){const{Err:t}=hi,r="string"==typeof e?ui(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let i=r.length;if(i<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:n,l:o}=hi._parseInt(r.subarray(2)),{d:s,l:a}=hi._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:n,s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},i=t(r(e.s)),n=t(r(e.r)),o=i.length/2,s=n.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${n}02${a}${i}`}},di=BigInt(0),li=BigInt(1),fi=(BigInt(2),BigInt(3));function pi(e){const t=function(e){const t=vr(e);return nr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:i}=t,n=r.BYTES+1,o=2*r.BYTES+1;function s(e){return lr(e,i)}function a(e){return Ar(e,i)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:d}=function(e){const t=function(e){const t=vr(e);nr(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:i,a:n}=t;if(r){if(!i.eql(n,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,i=t.toBytes||((e,t,i)=>{const n=t.toAffine();return Zt(Uint8Array.from([4]),r.toBytes(n.x),r.toBytes(n.y))}),n=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:i,b:n}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,i)),n)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&di<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:i,wrapPrivateKey:n,n:o}=t;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Ht(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*i,"0")}let s;try{s="bigint"==typeof e?e:Jt(Wt("private key",e,i))}catch(t){throw new Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return n&&(s=lr(s,o)),a(s),s}const u=new Map;function h(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(e,t,i){if(this.px=e,this.py=t,this.pz=i,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==i||!r.isValid(i))throw new Error("z required")}static fromAffine(e){const{x:t,y:i}=e||{};if(!e||!r.isValid(t)||!r.isValid(i))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const n=e=>r.eql(e,r.ZERO);return n(t)&&n(i)?d.ZERO:new d(t,i,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(n(Wt("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:i}=this.toAffine();if(!r.isValid(e)||!r.isValid(i))throw new Error("bad point: x or y not FE");const n=r.sqr(i),s=o(e);if(!r.eql(n,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){h(e);const{px:t,py:i,pz:n}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,n)),u=r.eql(r.mul(i,a),r.mul(s,n));return c&&u}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:i}=t,n=r.mul(i,fi),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,h=r.ZERO,l=r.mul(o,o),f=r.mul(s,s),p=r.mul(a,a),A=r.mul(o,s);return A=r.add(A,A),h=r.mul(o,a),h=r.add(h,h),c=r.mul(e,h),u=r.mul(n,p),u=r.add(c,u),c=r.sub(f,u),u=r.add(f,u),u=r.mul(c,u),c=r.mul(A,c),h=r.mul(n,h),p=r.mul(e,p),A=r.sub(l,p),A=r.mul(e,A),A=r.add(A,h),h=r.add(l,l),l=r.add(h,l),l=r.add(l,p),l=r.mul(l,A),u=r.add(u,l),p=r.mul(s,a),p=r.add(p,p),l=r.mul(p,A),c=r.sub(c,l),h=r.mul(p,f),h=r.add(h,h),h=r.add(h,h),new d(c,u,h)}add(e){h(e);const{px:i,py:n,pz:o}=this,{px:s,py:a,pz:c}=e;let u=r.ZERO,l=r.ZERO,f=r.ZERO;const p=t.a,A=r.mul(t.b,fi);let g=r.mul(i,s),m=r.mul(n,a),y=r.mul(o,c),I=r.add(i,n),w=r.add(s,a);I=r.mul(I,w),w=r.add(g,m),I=r.sub(I,w),w=r.add(i,o);let b=r.add(s,c);return w=r.mul(w,b),b=r.add(g,y),w=r.sub(w,b),b=r.add(n,o),u=r.add(a,c),b=r.mul(b,u),u=r.add(m,y),b=r.sub(b,u),f=r.mul(p,w),u=r.mul(A,y),f=r.add(u,f),u=r.sub(m,f),f=r.add(m,f),l=r.mul(u,f),m=r.add(g,g),m=r.add(m,g),y=r.mul(p,y),w=r.mul(A,w),m=r.add(m,y),y=r.sub(g,y),y=r.mul(p,y),w=r.add(w,y),g=r.mul(m,w),l=r.add(l,g),g=r.mul(b,w),u=r.mul(I,u),u=r.sub(u,g),g=r.mul(I,m),f=r.mul(b,f),f=r.add(f,g),new d(u,l,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,u,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(d.fromAffine)}))}multiplyUnsafe(e){const i=d.ZERO;if(e===di)return i;if(a(e),e===li)return this;const{endo:n}=t;if(!n)return f.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:c,k2:u}=n.splitScalar(e),h=i,l=i,p=this;for(;s>di||u>di;)s&li&&(h=h.add(p)),u&li&&(l=l.add(p)),p=p.double(),s>>=li,u>>=li;return o&&(h=h.negate()),c&&(l=l.negate()),l=new d(r.mul(l.px,n.beta),l.py,l.pz),h.add(l)}multiply(e){a(e);let i,n,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:h}=this.wNAF(t),{p:l,f:p}=this.wNAF(c);u=f.constTimeNegate(e,u),l=f.constTimeNegate(a,l),l=new d(r.mul(l.px,s.beta),l.py,l.pz),i=u.add(l),n=h.add(p)}else{const{p:e,f:t}=this.wNAF(o);i=e,n=t}return d.normalizeZ([i,n])[0]}multiplyAndAddUnsafe(e,t,r){const i=d.BASE,n=(e,t)=>t!==di&&t!==li&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t),o=n(this,t).add(n(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:i,pz:n}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(n));const s=r.mul(t,e),a=r.mul(i,e),c=r.mul(n,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===li)return!0;if(r)return r(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===li?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),i(d,this,e)}toHex(e=!0){return Ht(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);const l=t.nBitLength,f=br(d,t.endo?Math.ceil(l/2):l);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}({...t,toBytes(e,t,i){const n=t.toAffine(),o=r.toBytes(n.x),s=Zt;return i?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(n.y))},fromBytes(e){const t=e.length,i=e[0],s=e.subarray(1);if(t!==n||2!==i&&3!==i){if(t===o&&4===i)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${n} compressed bytes or ${o} uncompressed bytes`)}{const e=Jt(s);if(!(di<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=h(e);let n=r.sqrt(t);return 1==(1&i)!=((n&li)===li)&&(n=r.neg(n)),{x:e,y:n}}var a}}),l=e=>Ht(Vt(e,t.nByteLength));function f(e){return e>i>>li}const p=(e,t,r)=>Jt(e.slice(t,r));class A{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=Wt("compactSignature",e,2*r),new A(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=hi.toSig(Wt("DER",e));return new A(t,r)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new A(this.r,this.s,e)}recoverPublicKey(e){const{r:i,s:n,recovery:o}=this,u=I(Wt("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const h=2===o||3===o?i+t.n:i;if(h>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0==(1&o)?"02":"03",f=c.fromHex(d+l(h)),p=a(h),A=s(-u*p),g=s(n*p),m=c.BASE.multiplyAndAddUnsafe(f,A,g);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return zt(this.toDERHex())}toDERHex(){return hi.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return zt(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const g={isValidPrivateKey(e){try{return u(e),!0}catch(e){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>Vt(function(e,t,r=!1){const i=(e=Wt("privateHash",e)).length,n=mr(t).nByteLength+8;if(n<24||i<n||i>1024)throw new Error(`hashToPrivateScalar: expected ${n}-1024 bytes of input, got ${i}`);return lr(r?Yt(e):Jt(e),t-sr)+sr}(t.randomBytes(r.BYTES+8),i),t.nByteLength),precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function m(e){const t=e instanceof Uint8Array,r="string"==typeof e,i=(t||r)&&e.length;return t?i===n||i===o:r?i===2*n||i===2*o:e instanceof c}const y=t.bits2int||function(e){const r=Jt(e),i=8*e.length-t.nBitLength;return i>0?r>>BigInt(i):r},I=t.bits2int_modN||function(e){return s(y(e))},w=Xt(t.nBitLength);function b(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(di<=e&&e<w))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Vt(e,t.nByteLength)}const v={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,i,n=v){const{seed:o,k2sig:h}=function(e,i,n=v){if(["recovered","canonical"].some((e=>e in n)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:h}=t;let{lowS:l,prehash:p,extraEntropy:g}=n;null==l&&(l=!0),e=Wt("msgHash",e),p&&(e=Wt("prehashed msgHash",o(e)));const m=I(e),w=u(i),E=[b(w),b(m)];if(null!=g){const e=!0===g?h(r.BYTES):g;E.push(Wt("extraEntropy",e,r.BYTES))}const C=Zt(...E),B=m;return{seed:C,k2sig:function(e){const t=y(e);if(!d(t))return;const r=a(t),i=c.BASE.multiply(t).toAffine(),n=s(i.x);if(n===di)return;const o=s(r*s(B+n*w));if(o===di)return;let u=(i.x===n?0:2)|Number(i.y&li),h=o;return l&&f(o)&&(h=function(e){return f(e)?s(-e):e}(o),u^=1),new A(n,h,u)}}}(e,i,n),l=t;return rr(l.hash.outputLen,l.nByteLength,l.hmac)(o,h)},verify:function(e,r,i,n=E){const o=e;if(r=Wt("msgHash",r),i=Wt("publicKey",i),"strict"in n)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:h}=n;let d,l;try{if("string"==typeof o||o instanceof Uint8Array)try{d=A.fromDER(o)}catch(e){if(!(e instanceof hi.Err))throw e;d=A.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new A(e,t)}}l=c.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;h&&(r=t.hash(r));const{r:f,s:p}=d,g=I(r),m=a(p),y=s(g*m),w=s(f*m),b=c.BASE.multiplyAndAddUnsafe(l,y,w)?.toAffine();return!!b&&s(b.x)===f},ProjectivePoint:c,Signature:A,utils:g}}BigInt(4);class Ai extends Xe{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ct.hash(e);const r=We(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),n.fill(0)}update(e){return Ct.exists(this),this.iHash.update(e),this}digestInto(e){Ct.exists(this),Ct.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:o,outputLen:s}=this;return e.finished=i,e.destroyed=n,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const gi=(e,t,r)=>new Ai(e,t).update(r).digest();function mi(e){return{hash:e,hmac:(t,...r)=>gi(e,t,Ze(...r)),randomBytes:tt}}function yi(e,t){const r=t=>pi({...e,...mi(t)});return Object.freeze({...r(t),create:r})}gi.create=(e,t)=>new Ai(e,t);const Ii=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wi=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),bi=BigInt(1),vi=BigInt(2),Ei=(e,t)=>(e+t/vi)/t;const Ci=yr(Ii,void 0,void 0,{sqrt:function(e){const t=Ii,r=BigInt(3),i=BigInt(6),n=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,h=u*u*e%t,d=pr(h,r,t)*h%t,l=pr(d,r,t)*h%t,f=pr(l,vi,t)*u%t,p=pr(f,n,t)*f%t,A=pr(p,o,t)*p%t,g=pr(A,a,t)*A%t,m=pr(g,c,t)*g%t,y=pr(m,a,t)*A%t,I=pr(y,r,t)*h%t,w=pr(I,s,t)*p%t,b=pr(w,i,t)*u%t,v=pr(b,vi,t);if(!Ci.eql(Ci.sqr(v),e))throw new Error("Cannot find square root");return v}}),Bi=yi({a:BigInt(0),b:BigInt(7),Fp:Ci,n:wi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=wi,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-bi*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Ei(o*e,t),c=Ei(-i*e,t);let u=lr(e-a*r-c*n,t),h=lr(-a*i-c*o,t);const d=u>s,l=h>s;if(d&&(u=t-u),l&&(h=t-h),u>s||h>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:h}}}},ai);BigInt(0),Bi.ProjectivePoint;var Si=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class _i{static convertPublicKey(e){return Si(this,void 0,void 0,(function*(){let{publicKey:t,compressedPublicKey:r}=e;return Bi.ProjectivePoint.fromHex(t).toRawBytes(r)}))}static generateKeyPair(e){return Si(this,void 0,void 0,(function*(){let{compressedPublicKey:t}=null!=e?e:{};null!=t||(t=!0);const r=Bi.utils.randomPrivateKey();return{privateKey:r,publicKey:Bi.getPublicKey(r,t)}}))}static getCurvePoints(e){return Si(this,void 0,void 0,(function*(){let{key:t}=e;32===t.byteLength&&(t=yield _i.getPublicKey({privateKey:t}));const r=Bi.ProjectivePoint.fromHex(t);return{x:Vt(r.x,32),y:Vt(r.y,32)}}))}static getPublicKey(e){return Si(this,void 0,void 0,(function*(){let{privateKey:t,compressedPublicKey:r}=e;return null!=r||(r=!0),Bi.getPublicKey(t,r)}))}static sharedSecret(e){return Si(this,void 0,void 0,(function*(){let{privateKey:t,publicKey:r}=e;return Bi.getSharedSecret(t,r).slice(1)}))}static sign(e){return Si(this,void 0,void 0,(function*(){const{data:t,hash:r,key:i}=e,n=(0,this.hashAlgorithms[r])(t);return Bi.sign(n,i).toCompactRawBytes()}))}static validatePrivateKey(e){return Si(this,void 0,void 0,(function*(){const{key:t}=e;return Bi.utils.isValidPrivateKey(t)}))}static validatePublicKey(e){return Si(this,void 0,void 0,(function*(){const{key:t}=e;try{Bi.ProjectivePoint.fromHex(t).assertValidity()}catch(e){return!1}return!0}))}static verify(e){return Si(this,void 0,void 0,(function*(){const{data:t,hash:r,key:i,signature:n}=e,o=(0,this.hashAlgorithms[r])(t);return Bi.verify(n,o,i,{lowS:!1})}))}}_i.hashAlgorithms={"SHA-256":ai};const Qi=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Di(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function ki(e){if("string"==typeof e&&(e=Di(e)),!(e=>e instanceof Uint8Array)(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function Mi(e,t){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof t&&e.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function Pi(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),a=Number(r&o),c=i?4:0,u=i?0:4;e.setUint32(t+c,s,i),e.setUint32(t+u,a,i)}function xi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Fi(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const Ri={number:xi,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Fi,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");xi(e.outputLen),xi(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){Fi(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}},Oi=Ri,Ti=(e,t)=>255&e[t++]|(255&e[t++])<<8;class Ni{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Mi(e=ki(e),32);const t=Ti(e,0),r=Ti(e,2),i=Ti(e,4),n=Ti(e,6),o=Ti(e,8),s=Ti(e,10),a=Ti(e,12),c=Ti(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|n<<9),this.r[4]=255&(n>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=Ti(e,16+2*t)}process(e,t,r=!1){const i=r?0:2048,{h:n,r:o}=this,s=o[0],a=o[1],c=o[2],u=o[3],h=o[4],d=o[5],l=o[6],f=o[7],p=o[8],A=o[9],g=Ti(e,t+0),m=Ti(e,t+2),y=Ti(e,t+4),I=Ti(e,t+6),w=Ti(e,t+8),b=Ti(e,t+10),v=Ti(e,t+12),E=Ti(e,t+14);let C=n[0]+(8191&g),B=n[1]+(8191&(g>>>13|m<<3)),S=n[2]+(8191&(m>>>10|y<<6)),_=n[3]+(8191&(y>>>7|I<<9)),Q=n[4]+(8191&(I>>>4|w<<12)),D=n[5]+(w>>>1&8191),k=n[6]+(8191&(w>>>14|b<<2)),M=n[7]+(8191&(b>>>11|v<<5)),P=n[8]+(8191&(v>>>8|E<<8)),x=n[9]+(E>>>5|i),F=0,R=F+C*s+B*(5*A)+S*(5*p)+_*(5*f)+Q*(5*l);F=R>>>13,R&=8191,R+=D*(5*d)+k*(5*h)+M*(5*u)+P*(5*c)+x*(5*a),F+=R>>>13,R&=8191;let O=F+C*a+B*s+S*(5*A)+_*(5*p)+Q*(5*f);F=O>>>13,O&=8191,O+=D*(5*l)+k*(5*d)+M*(5*h)+P*(5*u)+x*(5*c),F+=O>>>13,O&=8191;let T=F+C*c+B*a+S*s+_*(5*A)+Q*(5*p);F=T>>>13,T&=8191,T+=D*(5*f)+k*(5*l)+M*(5*d)+P*(5*h)+x*(5*u),F+=T>>>13,T&=8191;let N=F+C*u+B*c+S*a+_*s+Q*(5*A);F=N>>>13,N&=8191,N+=D*(5*p)+k*(5*f)+M*(5*l)+P*(5*d)+x*(5*h),F+=N>>>13,N&=8191;let U=F+C*h+B*u+S*c+_*a+Q*s;F=U>>>13,U&=8191,U+=D*(5*A)+k*(5*p)+M*(5*f)+P*(5*l)+x*(5*d),F+=U>>>13,U&=8191;let j=F+C*d+B*h+S*u+_*c+Q*a;F=j>>>13,j&=8191,j+=D*s+k*(5*A)+M*(5*p)+P*(5*f)+x*(5*l),F+=j>>>13,j&=8191;let L=F+C*l+B*d+S*h+_*u+Q*c;F=L>>>13,L&=8191,L+=D*a+k*s+M*(5*A)+P*(5*p)+x*(5*f),F+=L>>>13,L&=8191;let q=F+C*f+B*l+S*d+_*h+Q*u;F=q>>>13,q&=8191,q+=D*c+k*a+M*s+P*(5*A)+x*(5*p),F+=q>>>13,q&=8191;let K=F+C*p+B*f+S*l+_*d+Q*h;F=K>>>13,K&=8191,K+=D*u+k*c+M*a+P*s+x*(5*A),F+=K>>>13,K&=8191;let H=F+C*A+B*p+S*f+_*l+Q*d;F=H>>>13,H&=8191,H+=D*h+k*u+M*c+P*a+x*s,F+=H>>>13,H&=8191,F=(F<<2)+F|0,F=F+R|0,R=8191&F,F>>>=13,O+=F,n[0]=R,n[1]=O,n[2]=T,n[3]=N,n[4]=U,n[5]=j,n[6]=L,n[7]=q,n[8]=K,n[9]=H}finalize(){const{h:e,pad:t}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=i,i=e[t]>>>13,e[t]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+i,i=r[t]>>>13,r[t]&=8191;r[9]-=8192;let n=(1^i)-1;for(let e=0;e<10;e++)r[e]&=n;n=~n;for(let t=0;t<10;t++)e[t]=e[t]&n|r[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o}update(e){Oi.exists(this);const{buffer:t,blockLen:r}=this,i=(e=ki(e)).length;for(let n=0;n<i;){const o=Math.min(r-this.pos,i-n);if(o!==r)t.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0);else for(;r<=i-n;n+=r)this.process(e,n)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){Oi.exists(this),Oi.output(e,this),this.finished=!0;const{buffer:t,h:r}=this;let{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let n=0;for(let t=0;t<8;t++)e[n++]=r[t]>>>0,e[n++]=r[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}}const Ui=function(e){const t=(t,r)=>e(r).update(ki(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}((e=>new Ni(e))),ji=Di("expand 16-byte k"),Li=Di("expand 32-byte k"),qi=Qi(ji),Ki=Qi(Li),Hi=e=>!(e.byteOffset%4),Gi=e=>{const{core:t,rounds:r,counterRight:i,counterLen:n,allow128bitKeys:o,extendNonceFn:s,blockLen:a}=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new Error("Options should be object or undefined");var r;return Object.assign(e,t)}({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},e);Oi.number(n),Oi.number(r),Oi.number(a),Oi.bool(i),Oi.bool(o);const c=a/4;if(a%4!=0)throw new Error("Salsa/ChaCha: blockLen should be aligned to 4 bytes");return(e,u,h,d,l=0)=>{if(Oi.bytes(e),Oi.bytes(u),Oi.bytes(h),d||(d=new Uint8Array(h.length)),Oi.bytes(d),Oi.number(l),l<0||l>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(d.length<h.length)throw new Error(`Salsa/ChaCha: output (${d.length}) is shorter than data (${h.length})`);const f=[];let p,A;if(32===e.length)p=e,A=Ki;else{if(16!==e.length||!o)throw new Error(`Salsa/ChaCha: wrong key length=${e.length}, expected`);p=new Uint8Array(32),p.set(e),p.set(e,16),A=qi,f.push(p)}if(s){if(u.length<=16)throw new Error("Salsa/ChaCha: extended nonce should be bigger than 16 bytes");p=s(A,p,u.subarray(0,16),new Uint8Array(32)),f.push(p),u=u.subarray(16)}const g=16-n;if(u.length!==g)throw new Error(`Salsa/ChaCha: nonce should be ${g} or 16 bytes`);if(12!==g){const e=new Uint8Array(12);e.set(u,i?0:12-u.length),f.push(u=e)}const m=new Uint8Array(a),y=Qi(m),I=Qi(p),w=Qi(u),b=Hi(h)&&Qi(h),v=Hi(d)&&Qi(d);f.push(y);const E=h.length;for(let e=0,i=l;e<E;i++){if(t(A,I,w,y,i,r),i>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const n=Math.min(a,E-e);if(n===a&&v&&b){const t=e/4;if(e%4!=0)throw new Error("Salsa/ChaCha: wrong block position");for(let e=0;e<c;e++)v[t+e]=b[t+e]^y[e];e+=a}else{for(let t=0;t<n;t++)d[e+t]=h[e+t]^m[t];e+=n}}for(let e=0;e<f.length;e++)f[e].fill(0);return d}},zi=(e,t)=>e<<t|e>>>32-t;function Ji(e,t,r,i,n,o=20){let s=e[0],a=e[1],c=e[2],u=e[3],h=t[0],d=t[1],l=t[2],f=t[3],p=t[4],A=t[5],g=t[6],m=t[7],y=n,I=r[0],w=r[1],b=r[2],v=s,E=a,C=c,B=u,S=h,_=d,Q=l,D=f,k=p,M=A,P=g,x=m,F=y,R=I,O=w,T=b;for(let e=0;e<o;e+=2)v=v+S|0,F=zi(F^v,16),k=k+F|0,S=zi(S^k,12),v=v+S|0,F=zi(F^v,8),k=k+F|0,S=zi(S^k,7),E=E+_|0,R=zi(R^E,16),M=M+R|0,_=zi(_^M,12),E=E+_|0,R=zi(R^E,8),M=M+R|0,_=zi(_^M,7),C=C+Q|0,O=zi(O^C,16),P=P+O|0,Q=zi(Q^P,12),C=C+Q|0,O=zi(O^C,8),P=P+O|0,Q=zi(Q^P,7),B=B+D|0,T=zi(T^B,16),x=x+T|0,D=zi(D^x,12),B=B+D|0,T=zi(T^B,8),x=x+T|0,D=zi(D^x,7),v=v+_|0,T=zi(T^v,16),P=P+T|0,_=zi(_^P,12),v=v+_|0,T=zi(T^v,8),P=P+T|0,_=zi(_^P,7),E=E+Q|0,F=zi(F^E,16),x=x+F|0,Q=zi(Q^x,12),E=E+Q|0,F=zi(F^E,8),x=x+F|0,Q=zi(Q^x,7),C=C+D|0,R=zi(R^C,16),k=k+R|0,D=zi(D^k,12),C=C+D|0,R=zi(R^C,8),k=k+R|0,D=zi(D^k,7),B=B+S|0,O=zi(O^B,16),M=M+O|0,S=zi(S^M,12),B=B+S|0,O=zi(O^B,8),M=M+O|0,S=zi(S^M,7);let N=0;i[N++]=s+v|0,i[N++]=a+E|0,i[N++]=c+C|0,i[N++]=u+B|0,i[N++]=h+S|0,i[N++]=d+_|0,i[N++]=l+Q|0,i[N++]=f+D|0,i[N++]=p+k|0,i[N++]=A+M|0,i[N++]=g+P|0,i[N++]=m+x|0,i[N++]=y+F|0,i[N++]=I+R|0,i[N++]=w+O|0,i[N++]=b+T|0}Gi({core:Ji,counterRight:!1,counterLen:8});const Yi=Gi({core:Ji,counterRight:!1,counterLen:4,allow128bitKeys:!1}),Vi=Gi({core:Ji,counterRight:!1,counterLen:8,extendNonceFn:function(e,t,r,i){const n=Qi(t),o=Qi(r),s=Qi(i);let a=e[0],c=e[1],u=e[2],h=e[3],d=n[0],l=n[1],f=n[2],p=n[3],A=n[4],g=n[5],m=n[6],y=n[7],I=o[0],w=o[1],b=o[2],v=o[3];for(let e=0;e<20;e+=2)a=a+d|0,I=zi(I^a,16),A=A+I|0,d=zi(d^A,12),a=a+d|0,I=zi(I^a,8),A=A+I|0,d=zi(d^A,7),c=c+l|0,w=zi(w^c,16),g=g+w|0,l=zi(l^g,12),c=c+l|0,w=zi(w^c,8),g=g+w|0,l=zi(l^g,7),u=u+f|0,b=zi(b^u,16),m=m+b|0,f=zi(f^m,12),u=u+f|0,b=zi(b^u,8),m=m+b|0,f=zi(f^m,7),h=h+p|0,v=zi(v^h,16),y=y+v|0,p=zi(p^y,12),h=h+p|0,v=zi(v^h,8),y=y+v|0,p=zi(p^y,7),a=a+l|0,v=zi(v^a,16),m=m+v|0,l=zi(l^m,12),a=a+l|0,v=zi(v^a,8),m=m+v|0,l=zi(l^m,7),c=c+f|0,I=zi(I^c,16),y=y+I|0,f=zi(f^y,12),c=c+f|0,I=zi(I^c,8),y=y+I|0,f=zi(f^y,7),u=u+p|0,w=zi(w^u,16),A=A+w|0,p=zi(p^A,12),u=u+p|0,w=zi(w^u,8),A=A+w|0,p=zi(p^A,7),h=h+d|0,b=zi(b^h,16),g=g+b|0,d=zi(d^g,12),h=h+d|0,b=zi(b^h,8),g=g+b|0,d=zi(d^g,7);return s[0]=a,s[1]=c,s[2]=u,s[3]=h,s[4]=I,s[5]=w,s[6]=b,s[7]=v,i},allow128bitKeys:!1}),$i=(Gi({core:Ji,counterRight:!1,counterLen:4,rounds:8}),Gi({core:Ji,counterRight:!1,counterLen:4,rounds:12}),new Uint8Array(16)),Wi=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update($i.subarray(r))},Zi=(e,t,r,i,n)=>{const o=e(t,r,new Uint8Array(32)),s=Ui.create(o);n&&Wi(s,n),Wi(s,i);const a=new Uint8Array(16),c=(u=a,new DataView(u.buffer,u.byteOffset,u.byteLength));var u;Pi(c,0,BigInt(n?n.length:0),!0),Pi(c,8,BigInt(i.length),!0),s.update(a);const h=s.digest();return o.fill(0),h},Xi=e=>(t,r,i)=>(Mi(t,32),Mi(r),{tagLength:16,encrypt:n=>{const o=new Uint8Array(n.length+16);e(t,r,n,o,1);const s=Zi(e,t,r,o.subarray(0,-16),i);return o.set(s,n.length),o},decrypt:n=>{if(n.length<16)throw new Error("Encrypted data should be at least 16");const o=n.subarray(-16),s=n.subarray(0,-16);if(!function(e,t){if(e.length!==t.length)throw new Error("equalBytes: Different size of Uint8Arrays");let r=!0;for(let i=0;i<e.length;i++)r&&(r=e[i]===t[i]);return r}(o,Zi(e,t,r,s,i)))throw new Error("Wrong tag");return e(t,r,s,void 0,1)}}),en=(Xi(Yi),Xi(Vi));var tn=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class rn{static decrypt(e){return tn(this,void 0,void 0,(function*(){const{additionalData:t,data:r,key:i,nonce:n,tag:o}=e,s=en(i,n,t),a=new Uint8Array([...r,...o]);return s.decrypt(a)}))}static encrypt(e){return tn(this,void 0,void 0,(function*(){const{additionalData:t,data:r,key:i,nonce:n}=e,o=en(i,n,t).encrypt(r);return{ciphertext:o.subarray(0,-16),tag:o.subarray(-16)}}))}static generateKey(){return tn(this,void 0,void 0,(function*(){return crypto.getRandomValues(new Uint8Array(32))}))}}var nn=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},on=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class sn extends ft{constructor(){super(...arguments),this.hashAlgorithms=["SHA-256"],this.namedCurves=["secp256k1"]}generateKey(e){var t;return on(this,void 0,void 0,(function*(){const{algorithm:r,extractable:i,keyUsages:n}=e;let o,s;if(this.checkGenerateKey({algorithm:r,keyUsages:n}),"secp256k1"===r.namedCurve&&(null!==(t=r.compressedPublicKey)&&void 0!==t||(r.compressedPublicKey=!0),o=yield _i.generateKeyPair({compressedPublicKey:r.compressedPublicKey})),!nt(o))throw new Error("Operation failed to generate key pair.");return s={privateKey:new yt(r,i,o.privateKey,"private",this.keyUsages.privateKey),publicKey:new yt(r,!0,o.publicKey,"public",this.keyUsages.publicKey)},s}))}sign(e){return on(this,void 0,void 0,(function*(){const{algorithm:t,key:r,data:i}=e;let n;this.checkAlgorithmOptions({algorithm:t}),this.checkKeyAlgorithm({keyAlgorithmName:r.algorithm.name}),this.checkKeyType({keyType:r.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:r.usages});const o=r.algorithm;if("secp256k1"!==o.namedCurve)throw new TypeError(`Out of range: '${o.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`);return n=yield _i.sign({hash:t.hash,key:r.material,data:i}),n}))}verify(e){return on(this,void 0,void 0,(function*(){const{algorithm:t,key:r,signature:i,data:n}=e;let o;this.checkAlgorithmOptions({algorithm:t}),this.checkKeyAlgorithm({keyAlgorithmName:r.algorithm.name}),this.checkKeyType({keyType:r.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:r.usages});const s=r.algorithm;if("secp256k1"!==s.namedCurve)throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`);return o=yield _i.verify({hash:t.hash,key:r.material,signature:i,data:n}),o}))}}var an=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class cn extends pt{constructor(){super(...arguments),this.namedCurves=["Ed25519","Ed448"]}generateKey(e){return an(this,void 0,void 0,(function*(){const{algorithm:t,extractable:r,keyUsages:i}=e;let n,o;if(this.checkGenerateKey({algorithm:t,keyUsages:i}),"Ed25519"===t.namedCurve&&(n=yield Xr.generateKeyPair()),!nt(n))throw new Error("Operation failed to generate key pair.");return o={privateKey:new yt(t,r,n.privateKey,"private",this.keyUsages.privateKey),publicKey:new yt(t,!0,n.publicKey,"public",this.keyUsages.publicKey)},o}))}sign(e){return an(this,void 0,void 0,(function*(){const{algorithm:t,key:r,data:i}=e;let n;this.checkAlgorithmOptions({algorithm:t}),this.checkKeyAlgorithm({keyAlgorithmName:r.algorithm.name}),this.checkKeyType({keyType:r.type,allowedKeyType:"private"}),this.checkKeyUsages({keyUsages:["sign"],allowedKeyUsages:r.usages});const o=r.algorithm;if("Ed25519"!==o.namedCurve)throw new TypeError(`Out of range: '${o.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`);return n=yield Xr.sign({key:r.material,data:i}),n}))}verify(e){return an(this,void 0,void 0,(function*(){const{algorithm:t,key:r,signature:i,data:n}=e;let o;this.checkAlgorithmOptions({algorithm:t}),this.checkKeyAlgorithm({keyAlgorithmName:r.algorithm.name}),this.checkKeyType({keyType:r.type,allowedKeyType:"public"}),this.checkKeyUsages({keyUsages:["verify"],allowedKeyUsages:r.usages});const s=r.algorithm;if("Ed25519"!==s.namedCurve)throw new TypeError(`Out of range: '${s.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`);return o=yield Xr.verify({key:r.material,signature:i,data:n}),o}))}}var un=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},hn=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const dn={Ed25519:{name:"EdDSA",namedCurve:"Ed25519"},Ed448:{name:"EdDSA",namedCurve:"Ed448"},X25519:{name:"ECDH",namedCurve:"X25519"},"secp256k1:ES256K":{name:"ECDSA",namedCurve:"secp256k1"},secp256k1:{name:"ECDH",namedCurve:"secp256k1"},"P-256":{name:"ECDSA",namedCurve:"P-256"},"P-384":{name:"ECDSA",namedCurve:"P-384"},"P-521":{name:"ECDSA",namedCurve:"P-521"},A128CBC:{name:"AES-CBC",length:128},A192CBC:{name:"AES-CBC",length:192},A256CBC:{name:"AES-CBC",length:256},A128CTR:{name:"AES-CTR",length:128},A192CTR:{name:"AES-CTR",length:192},A256CTR:{name:"AES-CTR",length:256},A128GCM:{name:"AES-GCM",length:128},A192GCM:{name:"AES-GCM",length:192},A256GCM:{name:"AES-GCM",length:256},HS256:{name:"HMAC",hash:{name:"SHA-256"}},HS384:{name:"HMAC",hash:{name:"SHA-384"}},HS512:{name:"HMAC",hash:{name:"SHA-512"}}},ln={"EdDSA:Ed25519":{alg:"EdDSA",crv:"Ed25519",kty:"OKP"},"EdDSA:Ed448":{alg:"EdDSA",crv:"Ed448",kty:"OKP"},"ECDH:X25519":{crv:"X25519",kty:"OKP"},"ECDSA:secp256k1":{alg:"ES256K",crv:"secp256k1",kty:"EC"},"ECDH:secp256k1":{crv:"secp256k1",kty:"EC"},"ECDSA:P-256":{alg:"ES256",crv:"P-256",kty:"EC"},"ECDSA:P-384":{alg:"ES384",crv:"P-384",kty:"EC"},"ECDSA:P-521":{alg:"ES512",crv:"P-521",kty:"EC"},"AES-CBC:128":{alg:"A128CBC",kty:"oct"},"AES-CBC:192":{alg:"A192CBC",kty:"oct"},"AES-CBC:256":{alg:"A256CBC",kty:"oct"},"AES-CTR:128":{alg:"A128CTR",kty:"oct"},"AES-CTR:192":{alg:"A192CTR",kty:"oct"},"AES-CTR:256":{alg:"A256CTR",kty:"oct"},"AES-GCM:128":{alg:"A128GCM",kty:"oct"},"AES-GCM:192":{alg:"A192GCM",kty:"oct"},"AES-GCM:256":{alg:"A256GCM",kty:"oct"},"HMAC:SHA-256":{alg:"HS256",kty:"oct"},"HMAC:SHA-384":{alg:"HS384",kty:"oct"},"HMAC:SHA-512":{alg:"HS512",kty:"oct"}},fn={"ed25519-pub":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{alg:"EdDSA",crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{alg:"ES256K",crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},pn={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"};class An{static cryptoKeyToJwk(e){return hn(this,void 0,void 0,(function*(){const{algorithm:t,extractable:r,material:i,type:n,usages:o}=e.key;let s=An.webCryptoToJose(t);return s.ext=r?"true":"false",s.key_ops=o,s=yield An.keyToJwk(Object.assign({keyMaterial:i,keyType:n},s)),Object.assign({},s)}))}static cryptoKeyToJwkPair(e){return hn(this,void 0,void 0,(function*(){const{keyPair:t}=e,r={privateKeyJwk:yield An.cryptoKeyToJwk({key:t.privateKey}),publicKeyJwk:yield An.cryptoKeyToJwk({key:t.publicKey})};return Object.assign({},r)}))}static joseToMulticodec(e){return hn(this,void 0,void 0,(function*(){const t=e.key,r=[];"crv"in t&&(r.push(t.crv),"d"in t?r.push("private"):r.push("public"));const i=r.join(":"),n=pn[i];if(void 0===n)throw new Error(`Unsupported JOSE to Multicodec conversion: '${i}'`);return{code:Te.getCodeFromName({name:n}),name:n}}))}static joseToWebCrypto(e){const t=[];if("crv"in e&&e.crv)t.push(e.crv),"secp256k1"===e.crv&&"ES256K"===e.alg&&t.push(e.alg);else{if(void 0===e.alg)throw new TypeError("One or more parameters missing: 'alg' or 'crv'");t.push(e.alg)}const r=t.join(":"),i=dn[r];if(void 0===i)throw new Error(`Unsupported JOSE to WebCrypto conversion: '${r}'`);return Object.assign({},i)}static jwkThumbprint(e){return hn(this,void 0,void 0,(function*(){const{key:t}=e,r=t.kty;let i;if("EC"===r)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===r)i={k:t.k,kty:t.kty};else if("OKP"===r)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==r)throw new Error(`Unsupported key type: ${r}`);i={e:t.e,kty:t.kty,n:t.n}}je(i);const n=An.canonicalize(i),o=te.string(n).toUint8Array(),s=ai(o);return te.uint8Array(s).toBase64Url()}))}static jwkToCryptoKey(e){return hn(this,void 0,void 0,(function*(){const t=e.key,{keyMaterial:r,keyType:i}=yield An.jwkToKey({key:t});let n,o,s=An.joseToWebCrypto(t);if(!("ext"in t)||void 0===t.ext)throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'ext'");if(n="true"===t.ext,!("key_ops"in t)||void 0===t.key_ops)throw new Error("Conversion from JWK to CryptoKey failed. Required parameter missing: 'key_ops'");return o=t.key_ops,new yt(s,n,r,i,o)}))}static jwkToKey(e){return hn(this,void 0,void 0,(function*(){const t=e.key;let r,i;if("d"in t)r=te.base64Url(t.d).toUint8Array(),i="private";else if("y"in t&&t.y){const e=new Uint8Array([4]),n=te.base64Url(t.x).toUint8Array(),o=te.base64Url(t.y).toUint8Array();r=new Uint8Array([...e,...n,...o]),i="public"}else if("x"in t)r=te.base64Url(t.x).toUint8Array(),i="public";else{if(!("k"in t))throw new Error("Jose: Unknown JSON Web Key format.");r=te.base64Url(t.k).toUint8Array(),i="private"}return{keyMaterial:r,keyType:i}}))}static jwkToMultibaseId(e){return hn(this,void 0,void 0,(function*(){const t=e.key,{name:r}=yield An.joseToMulticodec({key:t});let{keyMaterial:i}=yield An.jwkToKey({key:t});return"crv"in t&&!("d"in t)&&"secp256k1"===t.crv&&(i=yield _i.convertPublicKey({publicKey:i,compressedPublicKey:!0})),ot({key:i,multicodecName:r})}))}static keyToJwk(e){var t,r,i;return hn(this,void 0,void 0,(function*(){const{keyMaterial:n,keyType:o}=e,s=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(e,["keyMaterial","keyType"]);let a=Object.assign({},s);if("crv"in a){switch(a.crv){case"Ed25519":{const e="private"===o?yield Xr.getPublicKey({privateKey:n}):n;a.x=te.uint8Array(e).toBase64Url(),null!==(t=a.kty)&&void 0!==t||(a.kty="OKP");break}case"X25519":{const e="private"===o?yield Vr.getPublicKey({privateKey:n}):n;a.x=te.uint8Array(e).toBase64Url(),null!==(r=a.kty)&&void 0!==r||(a.kty="OKP");break}case"secp256k1":{const e=yield _i.getCurvePoints({key:n});a.x=te.uint8Array(e.x).toBase64Url(),a.y=te.uint8Array(e.y).toBase64Url(),null!==(i=a.kty)&&void 0!==i||(a.kty="EC");break}default:throw new Error(`Unsupported key to JWK conversion: ${a.crv}`)}"private"===o&&(a=Object.assign({d:te.uint8Array(n).toBase64Url()},a))}return"crv"in a||"oct"!==a.kty||(a.k=te.uint8Array(n).toBase64Url()),Object.assign({},a)}))}static multicodecToJose(e){return hn(this,void 0,void 0,(function*(){let{code:t,name:r}=e;if(!(r?!t:t))throw new Error("Either 'name' or 'code' must be defined, but not both.");r=void 0===r?Te.getNameFromCode({code:t}):r;const i=fn[r];if(void 0===i)throw new Error(`Unsupported Multicodec to JOSE conversion: '${e.name}'`);return Object.assign({},i)}))}static webCryptoToJose(e){const t=[];if(t.push(e.name),"namedCurve"in e)t.push(e.namedCurve);else if("length"in e&&void 0!==e.length)t.push(e.length.toString());else{if(!("hash"in e))throw new TypeError("One or more parameters missing: 'name', 'namedCurve', 'length', or 'hash'");t.push(e.hash.name)}const r=t.join(":"),i=ln[r];if(void 0===i)throw new Error(`Unsupported WebCrypto to JOSE conversion: '${r}'`);return Object.assign({},i)}static canonicalize(e){const t=Object.keys(e).sort().reduce(((t,r)=>(t[r]=e[r],t)),{});return JSON.stringify(t)}}n(76607),n(64568);var gn=n(34471);const mn="0123456789abcdef",yn=[],In=[];for(let e=0;e<256;e++)yn[e]=mn[e>>4&15]+mn[15&e],e<16&&(e<10?In[48+e]=e:In[87+e]=e);for(var wn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),bn=0;bn<64;bn++)wn["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(bn)]=bn;const vn=new TextDecoder,En=(e,t)=>t?new TextDecoder(t).decode(e):vn.decode(e),Cn=new TextEncoder,Bn=e=>Cn.encode(e),Sn="undefined"!=typeof window?window:self,_n=Sn.crypto||Sn.msCrypto||{};function Qn(e,t,r){const i=[];let n=null;return Qn._encode(i,e),n=((e,t=0)=>{const r=e.length||0;if(!t){let i=r;for(;i--;)t+=e[i].length}const i=new Uint8Array(t);let n=t,o=r;for(;o--;)n-=e[o].length,i.set(e[o],n);return i})(i),Qn.bytes=n.length,ArrayBuffer.isView(t)?(t.set(n,r),t):n}_n.subtle||_n.webkitSubtle,Qn.bytes=-1,Qn._floatConversionDetected=!1,Qn._encode=function(e,t){if(null!=t)switch(r=t,ArrayBuffer.isView(r)?"arraybufferview":Array.isArray(r)?"array":r instanceof Number?"number":r instanceof Boolean?"boolean":r instanceof Set?"set":r instanceof Map?"map":r instanceof String?"string":r instanceof ArrayBuffer?"arraybuffer":typeof r){case"object":Qn.dict(e,t);break;case"map":Qn.dictMap(e,t);break;case"array":Qn.list(e,t);break;case"set":Qn.listSet(e,t);break;case"string":Qn.string(e,t);break;case"number":case"boolean":Qn.number(e,t);break;case"arraybufferview":Qn.buffer(e,new Uint8Array(t.buffer,t.byteOffset,t.byteLength));break;case"arraybuffer":Qn.buffer(e,new Uint8Array(t))}var r};const Dn=new Uint8Array([101]),kn=new Uint8Array([100]),Mn=new Uint8Array([108]);function Pn(e,t,r){let i=0,n=1;for(let o=t;o<r;o++){const r=e[o];if(r<58&&r>=48)i=10*i+(r-48);else if(o!==t||43!==r){if(o!==t||45!==r){if(46===r)break;throw new Error("not a number: buffer["+o+"] = "+r)}n=-1}}return i*n}function xn(e,t,r,i){return null==e||0===e.length?null:("number"!=typeof t&&null==i&&(i=t,t=void 0),"number"!=typeof r&&null==i&&(i=r,r=void 0),xn.position=0,xn.encoding=i||null,xn.data=ArrayBuffer.isView(e)?new Uint8Array(e.slice(t,r)):Bn(e),xn.bytes=xn.data.length,xn.next())}Qn.buffer=function(e,t){e.push(Bn(t.length+":"),t)},Qn.string=function(e,t){e.push(Bn(Bn(t).byteLength+":"+t))},Qn.number=function(e,t){const r=2147483648,i=(t/r<<0)*r+(t%r<<0);e.push(Bn("i"+i+"e")),i===t||Qn._floatConversionDetected||(Qn._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+t+'":','Bencoding only defines support for integers, value was converted to "'+i+'"'),console.trace())},Qn.dict=function(e,t){e.push(kn);let r,i=0;const n=Object.keys(t).sort(),o=n.length;for(;i<o;i++)r=n[i],null!=t[r]&&(Qn.string(e,r),Qn._encode(e,t[r]));e.push(Dn)},Qn.dictMap=function(e,t){e.push(kn);const r=Array.from(t.keys()).sort();for(const i of r)null!=t.get(i)&&(ArrayBuffer.isView(i)?Qn._encode(e,i):Qn.string(e,String(i)),Qn._encode(e,t.get(i)));e.push(Dn)},Qn.list=function(e,t){let r=0;const i=t.length;for(e.push(Mn);r<i;r++)null!=t[r]&&Qn._encode(e,t[r]);e.push(Dn)},Qn.listSet=function(e,t){e.push(Mn);for(const r of t)null!=r&&Qn._encode(e,r);e.push(Dn)},xn.bytes=0,xn.position=0,xn.data=null,xn.encoding=null,xn.next=function(){switch(xn.data[xn.position]){case 100:return xn.dictionary();case 108:return xn.list();case 105:return xn.integer();default:return xn.buffer()}},xn.find=function(e){let t=xn.position;const r=xn.data.length,i=xn.data;for(;t<r;){if(i[t]===e)return t;t++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(e)+'" [0x'+e.toString(16)+"]")},xn.dictionary=function(){xn.position++;const e={};for(;101!==xn.data[xn.position];)e[En(xn.buffer())]=xn.next();return xn.position++,e},xn.list=function(){xn.position++;const e=[];for(;101!==xn.data[xn.position];)e.push(xn.next());return xn.position++,e},xn.integer=function(){const e=xn.find(101),t=Pn(xn.data,xn.position+1,e);return xn.position+=e+1-xn.position,t},xn.buffer=function(){let e=xn.find(58);const t=Pn(xn.data,xn.position,e),r=++e+t;return xn.position=r,xn.encoding?En(xn.data.slice(e,r)):xn.data.slice(e,r)},gn.crypto_sign_verify_detached,gn.crypto_sign_verify_detached;const Fn="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",Rn="[a-zA-Z0-9_.:%-]",On=new RegExp(`^did:([a-z0-9]+):((?:${Fn}*:)*(${Fn}+))((;${Rn}+=${Rn}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`);function Tn(e){var t,r;const{didDocument:i,id:n,type:o}=null!=e?e:{};return null!==(r=null===(t=null==i?void 0:i.service)||void 0===t?void 0:t.filter((e=>!(n&&e.id!==n||o&&e.type!==o))))&&void 0!==r?r:[]}function Nn(e){const{didDocument:t,publicKeyJwk:r,publicKeyMultibase:i}=e;if(!t)throw new Error("Required parameter missing: 'didDocument'");if(!t.verificationMethod)throw new Error("Given `didDocument` is missing `verificationMethod` entries.");for(let e of t.verificationMethod)if(i&&"publicKeyMultibase"in e){if(i===e.publicKeyMultibase)return e.id}else if(r&&"crv"in r&&"publicKeyJwk"in e&&"crv"in e.publicKeyJwk&&r.crv===e.publicKeyJwk.crv&&r.x===e.publicKeyJwk.x)return e.id}function Un(e){const{didDocument:t}=e;let r=[];for(let e in t)"object"==typeof t[e]?r=r.concat(Un({didDocument:t[e]})):"type"===e&&r.push(t[e]);return[...new Set(r)]}function jn(e){return void 0!==e&&"string"!=typeof e&&!Array.isArray(e)&&"nodes"in e&&"signingKeys"in e}function Ln({didUrl:e}){return function(e){if(""===e||!e)return null;const t=e.match(On);if(t){const r={did:`did:${t[1]}:${t[2]}`,method:t[1],id:t[2],didUrl:e};if(t[4]){const e=t[4].slice(1).split(";");r.params={};for(const t of e){const e=t.split("=");r.params[e[0]]=e[1]}}return t[6]&&(r.path=t[6]),t[7]&&(r.query=t[7].slice(1)),t[8]&&(r.fragment=t[8].slice(1)),r}return null}(e)}var qn=n(74861);const Kn="MultihashUnsupportedHashAlgorithm";class Hn extends Error{constructor(e,t){super(`${e}: ${t}`),this.code=e,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class Gn{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class zn{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Yn(this,e)}}class Jn{constructor(e){this.decoders=e}or(e){return Yn(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Yn=(e,t)=>new Jn({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Vn{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Gn(e,t,r),this.decoder=new zn(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const $n=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>(({name:e,prefix:t,encode:r,decode:i})=>new Vn(e,t,r,i))({prefix:t,name:e,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=n[e[t]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),Wn=($n({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$n({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$n({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));$n({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class Zn{static encode(e){return Wn.baseEncode(e)}static decodeAsBytes(e,t){if(!Zn.isBase64UrlString(e))throw new Hn("EncodedStringIncorrectEncoding",`Given ${t} must be base64url string.`);return Wn.baseDecode(e)}static decodeAsString(e,t){const r=Zn.decodeAsBytes(e,t);return Zn.bytesToString(r)}static isBase64UrlString(e){return/^[A-Za-z0-9_-]+$/.test(e)}static stringToBytes(e){return(new TextEncoder).encode(e)}static bytesToString(e){return(new TextDecoder).decode(e)}}var Xn,eo,to=n(60540);(eo=Xn||(Xn={})).Public="public",eo.Private="private";const ro=Xn;class io{static validateEs256kOperationKey(e,t){const r=new Set(["kty","crv","x","y"]);t===ro.Private&&r.add("d");for(const t in e)if(!r.has(t))throw new Hn("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${t}'.`);if("secp256k1"!==e.crv)throw new Hn("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${e.crv}.'`);if("EC"!==e.kty)throw new Hn("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${e.kty}.'`);if(43!==e.x.length)throw new Hn("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==e.y.length)throw new Hn("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(t===ro.Private&&(void 0===e.d||43!==e.d.length))throw new Hn("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(e){if(e.length>50)throw new Hn("IdTooLong",`Key ID length ${e.length} exceed max allowed length of 50.`);if(!Zn.isBase64UrlString(e))throw new Hn("IdNotUsingBase64UrlCharacterSet",`Key ID '${e}' is not a Base64URL string.`)}static validatePublicKeyPurposes(e){if(void 0===e)return;const t=new Set;for(const r of e){if(t.has(r))throw new Hn("PublicKeyPurposeDuplicated",`Public key purpose '${r}' already specified.`);t.add(r)}}}class no{}no.hashAlgorithmInMultihashCode=18,no.maxCanonicalizedDeltaSizeInBytes=1e3;var oo=n(95456);class so{static canonicalizeAsBytes(e){const t=so.removeAllUndefinedProperties(e),r=oo(t);return Zn.stringToBytes(r)}static removeAllUndefinedProperties(e){for(const t in e)"object"==typeof e[t]?so.removeAllUndefinedProperties(e[t]):void 0===e[t]&&delete e[t];return e}}var ao=n(18370),co=128,uo=-128,ho=Math.pow(2,31),lo=Math.pow(2,7),fo=Math.pow(2,14),po=Math.pow(2,21),Ao=Math.pow(2,28),go=Math.pow(2,35),mo=Math.pow(2,42),yo=Math.pow(2,49),Io=Math.pow(2,56),wo=Math.pow(2,63);const bo=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=ho;)r[i++]=255&t|co,t/=128;for(;t&uo;)r[i++]=255&t|co,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},vo=function(e){return e<lo?1:e<fo?2:e<po?3:e<Ao?4:e<go?5:e<mo?6:e<yo?7:e<Io?8:e<wo?9:10},Eo=(e,t,r=0)=>(bo(e,t,r),t),Co=e=>vo(e),Bo=(e,t)=>{const r=t.byteLength,i=Co(e),n=i+Co(r),o=new Uint8Array(n+r);return Eo(e,o,0),Eo(r,o,i),o.set(t,n),new So(e,r,t,o)};class So{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const _o=({name:e,code:t,encode:r})=>new Qo(e,t,r);class Qo{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Bo(this.code,t):t.then((e=>Bo(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Do=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ko=_o({name:"sha2-256",code:18,encode:Do("SHA-256")});_o({name:"sha2-512",code:19,encode:Do("SHA-512")});var Mo,Po=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class xo{static hash(e,t){return Po(this,void 0,void 0,(function*(){const r=yield this.hashAsNonMultihashBytes(e,t);return ao.encode(r,t)}))}static hashAsNonMultihashBytes(e,t){return Po(this,void 0,void 0,(function*(){let r;if(18!==t)throw new Hn(Kn,`Hash algorithm defined in multihash code ${t} is not supported.`);return r=yield ko.encode(e),r}))}static canonicalizeThenHashThenEncode(e,t){return Po(this,void 0,void 0,(function*(){const r=so.canonicalizeAsBytes(e);return yield xo.hashThenEncode(r,t)}))}static canonicalizeThenDoubleHashThenEncode(e,t){return Po(this,void 0,void 0,(function*(){const r=so.canonicalizeAsBytes(e),i=yield xo.hashAsNonMultihashBytes(r,t);return yield xo.hashThenEncode(i,t)}))}static hashThenEncode(e,t){return Po(this,void 0,void 0,(function*(){const r=yield xo.hash(e,t);return Zn.encode(r)}))}static validateEncodedHashComputedUsingSupportedHashAlgorithm(e,t){let r;const i=Zn.decodeAsBytes(e,t);try{r=ao.decode(i)}catch(r){throw new Hn("MultihashStringNotAMultihash",`Given ${t} string '${e}' is not a multihash after decoding.`)}const n=no.hashAlgorithmInMultihashCode;if(n!==r.code)throw new Hn(Kn,`Given ${t} uses unsupported multihash algorithm with code ${r.code}, should use ${n} or change IonSdkConfig to desired hashing algorithm.`)}}!function(e){e.Create="create",e.Update="update",e.Deactivate="deactivate",e.Recover="recover"}(Mo||(Mo={}));const Fo=Mo;var Ro;!function(e){e.Replace="replace",e.AddPublicKeys="add-public-keys",e.RemovePublicKeys="remove-public-keys",e.AddServices="add-services",e.RemoveServices="remove-services"}(Ro||(Ro={}));const Oo=Ro;var To=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class No{static createCreateRequest(e){return To(this,void 0,void 0,(function*(){const t=e.recoveryKey,r=e.updateKey,i=e.document.publicKeys,n=e.document.services;io.validateEs256kOperationKey(t,ro.Public),io.validateEs256kOperationKey(r,ro.Public),No.validateDidDocumentKeys(i),No.validateServices(n);const o=no.hashAlgorithmInMultihashCode,s=[{action:Oo.Replace,document:e.document}],a={updateCommitment:yield xo.canonicalizeThenDoubleHashThenEncode(r,o),patches:s};No.validateDeltaSize(a);const c={deltaHash:yield xo.canonicalizeThenHashThenEncode(a,o),recoveryCommitment:yield xo.canonicalizeThenDoubleHashThenEncode(t,o)};return{type:Fo.Create,suffixData:c,delta:a}}))}static createDeactivateRequest(e){return To(this,void 0,void 0,(function*(){No.validateDidSuffix(e.didSuffix),io.validateEs256kOperationKey(e.recoveryPublicKey,ro.Public);const t=no.hashAlgorithmInMultihashCode,r=yield xo.canonicalizeThenHashThenEncode(e.recoveryPublicKey,t),i={didSuffix:e.didSuffix,recoveryKey:e.recoveryPublicKey},n=yield e.signer.sign({alg:"ES256K"},i);return{type:Fo.Deactivate,didSuffix:e.didSuffix,revealValue:r,signedData:n}}))}static createRecoverRequest(e){return To(this,void 0,void 0,(function*(){No.validateDidSuffix(e.didSuffix),io.validateEs256kOperationKey(e.recoveryPublicKey,ro.Public),io.validateEs256kOperationKey(e.nextRecoveryPublicKey,ro.Public),io.validateEs256kOperationKey(e.nextUpdatePublicKey,ro.Public),No.validateDidDocumentKeys(e.document.publicKeys),No.validateServices(e.document.services);const t=no.hashAlgorithmInMultihashCode,r=yield xo.canonicalizeThenHashThenEncode(e.recoveryPublicKey,t),i={patches:[{action:Oo.Replace,document:e.document}],updateCommitment:yield xo.canonicalizeThenDoubleHashThenEncode(e.nextUpdatePublicKey,t)},n=yield xo.canonicalizeThenHashThenEncode(i,t),o={recoveryCommitment:yield xo.canonicalizeThenDoubleHashThenEncode(e.nextRecoveryPublicKey,t),recoveryKey:e.recoveryPublicKey,deltaHash:n},s=yield e.signer.sign({alg:"ES256K"},o);return{type:Fo.Recover,didSuffix:e.didSuffix,revealValue:r,delta:i,signedData:s}}))}static createUpdateRequest(e){return To(this,void 0,void 0,(function*(){if(No.validateDidSuffix(e.didSuffix),io.validateEs256kOperationKey(e.updatePublicKey,ro.Public),io.validateEs256kOperationKey(e.nextUpdatePublicKey,ro.Public),No.validateServices(e.servicesToAdd),No.validateDidDocumentKeys(e.publicKeysToAdd),void 0!==e.idsOfServicesToRemove)for(const t of e.idsOfServicesToRemove)io.validateId(t);if(void 0!==e.idsOfPublicKeysToRemove)for(const t of e.idsOfPublicKeysToRemove)io.validateId(t);const t=[],r=e.servicesToAdd;if(void 0!==r&&r.length>0){const e={action:Oo.AddServices,services:r};t.push(e)}const i=e.idsOfServicesToRemove;if(void 0!==i&&i.length>0){const e={action:Oo.RemoveServices,ids:i};t.push(e)}const n=e.publicKeysToAdd;if(void 0!==n&&n.length>0){const e={action:Oo.AddPublicKeys,publicKeys:n};t.push(e)}const o=e.idsOfPublicKeysToRemove;if(void 0!==o&&o.length>0){const e={action:Oo.RemovePublicKeys,ids:o};t.push(e)}const s=no.hashAlgorithmInMultihashCode,a=yield xo.canonicalizeThenHashThenEncode(e.updatePublicKey,s),c={patches:t,updateCommitment:yield xo.canonicalizeThenDoubleHashThenEncode(e.nextUpdatePublicKey,s)},u=yield xo.canonicalizeThenHashThenEncode(c,s),h={updateKey:e.updatePublicKey,deltaHash:u},d=yield e.signer.sign({alg:"ES256K"},h);return{type:Fo.Update,didSuffix:e.didSuffix,revealValue:a,delta:c,signedData:d}}))}static validateDidSuffix(e){xo.validateEncodedHashComputedUsingSupportedHashAlgorithm(e,"didSuffix")}static validateDidDocumentKeys(e){if(void 0===e)return;const t=new Set;for(const r of e){if(Array.isArray(r.publicKeyJwk))throw new Hn("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(io.validateId(r.id),t.has(r.id))throw new Hn("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${r.id}' already exists.`);t.add(r.id),io.validatePublicKeyPurposes(r.purposes)}}static validateServices(e){if(void 0!==e&&0!==e.length){const t=new Set;for(const r of e){if(No.validateService(r),t.has(r.id))throw new Hn("DidDocumentServiceIdDuplicated","Service id has to be unique");t.add(r.id)}}}static validateService(e){if(io.validateId(e.id),e.type.length>30){const t=`Service endpoint type length ${e.type.length} exceeds max allowed length of 30.`;throw new Hn("ServiceTypeTooLong",t)}if(Array.isArray(e.serviceEndpoint))throw new Hn("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof e.serviceEndpoint&&void 0!==to.parse(e.serviceEndpoint).error)throw new Hn("ServiceEndpointStringNotValidUri",`Service endpoint string '${e.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(e){const t=so.canonicalizeAsBytes(e);if(t.length>no.maxCanonicalizedDeltaSizeInBytes){const e=`Delta of ${t.length} bytes exceeded limit of ${no.maxCanonicalizedDeltaSizeInBytes} bytes.`;throw new Hn("DeltaExceedsMaximumSize",e)}}}var Uo=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class jo{static createLongFormDid(e){return Uo(this,void 0,void 0,(function*(){const t=yield No.createCreateRequest(e),r=yield jo.computeDidUniqueSuffix(t.suffixData);let i;i=void 0===no.network||"mainnet"===no.network?`did:ion:${r}`:`did:ion:${no.network}:${r}`;const n={suffixData:t.suffixData,delta:t.delta},o=so.canonicalizeAsBytes(n);return`${i}:${Zn.encode(o)}`}))}static computeDidUniqueSuffix(e){return Uo(this,void 0,void 0,(function*(){const t=so.canonicalizeAsBytes(e),r=yield xo.hash(t,no.hashAlgorithmInMultihashCode);return Zn.encode(r)}))}}const Lo=2n**255n-19n,qo=2n**252n+27742317777372353535851937790883648493n,Ko=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Ho=0x6666666666666666666666666666666666666666666666666666666666666658n,Go={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:Lo,n:qo,h:8,Gx:Ko,Gy:Ho},zo=(e="")=>{throw new Error(e)},Jo=e=>"string"==typeof e,Yo=(e,t)=>!(e instanceof Uint8Array)||"number"==typeof t&&t>0&&e.length!==t?zo("Uint8Array expected"):e,Vo=e=>new Uint8Array(e),$o=(e,t)=>Yo(Jo(e)?os(e):Vo(e),t),Wo=(e,t=Lo)=>{let r=e%t;return r>=0n?r:t+r},Zo=e=>e instanceof es?e:zo("Point expected");let Xo;class es{constructor(e,t,r,i){this.ex=e,this.ey=t,this.ez=r,this.et=i}static fromAffine(e){return new es(e.x,e.y,1n,Wo(e.x*e.y))}static fromHex(e,t=!0){const{d:r}=Go,i=(e=$o(e,32)).slice();i[31]=-129&e[31];const n=as(i);0n===n||(!t||0n<n&&n<Lo||zo("bad y coord 1"),t||0n<n&&n<2n**256n||zo("bad y coord 2"));const o=Wo(n*n),s=Wo(o-1n),a=Wo(r*o+1n);let{isValid:c,value:u}=ls(s,a);c||zo("bad y coordinate 3");const h=1n===(1n&u);return 0!=(128&e[31])!==h&&(u=Wo(-u)),new es(u,n,1n,Wo(u*n))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(e){const{ex:t,ey:r,ez:i}=this,{ex:n,ey:o,ez:s}=Zo(e),a=Wo(t*s),c=Wo(n*i),u=Wo(r*s),h=Wo(o*i);return a===c&&u===h}is0(){return this.equals(rs)}negate(){return new es(Wo(-this.ex),this.ey,this.ez,Wo(-this.et))}double(){const{ex:e,ey:t,ez:r}=this,{a:i}=Go,n=Wo(e*e),o=Wo(t*t),s=Wo(2n*Wo(r*r)),a=Wo(i*n),c=e+t,u=Wo(Wo(c*c)-n-o),h=a+o,d=h-s,l=a-o,f=Wo(u*d),p=Wo(h*l),A=Wo(u*l),g=Wo(d*h);return new es(f,p,g,A)}add(e){const{ex:t,ey:r,ez:i,et:n}=this,{ex:o,ey:s,ez:a,et:c}=Zo(e),{a:u,d:h}=Go,d=Wo(t*o),l=Wo(r*s),f=Wo(n*h*c),p=Wo(i*a),A=Wo((t+r)*(o+s)-d-l),g=Wo(p-f),m=Wo(p+f),y=Wo(l-u*d),I=Wo(A*g),w=Wo(m*y),b=Wo(A*y),v=Wo(g*m);return new es(I,w,v,b)}mul(e,t=!0){if(0n===e)return!0===t?zo("cannot multiply by 0"):rs;if("bigint"==typeof e&&0n<e&&e<qo||zo("invalid scalar, must be < L"),!t&&this.is0()||1n===e)return this;if(this.equals(ts))return Es(e).p;let r=rs,i=ts;for(let n=this;e>0n;n=n.double(),e>>=1n)1n&e?r=r.add(n):t&&(i=i.add(n));return r}multiply(e){return this.mul(e)}clearCofactor(){return this.mul(BigInt(Go.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.mul(qo/2n,!1).double();return qo%2n&&(e=e.add(this)),e.is0()}toAffine(){const{ex:e,ey:t,ez:r}=this;if(this.is0())return{x:0n,y:0n};const i=us(r);return 1n!==Wo(r*i)&&zo("invalid inverse"),{x:Wo(e*i),y:Wo(t*i)}}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=ss(t);return r[31]|=1n&e?128:0,r}toHex(){return ns(this.toRawBytes())}}es.BASE=new es(Ko,Ho,1n,Wo(Ko*Ho)),es.ZERO=new es(0n,1n,1n,0n);const{BASE:ts,ZERO:rs}=es,is=(e,t)=>e.toString(16).padStart(t,"0"),ns=e=>Array.from(e).map((e=>is(e,2))).join(""),os=e=>{const t=e.length;(!Jo(e)||t%2)&&zo("hex invalid 1");const r=Vo(t/2);for(let t=0;t<r.length;t++){const i=2*t,n=e.slice(i,i+2),o=Number.parseInt(n,16);(Number.isNaN(o)||o<0)&&zo("hex invalid 2"),r[t]=o}return r},ss=e=>os(is(e,64)).reverse(),as=e=>BigInt("0x"+ns(Vo(Yo(e)).reverse())),cs=(...e)=>{const t=Vo(e.reduce(((e,t)=>e+Yo(t).length),0));let r=0;return e.forEach((e=>{t.set(e,r),r+=e.length})),t},us=(e,t=Lo)=>{(0n===e||t<=0n)&&zo("no inverse n="+e+" mod="+t);let r=Wo(e,t),i=t,n=0n,o=1n,s=1n,a=0n;for(;0n!==r;){const e=i/r,t=i%r,c=n-s*e,u=o-a*e;i=r,r=t,n=s,o=a,s=c,a=u}return 1n===i?Wo(n,t):zo("no inverse")},hs=(e,t)=>{let r=e;for(;t-- >0n;)r*=r,r%=Lo;return r},ds=19681161376707505956807079304988542015446066515923890162744021073123829784752n,ls=(e,t)=>{const r=Wo(t*t*t),i=(e=>{const t=e*e%Lo*e%Lo,r=hs(t,2n)*t%Lo,i=hs(r,1n)*e%Lo,n=hs(i,5n)*i%Lo,o=hs(n,10n)*n%Lo,s=hs(o,20n)*o%Lo,a=hs(s,40n)*s%Lo,c=hs(a,80n)*a%Lo,u=hs(c,80n)*a%Lo,h=hs(u,10n)*n%Lo;return{pow_p_5_8:hs(h,2n)*e%Lo,b2:t}})(e*Wo(r*r*t)).pow_p_5_8;let n=Wo(e*r*i);const o=Wo(t*n*n),s=n,a=Wo(n*ds),c=o===e,u=o===Wo(-e),h=o===Wo(-e*ds);return c&&(n=s),(u||h)&&(n=a),1n===(1n&Wo(n))&&(n=Wo(-n)),{isValid:c||u,value:n}},fs=e=>Wo(as(e),qo);let ps;const As=(...e)=>bs.sha512Async(...e),gs=(...e)=>"function"==typeof ps?ps(...e):zo("etc.sha512Sync not set"),ms=e=>{const t=e.slice(0,32);t[0]&=248,t[31]&=127,t[31]|=64;const r=e.slice(32,64),i=fs(t),n=ts.mul(i),o=n.toRawBytes();return{head:t,prefix:r,scalar:i,point:n,pointBytes:o}},ys=e=>As($o(e,32)).then(ms);function Is(e,t){return e?As(t.hashable).then(t.finish):t.finish(gs(t.hashable))}const ws=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,bs={bytesToHex:ns,hexToBytes:os,concatBytes:cs,mod:Wo,invert:us,randomBytes:e=>{const t=ws();return t||zo("crypto.getRandomValues must be defined"),t.getRandomValues(Vo(e))},sha512Async:async(...e)=>{const t=ws();t||zo("crypto.subtle or etc.sha512Async must be defined");const r=cs(...e);return Vo(await t.subtle.digest("SHA-512",r.buffer))},sha512Sync:void 0};Object.defineProperties(bs,{sha512Sync:{configurable:!1,get:()=>ps,set(e){ps||(ps=e)}}});const vs=()=>bs.randomBytes(32),Es=e=>{const t=Xo||(Xo=(()=>{const e=[];let t=ts,r=t;for(let i=0;i<33;i++){r=t,e.push(r);for(let i=1;i<128;i++)r=r.add(t),e.push(r);t=r.double()}return e})()),r=(e,t)=>{let r=t.negate();return e?r:t};let i=rs,n=ts;const o=BigInt(255),s=BigInt(8);for(let a=0;a<33;a++){const c=128*a;let u=Number(e&o);e>>=s,u>128&&(u-=256,e+=1n);const h=c,d=c+Math.abs(u)-1,l=a%2!=0,f=u<0;0===u?n=n.add(r(l,t[h])):i=i.add(r(f,t[d]))}return{p:i,f:n}},Cs=2n**256n,Bs=Cs-0x1000003d1n,Ss=Cs-0x14551231950b75fc4402da1732fc9bebfn,_s=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,Qs=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,Ds={p:Bs,n:Ss,a:0n,b:7n,Gx:_s,Gy:Qs},ks=32,Ms=e=>js(js(e*e)*e+Ds.b),Ps=(e="")=>{throw new Error(e)},xs=e=>"bigint"==typeof e,Fs=e=>"string"==typeof e,Rs=e=>xs(e)&&0n<e&&e<Bs,Os=e=>xs(e)&&0n<e&&e<Ss,Ts=(e,t)=>!(e instanceof Uint8Array)||"number"==typeof t&&t>0&&e.length!==t?Ps("Uint8Array expected"):e,Ns=e=>new Uint8Array(e),Us=(e,t)=>Ts(Fs(e)?Ys(e):Ns(e),t),js=(e,t=Bs)=>{let r=e%t;return r>=0n?r:t+r},Ls=e=>e instanceof Ks?e:Ps("Point expected");let qs;class Ks{constructor(e,t,r){this.px=e,this.py=t,this.pz=r}static fromAffine(e){return new Ks(e.x,e.y,1n)}static fromHex(e){let t;const r=(e=Us(e))[0],i=e.subarray(1),n=$s(i,0,ks),o=e.length;if(33===o&&[2,3].includes(r)){Rs(n)||Ps("Point hex invalid: x not FE");let e=ta(Ms(n));1==(1&r)!=(1n===(1n&e))&&(e=js(-e)),t=new Ks(n,e,1n)}return 65===o&&4===r&&(t=new Ks(n,$s(i,ks,64),1n)),t?t.ok():Ps("Point is not on curve")}static fromPrivateKey(e){return Hs.mul(ra(e))}get x(){return this.aff().x}get y(){return this.aff().y}equals(e){const{px:t,py:r,pz:i}=this,{px:n,py:o,pz:s}=Ls(e),a=js(t*s),c=js(n*i),u=js(r*s),h=js(o*i);return a===c&&u===h}negate(){return new Ks(this.px,js(-this.py),this.pz)}double(){return this.add(this)}add(e){const{px:t,py:r,pz:i}=this,{px:n,py:o,pz:s}=Ls(e),{a,b:c}=Ds;let u=0n,h=0n,d=0n;const l=js(3n*c);let f=js(t*n),p=js(r*o),A=js(i*s),g=js(t+r),m=js(n+o);g=js(g*m),m=js(f+p),g=js(g-m),m=js(t+i);let y=js(n+s);return m=js(m*y),y=js(f+A),m=js(m-y),y=js(r+i),u=js(o+s),y=js(y*u),u=js(p+A),y=js(y-u),d=js(a*m),u=js(l*A),d=js(u+d),u=js(p-d),d=js(p+d),h=js(u*d),p=js(f+f),p=js(p+f),A=js(a*A),m=js(l*m),p=js(p+A),A=js(f-A),A=js(a*A),m=js(m+A),f=js(p*m),h=js(h+f),f=js(y*m),u=js(g*u),u=js(u-f),f=js(g*p),d=js(y*d),d=js(d+f),new Ks(u,h,d)}mul(e,t=!0){if(!t&&0n===e)return Gs;if(Os(e)||Ps("invalid scalar"),this.equals(Hs))return ga(e).p;let r=Gs,i=Hs;for(let n=this;e>0n;n=n.double(),e>>=1n)1n&e?r=r.add(n):t&&(i=i.add(n));return r}mulAddQUns(e,t,r){return this.mul(t,!1).add(e.mul(r,!1)).ok()}toAffine(){const{px:e,py:t,pz:r}=this;if(this.equals(Gs))return{x:0n,y:0n};if(1n===r)return{x:e,y:t};const i=ea(r);return 1n!==js(r*i)&&Ps("invalid inverse"),{x:js(e*i),y:js(t*i)}}assertValidity(){const{x:e,y:t}=this.aff();return Rs(e)&&Rs(t)||Ps("Point invalid: x or y"),js(t*t)===Ms(e)?this:Ps("Point invalid: not on curve")}multiply(e){return this.mul(e)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(e=!0){const{x:t,y:r}=this.aff();return(e?0n===(1n&r)?"02":"03":"04")+Zs(t)+(e?"":Zs(r))}toRawBytes(e=!0){return Ys(this.toHex(e))}}Ks.BASE=new Ks(_s,Qs,1n),Ks.ZERO=new Ks(0n,1n,0n);const{BASE:Hs,ZERO:Gs}=Ks,zs=(e,t)=>e.toString(16).padStart(t,"0"),Js=e=>Array.from(e).map((e=>zs(e,2))).join(""),Ys=e=>{const t=e.length;(!Fs(e)||t%2)&&Ps("hex invalid 1");const r=Ns(t/2);for(let t=0;t<r.length;t++){const i=2*t,n=e.slice(i,i+2),o=Number.parseInt(n,16);(Number.isNaN(o)||o<0)&&Ps("hex invalid 2"),r[t]=o}return r},Vs=e=>BigInt("0x"+(Js(e)||"0")),$s=(e,t,r)=>Vs(e.slice(t,r)),Ws=e=>xs(e)&&e>=0n&&e<Cs?Ys(zs(e,64)):Ps("bigint expected"),Zs=e=>Js(Ws(e)),Xs=(...e)=>{const t=Ns(e.reduce(((e,t)=>e+Ts(t).length),0));let r=0;return e.forEach((e=>{t.set(e,r),r+=e.length})),t},ea=(e,t=Bs)=>{(0n===e||t<=0n)&&Ps("no inverse n="+e+" mod="+t);let r=js(e,t),i=t,n=0n,o=1n,s=1n,a=0n;for(;0n!==r;){const e=i/r,t=i%r,c=n-s*e,u=o-a*e;i=r,r=t,n=s,o=a,s=c,a=u}return 1n===i?js(n,t):Ps("no inverse")},ta=e=>{let t=1n;for(let r=e,i=(Bs+1n)/4n;i>0n;i>>=1n)1n&i&&(t=t*r%Bs),r=r*r%Bs;return js(t*t)===e?t:Ps("sqrt invalid")},ra=e=>(xs(e)||(e=Vs(Us(e,ks))),Os(e)?e:Ps("private key out of range")),ia=e=>e>Ss>>1n;function na(e,t=!0){return Ks.fromPrivateKey(e).toRawBytes(t)}class oa{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){return e=Us(e,64),new oa($s(e,0,ks),$s(e,ks,64))}assertValidity(){return Os(this.r)&&Os(this.s)?this:Ps()}addRecoveryBit(e){return new oa(this.r,this.s,e)}hasHighS(){return ia(this.s)}recoverPublicKey(e){const{r:t,s:r,recovery:i}=this;[0,1,2,3].includes(i)||Ps("recovery id invalid");const n=aa(Us(e,32)),o=2===i||3===i?t+Ss:t;o>=Bs&&Ps("q.x invalid");const s=0==(1&i)?"02":"03",a=Ks.fromHex(s+Zs(o)),c=ea(o,Ss),u=js(-n*c,Ss),h=js(r*c,Ss);return Hs.mulAddQUns(a,u,h)}toCompactRawBytes(){return Ys(this.toCompactHex())}toCompactHex(){return Zs(this.r)+Zs(this.s)}}const sa=e=>{const t=8*e.length-256,r=Vs(e);return t>0?r>>BigInt(t):r},aa=e=>js(sa(e),Ss),ca=e=>Ws(e),ua=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let ha;const da={lowS:!0},la={lowS:!0};function fa(e){((e=Us(e)).length<40||e.length>1024)&&Ps("expected proper params");const t=js(Vs(e),Ss-1n)+1n;return Ws(t)}const pa={hexToBytes:Ys,bytesToHex:Js,concatBytes:Xs,bytesToNumberBE:Vs,numberToBytesBE:Ws,mod:js,invert:ea,hmacSha256Async:async(e,...t)=>{const r=ua();if(!r)return Ps("etc.hmacSha256Async not set");const i=r.subtle,n=await i.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return Ns(await i.sign("HMAC",n,Xs(...t)))},hmacSha256Sync:ha,hashToPrivateKey:fa,randomBytes:e=>{const t=ua();return t||Ps("crypto.getRandomValues must be defined"),t.getRandomValues(Ns(e))}},Aa=()=>fa(pa.randomBytes(40));Object.defineProperties(pa,{hmacSha256Sync:{configurable:!1,get:()=>ha,set(e){ha||(ha=e)}}});const ga=e=>{const t=qs||(qs=(()=>{const e=[];let t=Hs,r=t;for(let i=0;i<33;i++){r=t,e.push(r);for(let i=1;i<128;i++)r=r.add(t),e.push(r);t=r.double()}return e})()),r=(e,t)=>{let r=t.negate();return e?r:t};let i=Gs,n=Hs;const o=BigInt(255),s=BigInt(8);for(let a=0;a<33;a++){const c=128*a;let u=Number(e&o);e>>=s,u>128&&(u-=256,e+=1n);const h=c,d=c+Math.abs(u)-1,l=a%2!=0,f=u<0;0===u?n=n.add(r(l,t[h])):i=i.add(r(f,t[d]))}return{p:i,f:n}};var ma,ya;!function(e){e.Mainnet="mainnet",e.Testnet="test"}(ma||(ma={})),function(e){e.Authentication="authentication",e.AssertionMethod="assertionMethod",e.CapabilityInvocation="capabilityInvocation",e.CapabilityDelegation="capabilityDelegation",e.KeyAgreement="keyAgreement"}(ya||(ya={}));const Ia=ya;var wa,ba=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.Create="create",e.Update="update",e.Deactivate="deactivate",e.Recover="recover"}(wa||(wa={}));const va={assertionMethod:Ia.AssertionMethod,authentication:Ia.Authentication,capabilityDelegation:Ia.CapabilityDelegation,capabilityInvocation:Ia.CapabilityInvocation,keyAgreement:Ia.KeyAgreement};class Ea{static anchor(e){return ba(this,void 0,void 0,(function*(){const{challengeEnabled:t=!0,challengeEndpoint:r="https://beta.ion.msidentity.com/api/v1.0/proof-of-work-challenge",keySet:i,services:n,operationsEndpoint:o="https://beta.ion.msidentity.com/api/v1.0/operations"}=e,s=yield Ea.createIonDocument({keySet:i,services:n}),a=yield Ea.getIonCreateRequest({ionDocument:s,recoveryPublicKeyJwk:i.recoveryKey.publicKeyJwk,updatePublicKeyJwk:i.updateKey.publicKeyJwk});let c;if(t){const e=yield qn.submitIonRequest(r,o,JSON.stringify(a));void 0!==e&&"String"===Z(e)&&(c=JSON.parse(e))}else{const e=yield fetch(o,{method:"POST",mode:"cors",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});e.ok&&(c=yield e.json())}return c}))}static create(e){return ba(this,void 0,void 0,(function*(){let{anchor:t,keyAlgorithm:r,keySet:i,services:n}=null!=e?e:{};const o={};let s;return o.keySet=yield Ea.generateKeySet({keyAlgorithm:r,keySet:i}),o.did=yield Ea.getLongFormDid({keySet:o.keySet,services:n}),o.canonicalId=yield Ea.getShortFormDid({didUrl:o.did}),s=t?yield Ea.anchor({keySet:o.keySet,services:n}):yield Ea.resolve({didUrl:o.did}),o.document=s.didDocument,o}))}static decodeLongFormDid(e){return ba(this,void 0,void 0,(function*(){const{didUrl:t}=e,r=Ln({didUrl:t});if(!r)throw new Error(`DidIonMethod: Unable to parse DID: ${t}`);const i=te.base64Url(r.id.split(":").pop()).toObject();return Object.assign(Object.assign({},i),{type:wa.Create})}))}static generateDwnOptions(e){return ba(this,void 0,void 0,(function*(){const{signingKeyAlgorithm:t="Ed25519",serviceId:r="#dwn",signingKeyId:i="#dwn-sig",encryptionKeyId:n="#dwn-enc",serviceEndpointNodes:o}=e,s=yield Ea.generateJwkKeyPair({keyAlgorithm:t,keyId:i}),a=yield Ea.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:n});return{keySet:{verificationMethodKeys:[Object.assign(Object.assign({},s),{relationships:["authentication"]}),Object.assign(Object.assign({},a),{relationships:["keyAgreement"]})]},services:[{id:r,serviceEndpoint:{encryptionKeys:[n],nodes:o,signingKeys:[i]},type:"DecentralizedWebNode"}]}}))}static generateJwkKeyPair(e){return ba(this,void 0,void 0,(function*(){const{keyAlgorithm:t,keyId:r}=e;let i;switch(t){case"Ed25519":i=yield(new cn).generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});break;case"secp256k1":i=yield(new sn).generateKey({algorithm:{name:"ECDSA",namedCurve:"secp256k1"},extractable:!0,keyUsages:["sign","verify"]});break;default:throw new Error(`Unsupported crypto algorithm: '${t}'`)}const n=yield An.cryptoKeyToJwkPair({keyPair:i});if(r)n.privateKeyJwk.kid=r,n.publicKeyJwk.kid=r;else{const e=yield An.jwkThumbprint({key:n.publicKeyJwk});n.privateKeyJwk.kid=e,n.publicKeyJwk.kid=e}return n}))}static generateKeySet(e){var t,r,i,n;return ba(this,void 0,void 0,(function*(){let{keyAlgorithm:o="Ed25519",keySet:s={}}=null!=e?e:{};if(void 0===s.verificationMethodKeys){const e=yield Ea.generateJwkKeyPair({keyAlgorithm:o,keyId:"dwn-sig"});s.verificationMethodKeys=[Object.assign(Object.assign({},e),{relationships:["authentication","assertionMethod"]})]}void 0===s.recoveryKey&&(s.recoveryKey=yield Ea.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:"ion-recovery-1"})),void 0===s.updateKey&&(s.updateKey=yield Ea.generateJwkKeyPair({keyAlgorithm:"secp256k1",keyId:"ion-update-1"}));for(const e of[...s.verificationMethodKeys,s.recoveryKey,s.updateKey])"publicKeyJwk"in e&&(null!==(t=(i=e.publicKeyJwk).kid)&&void 0!==t||(i.kid=yield An.jwkThumbprint({key:e.publicKeyJwk}))),"privateKeyJwk"in e&&(null!==(r=(n=e.privateKeyJwk).kid)&&void 0!==r||(n.kid=yield An.jwkThumbprint({key:e.privateKeyJwk})));return s}))}static getDefaultSigningKey(e){return ba(this,void 0,void 0,(function*(){const{didDocument:t}=e;if(!t.id)throw new Error("DidIonMethod: DID document is missing 'id' property");const[r]=Tn({didDocument:t,type:"DecentralizedWebNode"});if(jn(null==r?void 0:r.serviceEndpoint)){const[e]=r.serviceEndpoint.signingKeys;return`${t.id}${e}`}if(t.authentication&&Array.isArray(t.authentication)&&t.authentication.length>0&&"string"==typeof t.authentication[0]){const[e]=t.authentication;return`${t.id}${e}`}}))}static getLongFormDid(e){return ba(this,void 0,void 0,(function*(){const{services:t=[],keySet:r}=e,i=yield Ea.createIonDocument({keySet:r,services:t}),n=Ea.jwkToIonJwk({key:r.recoveryKey.publicKeyJwk}),o=Ea.jwkToIonJwk({key:r.updateKey.publicKeyJwk});return yield jo.createLongFormDid({document:i,recoveryKey:n,updateKey:o})}))}static getShortFormDid(e){return ba(this,void 0,void 0,(function*(){const{didUrl:t}=e,r=Ln({didUrl:t});if(!r)throw new Error(`DidIonMethod: Unable to parse DID: ${t}`);return r.did.split(":",3).join(":")}))}static resolve(e){var t;return ba(this,void 0,void 0,(function*(){const{didUrl:r,resolutionOptions:i={}}=e,n=Ln({didUrl:r});if(!n)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"invalidDid",errorMessage:`Cannot parse DID: ${r}`}};if("ion"!==n.method)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"methodNotSupported",errorMessage:`Method not supported: ${n.method}`}};const{resolutionEndpoint:o="https://discover.did.msidentity.com/1.0/identifiers/"}=i,s=`${a=o,a.endsWith("/")?a:a+"/"}${n.did}`;var a;const c=yield fetch(s);let u;try{u=yield c.json()}catch(h){u={}}if(c.ok)return u;if("didResolutionMetadata"in u)return u;let h="internalError",d=`DID resolver responded with HTTP status code: ${c.status}`;return"error"in u&&"object"==typeof u.error&&"code"in u.error&&"string"==typeof u.error.code&&"message"in u.error&&"string"==typeof u.error.message&&(h=u.error.code.includes("not_found")?"notFound":h,d=null!==(t=u.error.message)&&void 0!==t?t:d),{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:h,errorMessage:d}}}))}static createIonDocument(e){return ba(this,void 0,void 0,(function*(){const{services:t=[],keySet:r}=e,i=[];for(const e of r.verificationMethodKeys){const t=[];for(const r of e.relationships)t.push(va[r]);const r={id:e.publicKeyJwk.kid.startsWith("#")?e.publicKeyJwk.kid.substring(1):e.publicKeyJwk.kid,publicKeyJwk:Ea.jwkToIonJwk({key:e.publicKeyJwk}),purposes:t,type:"JsonWebKey2020"};i.push(r)}return{publicKeys:i,services:t.map((e=>Object.assign(Object.assign({},e),{id:e.id.startsWith("#")?e.id.substring(1):e.id})))}}))}static getIonCreateRequest(e){return ba(this,void 0,void 0,(function*(){const{ionDocument:t,recoveryPublicKeyJwk:r,updatePublicKeyJwk:i}=e;return yield No.createCreateRequest({document:t,recoveryKey:Ea.jwkToIonJwk({key:r}),updateKey:Ea.jwkToIonJwk({key:i})})}))}static jwkToIonJwk({key:e}){let t={};if("crv"in e)return t.crv=e.crv,t.kty=e.kty,t.x=e.x,"d"in e&&(t.d=e.d),"y"in e&&e.y?Object.assign(Object.assign({},t),{y:e.y}):Object.assign({},t);throw new Error("jwkToIonJwk: Unsupported key algorithm.")}}Ea.methodName="ion";var Ca=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const Ba=["Ed25519VerificationKey2020","JsonWebKey2020","X25519KeyAgreementKey2020"],Sa={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},_a={231:33,236:32,237:32};class Qa{static create(e){var t,r;return Ca(this,void 0,void 0,(function*(){let{enableEncryptionKeyDerivation:i=!1,keyAlgorithm:n,keySet:o,publicKeyFormat:s="JsonWebKey2020"}=null!=e?e:{};void 0===o&&(o=yield Qa.generateKeySet({keyAlgorithm:n}));const a={};let c="";if(null===(r=null===(t=o.verificationMethodKeys)||void 0===t?void 0:t[0])||void 0===r?void 0:r.publicKeyJwk){const e=o.verificationMethodKeys[0].publicKeyJwk;c=yield An.jwkToMultibaseId({key:e})}if(!c)throw new Error("DidKeyMethod: Failed to create DID with given input.");return a.did=`did:key:${c}`,a.document=yield Qa.createDocument({did:a.did,publicKeyFormat:s,enableEncryptionKeyDerivation:i}),a.keySet=o,a}))}static createDocument(e){return Ca(this,void 0,void 0,(function*(){const{defaultContext:t="https://www.w3.org/ns/did/v1",did:r,enableEncryptionKeyDerivation:i=!1,enableExperimentalPublicKeyTypes:n=!1,publicKeyFormat:o="JsonWebKey2020"}=e,s={};let a;try{({id:a}=Ln({didUrl:r}))}catch(e){throw new Error(`invalidDid: Unknown format: ${r}`)}if(!Qa.validateIdentifier({did:r}))throw new Error(`invalidDid: Invalid identifier format: ${r}`);const c=yield Qa.createSignatureMethod({did:r,enableExperimentalPublicKeyTypes:n,multibaseValue:a,publicKeyFormat:o});if(s.id=r,s.verificationMethod=[c],s.authentication=[c.id],s.assertionMethod=[c.id],s.capabilityInvocation=[c.id],s.capabilityDelegation=[c.id],!0===i){const e="Ed25519VerificationKey2020"===o?"X25519KeyAgreementKey2020":"JsonWebKey2020",t=yield this.createEncryptionMethod({did:r,enableExperimentalPublicKeyTypes:n,multibaseValue:a,publicKeyFormat:e});s.verificationMethod.push(t),s.keyAgreement=[t.id]}const u=[t];return Un({didDocument:s}).forEach((e=>{const t=Sa[e];u.push(t)})),s["@context"]=u,s}))}static createEncryptionMethod(e){return Ca(this,void 0,void 0,(function*(){const{did:t,enableExperimentalPublicKeyTypes:r,multibaseValue:i,publicKeyFormat:n}=e,o={},{key:s,multicodecCode:a}=yield Qa.deriveEncryptionKey({multibaseValue:i}),c=s.byteLength,u=_a[a];if(c!==u)throw new Error(`invalidPublicKeyLength: Expected ${c} bytes. Actual ${u} bytes.`);const h=ot({key:s,multicodecCode:a});o.id=`${t}#${h}`;try{new URL(o.id)}catch(e){throw new Error("invalidDidUrl: Verification Method ID is not a valid DID URL.")}if(!Ba.includes(n))throw new Error(`unsupportedPublicKeyType: Unsupported format: ${n}`);if(!1===r&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(n))throw new Error(`invalidPublicKeyType: Specified '${n}' without setting enableExperimentalPublicKeyTypes to true.`);if(o.type=n,o.controller=t,!Qa.validateIdentifier({did:t}))throw new Error(`invalidDid: Invalid identifier format: ${t}`);if("X25519KeyAgreementKey2020"===n&&(o.publicKeyMultibase=h),"JsonWebKey2020"===n){const e=yield An.multicodecToJose({code:a}),t=yield An.keyToJwk(Object.assign({keyMaterial:s,keyType:"public"},e));"x"in t&&!("d"in t)&&(o.publicKeyJwk=t)}return o}))}static deriveEncryptionKey(e){return Ca(this,void 0,void 0,(function*(){const{multibaseValue:t}=e;let r={};const{key:i,multicodecCode:n}=st({multibaseKeyId:t});return 237===n&&(r={key:yield Xr.convertPublicKeyToX25519({publicKey:i}),multicodecCode:236}),r}))}static createSignatureMethod(e){return Ca(this,void 0,void 0,(function*(){const{did:t,enableExperimentalPublicKeyTypes:r,multibaseValue:i,publicKeyFormat:n}=e,o={},{key:s,multicodecCode:a,multicodecName:c}=st({multibaseKeyId:i}),u=s.byteLength,h=_a[a];if(u!==h)throw new Error(`invalidPublicKeyLength: Expected ${u} bytes. Actual ${h} bytes.`);let d=!1;switch(c){case"secp256k1-pub":d=yield _i.validatePublicKey({key:s});break;case"ed25519-pub":d=yield Xr.validatePublicKey({key:s});break;case"x25519-pub":d=!0}if(!d)throw new Error("invalidPublicKey: Invalid public key detected.");o.id=`${t}#${i}`;try{new URL(o.id)}catch(e){throw new Error("invalidDidUrl: Verification Method ID is not a valid DID URL.")}if(!Ba.includes(n))throw new Error(`unsupportedPublicKeyType: Unsupported format: ${n}`);if(!1===r&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(n))throw new Error(`invalidPublicKeyType: Specified '${n}' without setting enableExperimentalPublicKeyTypes to true.`);if(o.type=n,o.controller=t,!Qa.validateIdentifier({did:t}))throw new Error(`invalidDid: Invalid identifier format: ${t}`);if("Ed25519VerificationKey2020"===n&&(o.publicKeyMultibase=i),"JsonWebKey2020"===n){const e=yield An.multicodecToJose({code:a}),t=yield An.keyToJwk(Object.assign({keyMaterial:s,keyType:"public"},e));"x"in t&&!("d"in t)&&(o.publicKeyJwk=t)}return o}))}static generateKeySet(e){return Ca(this,void 0,void 0,(function*(){const{keyAlgorithm:t="Ed25519"}=null!=e?e:{};let r;switch(t){case"Ed25519":r=yield(new cn).generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});break;case"secp256k1":r=yield(new sn).generateKey({algorithm:{name:"ECDSA",namedCurve:"secp256k1"},extractable:!0,keyUsages:["sign","verify"]});break;default:throw new Error(`Unsupported crypto algorithm: '${t}'`)}return{verificationMethodKeys:[{publicKeyJwk:yield An.cryptoKeyToJwk({key:r.publicKey}),privateKeyJwk:yield An.cryptoKeyToJwk({key:r.privateKey}),relationships:["authentication"]}]}}))}static getDefaultSigningKey(e){return Ca(this,void 0,void 0,(function*(){const{didDocument:t}=e;if(t.authentication&&Array.isArray(t.authentication)&&t.authentication.length>0&&"string"==typeof t.authentication[0]){const[e]=t.authentication;return e}}))}static resolve(e){return Ca(this,void 0,void 0,(function*(){const{didUrl:t,resolutionOptions:r}=e,i=Ln({didUrl:t});return i?"key"!==i.method?{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"methodNotSupported",errorMessage:`Method not supported: ${i.method}`}}:{"@context":"https://w3id.org/did-resolution/v1",didDocument:yield Qa.createDocument({did:i.did}),didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",did:{didString:i.did,methodSpecificId:i.id,method:i.method}}}:{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"invalidDid",errorMessage:`Cannot parse DID: ${t}`}}}))}static validateIdentifier(e){const{did:t}=e,{method:r,id:i}=Ln({didUrl:t}),[n]=t.split(":",1);return"did"!==n||"key"!==r||parseInt("1")>0||"String"!==Z(i)||!i.startsWith("z")}}Qa.methodName="key";const Da={get:function(e){return null},set:function(e,t){return null},delete:function(e){return null},clear:function(){return null},close:function(){return null}};class ka{constructor(e){this.didResolvers=new Map,this.cache=e.cache||Da;for(const t of e.didResolvers)this.didResolvers.set(t.methodName,t)}resolve(e,t){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const r=Ln({didUrl:e});if(!r)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"invalidDid",errorMessage:`Cannot parse DID: ${e}`}};const i=this.didResolvers.get(r.method);if(!i)return{"@context":"https://w3id.org/did-resolution/v1",didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{contentType:"application/did+ld+json",error:"methodNotSupported",errorMessage:`Method not supported: ${r.method}`}};const n=yield this.cache.get(r.did);if(n)return n;{const e=yield i.resolve({didUrl:r.did,resolutionOptions:t});return yield this.cache.set(r.did,e),e}}))}}var Ma=n(57824);class Pa{constructor(e={}){let{location:t,ttl:r}=e;null!=t||(t=Pa.defaultOptions.location),null!=r||(r=Pa.defaultOptions.ttl),this.cache=new Le.Level(t),this.ttl=Ma(r)}get(e){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{const t=yield this.cache.get(e),r=JSON.parse(t);return Date.now()>=r.ttlMillis?void this.cache.nextTick((()=>this.cache.del(e))):r.value}catch(e){if("LEVEL_NOT_FOUND"===e.code)return;throw e}}))}set(e,t){const r={ttlMillis:Date.now()+this.ttl,value:t},i=JSON.stringify(r);return this.cache.put(e,i)}delete(e){return this.cache.del(e)}clear(){return this.cache.clear()}close(){return this.cache.close()}}Pa.defaultOptions={location:"DATA/AGENT/DID_RESOLVERCACHE",ttl:"15m"};const xa=new Uint8Array([0]),Fa=new Uint8Array;var Ra=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Oa{constructor(e){var t,r;this._vaultUnlockKey=new Uint8Array,this._keyDerivationWorkFactor=null!==(t=null==e?void 0:e.keyDerivationWorkFactor)&&void 0!==t?t:65e4,this._store=null!==(r=null==e?void 0:e.store)&&void 0!==r?r:new He}backup(e){return Ra(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}changePassphrase(e){return Ra(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}generateVaultUnlockKey(e){return Ra(this,void 0,void 0,(function*(){const{passphrase:t,salt:r}=e;return yield wt.deriveKey({hash:"SHA-512",iterations:this._keyDerivationWorkFactor,length:256,password:te.string(t).toUint8Array(),salt:r})}))}getDid(){return Ra(this,void 0,void 0,(function*(){const e=yield this._store.get("vaultKeySet");let[t]=e.split(".");const r={verificationMethodKeys:[{publicKeyJwk:te.base64Url(t).toObject().wrappedKey,relationships:["authentication"]}]},{did:i}=yield Qa.create({keySet:r});return i}))}getPublicKey(){return Ra(this,void 0,void 0,(function*(){const e=yield this._store.get("vaultKeySet");let[t]=e.split(".");const r=te.base64Url(t).toObject().wrappedKey;return yield An.jwkToCryptoKey({key:r})}))}getPrivateKey(){return Ra(this,void 0,void 0,(function*(){const e=yield this._store.get("vaultKeySet");let[t,r,i,n,o]=e.split(".");const s=te.base64Url(t).toObject(),a=te.base64Url(r).toUint8Array(),c=te.base64Url(i).toUint8Array(),u=te.base64Url(o).toUint8Array(),h=yield rn.decrypt({additionalData:te.object(s).toUint8Array(),data:a,key:this._vaultUnlockKey,nonce:c,tag:u}),d=yield this.getPublicKey();return new yt(d.algorithm,d.extractable,h,"private",["sign"])}))}getStatus(){return Ra(this,void 0,void 0,(function*(){try{const e=yield this._store.get("appDataStatus");return JSON.parse(e)}catch(e){return{initialized:!1,lastBackup:void 0,lastRestore:void 0}}}))}initialize(e){return Ra(this,void 0,void 0,(function*(){const{keyPair:t,passphrase:r}=e,i=yield this.getStatus();if(!0===i.initialized)throw new Error("Operation 'initialize' failed. Data vault already initialized.");const n=t.publicKey.material,o=((e,t,r,i,n)=>function(e,t,r,i=32){if(Ct.hash(e),Ct.number(i),i>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const n=Math.ceil(i/e.outputLen);void 0===r&&(r=Fa);const o=new Uint8Array(n*e.outputLen),s=gi.create(e,t),a=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let t=0;t<n;t++)xa[0]=t+1,a.update(0===t?Fa:c).update(r).update(xa).digestInto(c),o.set(c,e.outputLen*t),s._cloneInto(a);return s.destroy(),a.destroy(),c.fill(0),xa.fill(0),o.slice(0,i)}(e,function(e,t,r){return Ct.hash(e),void 0===r&&(r=new Uint8Array(e.outputLen)),gi(e,We(r),We(t))}(e,t,r),i,n))(ai,n,void 0,"vault_unlock_salt",32),s=te.string("PBES2-HS512+XC20PKW").toUint8Array(),a=new Uint8Array([...s,0,...o]);this._vaultUnlockKey=yield this.generateVaultUnlockKey({passphrase:r,salt:a});const c=yield An.cryptoKeyToJwk({key:t.publicKey}),u={alg:"PBES2-HS512+XC20PKW",crit:["wrappedKey"],enc:"XC20P",p2c:this._keyDerivationWorkFactor,p2s:te.uint8Array(a).toBase64Url(),wrappedKey:c},h=at(24),d=t.privateKey.material,{ciphertext:l,tag:f}=yield rn.encrypt({additionalData:te.object(u).toUint8Array(),data:d,key:this._vaultUnlockKey,nonce:h}),p=te.object(u).toBase64Url()+"."+te.uint8Array(l).toBase64Url()+"."+te.uint8Array(h).toBase64Url()+"."+te.string("unused").toBase64Url()+"."+te.uint8Array(f).toBase64Url();yield this._store.set("vaultKeySet",p),i.initialized=!0,yield this.setStatus(i)}))}lock(){return Ra(this,void 0,void 0,(function*(){this._vaultUnlockKey.fill(0),this._vaultUnlockKey=new Uint8Array}))}restore(e){return Ra(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}setStatus(e){var t,r,i;return Ra(this,void 0,void 0,(function*(){const n=yield this.getStatus();return n.initialized=null!==(t=e.initialized)&&void 0!==t?t:n.initialized,n.lastBackup=null!==(r=e.lastBackup)&&void 0!==r?r:n.lastBackup,n.lastRestore=null!==(i=e.lastRestore)&&void 0!==i?i:n.lastRestore,yield this._store.set("appDataStatus",JSON.stringify(n)),!0}))}unlock(e){return Ra(this,void 0,void 0,(function*(){const{passphrase:t}=e,r=yield this._store.get("vaultKeySet");let[i]=r.split(".");const n=te.base64Url(i).toObject();if(void 0!==n.p2s){const e=te.base64Url(n.p2s).toUint8Array();this._vaultUnlockKey=yield this.generateVaultUnlockKey({passphrase:t,salt:e})}return!0}))}}var Ta=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class Na{constructor(){this._didRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-did"}}deleteDid(e){var t;return Ta(this,void 0,void 0,(function*(){const{agent:r,context:i,did:n}=e,o=yield this.getAuthor({agent:r,context:i,did:n}),{reply:s}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});let a;for(const e of null!==(t=s.entries)&&void 0!==t?t:[])if(e.encodedData){const t=te.base64Url(e.encodedData).toObject();if(t&&t.did===n){a=e.recordId;break}}if(!a)return!1;const{reply:{status:c}}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsDelete",messageOptions:{recordId:a}});return 202===c.code}))}findDid(e){var t;return Ta(this,void 0,void 0,(function*(){const{agent:r,alias:i,context:n,did:o}=e,s=yield this.getAuthor({agent:r,context:n,did:o}),{reply:a}=yield r.dwnManager.processRequest({author:s,target:s,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});for(const e of null!==(t=a.entries)&&void 0!==t?t:[])if(e.encodedData){const t=te.base64Url(e.encodedData).toObject();if(t&&t.did===o)return t;if(t&&t.alias===i)return t}}))}getDid(e){var t;return Ta(this,void 0,void 0,(function*(){const{agent:r,context:i,did:n}=e,o=yield this.getAuthor({agent:r,context:i,did:n}),{reply:s}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});for(const e of null!==(t=s.entries)&&void 0!==t?t:[])if(e.encodedData){const t=te.base64Url(e.encodedData).toObject();if(t&&t.did===n)return t}}))}importDid(e){return Ta(this,void 0,void 0,(function*(){const{agent:t,context:r,did:i}=e,n=yield this.getAuthor({agent:t,context:r,did:i.did});if(yield this.getDid({agent:t,context:r,did:i.did}))throw new Error(`DidStoreDwn: DID with ID already exists: '${i.did}'`);const o=te.object(i).toUint8Array(),{reply:{status:s}}=yield t.dwnManager.processRequest({author:n,target:n,messageType:"RecordsWrite",messageOptions:Object.assign({},this._didRecordProperties),dataStream:new Blob([o])});if(202!==s.code)throw new Error("DidStoreDwn: Failed to write imported DID to store.")}))}listDids(e){var t;return Ta(this,void 0,void 0,(function*(){const{agent:r,context:i}=e,n=yield this.getAuthor({agent:r,context:i}),{reply:o}=yield r.dwnManager.processRequest({author:n,target:n,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._didRecordProperties)}});let s=[];for(const e of null!==(t=o.entries)&&void 0!==t?t:[])if(e.encodedData){const t=te.base64Url(e.encodedData).toObject();s.push(t)}return s}))}getAuthor(e){return Ta(this,void 0,void 0,(function*(){const{context:t,did:r,agent:i}=e;if(t)return t;if(i.agentDid)return i.agentDid;if(!r)throw new Error("DidStoreDwn: Agent property 'agentDid' is undefined.");const n=yield i.didManager.getDefaultSigningKey({did:r});if(n?yield i.keyManager.getKey({keyRef:n}):void 0)return r;throw new Error(`DidStoreDwn: Agent property 'agentDid' is undefined and no keys were found for: '${r}'`)}))}}class Ua{constructor(){this.store=new Map}deleteDid({did:e}){return Ta(this,void 0,void 0,(function*(){return!!this.store.has(e)&&(this.store.delete(e),!0)}))}getDid({did:e}){return Ta(this,void 0,void 0,(function*(){return this.store.get(e)}))}findDid(e){return Ta(this,void 0,void 0,(function*(){let{alias:t,did:r}=e;if(r)return this.store.get(r);if(t)for(const e of this.store.values())if(e.alias===t)return e}))}importDid(e){return Ta(this,void 0,void 0,(function*(){const{did:t}=e;if(this.store.has(t.did))throw new Error(`DidStoreMemory: DID with ID already exists: '${t.did}'`);const r=structuredClone(t);this.store.set(t.did,r)}))}listDids(){return Ta(this,void 0,void 0,(function*(){return Array.from(this.store.values())}))}}var ja,La,qa=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.Create="Create",e.Resolve="Resolve"}(ja||(ja={}));class Ka{constructor(e){this._didMethods=new Map;const{agent:t,didMethods:r,store:i}=e;if(this._agent=t,this._store=null!=i?i:new Ua,!r)throw new TypeError("DidManager: Required parameter missing: 'didMethods'");for(const e of r)this._didMethods.set(e.methodName,e)}get agent(){if(void 0===this._agent)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}create(e){return qa(this,void 0,void 0,(function*(){let{alias:t,keySet:r,kms:i,metadata:n,method:o,context:s}=e,a=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(e,["alias","keySet","kms","metadata","method","context"]);const c=this.getMethod(o);void 0===(null==r?void 0:r.verificationMethodKeys)&&(r=yield c.generateKeySet()),r=yield this.importOrGetKeySet({keySet:r,kms:i});const u=yield c.create(Object.assign(Object.assign({},a),{keySet:r}));yield this.updateKeySet({canonicalId:u.canonicalId,didDocument:u.document,keySet:r});const h=Object.assign(Object.assign({},n),u.metadata),d=Object.assign(Object.assign({alias:t,method:o},u),{metadata:h});return null!=s||(s=d.did),yield this._store.importDid({did:d,agent:this.agent,context:s}),d}))}getDefaultSigningKey(e){return qa(this,void 0,void 0,(function*(){const{did:t}=e,{didDocument:r}=yield this.agent.didResolver.resolve(t),i=Ln({didUrl:t});if(!r||!i)throw new Error(`DidManager: Unable to resolve: ${t}`);const n=this.getMethod(i.method);return yield n.getDefaultSigningKey({didDocument:r})}))}get(e){return qa(this,void 0,void 0,(function*(){let t;const{context:r,didRef:i}=e;return t=yield this._store.getDid({did:i,agent:this.agent,context:r}),t||(t=yield this._store.findDid({alias:i,agent:this.agent,context:r}),t||void 0)}))}import(e){return qa(this,void 0,void 0,(function*(){let{alias:t,context:r,did:i,kms:n}=e;if(void 0===i.keySet)throw new Error("Portable DID is missing required property: 'keySet'");const o=Ln({didUrl:i.did});if(!o)throw new Error(`DidManager: Unable to resolve: ${i}`);const{method:s}=o;this.getMethod(s);const a=yield this.importOrGetKeySet({keySet:i.keySet,kms:n});yield this.updateKeySet({canonicalId:i.canonicalId,didDocument:i.document,keySet:a});const c=Object.assign(Object.assign({alias:t,method:s},i),{keySet:a});return null!=r||(r=c.did),yield this._store.importDid({did:c,agent:this.agent,context:r}),c}))}getMethod(e){const t=this._didMethods.get(e);if(void 0===t)throw new Error(`The DID method '${e}' is not supported`);return t}importOrGetKeySet(e){return qa(this,void 0,void 0,(function*(){const{kms:t}=e,r=this.agent,i=structuredClone(e.keySet);for(let e of i.verificationMethodKeys)if(void 0===e.keyManagerId)if("publicKeyJwk"in e&&"privateKeyJwk"in e&&e.publicKeyJwk&&e.privateKeyJwk){const i=yield An.jwkToCryptoKey({key:e.publicKeyJwk}),n=yield An.jwkToCryptoKey({key:e.privateKeyJwk}),o=yield r.keyManager.importKey({privateKey:Object.assign(Object.assign({kms:t},n),{material:n.material}),publicKey:Object.assign(Object.assign({kms:t},i),{material:i.material})});e.keyManagerId=o.privateKey.id,delete e.privateKeyJwk}else{if(!("publicKeyJwk"in e)||!e.publicKeyJwk)throw new Error("Required parameter(s) missing: 'publicKeyJwk', and optionally, 'privateKeyJwk");{const i=yield An.jwkToCryptoKey({key:e.publicKeyJwk}),n=yield r.keyManager.importKey(Object.assign(Object.assign({kms:t},i),{material:i.material}));e.keyManagerId=n.id}}else{const t=yield r.keyManager.getKey({keyRef:e.keyManagerId});if(!t)throw new Error(`Key with ID '${e.keyManagerId} not found.`);const i="publicKey"in t?t.publicKey:t;e.publicKeyJwk=yield An.cryptoKeyToJwk({key:i})}return i}))}processRequest(e){return qa(this,void 0,void 0,(function*(){const{messageOptions:t,messageType:r,store:i}=e;if(r===ja.Create)return{result:yield this.create(t)};throw new Error(`DidManager: Unsupported request type: ${r}`)}))}updateKeySet(e){return qa(this,void 0,void 0,(function*(){const{canonicalId:t,didDocument:r,keySet:i}=e,n=this.agent,o=null!=t?t:r.id;for(let e of i.verificationMethodKeys){const t=yield An.jwkToMultibaseId({key:e.publicKeyJwk}),i=Nn({didDocument:r,publicKeyJwk:e.publicKeyJwk,publicKeyMultibase:t});if(!i||!i.includes("#"))throw new Error("DidManager: Unable to update key set due to malformed verification method ID");const[,s]=i.split("#"),a=`${o}#${s}`;yield n.keyManager.updateKey({keyRef:e.keyManagerId,alias:a})}}))}}!function(e){e[e.Descending=-1]="Descending",e[e.Ascending=1]="Ascending"}(La||(La={}));class Ha{isTenant(e){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return!0}))}}const Ga=["string","number","bigint","symbol"],za=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Ja{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}Ja.uint=new Ja(0,"uint",!0),Ja.negint=new Ja(1,"negint",!0),Ja.bytes=new Ja(2,"bytes",!0),Ja.string=new Ja(3,"string",!0),Ja.array=new Ja(4,"array",!1),Ja.map=new Ja(5,"map",!1),Ja.tag=new Ja(6,"tag",!1),Ja.float=new Ja(7,"float",!0),Ja.false=new Ja(7,"false",!0),Ja.true=new Ja(7,"true",!0),Ja.null=new Ja(7,"null",!0),Ja.undefined=new Ja(7,"undefined",!0),Ja.break=new Ja(7,"break",!0);class Ya{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Va=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,$a=new TextDecoder,Wa=new TextEncoder;function Za(e){return Va&&globalThis.Buffer.isBuffer(e)}function Xa(e){return e instanceof Uint8Array?Za(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const ec=Va?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):ac(e,t,r):(e,t,r)=>r-t>64?$a.decode(e.subarray(t,r)):ac(e,t,r),tc=Va?e=>e.length>64?globalThis.Buffer.from(e):sc(e):e=>e.length>64?Wa.encode(e):sc(e),rc=e=>Uint8Array.from(e),ic=Va?(e,t,r)=>Za(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),nc=Va?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),Xa(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let i=0;for(let t of e)i+t.length>r.length&&(t=t.subarray(0,r.length-i)),r.set(t,i),i+=t.length;return r},oc=Va?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function sc(e,t=1/0){let r;const i=e.length;let n=null;const o=[];for(let s=0;s<i;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function ac(e,t,r){const i=[];for(;t<r;){const n=e[t];let o=null,s=n>239?4:n>223?3:n>191?2:1;if(t+s<=r){let r,i,a,c;switch(s){case 1:n<128&&(o=n);break;case 2:r=e[t+1],128==(192&r)&&(c=(31&n)<<6|63&r,c>127&&(o=c));break;case 3:r=e[t+1],i=e[t+2],128==(192&r)&&128==(192&i)&&(c=(15&n)<<12|(63&r)<<6|63&i,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[t+1],i=e[t+2],a=e[t+3],128==(192&r)&&128==(192&i)&&128==(192&a)&&(c=(15&n)<<18|(63&r)<<12|(63&i)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|1023&o),i.push(o),t+=s}return function(e){const t=e.length;if(t<=cc)return String.fromCharCode.apply(String,e);let r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=cc));return r}(i)}const cc=4096;class uc{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=oc(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=ic(r,0,this.cursor)}else t=nc(this.chunks,this.cursor);return e&&this.reset(),t}}const hc="CBOR decode error:",dc="CBOR encode error:",lc=[];function fc(e,t,r){if(e.length-t<r)throw new Error(`${hc} not enough data for type`)}lc[23]=1,lc[24]=2,lc[25]=3,lc[26]=5,lc[27]=9;const pc=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Ac(e,t,r){fc(e,t,1);const i=e[t];if(!0===r.strict&&i<pc[0])throw new Error(`${hc} integer encoded in more bytes than necessary (strict decode)`);return i}function gc(e,t,r){fc(e,t,2);const i=e[t]<<8|e[t+1];if(!0===r.strict&&i<pc[1])throw new Error(`${hc} integer encoded in more bytes than necessary (strict decode)`);return i}function mc(e,t,r){fc(e,t,4);const i=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&i<pc[2])throw new Error(`${hc} integer encoded in more bytes than necessary (strict decode)`);return i}function yc(e,t,r){fc(e,t,8);const i=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],n=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(i)<<BigInt(32))+BigInt(n);if(!0===r.strict&&o<pc[3])throw new Error(`${hc} integer encoded in more bytes than necessary (strict decode)`);if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error(`${hc} integers outside of the safe integer range are not supported`)}function Ic(e,t){return wc(e,0,t.value)}function wc(e,t,r){if(r<pc[0]){const i=Number(r);e.push([t|i])}else if(r<pc[1]){const i=Number(r);e.push([24|t,i])}else if(r<pc[2]){const i=Number(r);e.push([25|t,i>>>8,255&i])}else if(r<pc[3]){const i=Number(r);e.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(r);if(!(i<pc[4]))throw new Error(`${hc} encountered BigInt larger than allowable range`);{const r=[27|t,0,0,0,0,0,0,0];let n=Number(i&BigInt(4294967295)),o=Number(i>>BigInt(32)&BigInt(4294967295));r[8]=255&n,n>>=8,r[7]=255&n,n>>=8,r[6]=255&n,n>>=8,r[5]=255&n,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}Ic.encodedSize=function(e){return wc.encodedSize(e.value)},wc.encodedSize=function(e){return e<pc[0]?1:e<pc[1]?2:e<pc[2]?3:e<pc[3]?5:9},Ic.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const bc=BigInt(-1),vc=BigInt(1);function Ec(e,t){const r=t.value,i="bigint"==typeof r?r*bc-vc:-1*r-1;wc(e,t.type.majorEncoded,i)}function Cc(e,t,r,i){fc(e,t,r+i);const n=ic(e,t+r,t+r+i);return new Ya(Ja.bytes,n,r+i)}function Bc(e,t,r,i){return Cc(e,t,1,r)}function Sc(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===Ja.string?tc(e.value):e.value),e.encodedBytes}function _c(e,t){const r=Sc(t);wc(e,t.type.majorEncoded,r.length),e.push(r)}function Qc(e,t,r,i,n){const o=r+i;fc(e,t,o);const s=new Ya(Ja.string,ec(e,t+r,t+o),o);return!0===n.retainStringBytes&&(s.byteValue=ic(e,t+r,t+o)),s}function Dc(e,t,r,i){return Qc(e,t,1,r,i)}Ec.encodedSize=function(e){const t=e.value,r="bigint"==typeof t?t*bc-vc:-1*t-1;return r<pc[0]?1:r<pc[1]?2:r<pc[2]?3:r<pc[3]?5:9},Ec.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},_c.encodedSize=function(e){const t=Sc(e);return wc.encodedSize(t.length)+t.length},_c.compareTokens=function(e,t){return r=Sc(e),i=Sc(t),r.length<i.length?-1:r.length>i.length?1:function(e,t){if(Za(e)&&Za(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,i);var r,i};const kc=_c;function Mc(e,t,r,i){return new Ya(Ja.array,i,r)}function Pc(e,t,r,i){return Mc(0,0,1,r)}function xc(e,t){wc(e,Ja.array.majorEncoded,t.value)}function Fc(e,t,r,i){return new Ya(Ja.map,i,r)}function Rc(e,t,r,i){return Fc(0,0,1,r)}function Oc(e,t){wc(e,Ja.map.majorEncoded,t.value)}function Tc(e,t,r,i){return new Ya(Ja.tag,r,1)}function Nc(e,t){wc(e,Ja.tag.majorEncoded,t.value)}xc.compareTokens=Ic.compareTokens,xc.encodedSize=function(e){return wc.encodedSize(e.value)},Oc.compareTokens=Ic.compareTokens,Oc.encodedSize=function(e){return wc.encodedSize(e.value)},Nc.compareTokens=Ic.compareTokens,Nc.encodedSize=function(e){return wc.encodedSize(e.value)};function Uc(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error(`${hc} NaN values are not supported`);if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${hc} Infinity values are not supported`)}return new Ya(Ja.float,e,t)}function jc(e,t,r){const i=t.value;if(!1===i)e.push([20|Ja.float.majorEncoded]);else if(!0===i)e.push([21|Ja.float.majorEncoded]);else if(null===i)e.push([22|Ja.float.majorEncoded]);else if(void 0===i)e.push([23|Ja.float.majorEncoded]);else{let t,o=!1;r&&!0===r.float64||(Hc(i),t=Gc(Kc,1),i===t||Number.isNaN(i)?(Kc[0]=249,e.push(Kc.slice(0,3)),o=!0):(zc(i),t=Jc(Kc,1),i===t&&(Kc[0]=250,e.push(Kc.slice(0,5)),o=!0))),o||(n=i,qc.setFloat64(0,n,!1),t=Yc(Kc,1),Kc[0]=251,e.push(Kc.slice(0,9)))}var n}jc.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null==r)return 1;if(!t||!0!==t.float64){Hc(r);let e=Gc(Kc,1);if(r===e||Number.isNaN(r))return 3;if(zc(r),e=Jc(Kc,1),r===e)return 5}return 9};const Lc=new ArrayBuffer(9),qc=new DataView(Lc,1),Kc=new Uint8Array(Lc,0);function Hc(e){if(e===1/0)qc.setUint16(0,31744,!1);else if(e===-1/0)qc.setUint16(0,64512,!1);else if(Number.isNaN(e))qc.setUint16(0,32256,!1);else{qc.setFloat32(0,e);const t=qc.getUint32(0),r=(2139095040&t)>>23,i=8388607&t;if(255===r)qc.setUint16(0,31744,!1);else if(0===r)qc.setUint16(0,(2147483648&e)>>16|i>>13,!1);else{const e=r-127;e<-24?qc.setUint16(0,0):e<-14?qc.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):qc.setUint16(0,(2147483648&t)>>16|e+15<<10|i>>13,!1)}}}function Gc(e,t){if(e.length-t<2)throw new Error(`${hc} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const i=r>>10&31,n=1023&r;let o;return o=0===i?n*2**-24:31!==i?(n+1024)*2**(i-25):0===n?1/0:NaN,32768&r?-o:o}function zc(e){qc.setFloat32(0,e,!1)}function Jc(e,t){if(e.length-t<4)throw new Error(`${hc} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Yc(e,t){if(e.length-t<8)throw new Error(`${hc} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function Vc(e,t,r){throw new Error(`${hc} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function $c(e){return()=>{throw new Error(`${hc} ${e}`)}}jc.compareTokens=Ic.compareTokens;const Wc=[];for(let e=0;e<=23;e++)Wc[e]=Vc;Wc[24]=function(e,t,r,i){return new Ya(Ja.uint,Ac(e,t+1,i),2)},Wc[25]=function(e,t,r,i){return new Ya(Ja.uint,gc(e,t+1,i),3)},Wc[26]=function(e,t,r,i){return new Ya(Ja.uint,mc(e,t+1,i),5)},Wc[27]=function(e,t,r,i){return new Ya(Ja.uint,yc(e,t+1,i),9)},Wc[28]=Vc,Wc[29]=Vc,Wc[30]=Vc,Wc[31]=Vc;for(let e=32;e<=55;e++)Wc[e]=Vc;Wc[56]=function(e,t,r,i){return new Ya(Ja.negint,-1-Ac(e,t+1,i),2)},Wc[57]=function(e,t,r,i){return new Ya(Ja.negint,-1-gc(e,t+1,i),3)},Wc[58]=function(e,t,r,i){return new Ya(Ja.negint,-1-mc(e,t+1,i),5)},Wc[59]=function(e,t,r,i){const n=yc(e,t+1,i);if("bigint"!=typeof n){const e=-1-n;if(e>=Number.MIN_SAFE_INTEGER)return new Ya(Ja.negint,e,9)}if(!0!==i.allowBigInt)throw new Error(`${hc} integers outside of the safe integer range are not supported`);return new Ya(Ja.negint,bc-BigInt(n),9)},Wc[60]=Vc,Wc[61]=Vc,Wc[62]=Vc,Wc[63]=Vc;for(let e=64;e<=87;e++)Wc[e]=Bc;Wc[88]=function(e,t,r,i){return Cc(e,t,2,Ac(e,t+1,i))},Wc[89]=function(e,t,r,i){return Cc(e,t,3,gc(e,t+1,i))},Wc[90]=function(e,t,r,i){return Cc(e,t,5,mc(e,t+1,i))},Wc[91]=function(e,t,r,i){const n=yc(e,t+1,i);if("bigint"==typeof n)throw new Error(`${hc} 64-bit integer bytes lengths not supported`);return Cc(e,t,9,n)},Wc[92]=Vc,Wc[93]=Vc,Wc[94]=Vc,Wc[95]=$c("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)Wc[e]=Dc;Wc[120]=function(e,t,r,i){return Qc(e,t,2,Ac(e,t+1,i),i)},Wc[121]=function(e,t,r,i){return Qc(e,t,3,gc(e,t+1,i),i)},Wc[122]=function(e,t,r,i){return Qc(e,t,5,mc(e,t+1,i),i)},Wc[123]=function(e,t,r,i){const n=yc(e,t+1,i);if("bigint"==typeof n)throw new Error(`${hc} 64-bit integer string lengths not supported`);return Qc(e,t,9,n,i)},Wc[124]=Vc,Wc[125]=Vc,Wc[126]=Vc,Wc[127]=$c("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)Wc[e]=Pc;Wc[152]=function(e,t,r,i){return Mc(0,0,2,Ac(e,t+1,i))},Wc[153]=function(e,t,r,i){return Mc(0,0,3,gc(e,t+1,i))},Wc[154]=function(e,t,r,i){return Mc(0,0,5,mc(e,t+1,i))},Wc[155]=function(e,t,r,i){const n=yc(e,t+1,i);if("bigint"==typeof n)throw new Error(`${hc} 64-bit integer array lengths not supported`);return Mc(0,0,9,n)},Wc[156]=Vc,Wc[157]=Vc,Wc[158]=Vc,Wc[159]=function(e,t,r,i){if(!1===i.allowIndefinite)throw new Error(`${hc} indefinite length items not allowed`);return Mc(0,0,1,1/0)};for(let e=160;e<=183;e++)Wc[e]=Rc;Wc[184]=function(e,t,r,i){return Fc(0,0,2,Ac(e,t+1,i))},Wc[185]=function(e,t,r,i){return Fc(0,0,3,gc(e,t+1,i))},Wc[186]=function(e,t,r,i){return Fc(0,0,5,mc(e,t+1,i))},Wc[187]=function(e,t,r,i){const n=yc(e,t+1,i);if("bigint"==typeof n)throw new Error(`${hc} 64-bit integer map lengths not supported`);return Fc(0,0,9,n)},Wc[188]=Vc,Wc[189]=Vc,Wc[190]=Vc,Wc[191]=function(e,t,r,i){if(!1===i.allowIndefinite)throw new Error(`${hc} indefinite length items not allowed`);return Fc(0,0,1,1/0)};for(let e=192;e<=215;e++)Wc[e]=Tc;Wc[216]=function(e,t,r,i){return new Ya(Ja.tag,Ac(e,t+1,i),2)},Wc[217]=function(e,t,r,i){return new Ya(Ja.tag,gc(e,t+1,i),3)},Wc[218]=function(e,t,r,i){return new Ya(Ja.tag,mc(e,t+1,i),5)},Wc[219]=function(e,t,r,i){return new Ya(Ja.tag,yc(e,t+1,i),9)},Wc[220]=Vc,Wc[221]=Vc,Wc[222]=Vc,Wc[223]=Vc;for(let e=224;e<=243;e++)Wc[e]=$c("simple values are not supported");Wc[244]=Vc,Wc[245]=Vc,Wc[246]=Vc,Wc[247]=function(e,t,r,i){if(!1===i.allowUndefined)throw new Error(`${hc} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new Ya(Ja.null,null,1):new Ya(Ja.undefined,void 0,1)},Wc[248]=$c("simple values are not supported"),Wc[249]=function(e,t,r,i){return Uc(Gc(e,t+1),3,i)},Wc[250]=function(e,t,r,i){return Uc(Jc(e,t+1),5,i)},Wc[251]=function(e,t,r,i){return Uc(Yc(e,t+1),9,i)},Wc[252]=Vc,Wc[253]=Vc,Wc[254]=Vc,Wc[255]=function(e,t,r,i){if(!1===i.allowIndefinite)throw new Error(`${hc} indefinite length items not allowed`);return new Ya(Ja.break,void 0,1)};const Zc=[];for(let e=0;e<24;e++)Zc[e]=new Ya(Ja.uint,e,1);for(let e=-1;e>=-24;e--)Zc[31-e]=new Ya(Ja.negint,e,1);Zc[64]=new Ya(Ja.bytes,new Uint8Array(0),1),Zc[96]=new Ya(Ja.string,"",1),Zc[128]=new Ya(Ja.array,0,1),Zc[160]=new Ya(Ja.map,0,1),Zc[244]=new Ya(Ja.false,!1,1),Zc[245]=new Ya(Ja.true,!0,1),Zc[246]=new Ya(Ja.null,null,1);const Xc={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==i.type)return r.type.compare(i.type);const n=r.type.major,o=eu[n].compareTokens(r,i);return 0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),o},quickEncodeToken:function(e){switch(e.type){case Ja.false:return rc([244]);case Ja.true:return rc([245]);case Ja.null:return rc([246]);case Ja.bytes:return e.value.length?void 0:rc([64]);case Ja.string:return""===e.value?rc([96]):void 0;case Ja.array:return 0===e.value?rc([128]):void 0;case Ja.map:return 0===e.value?rc([160]):void 0;case Ja.uint:return e.value<24?rc([Number(e.value)]):void 0;case Ja.negint:if(e.value>=-24)return rc([31-Number(e.value)])}}},eu=function(){const e=[];return e[Ja.uint.major]=Ic,e[Ja.negint.major]=Ec,e[Ja.bytes.major]=_c,e[Ja.string.major]=kc,e[Ja.array.major]=xc,e[Ja.map.major]=Oc,e[Ja.tag.major]=Nc,e[Ja.float.major]=jc,e}(),tu=new uc;class ru{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${dc} object contains circular references`);return new ru(t,e)}}const iu={null:new Ya(Ja.null,null),undefined:new Ya(Ja.undefined,void 0),true:new Ya(Ja.true,!0),false:new Ya(Ja.false,!1),emptyArray:new Ya(Ja.array,0),emptyMap:new Ya(Ja.map,0)},nu={number:(e,t,r,i)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Ya(e>=0?Ja.uint:Ja.negint,e):new Ya(Ja.float,e),bigint:(e,t,r,i)=>e>=BigInt(0)?new Ya(Ja.uint,e):new Ya(Ja.negint,e),Uint8Array:(e,t,r,i)=>new Ya(Ja.bytes,e),string:(e,t,r,i)=>new Ya(Ja.string,e),boolean:(e,t,r,i)=>e?iu.true:iu.false,null:(e,t,r,i)=>iu.null,undefined:(e,t,r,i)=>iu.undefined,ArrayBuffer:(e,t,r,i)=>new Ya(Ja.bytes,new Uint8Array(e)),DataView:(e,t,r,i)=>new Ya(Ja.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,i){if(!e.length)return!0===r.addBreakTokens?[iu.emptyArray,new Ya(Ja.break)]:iu.emptyArray;i=ru.createCheck(i,e);const n=[];let o=0;for(const t of e)n[o++]=ou(t,r,i);return r.addBreakTokens?[new Ya(Ja.array,e.length),n,new Ya(Ja.break)]:[new Ya(Ja.array,e.length),n]},Object(e,t,r,i){const n="Object"!==t,o=n?e.keys():Object.keys(e),s=n?e.size:o.length;if(!s)return!0===r.addBreakTokens?[iu.emptyMap,new Ya(Ja.break)]:iu.emptyMap;i=ru.createCheck(i,e);const a=[];let c=0;for(const t of o)a[c++]=[ou(t,r,i),ou(n?e.get(t):e[t],r,i)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new Ya(Ja.map,s),a,new Ya(Ja.break)]:[new Ya(Ja.map,s),a]}};nu.Map=nu.Object,nu.Buffer=nu.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))nu[`${e}Array`]=nu.DataView;function ou(e,t={},r){const i=function(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Ga.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";return function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(za.includes(t))return t}(e)||"Object"}(e),n=t&&t.typeEncoders&&t.typeEncoders[i]||nu[i];if("function"==typeof n){const o=n(e,i,t,r);if(null!=o)return o}const o=nu[i];if(!o)throw new Error(`${dc} unsupported type: ${i}`);return o(e,i,t,r)}function su(e,t,r,i){if(Array.isArray(t))for(const n of t)su(e,n,r,i);else r[t.type.major](e,t,i)}function au(e,t,r){const i=ou(e,r);if(!Array.isArray(i)&&r.quickEncodeToken){const e=r.quickEncodeToken(i);if(e)return e;const n=t[i.type.major];if(n.encodedSize){const e=n.encodedSize(i,r),t=new uc(e);if(n(t,i,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return Xa(t.chunks[0])}}return tu.reset(),su(tu,i,t,r),tu.toBytes(!0)}const cu={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class uu{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=Zc[e];if(void 0===t){const r=Wc[e];if(!r)throw new Error(`${hc} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const i=31&e;t=r(this.data,this.pos,i,this.options)}return this.pos+=t.encodedLength,t}}const hu=Symbol.for("DONE"),du=Symbol.for("BREAK");function lu(e,t){if(e.done())return hu;const r=e.next();if(r.type===Ja.break)return du;if(r.type.terminal)return r.value;if(r.type===Ja.array)return function(e,t,r){const i=[];for(let n=0;n<e.value;n++){const o=lu(t,r);if(o===du){if(e.value===1/0)break;throw new Error(`${hc} got unexpected break to lengthed array`)}if(o===hu)throw new Error(`${hc} found array but not enough entries (got ${n}, expected ${e.value})`);i[n]=o}return i}(r,e,t);if(r.type===Ja.map)return function(e,t,r){const i=!0===r.useMaps,n=i?void 0:{},o=i?new Map:void 0;for(let s=0;s<e.value;s++){const a=lu(t,r);if(a===du){if(e.value===1/0)break;throw new Error(`${hc} got unexpected break to lengthed map`)}if(a===hu)throw new Error(`${hc} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==i&&"string"!=typeof a)throw new Error(`${hc} non-string keys not supported (got ${typeof a})`);if(!0===r.rejectDuplicateMapKeys&&(i&&o.has(a)||!i&&a in n))throw new Error(`${hc} found repeat map key "${a}"`);const c=lu(t,r);if(c===hu)throw new Error(`${hc} found map but not enough entries (got ${s} [no value], expected ${e.value})`);i?o.set(a,c):n[a]=c}return i?o:n}(r,e,t);if(r.type===Ja.tag){if(t.tags&&"function"==typeof t.tags[r.value]){const i=lu(e,t);return t.tags[r.value](i)}throw new Error(`${hc} tag not supported (${r.value})`)}throw new Error("unsupported")}const fu=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var d=0,l=o-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=a*s[l]>>>0,s[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=o-n;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(i+(o-f)),A=i;f!==o;)p[A++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*h+1>>>0,u=new Uint8Array(s);n!==o;){for(var d=t[n],l=0,f=s-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=256*u[f]>>>0,u[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var p=s-i;p!==s&&0===u[p];)p++;for(var A=c.repeat(r);p<s;++p)A+=e.charAt(u[p]);return A},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}},pu=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Au{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gu{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return yu(this,e)}}class mu{constructor(e){this.decoders=e}or(e){return yu(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yu=(e,t)=>new mu({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Iu{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Au(e,t,r),this.decoder=new gu(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const wu=({name:e,prefix:t,encode:r,decode:i})=>new Iu(e,t,r,i),bu=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=fu(r,t);return wu({prefix:e,name:t,encode:i,decode:e=>pu(n(e))})},vu=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>wu({prefix:t,name:e,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=n[e[t]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),Eu=vu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cu=(vu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),bu({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));bu({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Bu=128,Su=-128,_u=Math.pow(2,31),Qu=128,Du=127,ku=Math.pow(2,7),Mu=Math.pow(2,14),Pu=Math.pow(2,21),xu=Math.pow(2,28),Fu=Math.pow(2,35),Ru=Math.pow(2,42),Ou=Math.pow(2,49),Tu=Math.pow(2,56),Nu=Math.pow(2,63);const Uu={encode:function e(t,r,i){r=r||[];for(var n=i=i||0;t>=_u;)r[i++]=255&t|Bu,t/=128;for(;t&Su;)r[i++]=255&t|Bu,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},decode:function e(t,r){var i,n=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[s++],n+=o<28?(i&Du)<<o:(i&Du)*Math.pow(2,o),o+=7}while(i>=Qu);return e.bytes=s-r,n},encodingLength:function(e){return e<ku?1:e<Mu?2:e<Pu?3:e<xu?4:e<Fu?5:e<Ru?6:e<Ou?7:e<Tu?8:e<Nu?9:10}},ju=(e,t=0)=>[Uu.decode(e,t),Uu.decode.bytes],Lu=(e,t,r=0)=>(Uu.encode(e,t,r),t),qu=e=>Uu.encodingLength(e);class Ku{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const Hu=(e,t)=>{const{bytes:r,version:i}=e;return 0===i?Vu(r,zu(e),t||Cu.encoder):$u(r,zu(e),t||Eu.encoder)},Gu=new WeakMap,zu=e=>{const t=Gu.get(e);if(null==t){const t=new Map;return Gu.set(e,t),t}return t};class Ju{constructor(e,t,r,i){this.code=t,this.version=e,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==Wu)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Zu)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ju.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=((e,t)=>{const r=t.byteLength,i=qu(e),n=i+qu(r),o=new Uint8Array(n+r);return Lu(e,o,0),Lu(r,o,i),o.set(t,n),new Ku(e,r,t,o)})(e,t);return Ju.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Ju.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return Hu(this,e)}toJSON(){return{"/":Hu(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof Ju)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:n}=t;return new Ju(e,r,i,n||Xu(e,r,i.bytes))}if(!0===t[eh]){const{version:e,multihash:r,code:i}=t,n=(e=>{const t=pu(e),[r,i]=ju(t),[n,o]=ju(t.subarray(i)),s=t.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Ku(r,n,s,t)})(r);return Ju.create(e,i,n)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==Wu)throw new Error(`Version 0 CID must use dag-pb (code: ${Wu}) block encoding`);return new Ju(e,t,r,r.bytes);case 1:{const i=Xu(e,t,r.bytes);return new Ju(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return Ju.create(0,Wu,e)}static createV1(e,t){return Ju.create(1,e,t)}static decode(e){const[t,r]=Ju.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Ju.inspectBytes(e),r=t.size-t.multihashSize,i=pu(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const n=i.subarray(t.multihashSize-t.digestSize),o=new Ku(t.multihashCode,t.digestSize,n,i);return[0===t.version?Ju.createV0(o):Ju.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,i]=ju(e.subarray(t));return t+=i,r};let i=r(),n=Wu;if(18===i?(i=0,t=0):n=r(),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const o=t,s=r(),a=r(),c=t+a;return{version:i,codec:n,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,i]=Yu(e,t),n=Ju.decode(i);if(0===n.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return zu(n).set(r,e),n}}const Yu=(e,t)=>{switch(e[0]){case"Q":{const r=t||Cu;return[Cu.prefix,r.decode(`${Cu.prefix}${e}`)]}case Cu.prefix:{const r=t||Cu;return[Cu.prefix,r.decode(e)]}case Eu.prefix:{const r=t||Eu;return[Eu.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Vu=(e,t,r)=>{const{prefix:i}=r;if(i!==Cu.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const n=t.get(i);if(null==n){const n=r.encode(e).slice(1);return t.set(i,n),n}return n},$u=(e,t,r)=>{const{prefix:i}=r,n=t.get(i);if(null==n){const n=r.encode(e);return t.set(i,n),n}return n},Wu=112,Zu=18,Xu=(e,t,r)=>{const i=qu(e),n=i+qu(t),o=new Uint8Array(n+r.byteLength);return Lu(e,o,0),Lu(t,o,i),o.set(r,n),o},eh=Symbol.for("@ipld/js-cid/CID"),th={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=Ju.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Ya(Ja.tag,42),new Ya(Ja.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},rh={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};rh.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ju.decode(e.subarray(1))};const ih="dag-cbor",nh=113,oh=e=>{return t=e,r=th,r=Object.assign({},Xc,r),au(t,eu,r);var t,r},sh=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${hc} data to decode must be a Uint8Array`);const r=(t=Object.assign({},cu,t)).tokenizer||new uu(e,t),i=lu(r,t);if(i===hu)throw new Error(`${hc} did not find any content to decode`);if(i===du)throw new Error(`${hc} got unexpected break`);if(!r.done())throw new Error(`${hc} too many terminals, data makes no sense`);return i}(e,rh);var ah=n(32114);const ch=function(e,t=1){return t=Number(t),null!=e[Symbol.asyncIterator]?async function*(){let r=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for await(const i of e)for(r.push(i);r.length>=t;)yield r.slice(0,t),r=r.slice(t);for(;r.length>0;)yield r.slice(0,t),r=r.slice(t)}():function*(){let r=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of e)for(r.push(i);r.length>=t;)yield r.slice(0,t),r=r.slice(t);for(;r.length>0;)yield r.slice(0,t),r=r.slice(t)}()};async function*uh(e,t=1){for await(const r of ch(e,t)){const e=r.map((async e=>e().then((e=>({ok:!0,value:e})),(e=>({ok:!1,err:e})))));for(let t=0;t<e.length;t++){const r=await e[t];if(!r.ok)throw r.err;yield r.value}}}function hh(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function dh(e=0){return null!=globalThis.Buffer?.alloc?hh(globalThis.Buffer.alloc(e)):new Uint8Array(e)}function lh(e=0){return null!=globalThis.Buffer?.allocUnsafe?hh(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function fh(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));const r=lh(t);let i=0;for(const t of e)r.set(t,i),i+=t.length;return hh(r)}function ph(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}const Ah=Symbol.for("@achingbrain/uint8arraylist");function gh(e,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let r=0;for(const i of e){const e=r+i.byteLength;if(t<e)return{buf:i,index:t-r};r=e}throw new RangeError("index is out of bounds")}function mh(e){return Boolean(e?.[Ah])}class yh{constructor(...e){Object.defineProperty(this,Ah,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let t=0;for(const r of e)if(r instanceof Uint8Array)t+=r.byteLength,this.bufs.push(r);else{if(!mh(r))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");t+=r.byteLength,this.bufs.push(...r.bufs)}this.length+=t}prepend(...e){this.prependAll(e)}prependAll(e){let t=0;for(const r of e.reverse())if(r instanceof Uint8Array)t+=r.byteLength,this.bufs.unshift(r);else{if(!mh(r))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");t+=r.byteLength,this.bufs.unshift(...r.bufs)}this.length+=t}get(e){const t=gh(this.bufs,e);return t.buf[t.index]}set(e,t){const r=gh(this.bufs,e);r.buf[r.index]=t}write(e,t=0){if(e instanceof Uint8Array)for(let r=0;r<e.length;r++)this.set(t+r,e[r]);else{if(!mh(e))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let r=0;r<e.length;r++)this.set(t+r,e.get(r))}}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(e>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(e,t){const{bufs:r,length:i}=this._subList(e,t);return fh(r,i)}subarray(e,t){const{bufs:r,length:i}=this._subList(e,t);return 1===r.length?r[0]:fh(r,i)}sublist(e,t){const{bufs:r,length:i}=this._subList(e,t),n=new yh;return n.length=i,n.bufs=r,n}_subList(e,t){if(e=e??0,t=t??this.length,e<0&&(e=this.length+e),t<0&&(t=this.length+t),e<0||t>this.length)throw new RangeError("index is out of bounds");if(e===t)return{bufs:[],length:0};if(0===e&&t===this.length)return{bufs:[...this.bufs],length:this.length};const r=[];let i=0;for(let n=0;n<this.bufs.length;n++){const o=this.bufs[n],s=i,a=s+o.byteLength;if(i=a,e>=a)continue;const c=e>=s&&e<a,u=t>s&&t<=a;if(c&&u){if(e===s&&t===a){r.push(o);break}const i=e-s;r.push(o.subarray(i,i+(t-e)));break}if(c){if(0===e){r.push(o);continue}r.push(o.subarray(e-s))}else{if(u){if(t===a){r.push(o);break}r.push(o.subarray(0,t-s));break}r.push(o)}}return{bufs:r,length:t-e}}indexOf(e,t=0){if(!(mh(e)||e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const r=e instanceof Uint8Array?e:e.subarray();if(t=Number(t??0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=r.byteLength;if(0===i)throw new TypeError("search must be at least 1 byte long");const n=new Int32Array(256);for(let e=0;e<256;e++)n[e]=-1;for(let e=0;e<i;e++)n[r[e]]=e;const o=n,s=this.byteLength-r.byteLength,a=r.byteLength-1;let c;for(let e=t;e<=s;e+=c){c=0;for(let t=a;t>=0;t--){const i=this.get(e+t);if(r[t]!==i){c=Math.max(1,t-o[i]);break}}if(0===c)return e}return-1}getInt8(e){const t=this.subarray(e,e+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getInt8(0)}setInt8(e,t){const r=lh(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setInt8(0,t),this.write(r,e)}getInt16(e,t){const r=this.subarray(e,e+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt16(0,t)}setInt16(e,t,r){const i=dh(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt16(0,t,r),this.write(i,e)}getInt32(e,t){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt32(0,t)}setInt32(e,t,r){const i=dh(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt32(0,t,r),this.write(i,e)}getBigInt64(e,t){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigInt64(0,t)}setBigInt64(e,t,r){const i=dh(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigInt64(0,t,r),this.write(i,e)}getUint8(e){const t=this.subarray(e,e+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0)}setUint8(e,t){const r=lh(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setUint8(0,t),this.write(r,e)}getUint16(e,t){const r=this.subarray(e,e+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(0,t)}setUint16(e,t,r){const i=dh(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint16(0,t,r),this.write(i,e)}getUint32(e,t){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint32(0,t)}setUint32(e,t,r){const i=dh(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,t,r),this.write(i,e)}getBigUint64(e,t){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigUint64(0,t)}setBigUint64(e,t,r){const i=dh(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigUint64(0,t,r),this.write(i,e)}getFloat32(e,t){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat32(0,t)}setFloat32(e,t,r){const i=dh(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(0,t,r),this.write(i,e)}getFloat64(e,t){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat64(0,t)}setFloat64(e,t,r){const i=dh(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(0,t,r),this.write(i,e)}equals(e){if(null==e)return!1;if(!(e instanceof yh))return!1;if(e.bufs.length!==this.bufs.length)return!1;for(let t=0;t<this.bufs.length;t++)if(!ph(this.bufs[t],e.bufs[t]))return!1;return!0}static fromUint8Arrays(e,t){const r=new yh;return r.bufs=e,null==t&&(t=e.reduce(((e,t)=>e+t.byteLength),0)),r.length=t,r}}const Ih=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var d=0,l=o-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=a*s[l]>>>0,s[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=o-n;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(i+(o-f)),A=i;f!==o;)p[A++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*h+1>>>0,u=new Uint8Array(s);n!==o;){for(var d=t[n],l=0,f=s-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=256*u[f]>>>0,u[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var p=s-i;p!==s&&0===u[p];)p++;for(var A=c.repeat(r);p<s;++p)A+=e.charAt(u[p]);return A},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}},wh=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class bh{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class vh{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Ch(this,e)}}class Eh{constructor(e){this.decoders=e}or(e){return Ch(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ch=(e,t)=>new Eh({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Bh{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new bh(e,t,r),this.decoder=new vh(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Sh=({name:e,prefix:t,encode:r,decode:i})=>new Bh(e,t,r,i),_h=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=Ih(r,t);return Sh({prefix:e,name:t,encode:i,decode:e=>wh(n(e))})},Qh=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>Sh({prefix:t,name:e,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=n[e[t]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),Dh=Qh({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kh=(Qh({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Qh({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Qh({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qh({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Qh({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Qh({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Qh({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Qh({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),_h({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));_h({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Mh=128,Ph=-128,xh=Math.pow(2,31),Fh=128,Rh=127,Oh=Math.pow(2,7),Th=Math.pow(2,14),Nh=Math.pow(2,21),Uh=Math.pow(2,28),jh=Math.pow(2,35),Lh=Math.pow(2,42),qh=Math.pow(2,49),Kh=Math.pow(2,56),Hh=Math.pow(2,63);const Gh={encode:function e(t,r,i){r=r||[];for(var n=i=i||0;t>=xh;)r[i++]=255&t|Mh,t/=128;for(;t&Ph;)r[i++]=255&t|Mh,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},decode:function e(t,r){var i,n=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[s++],n+=o<28?(i&Rh)<<o:(i&Rh)*Math.pow(2,o),o+=7}while(i>=Fh);return e.bytes=s-r,n},encodingLength:function(e){return e<Oh?1:e<Th?2:e<Nh?3:e<Uh?4:e<jh?5:e<Lh?6:e<qh?7:e<Kh?8:e<Hh?9:10}},zh=(e,t=0)=>[Gh.decode(e,t),Gh.decode.bytes],Jh=(e,t,r=0)=>(Gh.encode(e,t,r),t),Yh=e=>Gh.encodingLength(e);class Vh{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const $h=(e,t)=>{const{bytes:r,version:i}=e;return 0===i?td(r,Zh(e),t||kh.encoder):rd(r,Zh(e),t||Dh.encoder)},Wh=new WeakMap,Zh=e=>{const t=Wh.get(e);if(null==t){const t=new Map;return Wh.set(e,t),t}return t};class Xh{constructor(e,t,r,i){this.code=t,this.version=e,this.multihash=r,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==id)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==nd)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Xh.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=((e,t)=>{const r=t.byteLength,i=Yh(e),n=i+Yh(r),o=new Uint8Array(n+r);return Jh(e,o,0),Jh(r,o,i),o.set(t,n),new Vh(e,r,t,o)})(e,t);return Xh.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return Xh.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return $h(this,e)}toJSON(){return{"/":$h(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof Xh)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:n}=t;return new Xh(e,r,i,n||od(e,r,i.bytes))}if(!0===t[sd]){const{version:e,multihash:r,code:i}=t,n=(e=>{const t=wh(e),[r,i]=zh(t),[n,o]=zh(t.subarray(i)),s=t.subarray(i+o);if(s.byteLength!==n)throw new Error("Incorrect length");return new Vh(r,n,s,t)})(r);return Xh.create(e,i,n)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==id)throw new Error(`Version 0 CID must use dag-pb (code: ${id}) block encoding`);return new Xh(e,t,r,r.bytes);case 1:{const i=od(e,t,r.bytes);return new Xh(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return Xh.create(0,id,e)}static createV1(e,t){return Xh.create(1,e,t)}static decode(e){const[t,r]=Xh.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Xh.inspectBytes(e),r=t.size-t.multihashSize,i=wh(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const n=i.subarray(t.multihashSize-t.digestSize),o=new Vh(t.multihashCode,t.digestSize,n,i);return[0===t.version?Xh.createV0(o):Xh.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,i]=zh(e.subarray(t));return t+=i,r};let i=r(),n=id;if(18===i?(i=0,t=0):n=r(),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const o=t,s=r(),a=r(),c=t+a;return{version:i,codec:n,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,i]=ed(e,t),n=Xh.decode(i);if(0===n.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return Zh(n).set(r,e),n}}const ed=(e,t)=>{switch(e[0]){case"Q":{const r=t||kh;return[kh.prefix,r.decode(`${kh.prefix}${e}`)]}case kh.prefix:{const r=t||kh;return[kh.prefix,r.decode(e)]}case Dh.prefix:{const r=t||Dh;return[Dh.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},td=(e,t,r)=>{const{prefix:i}=r;if(i!==kh.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const n=t.get(i);if(null==n){const n=r.encode(e).slice(1);return t.set(i,n),n}return n},rd=(e,t,r)=>{const{prefix:i}=r,n=t.get(i);if(null==n){const n=r.encode(e);return t.set(i,n),n}return n},id=112,nd=18,od=(e,t,r)=>{const i=Yh(e),n=i+Yh(t),o=new Uint8Array(n+r.byteLength);return Jh(e,o,0),Jh(t,o,i),o.set(r,n),o},sd=Symbol.for("@ipld/js-cid/CID"),ad=new TextDecoder;function cd(e,t){let r=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const n=e[t++];if(r+=i<28?(127&n)<<i:(127&n)*2**i,n<128)break}return[r,t]}function ud(e,t){let r;[r,t]=cd(e,t);const i=t+r;if(r<0||i<0)throw new Error("protobuf: invalid length");if(i>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,i),i]}function hd(e,t){let r;return[r,t]=cd(e,t),[7&r,r>>3,t]}function dd(e){const t={},r=e.length;let i=0;for(;i<r;){let r,n;if([r,n,i]=hd(e,i),1===n){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=ud(e,i)}else if(2===n){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let n;[n,i]=ud(e,i),t.Name=ad.decode(n)}else{if(3!==n)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${n}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,i]=cd(e,i)}}if(i>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const ld=new TextEncoder,fd=2**32,pd=2**31;function Ad(e,t){let r=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=md(t,r,e.Tsize)-1,t[r]=24}if("string"==typeof e.Name){const i=ld.encode(e.Name);r-=i.length,t.set(i,r),r=md(t,r,i.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=md(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function gd(e){let t=0;if(e.Hash){const r=e.Hash.length;t+=1+r+yd(r)}if("string"==typeof e.Name){const r=ld.encode(e.Name).length;t+=1+r+yd(r)}return"number"==typeof e.Tsize&&(t+=1+yd(e.Tsize)),t}function md(e,t,r){const i=t-=yd(r);for(;r>=pd;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,i}function yd(e){return e%2==0&&e++,Math.floor((function(e){let t=0;return e>=fd&&(e=Math.floor(e/fd),t=32),e>=65536&&(e>>>=16,t+=16),e>=256&&(e>>>=8,t+=8),t+Id[e]}(e)+6)/7)}const Id=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],wd=["Data","Links"],bd=["Hash","Name","Tsize"],vd=new TextEncoder;function Ed(e,t){if(e===t)return 0;const r=e.Name?vd.encode(e.Name):[],i=t.Name?vd.encode(t.Name):[];let n=r.length,o=i.length;for(let e=0,t=Math.min(n,o);e<t;++e)if(r[e]!==i[e]){n=r[e],o=i[e];break}return n<o?-1:o<n?1:0}function Cd(e,t){return!Object.keys(e).some((e=>!t.includes(e)))}function Bd(e){if("object"==typeof e.asCID){const t=Xh.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let r=Xh.asCID(e.Hash);try{r||("string"==typeof e.Hash?r=Xh.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=Xh.decode(e.Hash)))}catch(e){throw new TypeError(`Invalid DAG-PB form: ${e.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function Sd(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=vd.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(Bd),t.Links.sort(Ed)}else t.Links=[];return t}function _d(e){if(!e||"object"!=typeof e||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form");if(!Cd(e,wd))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<e.Links.length;t++){const r=e.Links[t];if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!Cd(r,bd))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==r.Hash||!r.Hash["/"]||r.Hash["/"]!==r.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!=typeof r.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize){if("number"!=typeof r.Tsize||r.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(r.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===Ed(r,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function Qd(e,t=[]){return Sd({Data:e,Links:t})}function Dd(e,t,r){return Bd({Hash:r,Name:e,Tsize:t})}const kd="dag-pb",Md=112;function Pd(e){_d(e);const t={};return e.Links&&(t.Links=e.Links.map((e=>{const t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),function(e){const t=function(e){let t=0;if(e.Data){const r=e.Data.length;t+=1+r+yd(r)}if(e.Links)for(const r of e.Links){const e=gd(r);t+=1+e+yd(e)}return t}(e),r=new Uint8Array(t);let i=t;if(e.Data&&(i-=e.Data.length,r.set(e.Data,i),i=md(r,i,e.Data.length)-1,r[i]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){const n=Ad(e.Links[t],r.subarray(0,i));i-=n,i=md(r,i,n)-1,r[i]=18}return r}(t)}function xd(e){const t=function(e){const t=e.length;let r,i,n=0,o=!1;for(;n<t;){let t,s;if([t,s,n]=hd(e,n),2!==t)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${t}`);if(1===s){if(i)throw new Error("protobuf: (PBNode) duplicate Data section");[i,n]=ud(e,n),r&&(o=!0)}else{if(2!==s)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${s}`);{if(o)throw new Error("protobuf: (PBNode) duplicate Links section");let t;r||(r=[]),[t,n]=ud(e,n),r.push(dd(t))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const s={};return i&&(s.Data=i),s.Links=r||[],s}(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((e=>{const t={};try{t.Hash=Xh.decode(e.Hash)}catch(e){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}const Fd=new Float32Array([-0]),Rd=new Uint8Array(Fd.buffer);function Od(e,t,r){Fd[0]=e,t[r]=Rd[0],t[r+1]=Rd[1],t[r+2]=Rd[2],t[r+3]=Rd[3]}const Td=new Float64Array([-0]),Nd=new Uint8Array(Td.buffer);function Ud(e,t,r){Td[0]=e,t[r]=Nd[0],t[r+1]=Nd[1],t[r+2]=Nd[2],t[r+3]=Nd[3],t[r+4]=Nd[4],t[r+5]=Nd[5],t[r+6]=Nd[6],t[r+7]=Nd[7]}const jd=BigInt(Number.MAX_SAFE_INTEGER),Ld=BigInt(Number.MIN_SAFE_INTEGER);class qd{lo;hi;constructor(e,t){this.lo=0|e,this.hi=0|t}toNumber(e=!1){if(!e&&this.hi>>>31>0){const e=1+~this.lo>>>0;let t=~this.hi>>>0;return 0===e&&(t=t+1>>>0),-(e+4294967296*t)}return this.lo+4294967296*this.hi}toBigInt(e=!1){if(e)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31!=0){const e=1+~this.lo>>>0;let t=~this.hi>>>0;return 0===e&&(t=t+1>>>0),-(BigInt(e)+(BigInt(t)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(e=!1){return this.toBigInt(e).toString()}zzEncode(){const e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this}zzDecode(){const e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this}length(){const e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}static fromBigInt(e){if(0n===e)return Kd;if(e<jd&&e>Ld)return this.fromNumber(Number(e));const t=e<0n;t&&(e=-e);let r=e>>32n,i=e-(r<<32n);return t&&(r=0n|~r,i=0n|~i,++i>Hd&&(i=0n,++r>Hd&&(r=0n))),new qd(Number(i),Number(r))}static fromNumber(e){if(0===e)return Kd;const t=e<0;t&&(e=-e);let r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new qd(r,i)}static from(e){return"number"==typeof e?qd.fromNumber(e):"bigint"==typeof e?qd.fromBigInt(e):"string"==typeof e?qd.fromBigInt(BigInt(e)):null!=e.low||null!=e.high?new qd(e.low>>>0,e.high>>>0):Kd}}const Kd=new qd(0,0);Kd.toBigInt=function(){return 0n},Kd.zzEncode=Kd.zzDecode=function(){return this},Kd.length=function(){return 1};const Hd=4294967296n;function Gd(e,t,r){const i=r;let n,o;for(let i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(i+1)))?(n=65536+((1023&n)<<10)+(1023&o),++i,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}function zd(e,t){return RangeError(`index out of range: ${e.pos} + ${t??1} > ${e.len}`)}function Jd(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}class Yd{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(e){this.buf=e,this.pos=0,this.len=e.length}uint32(){let e=4294967295;if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,zd(this,10);return e}int32(){return 0|this.uint32()}sint32(){const e=this.uint32();return e>>>1^-(1&e)|0}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw zd(this,4);return Jd(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw zd(this,4);return 0|Jd(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw zd(this,4);const e=function(e,t){return Rd[0]=e[t],Rd[1]=e[t+1],Rd[2]=e[t+2],Rd[3]=e[t+3],Fd[0]}(this.buf,this.pos);return this.pos+=4,e}double(){if(this.pos+8>this.len)throw zd(this,4);const e=function(e,t){return Nd[0]=e[t],Nd[1]=e[t+1],Nd[2]=e[t+2],Nd[3]=e[t+3],Nd[4]=e[t+4],Nd[5]=e[t+5],Nd[6]=e[t+6],Nd[7]=e[t+7],Td[0]}(this.buf,this.pos);return this.pos+=8,e}bytes(){const e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw zd(this,e);return this.pos+=e,t===r?new Uint8Array(0):this.buf.subarray(t,r)}string(){const e=this.bytes();return function(e,t,r){if(r-t<1)return"";let i;const n=[];let o,s=0;for(;t<r;)o=e[t++],o<128?n[s++]=o:o>191&&o<224?n[s++]=(31&o)<<6|63&e[t++]:o>239&&o<365?(o=((7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,n[s++]=55296+(o>>10),n[s++]=56320+(1023&o)):n[s++]=(15&o)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i??(i=[])).push(String.fromCharCode.apply(String,n)),s=0);return null!=i?(s>0&&i.push(String.fromCharCode.apply(String,n.slice(0,s))),i.join("")):String.fromCharCode.apply(String,n.slice(0,s))}(e,0,e.length)}skip(e){if("number"==typeof e){if(this.pos+e>this.len)throw zd(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw zd(this)}while(0!=(128&this.buf[this.pos++]));return this}skipType(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${e} at offset ${this.pos}`)}return this}readLongVarint(){const e=new qd(0,0);let t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw zd(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw zd(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw zd(this,8);const e=Jd(this.buf,this.pos+=4),t=Jd(this.buf,this.pos+=4);return new qd(e,t)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){return this.readLongVarint().toNumber(!0)}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function Vd(e,t){const r=function(e){return new Yd(e instanceof Uint8Array?e:e.subarray())}(e);return t.decode(r)}const $d=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var d=0,l=o-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=a*s[l]>>>0,s[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=o-n;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(i+(o-f)),A=i;f!==o;)p[A++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*h+1>>>0,u=new Uint8Array(s);n!==o;){for(var d=t[n],l=0,f=s-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=256*u[f]>>>0,u[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var p=s-i;p!==s&&0===u[p];)p++;for(var A=c.repeat(r);p<s;++p)A+=e.charAt(u[p]);return A},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}},Wd=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Zd{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xd{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return tl(this,e)}}class el{constructor(e){this.decoders=e}or(e){return tl(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const tl=(e,t)=>new el({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class rl{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Zd(e,t,r),this.decoder=new Xd(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const il=({name:e,prefix:t,encode:r,decode:i})=>new rl(e,t,r,i),nl=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=$d(r,t);return il({prefix:e,name:t,encode:i,decode:e=>Wd(n(e))})},ol=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>il({prefix:t,name:e,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=n[e[t]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),sl=nl({prefix:"9",name:"base10",alphabet:"0123456789"}),al=ol({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cl=ol({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ul=ol({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),hl=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),dl=hl.reduce(((e,t,r)=>(e[r]=t,e)),[]),ll=hl.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]),fl=il({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+dl[t]),"")},decode:function(e){const t=[];for(const r of e){const e=ll[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}}),pl=ol({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Al=ol({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gl=ol({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ml=ol({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yl=ol({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Il=ol({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wl=ol({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),bl=ol({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vl=ol({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),El=nl({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Cl=nl({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Bl=nl({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sl=nl({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),_l=ol({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ql=ol({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Dl=ol({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),kl=ol({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Ml=ol({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Pl=il({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)}),xl=new TextEncoder,Fl=new TextDecoder,Rl="json",Ol=512,Tl=e=>xl.encode(JSON.stringify(e)),Nl=e=>JSON.parse(Fl.decode(e)),Ul="raw",jl=85,Ll=e=>Wd(e),ql=e=>Wd(e);var Kl=128,Hl=-128,Gl=Math.pow(2,31),zl=Math.pow(2,7),Jl=Math.pow(2,14),Yl=Math.pow(2,21),Vl=Math.pow(2,28),$l=Math.pow(2,35),Wl=Math.pow(2,42),Zl=Math.pow(2,49),Xl=Math.pow(2,56),ef=Math.pow(2,63);const tf=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=Gl;)r[i++]=255&t|Kl,t/=128;for(;t&Hl;)r[i++]=255&t|Kl,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},rf=function(e){return e<zl?1:e<Jl?2:e<Yl?3:e<Vl?4:e<$l?5:e<Wl?6:e<Zl?7:e<Xl?8:e<ef?9:10},nf=(e,t,r=0)=>(tf(e,t,r),t),of=e=>rf(e),sf=(e,t)=>{const r=t.byteLength,i=of(e),n=i+of(r),o=new Uint8Array(n+r);return nf(e,o,0),nf(r,o,i),o.set(t,n),new af(e,r,t,o)};class af{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const cf=Wd,uf={code:0,name:"identity",encode:cf,digest:e=>sf(0,cf(e))},hf=({name:e,code:t,encode:r})=>new df(e,t,r);class df{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?sf(this.code,t):t.then((e=>sf(this.code,e)))}throw Error("Unknown type, must be binary type")}}const lf=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ff=hf({name:"sha2-256",code:18,encode:lf("SHA-256")}),pf=hf({name:"sha2-512",code:19,encode:lf("SHA-512")});new WeakMap,Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Af={...f,...s,...l,...i,...o,...c,...u,...h,...d,...a};function gf(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const mf=gf("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),yf=gf("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=lh((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),If={utf8:mf,"utf-8":mf,hex:Af.base16,latin1:yf,ascii:yf,binary:yf,...Af};function wf(e,t="utf8"){const r=If[t];if(null==r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):hh(globalThis.Buffer.from(e,"utf-8"))}class bf{fn;len;next;val;constructor(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}}function vf(){}class Ef{head;tail;len;next;constructor(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}}const Cf=function(e){const t=8192;let r,i=t;return function(e){if(e<1||e>4096)return lh(e);i+e>t&&(r=lh(t),i=0);const n=r.subarray(i,i+=e);return 0!=(7&i)&&(i=1+(7|i)),n}}();class Bf{len;head;tail;states;constructor(){this.len=0,this.head=new bf(vf,0,0),this.tail=this.head,this.states=null}_push(e,t,r){return this.tail=this.tail.next=new bf(e,t,r),this.len+=t,this}uint32(e){return this.len+=(this.tail=this.tail.next=new Qf((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this}int32(e){return e<0?this._push(Df,10,qd.fromNumber(e)):this.uint32(e)}sint32(e){return this.uint32((e<<1^e>>31)>>>0)}uint64(e){const t=qd.fromBigInt(e);return this._push(Df,t.length(),t)}uint64Number(e){const t=qd.fromNumber(e);return this._push(Df,t.length(),t)}uint64String(e){return this.uint64(BigInt(e))}int64(e){return this.uint64(e)}int64Number(e){return this.uint64Number(e)}int64String(e){return this.uint64String(e)}sint64(e){const t=qd.fromBigInt(e).zzEncode();return this._push(Df,t.length(),t)}sint64Number(e){const t=qd.fromNumber(e).zzEncode();return this._push(Df,t.length(),t)}sint64String(e){return this.sint64(BigInt(e))}bool(e){return this._push(Sf,1,e?1:0)}fixed32(e){return this._push(kf,4,e>>>0)}sfixed32(e){return this.fixed32(e)}fixed64(e){const t=qd.fromBigInt(e);return this._push(kf,4,t.lo)._push(kf,4,t.hi)}fixed64Number(e){const t=qd.fromNumber(e);return this._push(kf,4,t.lo)._push(kf,4,t.hi)}fixed64String(e){return this.fixed64(BigInt(e))}sfixed64(e){return this.fixed64(e)}sfixed64Number(e){return this.fixed64Number(e)}sfixed64String(e){return this.fixed64String(e)}float(e){return this._push(Od,4,e)}double(e){return this._push(Ud,8,e)}bytes(e){const t=e.length>>>0;return 0===t?this._push(Sf,1,0):this.uint32(t)._push(Mf,t,e)}string(e){const t=function(e){let t=0,r=0;for(let i=0;i<e.length;++i)r=e.charCodeAt(i),r<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(e);return 0!==t?this.uint32(t)._push(Gd,t,e):this._push(Sf,1,0)}fork(){return this.states=new Ef(this),this.head=this.tail=new bf(vf,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new bf(vf,0,0),this.len=0),this}ldelim(){const e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),0!==r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this}finish(){let e=this.head.next;const t=(r=this.len,null!=globalThis.Buffer?lh(r):Cf(r));var r;let i=0;for(;null!=e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t}}function Sf(e,t,r){t[r]=255&e}function _f(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}class Qf extends bf{next;constructor(e,t){super(_f,e,t),this.next=void 0}}function Df(e,t,r){for(;0!==e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function kf(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function Mf(e,t,r){t.set(e,r)}function Pf(e,t,r){t.set(e,r)}function xf(e,t,r){e.length<40?Gd(e,t,r):null!=t.utf8Write?t.utf8Write(e,r):t.set(wf(e),r)}function Ff(e,t){const r=new Bf;return t.encode(e,r,{lengthDelimited:!1}),r.finish()}var Rf,Of,Tf,Nf;function Uf(e,t,r,i){return{name:e,type:t,encode:r,decode:i}}function jf(e,t){return Uf("message",Rf.LENGTH_DELIMITED,e,t)}null!=globalThis.Buffer&&(Bf.prototype.bytes=function(e){const t=e.length>>>0;return this.uint32(t),t>0&&this._push(Pf,t,e),this},Bf.prototype.string=function(e){const t=globalThis.Buffer.byteLength(e);return this.uint32(t),t>0&&this._push(xf,t,e),this}),function(e){e[e.VARINT=0]="VARINT",e[e.BIT64=1]="BIT64",e[e.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",e[e.START_GROUP=3]="START_GROUP",e[e.END_GROUP=4]="END_GROUP",e[e.BIT32=5]="BIT32"}(Rf||(Rf={})),function(e){let t,r,i;!function(e){e.Raw="Raw",e.Directory="Directory",e.File="File",e.Metadata="Metadata",e.Symlink="Symlink",e.HAMTShard="HAMTShard"}(t=e.DataType||(e.DataType={})),function(e){e[e.Raw=0]="Raw",e[e.Directory=1]="Directory",e[e.File=2]="File",e[e.Metadata=3]="Metadata",e[e.Symlink=4]="Symlink",e[e.HAMTShard=5]="HAMTShard"}(r||(r={})),function(e){e.codec=()=>function(e){function t(t){if(null==e[t.toString()])throw new Error("Invalid enum value");return e[t]}return Uf("enum",Rf.VARINT,(function(e,r){const i=t(e);r.int32(i)}),(function(e){return t(e.int32())}))}(r)}(t=e.DataType||(e.DataType={})),e.codec=()=>(null==i&&(i=jf(((t,r,i={})=>{if(!1!==i.lengthDelimited&&r.fork(),null!=t.Type&&(r.uint32(8),e.DataType.codec().encode(t.Type,r)),null!=t.Data&&(r.uint32(18),r.bytes(t.Data)),null!=t.filesize&&(r.uint32(24),r.uint64(t.filesize)),null!=t.blocksizes)for(const e of t.blocksizes)r.uint32(32),r.uint64(e);null!=t.hashType&&(r.uint32(40),r.uint64(t.hashType)),null!=t.fanout&&(r.uint32(48),r.uint64(t.fanout)),null!=t.mode&&(r.uint32(56),r.uint32(t.mode)),null!=t.mtime&&(r.uint32(66),Tf.codec().encode(t.mtime,r)),!1!==i.lengthDelimited&&r.ldelim()}),((t,r)=>{const i={blocksizes:[]},n=null==r?t.len:t.pos+r;for(;t.pos<n;){const r=t.uint32();switch(r>>>3){case 1:i.Type=e.DataType.codec().decode(t);break;case 2:i.Data=t.bytes();break;case 3:i.filesize=t.uint64();break;case 4:i.blocksizes.push(t.uint64());break;case 5:i.hashType=t.uint64();break;case 6:i.fanout=t.uint64();break;case 7:i.mode=t.uint32();break;case 8:i.mtime=Tf.codec().decode(t,t.uint32());break;default:t.skipType(7&r)}}return i}))),i),e.encode=t=>Ff(t,e.codec()),e.decode=t=>Vd(t,e.codec())}(Of||(Of={})),function(e){let t;e.codec=()=>(null==t&&(t=jf(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Seconds&&(t.uint32(8),t.int64(e.Seconds)),null!=e.FractionalNanoseconds&&(t.uint32(21),t.fixed32(e.FractionalNanoseconds)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Seconds=e.int64();break;case 2:r.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>Ff(t,e.codec()),e.decode=t=>Vd(t,e.codec())}(Tf||(Tf={})),function(e){let t;e.codec=()=>(null==t&&(t=jf(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.MimeType&&(t.uint32(10),t.string(e.MimeType)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();t>>>3==1?r.MimeType=e.string():e.skipType(7&t)}return r}))),t),e.encode=t=>Ff(t,e.codec()),e.decode=t=>Vd(t,e.codec())}(Nf||(Nf={}));const Lf={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},qf=["directory","hamt-sharded-directory"],Kf=parseInt("0644",8),Hf=parseInt("0755",8);class Gf{static unmarshal(e){const t=Of.decode(e),r=new Gf({type:Lf[null!=t.Type?t.Type.toString():"File"],data:t.Data,blockSizes:t.blocksizes,mode:t.mode,mtime:null!=t.mtime?{secs:t.mtime.Seconds??0n,nsecs:t.mtime.FractionalNanoseconds}:void 0,fanout:t.fanout});return r._originalMode=t.mode??0,r}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(e={type:"file"}){const{type:t,data:r,blockSizes:i,hashType:n,fanout:o,mtime:s,mode:a}=e;if(null!=t&&!Object.values(Lf).includes(t))throw ah(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t??"file",this.data=r,this.hashType=n,this.fanout=o,this.blockSizes=i??[],this._originalMode=0,this.mode=a,this.mtime=s}set mode(e){this._mode=null==e?this.isDirectory()?Hf:Kf:4095&e}get mode(){return this._mode}isDirectory(){return qf.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0n;let e=0n;return this.blockSizes.forEach((t=>{e+=t})),null!=this.data&&(e+=BigInt(this.data.length)),e}marshal(){let e;switch(this.type){case"raw":e=Of.DataType.Raw;break;case"directory":e=Of.DataType.Directory;break;case"file":e=Of.DataType.File;break;case"metadata":e=Of.DataType.Metadata;break;case"symlink":e=Of.DataType.Symlink;break;case"hamt-sharded-directory":e=Of.DataType.HAMTShard;break;default:throw ah(new Error(`Type: ${e} is not valid`),"ERR_INVALID_TYPE")}let t,r,i=this.data;return null!=this.data&&0!==this.data.length||(i=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(this.mode??0),t!==Kf||this.isDirectory()||(t=void 0),t===Hf&&this.isDirectory()&&(t=void 0)),null!=this.mtime&&(r={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),Of.encode({Type:e,Data:i,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r})}}const zf="raw",Jf=85,Yf=e=>L(e),Vf=e=>L(e);class $f extends Event{constructor(e,t){super(e),this.detail=t}}const Wf=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Zf=Re({name:"sha2-256",code:18,encode:Wf("SHA-256")}),Xf=(Re({name:"sha2-512",code:19,encode:Wf("SHA-512")}),async(e,t,i)=>{null==i.codec&&(i.codec=r);const n=await Zf.digest(e),o=_e.create(i.cidVersion,i.codec.code,n);return await t.put(o,e,i),o});function ep(e){return async function*(t,i){let n=0n;for await(let o of t.content)yield async()=>{let s;const a={codec:r,cidVersion:e.cidVersion,onProgress:e.onProgress};e.rawLeaves?(a.codec=y,a.cidVersion=1):(s=new Gf({type:e.leafType,data:o}),o=Pd({Data:s.marshal(),Links:[]}));const c=await Xf(o,i,a);return n+=BigInt(o.byteLength),e.onProgress?.(new $f("unixfs:importer:progress:file:write",{bytesWritten:n,cid:c,path:t.path})),{cid:c,unixfs:s,size:BigInt(o.length),block:o}}}}const tp=async(e,t,r)=>{const i=new Gf({type:"directory",mtime:e.mtime,mode:e.mode}),n=Pd(Sd({Data:i.marshal()}));return{cid:await Xf(n,t,r),path:e.path,unixfs:i,size:BigInt(n.length),originalPath:e.originalPath,block:n}};function rp(e){return!0===e.single}const ip=async(e,t,r)=>r.layout(async function*(e,t,r){let i,n=-1;for await(const o of uh(r.bufferImporter(e,t),r.blockWriteConcurrency))n++,0!==n?(1===n&&null!=i&&(yield{...i,block:void 0,single:void 0},i=void 0),yield{...o,block:void 0}):i={...o,single:!0};null!=i&&(yield i)}(e,t,r),((e,t,r)=>async function(i){if(1===i.length&&rp(i[0])&&r.reduceSingleLeafToSelf){const n=i[0];let o=n.block;return!rp(n)||void 0===e.mtime&&void 0===e.mode||(n.unixfs=new Gf({type:"file",mtime:e.mtime,mode:e.mode,data:n.block}),o={Data:n.unixfs.marshal(),Links:[]},n.block=Pd(Sd(o)),n.cid=await Xf(n.block,t,{...r,cidVersion:r.cidVersion}),n.size=BigInt(n.block.length)),r.onProgress?.(new $f("unixfs:importer:progress:file:layout",{cid:n.cid,path:n.originalPath})),{cid:n.cid,path:e.path,unixfs:n.unixfs,size:n.size,originalPath:n.originalPath}}const n=new Gf({type:"file",mtime:e.mtime,mode:e.mode}),o=i.filter((e=>e.cid.code===Jf&&e.size>0||null!=e.unixfs&&null==e.unixfs.data&&e.unixfs.fileSize()>0n||Boolean(e.unixfs?.data?.length))).map((e=>e.cid.code===Jf?(n.addBlockSize(e.size),{Name:"",Tsize:Number(e.size),Hash:e.cid}):(null==e.unixfs||null==e.unixfs.data?n.addBlockSize(e.unixfs?.fileSize()??0n):n.addBlockSize(BigInt(e.unixfs.data.length)),{Name:"",Tsize:Number(e.size),Hash:e.cid}))),s={Data:n.marshal(),Links:o},a=Pd(Sd(s)),c=await Xf(a,t,r);return r.onProgress?.(new $f("unixfs:importer:progress:file:layout",{cid:c,path:e.originalPath})),{cid:c,path:e.path,unixfs:n,size:BigInt(a.length+s.Links.reduce(((e,t)=>e+(t.Tsize??0)),0)),originalPath:e.originalPath,block:a}})(e,t,r));function np(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(t=e,Symbol.iterator in t)return async function*(){yield*e}();if(function(e){return Symbol.asyncIterator in e}(e))return e}catch{throw ah(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}var t;throw ah(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function op(e){return null!=e.content}const sp=174;function ap(e){const t=e?.maxChildrenPerNode??sp;return async function e(r,i){const n=[];for await(const e of ch(r,t))n.push(await i(e));return n.length>1?e(n,i):n[0]}}class cp{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(e,t){this.options=t??{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime}}const up=_e.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),hp=_e.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class dp extends cp{_children;constructor(e,t){super(e,t),this._children=new Map}async put(e,t){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,this._children.set(e,t)}async get(e){return Promise.resolve(this._children.get(e))}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}async*eachChildSeries(){for(const[e,t]of this._children.entries())yield{key:e,child:t}}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[e,t]of this._children.entries())null!=t.size&&null!=t.cid&&(this.nodeSize+=e.length+(1===this.options.cidVersion?hp.bytes.byteLength:up.bytes.byteLength));return this.nodeSize}async*flush(e){const t=[];for(const[r,i]of this._children.entries()){let n=i;if(i instanceof cp)for await(const t of i.flush(e))n=t,yield t;null!=n.size&&null!=n.cid&&t.push({Name:r,Tsize:Number(n.size),Hash:n.cid})}const r=new Gf({type:"directory",mtime:this.mtime,mode:this.mode}),i={Data:r.marshal(),Links:t},n=Pd(Sd(i)),o=await Xf(n,e,this.options),s=n.length+i.Links.reduce(((e,t)=>e+(null==t.Tsize?0:t.Tsize)),0);this.cid=o,this.size=s,yield{cid:o,unixfs:r,path:this.path,size:BigInt(s)}}}const lp=new Uint8Array(0),fp=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):lp};const pp=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var d=0,l=o-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=a*s[l]>>>0,s[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=o-n;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(i+(o-f)),A=i;f!==o;)p[A++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*h+1>>>0,u=new Uint8Array(s);n!==o;){for(var d=t[n],l=0,f=s-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=256*u[f]>>>0,u[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var p=s-i;p!==s&&0===u[p];)p++;for(var A=c.repeat(r);p<s;++p)A+=e.charAt(u[p]);return A},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}};class Ap{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class gp{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return yp(this,e)}}class mp{constructor(e){this.decoders=e}or(e){return yp(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yp=(e,t)=>new mp({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ip{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new Ap(e,t,r),this.decoder=new gp(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const wp=({name:e,prefix:t,encode:r,decode:i})=>new Ip(e,t,r,i),bp=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=pp(r,t);return wp({prefix:e,name:t,encode:i,decode:e=>(e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")})(n(e))})},vp=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>wp({prefix:t,name:e,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=n[e[t]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,i,r,e)});vp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),vp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),vp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),vp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),vp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),bp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ep=128,Cp=-128,Bp=Math.pow(2,31),Sp=Math.pow(2,7),_p=Math.pow(2,14),Qp=Math.pow(2,21),Dp=Math.pow(2,28),kp=Math.pow(2,35),Mp=Math.pow(2,42),Pp=Math.pow(2,49),xp=Math.pow(2,56),Fp=Math.pow(2,63);const Rp=function e(t,r,i){r=r||[];for(var n=i=i||0;t>=Bp;)r[i++]=255&t|Ep,t/=128;for(;t&Cp;)r[i++]=255&t|Ep,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},Op=function(e){return e<Sp?1:e<_p?2:e<Qp?3:e<Dp?4:e<kp?5:e<Mp?6:e<Pp?7:e<xp?8:e<Fp?9:10},Tp=(e,t,r=0)=>(Rp(e,t,r),t),Np=e=>Op(e),Up=(e,t)=>{const r=t.byteLength,i=Np(e),n=i+Np(r),o=new Uint8Array(n+r);return Tp(e,o,0),Tp(r,o,i),o.set(t,n),new jp(e,r,t,o)};class jp{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}new WeakMap,Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const Lp=({name:e,code:t,encode:r})=>new qp(e,t,r);class qp{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Up(this.code,t):t.then((e=>Up(this.code,e)))}throw Error("Unknown type, must be binary type")}}var Kp=n(40469);Lp({name:"murmur3-32",code:35,encode:e=>function(e){const t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}(Kp.x86.hash32(e))});const Hp=Lp({name:"murmur3-128",code:34,encode:e=>fp(Kp.x64.hash128(e))});Lp({name:"murmur3-x64-64",code:34,encode:e=>fp(Kp.x64.hash128(e)).subarray(0,8)});var Gp=n(20544);class zp{constructor(e,t,r=0){this._options=e,this._popCount=0,this._parent=t,this._posAtParent=r,this._children=new Gp,this.key=null}async put(e,t){const r=await this._findNewBucketAndPos(e);await r.bucket._putAt(r,e,t)}async get(e){const t=await this._findChild(e);if(null!=t)return t.value}async del(e){const t=await this._findPlace(e),r=t.bucket._at(t.pos);null!=r&&r.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce(((e,t)=>t instanceof zp?e+t.leafCount():e+1),0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e)t instanceof zp?yield*t.eachLeafSeries():yield t}serialize(e,t){return t(this._children.reduce(((r,i,n)=>(null!=i&&(i instanceof zp?r.push(i.serialize(e,t)):r.push(e(i,n))),r)),[]))}async asyncTransform(e,t){return await $p(this,e,t)}toJSON(){return this.serialize(Yp,Vp)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e),r=t.bucket._at(t.pos);if(!(r instanceof zp))return null!=r&&r.key===e?r:void 0}async _findPlace(e){const t=this._options.hash("string"==typeof e?wf(e):e),r=await t.take(this._options.bits),i=this._children.get(r);return i instanceof zp?await i._findPlace(t):{bucket:this,pos:r,hash:t,existingChild:i}}async _findNewBucketAndPos(e){const t=await this._findPlace(e);if(null!=t.existingChild&&t.existingChild.key!==e){const e=new zp(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);const r=await e._findPlace(t.existingChild.hash);return r.bucket._putAt(r,t.existingChild.key,t.existingChild.value),await e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}_putObjectAt(e,t){null==this._children.get(e)&&this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw new Error("Invalid position");null!=this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const e=this._children.find(Jp);if(null!=e&&!(e instanceof zp)){const t=e.hash;t.untake(this._options.bits);const r={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(r,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function Jp(e){return Boolean(e)}function Yp(e,t){return e.key}function Vp(e){return e}async function $p(e,t,r){const i=[];for(const n of e._children.compactArray())if(n instanceof zp)await $p(n,t,r);else{const r=await t(n);i.push({bitField:e._children.bitField(),children:r})}return await r(i)}const Wp=[255,254,252,248,240,224,192,128],Zp=[1,3,7,15,31,63,127,255];class Xp{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,r=0;for(;t>0&&this._haveBits();){const e=this._value[this._currentBytePos],i=this._currentBitPos+1,n=Math.min(i,t);r=(r<<n)+eA(e,i-n,n),t-=n,this._currentBitPos-=n,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function eA(e,t,r){const i=function(e,t){return Wp[e]&Zp[Math.min(t+e-1,7)]}(t,r);return(e&i)>>>t}function tA(e){return function(t){return t instanceof rA?t:new rA(t,e)}}class rA{constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let r=0;for(;t>0;){const e=this._buffers[this._currentBufferIndex],i=Math.min(e.availableBits(),t);r=(r<<i)+e.take(i),t-=i,this._availableBits-=i,0===e.availableBits()&&this._currentBufferIndex++}return r}untake(e){let t=e;for(;t>0;){const e=this._buffers[this._currentBufferIndex],r=Math.min(e.totalBits()-e.availableBits(),t);e.untake(r),t-=r,this._availableBits+=r,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth>0?fh([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),r=new Xp(t);this._buffers.push(r),this._availableBits+=r.availableBits()}}function iA(e){if(null==e||null==e.hashFn)throw new Error("please define an options.hashFn");const t={bits:e.bits??8,hash:tA(e.hashFn)};return new zp(t)}async function nA(e){return(await Hp.encode(e)).slice(0,8).reverse()}const oA=BigInt(34),sA=class extends cp{_bucket;constructor(e,t){super(e,t),this._bucket=iA({hashFn:nA,bits:8})}async put(e,t){this.cid=void 0,this.size=void 0,this.nodeSize=void 0,await this._bucket.put(e,t)}async get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=cA(this._bucket,this,this.options)),this.nodeSize}async*flush(e){for await(const t of aA(this._bucket,e,this,this.options))yield{...t,path:this.path}}};async function*aA(e,t,r,i){const n=e._children,o=[];let s=0n;for(let e=0;e<n.length;e++){const r=n.get(e);if(null==r)continue;const a=e.toString(16).toUpperCase().padStart(2,"0");if(r instanceof zp){let e;for await(const n of aA(r,t,null,i))e=n;if(null==e)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:a,Tsize:Number(e.size),Hash:e.cid}),s+=e.size}else if("function"==typeof r.value.flush){const e=r.value;let i;for await(const r of e.flush(t))i=r,yield i;if(null==i)throw new Error("Did not flush dir");const n=a+r.key;o.push({Name:n,Tsize:Number(i.size),Hash:i.cid}),s+=i.size}else{const e=r.value;if(null==e.cid)continue;const t=a+r.key,i=e.size;o.push({Name:t,Tsize:Number(i),Hash:e.cid}),s+=BigInt(i??0)}}const a=Uint8Array.from(n.bitField().reverse()),c=new Gf({type:"hamt-sharded-directory",data:a,fanout:BigInt(e.tableSize()),hashType:oA,mtime:r?.mtime,mode:r?.mode}),u=Pd(Sd({Data:c.marshal(),Links:o})),h=await Xf(u,t,i),d=BigInt(u.byteLength)+s;yield{cid:h,unixfs:c,size:d}}function cA(e,t,r){const i=e._children,n=[];for(let e=0;e<i.length;e++){const t=i.get(e);if(null==t)continue;const o=e.toString(16).toUpperCase().padStart(2,"0");if(t instanceof zp){const e=cA(t,null,r);n.push({Name:o,Tsize:Number(e),Hash:0===r.cidVersion?up:hp})}else if("function"==typeof t.value.flush){const e=t.value.nodeSize();n.push({Name:o+t.key,Tsize:Number(e),Hash:0===r.cidVersion?up:hp})}else{const e=t.value;if(null==e.cid)continue;const r=o+t.key,i=e.size;n.push({Name:r,Tsize:Number(i),Hash:e.cid})}}const o=Uint8Array.from(i.bitField().reverse());return Pd(Sd({Data:new Gf({type:"hamt-sharded-directory",data:o,fanout:BigInt(e.tableSize()),hashType:oA,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:n})).length}async function uA(e,t,r,i){let n=t;t instanceof dp&&t.estimateNodeSize()>r&&(n=await async function(e,t){const r=new sA({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(const{key:t,child:i}of e.eachChildSeries())await r.put(t,i);return r}(t,i));const o=n.parent;if(null!=o){if(n!==t){if(null!=e&&(e.parent=n),null==n.parentKey)throw new Error("No parent key found");await o.put(n.parentKey,n)}return uA(n,o,r,i)}return n}const hA=(e="")=>(e.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);async function dA(e,t,r){const i=hA(e.path??""),n=i.length-1;let o=t,s="";for(let a=0;a<i.length;a++){const c=i[a];s+=`${""!==s?"/":""}${c}`;const u=a===n;if(o.dirty=!0,o.cid=void 0,o.size=void 0,u)await o.put(c,e),t=await uA(null,o,r.shardSplitThresholdBytes,r);else{let e=await o.get(c);null!=e&&e instanceof cp||(e=new dp({root:!1,dir:!0,parent:o,parentKey:c,path:s,dirty:!0,flat:!0,mtime:e?.unixfs?.mtime,mode:e?.unixfs?.mode},r)),await o.put(c,e),o=e}}return t}async function*lA(e,t){e instanceof cp?yield*e.flush(t):!0===e.unixfs?.isDirectory()&&(yield e)}async function*fA(e,t,r={}){let i;i=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e];const n=r.wrapWithDirectory??!1,o=r.shardSplitThresholdBytes??262144,s=r.cidVersion??1,a=r.rawLeaves??!0,c=r.leafType??"file",u=r.fileImportConcurrency??50,h=r.blockWriteConcurrency??10,d=r.reduceSingleLeafToSelf??!0,l=r.chunker??((e={})=>{const t=e.chunkSize??262144;return async function*(e){let r=new yh,i=0,n=!1;for await(const o of e)for(r.append(o),i+=o.length;i>=t;)if(yield r.slice(0,t),n=!0,t===r.length)r=new yh,i=0;else{const e=new yh;e.append(r.sublist(t)),r=e,i-=t}(!n||i>0)&&(yield r.subarray(0,i))}})(),f=r.chunkValidator??async function*(e){for await(const t of e){if(void 0===t.length)throw ah(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof t||t instanceof String)yield wf(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else{if(!(t instanceof Uint8Array))throw ah(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield t}}},p=r.dagBuilder??function(e){return async function*(t,r){for await(const i of t){let t;if(null!=i.path&&(t=i.path,i.path=i.path.split("/").filter((e=>null!=e&&"."!==e)).join("/")),op(i)){const n={path:i.path,mtime:i.mtime,mode:i.mode,content:async function*(){let t=0n;for await(const r of e.chunker(e.chunkValidator(np(i.content)))){const n=BigInt(r.byteLength);t+=n,e.onProgress?.(new $f("unixfs:importer:progress:file:read",{bytesRead:t,chunkSize:n,path:i.path})),yield r}}(),originalPath:t};yield async()=>ip(n,r,e)}else{if(null==i.path)throw new Error("Import candidate must have content or path or both");{const n={path:i.path,mtime:i.mtime,mode:i.mode,originalPath:t};yield async()=>tp(n,r,e)}}}}}({chunker:l,chunkValidator:f,wrapWithDirectory:n,layout:r.layout??ap(),bufferImporter:r.bufferImporter??ep({cidVersion:s,rawLeaves:a,leafType:c,onProgress:r.onProgress}),blockWriteConcurrency:h,reduceSingleLeafToSelf:d,cidVersion:s,onProgress:r.onProgress}),A=r.treeBuilder??function(e){return async function*(t,r){let i,n=new dp({root:!0,dir:!0,path:"",dirty:!0,flat:!0},e),o=!1;for await(const r of t){if(null==r)continue;const t=`${r.originalPath??""}`.split("/")[0];null!=t&&""!==t&&(null==i?(i=t,o=!0):i!==t&&(o=!1)),n=await dA(r,n,e),null!=r.unixfs&&r.unixfs.isDirectory()||(yield r)}if(e.wrapWithDirectory||o&&n.childCount()>1)yield*lA(n,r);else for await(const e of n.eachChildSeries())null!=e&&(yield*lA(e.child,r))}}({wrapWithDirectory:n,shardSplitThresholdBytes:o,cidVersion:s,onProgress:r.onProgress});for await(const e of A(uh(p(i,t),u),t))yield{cid:e.cid,path:e.path,unixfs:e.unixfs,size:e.size}}function pA(e){return e=e??new Error("Open failed"),ah(e,"ERR_OPEN_FAILED")}function AA(e){return e=e??new Error("Close failed"),ah(e,"ERR_CLOSE_FAILED")}function gA(e){return e=e??new Error("Put failed"),ah(e,"ERR_PUT_FAILED")}function mA(e){return e=e??new Error("Get failed"),ah(e,"ERR_GET_FAILED")}function yA(e){return e=e??new Error("Delete failed"),ah(e,"ERR_DELETE_FAILED")}function IA(e){return e=e??new Error("Has failed"),ah(e,"ERR_HAS_FAILED")}function wA(e){return e=e??new Error("Not Found"),ah(e,"ERR_NOT_FOUND")}function bA(e){return e=e??new Error("Aborted"),ah(e,"ERR_ABORTED")}class vA{has(e,t){return Promise.reject(new Error(".has is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,t){for await(const{cid:r,block:i}of e)await this.put(r,i,t),yield r}get(e,t){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,t){for await(const r of e)yield{cid:r,block:await this.get(r,t)}}async delete(e,t){await Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,t){for await(const r of e)await this.delete(r,t),yield r}async*getAll(e){throw new Error(".getAll is not implemented")}}class EA extends vA{data;constructor(){super(),this.data=new Map}put(e,t){return this.data.set(Ee.encode(e.multihash.bytes),t),e}get(e){const t=this.data.get(Ee.encode(e.multihash.bytes));if(null==t)throw wA();return t}has(e){return this.data.has(Ee.encode(e.multihash.bytes))}async delete(e){this.data.delete(Ee.encode(e.multihash.bytes))}async*getAll(){for(const[e,t]of this.data.entries())yield{cid:_e.createV1(Jf,be(Ee.decode(e))),block:t}}}var CA=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},BA=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}};const SA={[Zf.code]:Zf},_A={[nh]:t};class QA{static computeCid(e,t=nh,r=Zf.code){return CA(this,void 0,void 0,(function*(){const i=_A[t];if(!i)throw new Error(`codec [${t}] not supported`);const n=SA[r];if(!n)throw new Error(`multihash code [${r}] not supported`);const o=i.encode(e),s=yield n.digest(o);return(yield _e.createV1(i.code,s)).toString()}))}static parseCid(e){const t=_e.parse(e).toV1();if(!_A[t.code])throw new Error(`codec [${t.code}] not supported`);if(!SA[t.multihash.code])throw new Error(`multihash code [${t.multihash.code}] not supported`);return t}static computeDagPbCidFromBytes(e){var t,r,i,n;return CA(this,void 0,void 0,(function*(){const o=fA([{content:e}],new EA,{cidVersion:1});let s;try{for(var a,c=!0,u=BA(o);a=yield u.next(),!(t=a.done);c=!0)n=a.value,c=!1,s=n}catch(e){r={error:e}}finally{try{c||t||!(i=u.return)||(yield i.call(u))}finally{if(r)throw r.error}}return s?s.cid.toString():""}))}static computeDagPbCidFromStream(e){var t,r,i,n;return CA(this,void 0,void 0,(function*(){const o=fA([{content:e}],new EA,{cidVersion:1});let s;try{for(var a,c=!0,u=BA(o);a=yield u.next(),!(t=a.done);c=!0)n=a.value,c=!1,s=n}catch(e){r={error:e}}finally{try{c||t||!(i=u.return)||(yield i.call(u))}finally{if(r)throw r.error}}return s?s.cid.toString():""}))}}var DA=n(39499);const kA={};function MA(e,t){Object.defineProperty(e.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const t of Object.getOwnPropertyNames(e)){const r=Object.getOwnPropertyDescriptor(e,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(e,t,r))}for(const t of Object.getOwnPropertyNames(e.prototype)){const r=Object.getOwnPropertyDescriptor(e.prototype,t);r.configurable&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(e.prototype,t,r))}PA(t,e),PA(`${t}.prototype`,e.prototype)}function PA(e,t){const r=`%${e}%`;if(void 0!==kA[r])throw new Error(`intrinsic ${e} already exists`);kA[r]=t}function xA(e){return kA[e]}var FA,RA;const OA="slot-epochNanoSeconds",TA="slot-timezone-identifier",NA="slot-year",UA="slot-month",jA="slot-day",LA="slot-hour",qA="slot-minute",KA="slot-second",HA="slot-millisecond",GA="slot-microsecond",zA="slot-nanosecond",JA="slot-calendar",YA="slot-date-brand",VA="slot-year-month-brand",$A="slot-month-day-brand",WA="slot-cached-instant",ZA="slot-time-zone",XA="slot-years",eg="slot-months",tg="slot-weeks",rg="slot-days",ig="slot-hours",ng="slot-minutes",og="slot-seconds",sg="slot-milliseconds",ag="slot-microseconds",cg="slot-nanoseconds",ug="slot-calendar-identifier",hg=new WeakMap,dg=Symbol.for("@@Temporal__GetSlots");(FA=globalThis)[dg]||(FA[dg]=function(e){return hg.get(e)});const lg=globalThis[dg],fg=Symbol.for("@@Temporal__CreateSlots");(RA=globalThis)[fg]||(RA[fg]=function(e){hg.set(e,Object.create(null))});const pg=globalThis[fg];function Ag(e,...t){if(!e||"object"!=typeof e)return!1;const r=lg(e);return!!r&&t.every((e=>e in r))}function gg(e,t){const r=lg(e)?.[t];if(void 0===r)throw new TypeError(`Missing internal slot ${t}`);return r}function mg(e,t,r){const i=lg(e);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=r}const yg=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,Ig=new RegExp("(?:"+[`(?:${yg.source})(?:\\/(?:${yg.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),wg=/(?:[+\u2212-]\d{6}|\d{4})/,bg=/(?:0[1-9]|1[0-2])/,vg=/(?:0[1-9]|[12]\d|3[01])/,Eg=new RegExp(`(${wg.source})(?:-(${bg.source})-(${vg.source})|(${bg.source})(${vg.source}))`),Cg=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,Bg=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,Sg=new RegExp(`([zZ])|${Bg.source}?`),_g=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,Qg=new RegExp([`^${Eg.source}`,`(?:(?:T|\\s+)${Cg.source}(?:${Sg.source})?)?`,`(?:\\[!?(${Ig.source})\\])?`,`((?:${_g.source})*)$`].join(""),"i"),Dg=new RegExp([`^T?${Cg.source}`,`(?:${Sg.source})?`,`(?:\\[!?${Ig.source}\\])?`,`((?:${_g.source})*)$`].join(""),"i"),kg=new RegExp(`^(${wg.source})-?(${bg.source})(?:\\[!?${Ig.source}\\])?((?:${_g.source})*)$`),Mg=new RegExp(`^(?:--)?(${bg.source})-?(${vg.source})(?:\\[!?${Ig.source}\\])?((?:${_g.source})*)$`),Pg=/(\d+)(?:[.,](\d{1,9}))?/,xg=new RegExp(`(?:${Pg.source}H)?(?:${Pg.source}M)?(?:${Pg.source}S)?`),Fg=new RegExp(`^([+−-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${xg.source})?$`,"i"),Rg=Array.prototype.includes,Og=Array.prototype.push,Tg=globalThis.Intl.DateTimeFormat,Ng=Math.min,Ug=Math.max,jg=Math.abs,Lg=Math.floor,qg=Math.sign,Kg=Math.trunc,Hg=Number.isNaN,Gg=Number.isFinite,zg=Number,Jg=String,Yg=Number.MAX_SAFE_INTEGER,Vg=Object.create,$g=Object.getOwnPropertyDescriptor,Wg=Reflect.apply,Zg=Reflect.ownKeys,Xg=DA.BigInt(0),em=DA.BigInt(1),tm=DA.BigInt(60),rm=DA.BigInt(24),im=DA.BigInt(1e3),nm=DA.BigInt(1e6),om=DA.BigInt(1e9),sm=DA.BigInt(-1),am=DA.multiply(DA.BigInt(3600),om),cm=DA.multiply(tm,om),um=DA.multiply(am,rm),hm=DA.multiply(DA.BigInt(-86400),DA.BigInt(1e17)),dm=DA.multiply(DA.BigInt(86400),DA.BigInt(1e17)),lm=-271821,fm=275760,pm=DA.multiply(DA.BigInt(-388152),DA.BigInt(1e13)),Am=DA.multiply(um,DA.BigInt(3660)),gm=DA.multiply(um,DA.BigInt(366)),mm=DA.multiply(um,DA.BigInt(14)),ym=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Im(e){return DA.equal(e,Xg)}function wm(e,t){const r=e[t];if(void 0!==r)return r}function bm(e,t,r){return Wg(e,t,arguments.length>2?r:[])}function vm(e){return"object"==typeof e&&null!==e||"function"==typeof e}function Em(e){if("bigint"==typeof e)throw new TypeError("Cannot convert BigInt to number");return zg(e)}function Cm(e){const t=Em(e);if(Hg(t)||0===t)return 0;if(!Gg(t))return t;const r=Lg(jg(t));return 0===r?0:qg(t)*r}function Bm(e){if("number"!=typeof e||Hg(e)||!Gg(e))return!1;const t=jg(e);return Lg(t)===t}function Sm(e){if("symbol"==typeof e)throw new TypeError("Cannot convert a Symbol value to a String");return Jg(e)}function _m(e){const t=Em(e);if(0===t)return 0;if(Hg(t)||!Gg(t))throw new RangeError("invalid number value");const r=Kg(t);return 0===r?0:r}function Qm(e,t){const r=_m(e);if(r<=0){if(void 0!==t)throw new RangeError(`property '${t}' cannot be a a number less than one`);throw new RangeError("Cannot convert a number less than one to a positive integer")}return r}function Dm(e){const t=Em(e);if(!Gg(t))throw new RangeError("infinity is out of range");if(!Bm(t))throw new RangeError(`unsupported fractional value ${e}`);return 0===t?0:t}function km(e,t){return{quotient:DA.divide(e,t),remainder:DA.remainder(e,t)}}function Mm(e){return DA.lessThan(e,Xg)}function Pm(e){return Im(e)?0:Mm(e)?-1:1}function xm(e){return DA.lessThan(e,Xg)?DA.multiply(e,sm):e}const Fm=new Map([["year",_m],["month",Qm],["monthCode",Sm],["day",Qm],["hour",_m],["minute",_m],["second",_m],["millisecond",_m],["microsecond",_m],["nanosecond",_m],["years",Dm],["months",Dm],["weeks",Dm],["days",Dm],["hours",Dm],["minutes",Dm],["seconds",Dm],["milliseconds",Dm],["microseconds",Dm],["nanoseconds",Dm],["era",Sm],["eraYear",Cm],["offset",Sm]]),Rm=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),Om=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Tm=new Map(Om.map((e=>[e[0],e[1]]))),Nm=new Map(Om.map((([e,t])=>[t,e]))),Um=Om.map((([,e])=>e)),jm=Array.from(Tm.keys()).sort(),Lm=new Map;function qm(e){let t=Lm.get(e);return void 0===t&&(t=new Tg("en-us",{timeZone:Jg(e),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),Lm.set(e,t)),t}function Km(e){if(null==e)throw new TypeError(`Expected object not ${e}`);return Object(e)}function Hm(e,t,r,i){if(null==t)return;const n=Zg(t);for(const o of n)if(!r.some((e=>Object.is(e,o)))&&Object.prototype.propertyIsEnumerable.call(t,o)){const r=t[o];if(i&&i.some((e=>Object.is(e,r))))continue;e[o]=r}}function Gm(e){return Ag(e,OA)&&!Ag(e,ZA,JA)}function zm(e){return Ag(e,TA)}function Jm(e){return Ag(e,ug)}function Ym(e){return Ag(e,XA,eg,rg,ig,ng,og,sg,ag,cg)}function Vm(e){return Ag(e,YA)}function $m(e){return Ag(e,LA,qA,KA,HA,GA,zA)&&!Ag(e,NA,UA,jA)}function Wm(e){return Ag(e,NA,UA,jA,LA,qA,KA,HA,GA,zA)}function Zm(e){return Ag(e,VA)}function Xm(e){return Ag(e,$A)}function ey(e){return Ag(e,OA,ZA,JA)}function ty(e){if(Ag(e,JA)||Ag(e,ZA))throw new TypeError("with() does not support a calendar or timeZone property");if($m(e))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==e.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==e.timeZone)throw new TypeError("with() does not support a timeZone property")}function ry(e,t){return"never"===t?"":iy(fI(e),t)}function iy(e,t){return"never"===t||"auto"===t&&"iso8601"===e?"":`[${"critical"===t?"!":""}u-ca=${e}]`}function ny(e){const t=Qg.exec(e);if(!t)throw new RangeError(`invalid ISO 8601 string: ${e}`);let r=t[1];if("−"===r[0]&&(r=`-${r.slice(1)}`),"-000000"===r)throw new RangeError(`invalid ISO 8601 string: ${e}`);const i=Cm(r),n=Cm(t[2]||t[4]),o=Cm(t[3]||t[5]),s=Cm(t[6]),a=void 0!==t[6],c=Cm(t[7]||t[10]);let u=Cm(t[8]||t[11]);60===u&&(u=59);const h=(t[9]||t[12])+"000000000",d=Cm(h.slice(0,3)),l=Cm(h.slice(3,6)),f=Cm(h.slice(6,9));let p,A=!1;if(t[13])p=void 0,A=!0;else if(t[14]&&t[15]){const e="-"===t[14]||"−"===t[14]?"-":"+",r=t[15]||"00",i=t[16]||"00",n=t[17]||"00";let o=t[18]||"0";if(p=`${e}${r}:${i}`,+o){for(;o.endsWith("0");)o=o.slice(0,-1);p+=`:${n}.${o}`}else+n&&(p+=`:${n}`);"-00:00"===p&&(p="+00:00")}const g=t[19],m=t[20];let y;for(const[,e,t,r]of m.matchAll(_g))if("u-ca"===t)void 0===y&&(y=r);else if("!"===e)throw new RangeError(`Unrecognized annotation: !${t}=${r}`);return Bw(i,n,o,s,c,u,d,l,f),{year:i,month:n,day:o,hasTime:a,hour:s,minute:c,second:u,millisecond:d,microsecond:l,nanosecond:f,ianaName:g,offset:p,z:A,calendar:y}}function oy(e){const t=kg.exec(e);let r,i,n,o;if(t){let o=t[1];if("−"===o[0]&&(o=`-${o.slice(1)}`),"-000000"===o)throw new RangeError(`invalid ISO 8601 string: ${e}`);r=Cm(o),i=Cm(t[2]);const s=t[3];for(const[,e,t,r]of s.matchAll(_g))if("u-ca"===t)void 0===n&&(n=r);else if("!"===e)throw new RangeError(`Unrecognized annotation: !${t}=${r}`);if(void 0!==n&&"iso8601"!==n)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let t;if(({year:r,month:i,calendar:n,day:o,z:t}=ny(e)),t)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:r,month:i,calendar:n,referenceISODay:o}}function sy(e){const t=Mg.exec(e);let r,i,n,o;if(t){r=Cm(t[1]),i=Cm(t[2]);const e=t[3];for(const[,t,r,i]of e.matchAll(_g))if("u-ca"===r)void 0===n&&(n=i);else if("!"===t)throw new RangeError(`Unrecognized annotation: !${r}=${i}`);if(void 0!==n&&"iso8601"!==n)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let t;if(({month:r,day:i,calendar:n,year:o,z:t}=ny(e)),t)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:r,day:i,calendar:n,referenceISOYear:o}}function ay(e,t,r,i){let n=e,o=t,s=r;switch(i){case"reject":vw(n,o,s);break;case"constrain":({year:n,month:o,day:s}=ww(n,o,s))}return{year:n,month:o,day:s}}function cy(e,t,r,i,n,o,s){let a=e,c=t,u=r,h=i,d=n,l=o;switch(s){case"reject":Cw(a,c,u,h,d,l);break;case"constrain":({hour:a,minute:c,second:u,millisecond:h,microsecond:d,nanosecond:l}=function(e,t,r,i,n,o){return{hour:Iw(e,0,23),minute:Iw(t,0,59),second:Iw(r,0,59),millisecond:Iw(i,0,999),microsecond:Iw(n,0,999),nanosecond:Iw(o,0,999)}}(a,c,u,h,d,l))}return{hour:a,minute:c,second:u,millisecond:h,microsecond:d,nanosecond:l}}function uy(e){if(!vm(e))return function(e){const t=Fg.exec(e);if(!t)throw new RangeError(`invalid duration: ${e}`);if(t.slice(2).every((e=>void 0===e)))throw new RangeError(`invalid duration: ${e}`);const r="-"===t[1]||"−"===t[1]?-1:1,i=void 0===t[2]?0:_m(t[2])*r,n=void 0===t[3]?0:_m(t[3])*r,o=void 0===t[4]?0:_m(t[4])*r,s=void 0===t[5]?0:_m(t[5])*r,a=void 0===t[6]?0:_m(t[6])*r,c=t[7],u=t[8],h=t[9],d=t[10],l=t[11];let f=0,p=0,A=0;if(void 0!==c){if(u??h??d??l)throw new RangeError("only the smallest unit can be fractional");A=3600*Cm((c+"000000000").slice(0,9))*r}else if(f=void 0===u?0:_m(u)*r,void 0!==h){if(d??l)throw new RangeError("only the smallest unit can be fractional");A=60*Cm((h+"000000000").slice(0,9))*r}else p=void 0===d?0:_m(d)*r,void 0!==l&&(A=Cm((l+"000000000").slice(0,9))*r);const g=A%1e3,m=Kg(A/1e3)%1e3,y=Kg(A/1e6)%1e3;return p+=Kg(A/1e9)%60,f+=Kg(A/6e10),Qw(i,n,o,s,a,f,p,y,m,g),{years:i,months:n,weeks:o,days:s,hours:a,minutes:f,seconds:p,milliseconds:y,microseconds:m,nanoseconds:g}}(Sm(e));if(Ym(e))return{years:gg(e,XA),months:gg(e,eg),weeks:gg(e,tg),days:gg(e,rg),hours:gg(e,ig),minutes:gg(e,ng),seconds:gg(e,og),milliseconds:gg(e,sg),microseconds:gg(e,ag),nanoseconds:gg(e,cg)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let r=function(e){if(!vm(e))throw new TypeError("invalid duration-like");const t={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let r=!1;for(const i of jm){const n=e[i];void 0!==n&&(r=!0,t[i]=Dm(n))}if(!r)throw new TypeError("invalid duration-like");return t}(e);for(const e of jm){const i=r[e];void 0!==i&&(t[e]=i)}let{years:i,months:n,weeks:o,days:s,hours:a,minutes:c,seconds:u,milliseconds:h,microseconds:d,nanoseconds:l}=t;return Qw(i,n,o,s,a,c,u,h,d,l),{years:i,months:n,weeks:o,days:s,hours:a,minutes:c,seconds:u,milliseconds:h,microseconds:d,nanoseconds:l}}function hy(e){return void 0===e?"constrain":wb(e,"overflow",["constrain","reject"],"constrain")}function dy(e){return void 0===e?"compatible":wb(e,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function ly(e,t){return wb(e,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function fy(e,t){return void 0===e?t:wb(e,"offset",["prefer","use","ignore","reject"],t)}function py(e){return wb(e,"calendarName",["auto","always","never","critical"],"auto")}function Ay(e){let t=e.roundingIncrement;if(void 0===t)return 1;if(t=Em(t),!Gg(t))throw new RangeError("roundingIncrement must be finite");const r=Kg(t);if(r<1||r>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return r}function gy(e,t,r){const i=r?t:t-1;if(e>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${e}`);if(t%e!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function my(e){const t=e.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==Sm(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const r=Lg(t);if(!Gg(r)||r<0||r>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return r}function yy(e,t){switch(e){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Iy=Symbol("~required~");function wy(e,t,r,i,n=[]){const o=[];for(const[,e,t]of Om)"datetime"!==r&&r!==t||o.push(e);o.push(...n);let s=i;s===Iy?s=void 0:void 0!==s&&o.push(s);const a=[...o];for(const e of o){const t=Nm.get(e);void 0!==t&&a.push(t)}let c=wb(e,t,a,s);if(void 0===c&&i===Iy)throw new RangeError(`${t} is required`);return Tm.has(c)?Tm.get(c):c}function by(e){const t=e.relativeTo;if(void 0===t)return t;let r,i,n,o,s,a,c,u,h,d,l,f,p="option",A=!1;if(vm(t)){if(ey(t)||Vm(t))return t;if(Wm(t))return BI(t);d=lI(t);const e=zy(d,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);e.push("timeZone","offset");const A=Cy(t,e,[]),g=Vg(null);g.overflow="constrain",({year:r,month:i,day:n,hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h}=_y(d,A,g)),f=A.offset,void 0===f&&(p="wall"),l=A.timeZone,void 0!==l&&(l=bI(l))}else{let e,g;if(({year:r,month:i,day:n,hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h,calendar:d,ianaName:e,offset:f,z:g}=ny(Sm(t))),e)l=bI(e),g?p="exact":f||(p="wall"),A=!0;else if(g)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(d||(d="iso8601"),!bb(d))throw new RangeError(`invalid calendar identifier ${d}`);d=vb(d)}return void 0===l?Ty(r,i,n,d):Gy(Fy(r,i,n,o,s,a,c,u,h,p,"option"===p?HI(f):0,l,"compatible","reject",A),l,d)}function vy(e,t,r,i,n,o,s,a,c,u){for(const[h,d]of[["years",e],["months",t],["weeks",r],["days",i],["hours",n],["minutes",o],["seconds",s],["milliseconds",a],["microseconds",c],["nanoseconds",u]])if(0!==d)return Tm.get(h);return"nanosecond"}function Ey(e,t){return Um.indexOf(e)>Um.indexOf(t)?t:e}function Cy(e,t,r,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const n=Vg(null);let o=!1;t.sort();for(const i of t){let t=e[i];if(void 0!==t)o=!0,Fm.has(i)&&(t=Fm.get(i)(t)),n[i]=t;else if("partial"!==r){if(Rg.call(r,i))throw new TypeError(`required property '${i}' missing or undefined`);t=Rm.get(i),n[i]=t}}if("partial"===r&&!o)throw new TypeError(i);return n}function By(e,t="complete"){const r=["hour","microsecond","millisecond","minute","nanosecond","second"],i=Cy(e,r,"partial",{emptySourceErrorMessage:"invalid time-like"}),n={};for(const e of r){const r=$g(i,e);void 0!==r?n[e]=r.value:"complete"===t&&(n[e]=0)}return n}function Sy(e,t){let r=e;if(vm(r)){if(Vm(r))return r;if(ey(r)&&(hy(t),r=DI(gg(r,ZA),gg(r,WA),gg(r,JA))),Wm(r))return hy(t),Ty(gg(r,NA),gg(r,UA),gg(r,jA),gg(r,JA));const e=lI(r);return yI(e,Cy(r,zy(e,["day","month","monthCode","year"]),[]),t)}hy(t);let{year:i,month:n,day:o,calendar:s,z:a}=function(e){return ny(e)}(Sm(r));if(a)throw new RangeError("Z designator not supported for PlainDate");if(s||(s="iso8601"),!bb(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=vb(s),Ty(i,n,o,s)}function _y(e,t,r){let{hour:i,minute:n,second:o,millisecond:s,microsecond:a,nanosecond:c}=By(t);const u=hy(r),h=yI(e,t,r),d=gg(h,NA),l=gg(h,UA),f=gg(h,jA);return({hour:i,minute:n,second:o,millisecond:s,microsecond:a,nanosecond:c}=cy(i,n,o,s,a,c,u)),{year:d,month:l,day:f,hour:i,minute:n,second:o,millisecond:s,microsecond:a,nanosecond:c}}function Qy(e,t){let r,i,n,o,s,a,c,u,h,d;if(vm(e)){if(Wm(e))return e;if(ey(e))return hy(t),DI(gg(e,ZA),gg(e,WA),gg(e,JA));if(Vm(e))return hy(t),Uy(gg(e,NA),gg(e,UA),gg(e,jA),0,0,0,0,0,0,gg(e,JA));d=lI(e);const l=Cy(e,zy(d,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:r,month:i,day:n,hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h}=_y(d,l,t))}else{let l;if(hy(t),({year:r,month:i,day:n,hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h,calendar:d,z:l}=function(e){return ny(e)}(Sm(e))),l)throw new RangeError("Z designator not supported for PlainDateTime");if(Bw(r,i,n,o,s,a,c,u,h),d||(d="iso8601"),!bb(d))throw new RangeError(`invalid calendar identifier ${d}`);d=vb(d)}return Uy(r,i,n,o,s,a,c,u,h,d)}function Dy(e){if(Ym(e))return e;let{years:t,months:r,weeks:i,days:n,hours:o,minutes:s,seconds:a,milliseconds:c,microseconds:u,nanoseconds:h}=uy(e);return new(xA("%Temporal.Duration%"))(t,r,i,n,o,s,a,c,u,h)}function ky(e){if(Gm(e))return e;if(ey(e))return new(xA("%Temporal.Instant%"))(gg(e,OA));const t=function(e){let{year:t,month:r,day:i,hour:n,minute:o,second:s,millisecond:a,microsecond:c,nanosecond:u,offset:h,z:d}=function(e){const t=ny(e);if(!t.z&&!t.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return t}(e);if(!d&&!h)throw new RangeError("Temporal.Instant requires a time zone offset");const l=d?0:HI(h);({year:t,month:r,day:i,hour:n,minute:o,second:s,millisecond:a,microsecond:c,nanosecond:u}=hw(t,r,i,n,o,s,a,c,u-l));const f=VI(t,r,i,n,o,s,a,c,u);if(null===f)throw new RangeError("DateTime outside of supported range");return f}(Sm(e));return new(xA("%Temporal.Instant%"))(t)}function My(e,t){let r=e;if(vm(r)){if(Xm(r))return r;let e,i;if(Ag(r,JA))e=gg(r,JA),i=!1;else{let t=r.calendar;i=void 0===t,void 0===t&&(t="iso8601"),e=dI(t)}const n=Cy(r,zy(e,["day","month","monthCode","year"]),[]);return i&&void 0!==n.month&&void 0===n.monthCode&&void 0===n.year&&(n.year=1972),wI(e,n,t)}hy(t);let{month:i,day:n,referenceISOYear:o,calendar:s}=sy(Sm(r));if(void 0===s&&(s="iso8601"),!bb(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=vb(s),void 0===o?(vw(1972,i,n),Ly(i,n,s)):wI(s,Ly(i,n,s,o))}function Py(e,t="constrain"){let r,i,n,o,s,a,c=e;if(vm(c)){if($m(c))return c;if(ey(c)&&(c=DI(gg(c,ZA),gg(c,WA),gg(c,JA))),Wm(c))return new(xA("%Temporal.PlainTime%"))(gg(c,LA),gg(c,qA),gg(c,KA),gg(c,HA),gg(c,GA),gg(c,zA));({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:a}=By(c)),({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:a}=cy(r,i,n,o,s,a,t))}else({hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:a}=function(e){const t=Dg.exec(e);let r,i,n,o,s,a,c;if(t){r=Cm(t[1]),i=Cm(t[2]||t[5]),n=Cm(t[3]||t[6]),60===n&&(n=59);const e=(t[4]||t[7])+"000000000";o=Cm(e.slice(0,3)),s=Cm(e.slice(3,6)),a=Cm(e.slice(6,9)),c=t[14];for(const[,e,t,r]of c.matchAll(_g))if("u-ca"!==t&&"!"===e)throw new RangeError(`Unrecognized annotation: !${t}=${r}`);if(t[8])throw new RangeError("Z designator not supported for PlainTime")}else{let t,c;if(({hasTime:c,hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:a,z:t}=ny(e)),!c)throw new RangeError(`time is missing in string: ${e}`);if(t)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(e))return{hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:a};try{const{month:t,day:r}=sy(e);vw(1972,t,r)}catch{try{const{year:t,month:r}=oy(e);vw(t,r,1)}catch{return{hour:r,minute:i,second:n,millisecond:o,microsecond:s,nanosecond:a}}}throw new RangeError(`invalid ISO 8601 time-only string ${e}; may need a T prefix`)}(Sm(c))),Cw(r,i,n,o,s,a);return new(xA("%Temporal.PlainTime%"))(r,i,n,o,s,a)}function xy(e,t){if(vm(e)){if(Zm(e))return e;const r=lI(e);return II(r,Cy(e,zy(r,["month","monthCode","year"]),[]),t)}hy(t);let{year:r,month:i,referenceISODay:n,calendar:o}=oy(Sm(e));if(void 0===o&&(o="iso8601"),!bb(o))throw new RangeError(`invalid calendar identifier ${o}`);return o=vb(o),void 0===n?(vw(r,i,1),Ky(r,i,o)):II(o,Ky(r,i,o,n))}function Fy(e,t,r,i,n,o,s,a,c,u,h,d,l,f,p){const A=new(xA("%Temporal.PlainDateTime%"))(e,t,r,i,n,o,s,a,c);if("wall"===u||"ignore"===f)return gg(kI(d,A,l),OA);if("exact"===u||"use"===f){const u=VI(e,t,r,i,n,o,s,a,c);if(null===u)throw new RangeError("ZonedDateTime outside of supported range");return DA.subtract(u,DA.BigInt(h))}const g=PI(d,A);for(const e of g){const t=_I(d,e),r=DA.toNumber(Xw(DA.BigInt(t),cm,"halfExpand"));if(t===h||p&&r===h)return gg(e,OA)}if("reject"===f){const e=JI(h),t=zm(d)?gg(d,TA):"time zone";throw new RangeError(`Offset ${e} is invalid for ${A.toString()} in ${t}`)}return gg(MI(g,d,A,l),OA)}function Ry(e,t){let r,i,n,o,s,a,c,u,h,d,l,f,p,A,g=!1,m="option";if(vm(e)){if(ey(e))return e;f=lI(e);const g=zy(f,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);g.push("timeZone","offset");const y=Cy(e,g,["timeZone"]);d=bI(y.timeZone),l=y.offset,void 0===l&&(m="wall"),p=dy(t),A=fy(t,"reject"),({year:r,month:i,day:n,hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h}=_y(f,y,t))}else{let y,I;if(({year:r,month:i,day:n,hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h,ianaName:y,offset:l,z:I,calendar:f}=function(e){const t=ny(e);if(!t.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return t}(Sm(e))),d=bI(y),I?m="exact":l||(m="wall"),f||(f="iso8601"),!bb(f))throw new RangeError(`invalid calendar identifier ${f}`);f=vb(f),g=!0,p=dy(t),A=fy(t,"reject"),hy(t)}let y=0;return"option"===m&&(y=HI(l)),Gy(Fy(r,i,n,o,s,a,c,u,h,m,y,d,p,A,g),d,f)}function Oy(e,t,r,i,n){vw(t,r,i),Ew(t,r,i),pg(e),mg(e,NA,t),mg(e,UA,r),mg(e,jA,i),mg(e,JA,n),mg(e,YA,!0)}function Ty(e,t,r,i="iso8601"){const n=xA("%Temporal.PlainDate%"),o=Vg(n.prototype);return Oy(o,e,t,r,i),o}function Ny(e,t,r,i,n,o,s,a,c,u,h){Bw(t,r,i,n,o,s,a,c,u),Sw(t,r,i,n,o,s,a,c,u),pg(e),mg(e,NA,t),mg(e,UA,r),mg(e,jA,i),mg(e,LA,n),mg(e,qA,o),mg(e,KA,s),mg(e,HA,a),mg(e,GA,c),mg(e,zA,u),mg(e,JA,h)}function Uy(e,t,r,i,n,o,s,a,c,u="iso8601"){const h=xA("%Temporal.PlainDateTime%"),d=Vg(h.prototype);return Ny(d,e,t,r,i,n,o,s,a,c,u),d}function jy(e,t,r,i,n){vw(n,t,r),Ew(n,t,r),pg(e),mg(e,UA,t),mg(e,jA,r),mg(e,NA,n),mg(e,JA,i),mg(e,$A,!0)}function Ly(e,t,r="iso8601",i=1972){const n=xA("%Temporal.PlainMonthDay%"),o=Vg(n.prototype);return jy(o,e,t,r,i),o}function qy(e,t,r,i,n){vw(t,r,n),function(e,t){bw(e,lm,fm),e===lm?bw(t,4,12):e===fm&&bw(t,1,9)}(t,r),pg(e),mg(e,NA,t),mg(e,UA,r),mg(e,jA,n),mg(e,JA,i),mg(e,VA,!0)}function Ky(e,t,r="iso8601",i=1){const n=xA("%Temporal.PlainYearMonth%"),o=Vg(n.prototype);return qy(o,e,t,r,i),o}function Hy(e,t,r,i){_w(t),pg(e),mg(e,OA,t),mg(e,ZA,r),mg(e,JA,i);const n=new(xA("%Temporal.Instant%"))(gg(e,OA));mg(e,WA,n)}function Gy(e,t,r="iso8601"){const i=xA("%Temporal.ZonedDateTime%"),n=Vg(i.prototype);return Hy(n,e,t,r),n}function zy(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.fields%"),r,[t])}const r=bm(wm(e,"fields"),e,[t]),i=[];for(const e of r){if("string"!=typeof e)throw new TypeError("bad return from calendar.fields()");Og.call(i,e)}return i}function Jy(e,t,r){if("string"==typeof e){const i=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.mergeFields%"),i,[t,r])}const i=bm(wm(e,"mergeFields"),e,[t,r]);if(!vm(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Yy(e,t,r,i,n){let o=n;if("string"==typeof e){const n=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.dateAdd%"),n,[t,r,i])}void 0===o&&(o=wm(e,"dateAdd"));const s=Wg(o,e,[t,r,i]);if(!Vm(s))throw new TypeError("invalid result");return s}function Vy(e,t,r,i,n){let o=n;if("string"==typeof e){const n=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.dateUntil%"),n,[t,r,i])}void 0===o&&(o=wm(e,"dateUntil"));const s=Wg(o,e,[t,r,i]);if(!Ym(s))throw new TypeError("invalid result");return s}function $y(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.year%"),r,[t])}let r=bm(wm(e,"year"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar year result must be an integer");if(!Bm(r))throw new RangeError("calendar year result must be an integer");return r}function Wy(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.month%"),r,[t])}let r=bm(wm(e,"month"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar month result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar month result must be a positive integer");return r}function Zy(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.monthCode%"),r,[t])}let r=bm(wm(e,"monthCode"),e,[t]);if("string"!=typeof r)throw new TypeError("calendar monthCode result must be a string");return r}function Xy(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.day%"),r,[t])}const r=bm(wm(e,"day"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar day result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar day result must be a positive integer");return r}function eI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.era%"),r,[t])}let r=bm(wm(e,"era"),e,[t]);if(void 0===r)return r;if("string"!=typeof r)throw new TypeError("calendar era result must be a string or undefined");return r}function tI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.eraYear%"),r,[t])}let r=bm(wm(e,"eraYear"),e,[t]);if(void 0===r)return r;if("number"!=typeof r)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Bm(r))throw new RangeError("calendar eraYear result must be an integer or undefined");return r}function rI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.dayOfWeek%"),r,[t])}const r=bm(wm(e,"dayOfWeek"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return r}function iI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.dayOfYear%"),r,[t])}const r=bm(wm(e,"dayOfYear"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return r}function nI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.weekOfYear%"),r,[t])}const r=bm(wm(e,"weekOfYear"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return r}function oI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.yearOfWeek%"),r,[t])}const r=bm(wm(e,"yearOfWeek"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar yearOfWeek result must be an integer");if(!Bm(r))throw new RangeError("calendar yearOfWeek result must be an integer");return r}function sI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.daysInWeek%"),r,[t])}const r=bm(wm(e,"daysInWeek"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return r}function aI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.daysInMonth%"),r,[t])}const r=bm(wm(e,"daysInMonth"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return r}function cI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.daysInYear%"),r,[t])}const r=bm(wm(e,"daysInYear"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar daysInYear result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar daysInYear result must be a positive integer");return r}function uI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.monthsInYear%"),r,[t])}const r=bm(wm(e,"monthsInYear"),e,[t]);if("number"!=typeof r)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Bm(r)||r<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return r}function hI(e,t){if("string"==typeof e){const r=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.inLeapYear%"),r,[t])}const r=bm(wm(e,"inLeapYear"),e,[t]);if("boolean"!=typeof r)throw new TypeError("calendar inLeapYear result must be a boolean");return r}function dI(e){if(vm(e)){if(Ag(e,JA))return gg(e,JA);if(!function(e){return!!Jm(e)||"dateAdd"in e&&"dateFromFields"in e&&"dateUntil"in e&&"day"in e&&"dayOfWeek"in e&&"dayOfYear"in e&&"daysInMonth"in e&&"daysInWeek"in e&&"daysInYear"in e&&"fields"in e&&"id"in e&&"inLeapYear"in e&&"mergeFields"in e&&"month"in e&&"monthCode"in e&&"monthDayFromFields"in e&&"monthsInYear"in e&&"weekOfYear"in e&&"year"in e&&"yearMonthFromFields"in e&&"yearOfWeek"in e}(e))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return e}const t=Sm(e);if(bb(t))return vb(t);let r;try{({calendar:r}=ny(t))}catch{try{({calendar:r}=oy(t))}catch{({calendar:r}=sy(t))}}if(r||(r="iso8601"),!bb(r))throw new RangeError(`invalid calendar identifier ${r}`);return vb(r)}function lI(e){if(Ag(e,JA))return gg(e,JA);const{calendar:t}=e;return void 0===t?"iso8601":dI(t)}function fI(e){if("string"==typeof e)return e;const t=e.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function pI(e){return vm(e)?e:new(xA("%Temporal.Calendar%"))(e)}function AI(e,t){return e===t||fI(e)===fI(t)}function gI(e,t,r){if(e===t)return;const i=fI(e),n=fI(t);if(i!==n)throw new RangeError(`cannot ${r} of ${i} and ${n} calendars`)}function mI(e,t){if(e===t)return t;const r=fI(e),i=fI(t);if(r===i||"iso8601"===r)return t;if("iso8601"===i)return e;throw new RangeError("irreconcilable calendars")}function yI(e,t,r,i){if("string"==typeof e){const i=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.dateFromFields%"),i,[t,r])}const n=bm(i??wm(e,"dateFromFields"),e,[t,r]);if(!Vm(n))throw new TypeError("invalid result");return n}function II(e,t,r){if("string"==typeof e){const i=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.yearMonthFromFields%"),i,[t,r])}let i=bm(wm(e,"yearMonthFromFields"),e,[t,r]);if(!Zm(i))throw new TypeError("invalid result");return i}function wI(e,t,r){if("string"==typeof e){const i=new(xA("%Temporal.Calendar%"))(e);return bm(xA("%Temporal.Calendar.prototype.monthDayFromFields%"),i,[t,r])}let i=bm(wm(e,"monthDayFromFields"),e,[t,r]);if(!Xm(i))throw new TypeError("invalid result");return i}function bI(e){if(vm(e)){if(ey(e))return gg(e,ZA);if(!function(e){return!!zm(e)||"getOffsetNanosecondsFor"in e&&"getPossibleInstantsFor"in e&&"id"in e}(e))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return e}return function(e){const{ianaName:t,offset:r,z:i}=function(e){if(new RegExp(`^${Ig.source}$`,"i").test(e))return{ianaName:e};try{const t=ny(e);if(t.z||t.offset||t.ianaName)return t}catch{}throw new RangeError(`Invalid time zone: ${e}`)}(e);return t?GI(t):i?"UTC":JI(HI(r))}(Sm(e))}function vI(e){if("string"==typeof e)return e;const t=e.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function EI(e){return vm(e)?e:new(xA("%Temporal.TimeZone%"))(e)}function CI(e,t){return e===t||vI(e)===vI(t)}function BI(e){return Ty(gg(e,NA),gg(e,UA),gg(e,jA),gg(e,JA))}function SI(e){return new(xA("%Temporal.PlainTime%"))(gg(e,LA),gg(e,qA),gg(e,KA),gg(e,HA),gg(e,GA),gg(e,zA))}function _I(e,t,r){if("string"==typeof e){const r=new(xA("%Temporal.TimeZone%"))(e);return bm(xA("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),r,[t])}const i=bm(r??wm(e,"getOffsetNanosecondsFor"),e,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Bm(i)||jg(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function QI(e,t){return JI(_I(e,t))}function DI(e,t,r){const i=gg(t,OA),n=_I(e,t);let{year:o,month:s,day:a,hour:c,minute:u,second:h,millisecond:d,microsecond:l,nanosecond:f}=$I(i);return({year:o,month:s,day:a,hour:c,minute:u,second:h,millisecond:d,microsecond:l,nanosecond:f}=hw(o,s,a,c,u,h,d,l,f+n)),Uy(o,s,a,c,u,h,d,l,f,r)}function kI(e,t,r){return MI(PI(e,t),e,t,r)}function MI(e,t,r,i){const n=xA("%Temporal.Instant%"),o=e.length;if(1===o)return e[0];if(o)switch(i){case"compatible":case"earlier":return e[0];case"later":return e[o-1];case"reject":throw new RangeError("multiple instants found")}const s=gg(r,NA),a=gg(r,UA),c=gg(r,jA),u=gg(r,LA),h=gg(r,qA),d=gg(r,KA),l=gg(r,HA),f=gg(r,GA),p=gg(r,zA),A=VI(s,a,c,u,h,d,l,f,p);if(null===A)throw new RangeError("DateTime outside of supported range");const g=new n(DA.subtract(A,um)),m=new n(DA.add(A,um)),y=_I(t,g),I=_I(t,m)-y;switch(i){case"earlier":{const e=gg(r,JA),i=xA("%Temporal.PlainDateTime%"),n=Gw(s,a,c,u,h,d,l,f,p,e,0,0,0,0,0,0,0,0,0,-I,void 0);return PI(t,new i(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond,n.microsecond,n.nanosecond,e))[0]}case"compatible":case"later":{const e=gg(r,JA),i=xA("%Temporal.PlainDateTime%"),n=Gw(s,a,c,u,h,d,l,f,p,e,0,0,0,0,0,0,0,0,0,I,void 0),o=PI(t,new i(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond,n.microsecond,n.nanosecond,e));return o[o.length-1]}case"reject":throw new RangeError("no such instant found")}}function PI(e,t,r){if("string"==typeof e){const r=new(xA("%Temporal.TimeZone%"))(e);return bm(xA("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),r,[t])}const i=bm(r??wm(e,"getPossibleInstantsFor"),e,[t]),n=[];for(const e of i){if(!Gm(e))throw new TypeError("bad return from getPossibleInstantsFor");Og.call(n,e)}return n}function xI(e){let t;return t=e<0||e>9999?(e<0?"-":"+")+`000000${jg(e)}`.slice(-6):`0000${e}`.slice(-4),t}function FI(e){return`00${e}`.slice(-2)}function RI(e,t,r,i,n){if("minute"===n)return"";const o=`:${FI(e)}`;let s,a=1e6*t+1e3*r+i;if("auto"===n){if(0===a)return o;for(s=`${a}`.padStart(9,"0");"0"===s[s.length-1];)s=s.slice(0,-1)}else{if(0===n)return o;s=`${a}`.padStart(9,"0").slice(0,n)}return`${o}.${s}`}function OI(e,t,r){let i=t;void 0===i&&(i="UTC");const n=DI(i,e,"iso8601"),o=xI(gg(n,NA)),s=FI(gg(n,UA)),a=FI(gg(n,jA)),c=FI(gg(n,LA)),u=FI(gg(n,qA)),h=RI(gg(n,KA),gg(n,HA),gg(n,GA),gg(n,zA),r);let d="Z";return void 0!==t&&(d=YI(_I(i,e))),`${o}-${s}-${a}T${c}:${u}${h}${d}`}function TI(e,t="auto",r){function i(e){return e<=Yg?e.toString(10):DA.BigInt(e).toString(10)}const n=gg(e,XA),o=gg(e,eg),s=gg(e,tg),a=gg(e,rg),c=gg(e,ig),u=gg(e,ng);let h=gg(e,og),d=gg(e,sg),l=gg(e,ag),f=gg(e,cg);const p=aw(n,o,s,a,c,u,h,d,l,f);if(r){const{unit:e,increment:t,roundingMode:i}=r;({seconds:h,milliseconds:d,microseconds:l,nanoseconds:f}=ab(0,0,0,0,0,0,h,d,l,f,t,e,i))}const A=[];n&&A.push(`${i(jg(n))}Y`),o&&A.push(`${i(jg(o))}M`),s&&A.push(`${i(jg(s))}W`),a&&A.push(`${i(jg(a))}D`);const g=[];c&&g.push(`${i(jg(c))}H`),u&&g.push(`${i(jg(u))}M`);const m=[];let y,I,w,b,v=lw(0,0,0,h,d,l,f,0);({quotient:v,remainder:y}=km(v,im)),({quotient:v,remainder:I}=km(v,im)),({quotient:b,remainder:w}=km(v,im));const E=1e6*jg(DA.toNumber(w))+1e3*jg(DA.toNumber(I))+jg(DA.toNumber(y));let C;if("auto"===t){if(0!==E)for(C=`${E}`.padStart(9,"0");"0"===C[C.length-1];)C=C.slice(0,-1)}else 0!==t&&(C=`${E}`.padStart(9,"0").slice(0,t));return C&&m.unshift(".",C),DA.equal(b,Xg)&&!m.length&&"auto"===t||m.unshift(xm(b).toString()),m.length&&g.push(`${m.join("")}S`),g.length&&g.unshift("T"),A.length||g.length?`${p<0?"-":""}P${A.join("")}${g.join("")}`:"PT0S"}function NI(e,t="auto"){return`${xI(gg(e,NA))}-${FI(gg(e,UA))}-${FI(gg(e,jA))}${ry(gg(e,JA),t)}`}function UI(e,t,r="auto",i){let n=gg(e,NA),o=gg(e,UA),s=gg(e,jA),a=gg(e,LA),c=gg(e,qA),u=gg(e,KA),h=gg(e,HA),d=gg(e,GA),l=gg(e,zA);if(i){const{unit:e,increment:t,roundingMode:r}=i;({year:n,month:o,day:s,hour:a,minute:c,second:u,millisecond:h,microsecond:d,nanosecond:l}=tb(n,o,s,a,c,u,h,d,l,t,e,r))}return`${xI(n)}-${FI(o)}-${FI(s)}T${FI(a)}:${FI(c)}${RI(u,h,d,l,t)}${ry(gg(e,JA),r)}`}function jI(e,t="auto"){let r=`${FI(gg(e,UA))}-${FI(gg(e,jA))}`;const i=fI(gg(e,JA));"always"!==t&&"critical"!==t&&"iso8601"===i||(r=`${xI(gg(e,NA))}-${r}`);const n=iy(i,t);return n&&(r+=n),r}function LI(e,t="auto"){let r=`${xI(gg(e,NA))}-${FI(gg(e,UA))}`;const i=fI(gg(e,JA));"always"!==t&&"critical"!==t&&"iso8601"===i||(r+=`-${FI(gg(e,jA))}`);const n=iy(i,t);return n&&(r+=n),r}function qI(e,t,r="auto",i="auto",n="auto",o){let s=gg(e,WA);if(o){const{unit:t,increment:r,roundingMode:i}=o,n=eb(gg(e,OA),r,t,i);s=new(xA("%Temporal.Instant%"))(n)}const a=gg(e,ZA),c=DI(a,s,"iso8601");let u=`${xI(gg(c,NA))}-${FI(gg(c,UA))}-${FI(gg(c,jA))}T${FI(gg(c,LA))}:${FI(gg(c,qA))}${RI(gg(c,KA),gg(c,HA),gg(c,GA),gg(c,zA),t)}`;return"never"!==n&&(u+=YI(_I(a,s))),"never"!==i&&(u+=`[${"critical"===i?"!":""}${vI(a)}]`),u+=ry(gg(e,JA),r),u}function KI(e){return Eb.test(Jg(e))}function HI(e){const t=Eb.exec(Jg(e));if(!t)throw new RangeError(`invalid time zone offset: ${e}`);return("-"===t[1]||"−"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function GI(e){return KI(e)?JI(HI(e)):qm(Jg(e)).resolvedOptions().timeZone}function zI(e,t){const{year:r,month:i,day:n,hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h}=WI(e,t),d=r%400,l=(r-d)/400,f=DA.multiply(DA.BigInt(146097),um),p=VI(d,i,n,o,s,a,c,u,h),A=DA.add(p,DA.multiply(f,DA.BigInt(l)));return DA.toNumber(DA.subtract(A,t))}function JI(e){const t=e<0?"-":"+",r=jg(e),i=r%1e9,n=Lg(r/1e9)%60,o=Lg(r/6e10)%60,s=FI(Lg(r/36e11)),a=FI(o),c=FI(n);let u="";if(i){let e=`${i}`.padStart(9,"0");for(;"0"===e[e.length-1];)e=e.slice(0,-1);u=`:${c}.${e}`}else n&&(u=`:${c}`);return`${t}${s}:${a}${u}`}function YI(e){let t=DA.toNumber(Xw(DA.BigInt(e),cm,"halfExpand"));const r=t<0?"-":"+";t=jg(t);const i=t/6e10%60;return`${r}${FI(Lg(t/36e11))}:${FI(i)}`}function VI(e,t,r,i,n,o,s,a,c){const u=new Date;u.setUTCHours(i,n,o,s),u.setUTCFullYear(e,t-1,r);const h=u.getTime();if(Hg(h))return null;let d=DA.multiply(DA.BigInt(h),nm);return d=DA.add(d,DA.multiply(DA.BigInt(a),im)),d=DA.add(d,DA.BigInt(c)),DA.lessThan(d,hm)||DA.greaterThan(d,dm)?null:d}function $I(e){const{quotient:t,remainder:r}=km(e,nm);let i=DA.toNumber(t),n=DA.toNumber(r);n<0&&(n+=1e6,i-=1);const o=Lg(n/1e3)%1e3,s=n%1e3,a=new Date(i);return{epochMilliseconds:i,year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds(),microsecond:o,nanosecond:s}}function WI(e,t){const{epochMilliseconds:r,millisecond:i,microsecond:n,nanosecond:o}=$I(t),{year:s,month:a,day:c,hour:u,minute:h,second:d}=function(e,t){return function(e){const t=e.split(/[^\w]+/);if(7!==t.length)throw new RangeError(`expected 7 parts in "${e}`);const r=+t[0],i=+t[1];let n=+t[2];const o=t[3].toUpperCase();if("B"===o||"BC"===o)n=1-n;else if("A"!==o&&"AD"!==o)throw new RangeError(`Unknown era ${o} in "${e}`);let s=+t[4];24===s&&(s=0);const a=+t[5],c=+t[6];if(!(Gg(n)&&Gg(r)&&Gg(i)&&Gg(s)&&Gg(a)&&Gg(c)))throw new RangeError(`Invalid number in "${e}`);return{year:n,month:r,day:i,hour:s,minute:a,second:c}}(qm(e).format(new Date(t)))}(e,r);return hw(s,a,c,u,h,d,i,n,o)}function ZI(e,t){return DA.lessThan(e,t)?t:e}function XI(){return DA.add(pb(),Am)}function ew(e,t){if(DA.lessThan(t,pm))return ew(e,pm);const r=DA.add(t,gm),i=ZI(XI(),r);let n=ZI(pm,t);const o=zI(e,n);let s=n,a=o;for(;o===a&&DA.lessThan(DA.BigInt(n),i);){if(s=DA.add(n,mm),DA.greaterThan(s,dm))return null;a=zI(e,s),o===a&&(n=s)}return o===a?null:Cb((t=>zI(e,t)),n,s,o,a)}function tw(e,t){const r=XI(),i=DA.greaterThan(t,r),n=i?DA.subtract(t,gm):pm;if("Africa/Casablanca"===e||"Africa/El_Aaiun"===e){const r=gg(ky("2088-01-01T00Z"),OA);if(DA.lessThan(r,t))return tw(e,r)}let o=DA.subtract(t,em);if(DA.lessThan(o,pm))return null;const s=zI(e,o);let a=o,c=s;for(;s===c&&DA.greaterThan(o,n);){if(a=DA.subtract(o,mm),DA.lessThan(a,pm))return null;c=zI(e,a),s===c&&(o=a)}if(s===c){if(i){const t=DA.subtract(r,um);return tw(e,t)}return null}return Cb((t=>zI(e,t)),a,o,c,s)}function rw(e){return void 0!==e&&!(e%4!=0||e%100==0&&e%400!=0)}function iw(e,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[rw(e)?"leapyear":"standard"][t-1]}function nw(e,t,r){const i=t+(t<3?10:-2),n=e-(t<3?1:0),o=Lg(n/100),s=n-100*o,a=(r+Lg(2.6*i-.2)+(s+Lg(s/4))+(Lg(o/4)-2*o))%7;return a+(a<=0?7:0)}function ow(e,t,r){let i=r;for(let r=t-1;r>0;r--)i+=iw(e,r);return i}function sw(e,t,r){const i=ow(e,t,r),n=nw(e,t,r)||7,o=nw(e,1,1),s=Lg((i-n+10)/7);return s<1?5===o||6===o&&rw(e-1)?{week:53,year:e-1}:{week:52,year:e-1}:53===s&&(rw(e)?366:365)-i<4-n?{week:1,year:e+1}:{week:s,year:e}}function aw(e,t,r,i,n,o,s,a,c,u){for(const h of[e,t,r,i,n,o,s,a,c,u])if(0!==h)return h<0?-1:1;return 0}function cw(e,t){let r=e,i=t;if(!Gg(r)||!Gg(i))throw new RangeError("infinity is out of range");return i-=1,r+=Lg(i/12),i%=12,i<0&&(i+=12),i+=1,{year:r,month:i}}function uw(e,t,r){let i=e,n=t,o=r;if(!Gg(o))throw new RangeError("infinity is out of range");({year:i,month:n}=cw(i,n));const s=146097;if(jg(o)>s){const e=Kg(o/s);i+=400*e,o-=e*s}let a=0,c=n>2?i:i-1;for(;a=rw(c)?366:365,o<-a;)i-=1,c-=1,o+=a;for(c+=1;a=rw(c)?366:365,o>a;)i+=1,c+=1,o-=a;for(;o<1;)({year:i,month:n}=cw(i,n-1)),o+=iw(i,n);for(;o>iw(i,n);)o-=iw(i,n),({year:i,month:n}=cw(i,n+1));return{year:i,month:n,day:o}}function hw(e,t,r,i,n,o,s,a,c){const{deltaDays:u,hour:h,minute:d,second:l,millisecond:f,microsecond:p,nanosecond:A}=dw(i,n,o,s,a,c),{year:g,month:m,day:y}=uw(e,t,r+u);return{year:g,month:m,day:y,hour:h,minute:d,second:l,millisecond:f,microsecond:p,nanosecond:A}}function dw(e,t,r,i,n,o){let s,a=DA.BigInt(e),c=DA.BigInt(t),u=DA.BigInt(r),h=DA.BigInt(i),d=DA.BigInt(n),l=DA.BigInt(o);return({quotient:s,remainder:l}=ub(l,im)),d=DA.add(d,s),({quotient:s,remainder:d}=ub(d,im)),h=DA.add(h,s),({quotient:s,remainder:h}=ub(h,im)),u=DA.add(u,s),({quotient:s,remainder:u}=ub(u,tm)),c=DA.add(c,s),({quotient:s,remainder:c}=ub(c,tm)),a=DA.add(a,s),({quotient:s,remainder:a}=ub(a,rm)),{deltaDays:DA.toNumber(s),hour:DA.toNumber(a),minute:DA.toNumber(c),second:DA.toNumber(u),millisecond:DA.toNumber(h),microsecond:DA.toNumber(d),nanosecond:DA.toNumber(l)}}function lw(e,t,r,i,n,o,s,a){const c=DA.BigInt(e);let u=DA.BigInt(s);0!==e&&(u=DA.subtract(DA.BigInt(s),DA.BigInt(a)));const h=DA.add(DA.BigInt(t),DA.multiply(c,DA.BigInt(24))),d=DA.add(DA.BigInt(r),DA.multiply(h,tm)),l=DA.add(DA.BigInt(i),DA.multiply(d,tm)),f=DA.add(DA.BigInt(n),DA.multiply(l,im)),p=DA.add(DA.BigInt(o),DA.multiply(f,im));return DA.add(DA.BigInt(u),DA.multiply(p,im))}function fw(e,t){const r=xA("%Temporal.Instant%"),i=qg(DA.toNumber(e));let n=DA.BigInt(e),o=864e11;if(0===i)return{days:0,nanoseconds:Xg,dayLengthNs:o};if(!ey(t)){let e;return({quotient:e,remainder:n}=km(n,DA.BigInt(o))),{days:DA.toNumber(e),nanoseconds:n,dayLengthNs:o}}const s=gg(t,OA),a=gg(t,WA),c=DA.add(s,n),u=new r(c),h=gg(t,ZA),d=gg(t,JA),l=DI(h,a,d),f=DI(h,u,d);let{days:p}=Pw(gg(l,NA),gg(l,UA),gg(l,jA),gg(l,LA),gg(l,qA),gg(l,KA),gg(l,HA),gg(l,GA),gg(l,zA),gg(f,NA),gg(f,UA),gg(f,jA),gg(f,LA),gg(f,qA),gg(f,KA),gg(f,HA),gg(f,GA),gg(f,zA),d,"day",Vg(null)),A=zw(a,h,d,0,0,0,p,0,0,0,0,0,0),g=DA.BigInt(p);if(1===i)for(;DA.greaterThan(g,Xg)&&DA.greaterThan(A,c);)g=DA.subtract(g,em),A=zw(a,h,d,0,0,0,DA.toNumber(g),0,0,0,0,0,0);n=DA.subtract(c,A);let m=!1,y=new r(A);do{const e=zw(y,h,d,0,0,0,i,0,0,0,0,0,0),t=gg(y,OA);o=DA.toNumber(DA.subtract(e,t)),m=DA.greaterThanOrEqual(DA.multiply(DA.subtract(n,DA.BigInt(o)),DA.BigInt(i)),Xg),m&&(n=DA.subtract(n,DA.BigInt(o)),y=new r(e),g=DA.add(g,DA.BigInt(i)))}while(m);if(!Im(g)&&Pm(g)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Im(n)&&Pm(n)!==i){if(Mm(n)&&1===i)throw new Error("assert not reached");throw new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign")}if(DA.greaterThanOrEqual(xm(n),xm(DA.BigInt(o))))throw new Error("assert not reached");return{days:DA.toNumber(g),nanoseconds:n,dayLengthNs:jg(o)}}function pw(e,t,r,i,n,o,s,a,c){let u=Aw(e,t,r,i,n,o,s,a,c);if("positive overflow"===u||"negative overflow"===u)throw new RangeError("Duration out of range");return u}function Aw(e,t,r,i,n,o,s,a,c){let u,h,d,l,f,p,A=e;if(ey(c)){const e=zw(gg(c,WA),gg(c,ZA),gg(c,JA),0,0,0,A,t,r,i,n,o,s),a=gg(c,OA);u=DA.subtract(e,a)}else u=lw(A,t,r,i,n,o,s,0);"year"===a||"month"===a||"week"===a||"day"===a?({days:A,nanoseconds:u}=fw(u,c)):A=0;const g=DA.lessThan(u,Xg)?-1:1;switch(u=xm(u),h=d=l=f=p=Xg,a){case"year":case"month":case"week":case"day":case"hour":({quotient:h,remainder:u}=km(u,im)),({quotient:d,remainder:h}=km(h,im)),({quotient:l,remainder:d}=km(d,im)),({quotient:f,remainder:l}=km(l,tm)),({quotient:p,remainder:f}=km(f,tm));break;case"minute":({quotient:h,remainder:u}=km(u,im)),({quotient:d,remainder:h}=km(h,im)),({quotient:l,remainder:d}=km(d,im)),({quotient:f,remainder:l}=km(l,tm));break;case"second":({quotient:h,remainder:u}=km(u,im)),({quotient:d,remainder:h}=km(h,im)),({quotient:l,remainder:d}=km(d,im));break;case"millisecond":({quotient:h,remainder:u}=km(u,im)),({quotient:d,remainder:h}=km(h,im));break;case"microsecond":({quotient:h,remainder:u}=km(u,im));break;case"nanosecond":break;default:throw new Error("assert not reached")}const m=DA.toNumber(p)*g,y=DA.toNumber(f)*g,I=DA.toNumber(l)*g,w=DA.toNumber(d)*g,b=DA.toNumber(h)*g,v=DA.toNumber(u)*g;for(const e of[A,m,y,I,w,b,v])if(!Gg(e))return 1===g?"positive overflow":"negative overflow";return{days:A,hours:m,minutes:y,seconds:I,milliseconds:w,microseconds:b,nanoseconds:v}}function gw(e,t,r,i,n,o){const s=xA("%Temporal.Duration%"),a=aw(e,t,r,i,0,0,0,0,0,0);if(0===a)return{years:e,months:t,weeks:r,days:i};const c=DA.BigInt(a);let u,h,d=DA.BigInt(e),l=DA.BigInt(t),f=DA.BigInt(r),p=DA.BigInt(i);o&&(h=Sy(o),u=gg(h,JA));const A=new s(a),g=new s(0,a),m=new s(0,0,a);switch(n){case"year":break;case"month":{if(!u)throw new RangeError("a starting point is required for months balancing");let e,t;for("string"!=typeof u&&(e=wm(u,"dateAdd"),t=wm(u,"dateUntil"));!Im(d);){const r=Yy(u,h,A,void 0,e),i=Vg(null);i.largestUnit="month";const n=Vy(u,h,r,i,t),o=DA.BigInt(gg(n,eg));h=r,l=DA.add(l,o),d=DA.subtract(d,c)}}break;case"week":{if(!u)throw new RangeError("a starting point is required for weeks balancing");const e="string"!=typeof u?wm(u,"dateAdd"):void 0;for(;!Im(d);){let t;({relativeTo:h,days:t}=nb(u,h,A,e)),p=DA.add(p,DA.BigInt(t)),d=DA.subtract(d,c)}for(;!Im(l);){let t;({relativeTo:h,days:t}=nb(u,h,g,e)),p=DA.add(p,DA.BigInt(t)),l=DA.subtract(l,c)}break}default:{if(Im(d)&&Im(l)&&Im(f))break;if(!u)throw new RangeError("a starting point is required for balancing calendar units");const e="string"!=typeof u?wm(u,"dateAdd"):void 0;for(;!Im(d);){let t;({relativeTo:h,days:t}=nb(u,h,A,e)),p=DA.add(p,DA.BigInt(t)),d=DA.subtract(d,c)}for(;!Im(l);){let t;({relativeTo:h,days:t}=nb(u,h,g,e)),p=DA.add(p,DA.BigInt(t)),l=DA.subtract(l,c)}for(;!Im(f);){let t;({relativeTo:h,days:t}=nb(u,h,m,e)),p=DA.add(p,DA.BigInt(t)),f=DA.subtract(f,c)}break}}return{years:DA.toNumber(d),months:DA.toNumber(l),weeks:DA.toNumber(f),days:DA.toNumber(p)}}function mw(e,t,r,i,n){if(ey(e)){const o=gg(e,WA),s=gg(e,ZA),a=gg(e,JA),c=_I(s,o),u=zw(o,s,a,t,r,i,n,0,0,0,0,0,0);return _I(s,new(xA("%Temporal.Instant%"))(u))-c}return 0}function yw(e){return new(xA("%Temporal.Duration%"))(-gg(e,XA),-gg(e,eg),-gg(e,tg),-gg(e,rg),-gg(e,ig),-gg(e,ng),-gg(e,og),-gg(e,sg),-gg(e,ag),-gg(e,cg))}function Iw(e,t,r){return Ng(r,Ug(t,e))}function ww(e,t,r){const i=Iw(t,1,12);return{year:e,month:i,day:Iw(r,1,iw(e,i))}}function bw(e,t,r){if(e<t||e>r)throw new RangeError(`value out of range: ${t} <= ${e} <= ${r}`)}function vw(e,t,r){bw(t,1,12),bw(r,1,iw(e,t))}function Ew(e,t,r){Sw(e,t,r,12,0,0,0,0,0)}function Cw(e,t,r,i,n,o){bw(e,0,23),bw(t,0,59),bw(r,0,59),bw(i,0,999),bw(n,0,999),bw(o,0,999)}function Bw(e,t,r,i,n,o,s,a,c){vw(e,t,r),Cw(i,n,o,s,a,c)}function Sw(e,t,r,i,n,o,s,a,c){if(bw(e,lm,fm),e===lm&&null==VI(e,t,r+1,i,n,o,s,a,c-1)||e===fm&&null==VI(e,t,r-1,i,n,o,s,a,c+1))throw new RangeError("DateTime outside of supported range")}function _w(e){if(DA.lessThan(e,hm)||DA.greaterThan(e,dm))throw new RangeError("Instant outside of supported range")}function Qw(e,t,r,i,n,o,s,a,c,u){const h=aw(e,t,r,i,n,o,s,a,c,u);for(const d of[e,t,r,i,n,o,s,a,c,u]){if(!Gg(d))throw new RangeError("infinite values not allowed as duration fields");const e=qg(d);if(0!==e&&e!==h)throw new RangeError("mixed-sign values not allowed as duration fields")}}function Dw(e,t,r,i,n,o,s){switch(s){case"year":case"month":{const a=-cb(e,t,r,i,n,o);if(0===a)return{years:0,months:0,weeks:0,days:0};const c={year:e,month:t,day:r},u={year:i,month:n,day:o};let h=u.year-c.year,d=Lw(e,t,r,h,0,0,0,"constrain"),l=-cb(d.year,d.month,d.day,i,n,o);if(0===l)return"year"===s?{years:h,months:0,weeks:0,days:0}:{years:0,months:12*h,weeks:0,days:0};let f=u.month-c.month;if(l!==a&&(h-=a,f+=12*a),d=Lw(e,t,r,h,f,0,0,"constrain"),l=-cb(d.year,d.month,d.day,i,n,o),0===l)return"year"===s?{years:h,months:f,weeks:0,days:0}:{years:0,months:f+12*h,weeks:0,days:0};l!==a&&(f-=a,f===-a&&(h-=a,f=11*a),d=Lw(e,t,r,h,f,0,0,"constrain"));let p=0;return p=d.month===u.month?u.day-d.day:a<0?-d.day-(iw(u.year,u.month)-u.day):u.day+(iw(d.year,d.month)-d.day),"month"===s&&(f+=12*h,h=0),{years:h,months:f,weeks:0,days:p}}case"week":case"day":{let a,c,u;cb(e,t,r,i,n,o)<0?(c={year:e,month:t,day:r},a={year:i,month:n,day:o},u=1):(c={year:i,month:n,day:o},a={year:e,month:t,day:r},u=-1);let h=ow(a.year,a.month,a.day)-ow(c.year,c.month,c.day);for(let e=c.year;e<a.year;++e)h+=rw(e)?366:365;let d=0;return"week"===s&&(d=Lg(h/7),h%=7),d*=u,h*=u,{years:0,months:0,weeks:d,days:h}}default:throw new Error("assert not reached")}}function kw(e,t,r,i,n,o,s,a,c,u,h,d){let l=s-e,f=a-t,p=c-r,A=u-i,g=h-n,m=d-o;const y=aw(0,0,0,0,l,f,p,A,g,m);l*=y,f*=y,p*=y,A*=y,g*=y,m*=y;let I=0;if(({deltaDays:I,hour:l,minute:f,second:p,millisecond:A,microsecond:g,nanosecond:m}=dw(l,f,p,A,g,m)),0!=I)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return l*=y,f*=y,p*=y,A*=y,g*=y,m*=y,{hours:l,minutes:f,seconds:p,milliseconds:A,microseconds:g,nanoseconds:m}}function Mw(e,t,r,i,n,o){const s=DA.subtract(t,e);let a=0,c=0,u=DA.toNumber(DA.remainder(s,im)),h=DA.toNumber(DA.remainder(DA.divide(s,im),im)),d=DA.toNumber(DA.remainder(DA.divide(s,nm),im)),l=DA.toNumber(DA.divide(s,om));return({hours:a,minutes:c,seconds:l,milliseconds:d,microseconds:h,nanoseconds:u}=ab(0,0,0,0,0,0,l,d,h,u,r,i,o)),pw(0,a,c,l,d,h,u,n)}function Pw(e,t,r,i,n,o,s,a,c,u,h,d,l,f,p,A,g,m,y,I,w){let b=e,v=t,E=r,{hours:C,minutes:B,seconds:S,milliseconds:_,microseconds:Q,nanoseconds:D}=kw(i,n,o,s,a,c,l,f,p,A,g,m);const k=aw(0,0,0,0,C,B,S,_,Q,D);cb(u,h,d,b,v,E)===-k&&(({year:b,month:v,day:E}=uw(b,v,E-k)),({hours:C,minutes:B,seconds:S,milliseconds:_,microseconds:Q,nanoseconds:D}=pw(-k,C,B,S,_,Q,D,I)));const M=Ty(b,v,E,y),P=Ty(u,h,d,y),x=Ey("day",I),F=Ib(w);F.largestUnit=x;let{years:R,months:O,weeks:T,days:N}=Vy(y,M,P,F);return({days:N,hours:C,minutes:B,seconds:S,milliseconds:_,microseconds:Q,nanoseconds:D}=pw(N,C,B,S,_,Q,D,I)),{years:R,months:O,weeks:T,days:N,hours:C,minutes:B,seconds:S,milliseconds:_,microseconds:Q,nanoseconds:D}}function xw(e,t,r,i,n,o){const s=DA.subtract(t,e);if(DA.equal(s,Xg))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const a=xA("%Temporal.Instant%"),c=new a(e),u=new a(t),h=DI(r,c,i),d=DI(r,u,i);let{years:l,months:f,weeks:p,days:A}=Pw(gg(h,NA),gg(h,UA),gg(h,jA),gg(h,LA),gg(h,qA),gg(h,KA),gg(h,HA),gg(h,GA),gg(h,zA),gg(d,NA),gg(d,UA),gg(d,jA),gg(d,LA),gg(d,qA),gg(d,KA),gg(d,HA),gg(d,GA),gg(d,zA),i,n,o);const g=zw(c,r,i,l,f,p,0,0,0,0,0,0,0);let m=DA.subtract(t,g);const y=Gy(g,r,i);({nanoseconds:m,days:A}=fw(m,y));const{hours:I,minutes:w,seconds:b,milliseconds:v,microseconds:E,nanoseconds:C}=pw(0,0,0,0,0,0,DA.toNumber(m),"hour");return{years:l,months:f,weeks:p,days:A,hours:I,minutes:w,seconds:b,milliseconds:v,microseconds:E,nanoseconds:C}}function Fw(e,t,r,i,n,o){const s=Om.reduce(((e,t)=>{const n=t[0],o=t[1],s=t[2];return"datetime"!==r&&s!==r||i.includes(o)||e.push(o,n),e}),[]);let a=wy(t,"largestUnit",r,"auto");if(i.includes(a))throw new RangeError(`largestUnit must be one of ${s.join(", ")}, not ${a}`);const c=Ay(t);let u=ly(t,"trunc");"since"===e&&(u=function(e){switch(e){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return e}}(u));const h=wy(t,"smallestUnit",r,n);if(i.includes(h))throw new RangeError(`smallestUnit must be one of ${s.join(", ")}, not ${h}`);const d=Ey(o,h);if("auto"===a&&(a=d),Ey(a,h)!==a)throw new RangeError(`largestUnit ${a} cannot be smaller than smallestUnit ${h}`);const l={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h];return void 0!==l&&gy(c,l,!1),{largestUnit:a,roundingIncrement:c,roundingMode:u,smallestUnit:h}}function Rw(e,t,r,i){const n="since"===e?-1:1,o=ky(r),s=Fw(e,Ib(i),"time",[],"nanosecond","second"),a=gg(t,OA),c=gg(o,OA);let{hours:u,minutes:h,seconds:d,milliseconds:l,microseconds:f,nanoseconds:p}=Mw(a,c,s.roundingIncrement,s.smallestUnit,s.largestUnit,s.roundingMode);return new(xA("%Temporal.Duration%"))(0,0,0,0,n*u,n*h,n*d,n*l,n*f,n*p)}function Ow(e,t,r,i){const n="since"===e?-1:1,o=Sy(r),s=gg(t,JA);gI(s,gg(o,JA),"compute difference between dates");const a=Ib(i),c=Fw(e,a,"date",[],"day","day");a.largestUnit=c.largestUnit;let{years:u,months:h,weeks:d,days:l}=Vy(s,t,o,a);return"day"===c.smallestUnit&&1===c.roundingIncrement||({years:u,months:h,weeks:d,days:l}=ab(u,h,d,l,0,0,0,0,0,0,c.roundingIncrement,c.smallestUnit,c.roundingMode,t)),new(xA("%Temporal.Duration%"))(n*u,n*h,n*d,n*l,0,0,0,0,0,0)}function Tw(e,t,r,i){const n="since"===e?-1:1,o=Qy(r),s=gg(t,JA);gI(s,gg(o,JA),"compute difference between dates");const a=Ib(i),c=Fw(e,a,"datetime",[],"nanosecond","day");let{years:u,months:h,weeks:d,days:l,hours:f,minutes:p,seconds:A,milliseconds:g,microseconds:m,nanoseconds:y}=Pw(gg(t,NA),gg(t,UA),gg(t,jA),gg(t,LA),gg(t,qA),gg(t,KA),gg(t,HA),gg(t,GA),gg(t,zA),gg(o,NA),gg(o,UA),gg(o,jA),gg(o,LA),gg(o,qA),gg(o,KA),gg(o,HA),gg(o,GA),gg(o,zA),s,c.largestUnit,a);const I=BI(t);return({years:u,months:h,weeks:d,days:l,hours:f,minutes:p,seconds:A,milliseconds:g,microseconds:m,nanoseconds:y}=ab(u,h,d,l,f,p,A,g,m,y,c.roundingIncrement,c.smallestUnit,c.roundingMode,I)),({days:l,hours:f,minutes:p,seconds:A,milliseconds:g,microseconds:m,nanoseconds:y}=pw(l,f,p,A,g,m,y,c.largestUnit)),new(xA("%Temporal.Duration%"))(n*u,n*h,n*d,n*l,n*f,n*p,n*A,n*g,n*m,n*y)}function Nw(e,t,r,i){const n="since"===e?-1:1,o=Py(r),s=Fw(e,Ib(i),"time",[],"nanosecond","hour");let{hours:a,minutes:c,seconds:u,milliseconds:h,microseconds:d,nanoseconds:l}=kw(gg(t,LA),gg(t,qA),gg(t,KA),gg(t,HA),gg(t,GA),gg(t,zA),gg(o,LA),gg(o,qA),gg(o,KA),gg(o,HA),gg(o,GA),gg(o,zA));return({hours:a,minutes:c,seconds:u,milliseconds:h,microseconds:d,nanoseconds:l}=ab(0,0,0,0,a,c,u,h,d,l,s.roundingIncrement,s.smallestUnit,s.roundingMode)),({hours:a,minutes:c,seconds:u,milliseconds:h,microseconds:d,nanoseconds:l}=pw(0,a,c,u,h,d,l,s.largestUnit)),new(xA("%Temporal.Duration%"))(0,0,0,0,n*a,n*c,n*u,n*h,n*d,n*l)}function Uw(e,t,r,i){const n="since"===e?-1:1,o=xy(r),s=gg(t,JA);gI(s,gg(o,JA),"compute difference between months");const a=Ib(i),c=Fw(e,a,"date",["week","day"],"month","year");a.largestUnit=c.largestUnit;const u=zy(s,["monthCode","year"]),h=Cy(t,u,[]);h.day=1;const d=yI(s,h),l=Cy(o,u,[]);l.day=1;const f=yI(s,l);let{years:p,months:A}=Vy(s,d,f,a);return"month"===c.smallestUnit&&1===c.roundingIncrement||({years:p,months:A}=ab(p,A,0,0,0,0,0,0,0,0,c.roundingIncrement,c.smallestUnit,c.roundingMode,d)),new(xA("%Temporal.Duration%"))(n*p,n*A,0,0,0,0,0,0,0,0)}function jw(e,t,r,i){const n="since"===e?-1:1,o=Ry(r),s=gg(t,JA);gI(s,gg(o,JA),"compute difference between dates");const a=Ib(i),c=Fw(e,a,"datetime",[],"nanosecond","hour");a.largestUnit=c.largestUnit;const u=gg(t,OA),h=gg(o,OA);let d,l,f,p,A,g,m,y,I,w;if("year"!==c.largestUnit&&"month"!==c.largestUnit&&"week"!==c.largestUnit&&"day"!==c.largestUnit)d=0,l=0,f=0,p=0,({hours:A,minutes:g,seconds:m,milliseconds:y,microseconds:I,nanoseconds:w}=Mw(u,h,c.roundingIncrement,c.smallestUnit,c.largestUnit,c.roundingMode));else{const e=gg(t,ZA);if(!CI(e,gg(o,ZA)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:d,months:l,weeks:f,days:p,hours:A,minutes:g,seconds:m,milliseconds:y,microseconds:I,nanoseconds:w}=xw(u,h,e,s,c.largestUnit,a)),({years:d,months:l,weeks:f,days:p,hours:A,minutes:g,seconds:m,milliseconds:y,microseconds:I,nanoseconds:w}=ab(d,l,f,p,A,g,m,y,I,w,c.roundingIncrement,c.smallestUnit,c.roundingMode,t)),({years:d,months:l,weeks:f,days:p,hours:A,minutes:g,seconds:m,milliseconds:y,microseconds:I,nanoseconds:w}=sb(d,l,f,p,A,g,m,y,I,w,c.roundingIncrement,c.smallestUnit,c.roundingMode,t))}return new(xA("%Temporal.Duration%"))(n*d,n*l,n*f,n*p,n*A,n*g,n*m,n*y,n*I,n*w)}function Lw(e,t,r,i,n,o,s,a){let c=e,u=t,h=r,d=o,l=s;return c+=i,u+=n,({year:c,month:u}=cw(c,u)),({year:c,month:u,day:h}=ay(c,u,h,a)),l+=7*d,h+=l,({year:c,month:u,day:h}=uw(c,u,h)),{year:c,month:u,day:h}}function qw(e,t,r,i,n,o,s,a,c,u,h,d){let l=e,f=t,p=r,A=i,g=n,m=o;l+=s,f+=a,p+=c,A+=u,g+=h,m+=d;let y=0;return({deltaDays:y,hour:l,minute:f,second:p,millisecond:A,microsecond:g,nanosecond:m}=dw(l,f,p,A,g,m)),{deltaDays:y,hour:l,minute:f,second:p,millisecond:A,microsecond:g,nanosecond:m}}function Kw(e,t,r,i,n,o,s,a,c,u,h,d,l,f,p,A,g,m,y,I,w){const b=Ey(vy(e,t,r,i,n,o,s,a,c,u),vy(h,d,l,f,p,A,g,m,y,I));let v,E,C,B,S,_,Q,D,k,M;if(w)if(Vm(w)){const P=xA("%Temporal.Duration%"),x=gg(w,JA),F=new P(e,t,r,i,0,0,0,0,0,0),R=new P(h,d,l,f,0,0,0,0,0,0),O="string"!=typeof x?wm(x,"dateAdd"):void 0,T=Yy(x,w,F,void 0,O),N=Yy(x,T,R,void 0,O),U=Ey("day",b),j=Vg(null);j.largestUnit=U,({years:v,months:E,weeks:C,days:B}=Vy(x,w,N,j)),({days:B,hours:S,minutes:_,seconds:Q,milliseconds:D,microseconds:k,nanoseconds:M}=pw(B,DA.add(DA.BigInt(n),DA.BigInt(p)),DA.add(DA.BigInt(o),DA.BigInt(A)),DA.add(DA.BigInt(s),DA.BigInt(g)),DA.add(DA.BigInt(a),DA.BigInt(m)),DA.add(DA.BigInt(c),DA.BigInt(y)),DA.add(DA.BigInt(u),DA.BigInt(I)),b))}else{const P=xA("%Temporal.Instant%"),x=gg(w,ZA),F=gg(w,JA),R=zw(gg(w,WA),x,F,e,t,r,i,n,o,s,a,c,u),O=zw(new P(R),x,F,h,d,l,f,p,A,g,m,y,I);"year"!==b&&"month"!==b&&"week"!==b&&"day"!==b?(v=0,E=0,C=0,B=0,({hours:S,minutes:_,seconds:Q,milliseconds:D,microseconds:k,nanoseconds:M}=Mw(gg(w,OA),O,1,"nanosecond",b,"halfExpand"))):({years:v,months:E,weeks:C,days:B,hours:S,minutes:_,seconds:Q,milliseconds:D,microseconds:k,nanoseconds:M}=xw(gg(w,OA),O,x,F,b,Vg(null)))}else{if("year"===b||"month"===b||"week"===b)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");v=E=C=0,({days:B,hours:S,minutes:_,seconds:Q,milliseconds:D,microseconds:k,nanoseconds:M}=pw(i+f,DA.add(DA.BigInt(n),DA.BigInt(p)),DA.add(DA.BigInt(o),DA.BigInt(A)),DA.add(DA.BigInt(s),DA.BigInt(g)),DA.add(DA.BigInt(a),DA.BigInt(m)),DA.add(DA.BigInt(c),DA.BigInt(y)),DA.add(DA.BigInt(u),DA.BigInt(I)),b))}return Qw(v,E,C,B,S,_,Q,D,k,M),{years:v,months:E,weeks:C,days:B,hours:S,minutes:_,seconds:Q,milliseconds:D,microseconds:k,nanoseconds:M}}function Hw(e,t,r,i,n,o,s){let a=Xg;a=DA.add(a,DA.BigInt(s)),a=DA.add(a,DA.multiply(DA.BigInt(o),im)),a=DA.add(a,DA.multiply(DA.BigInt(n),nm)),a=DA.add(a,DA.multiply(DA.BigInt(i),om)),a=DA.add(a,DA.multiply(DA.BigInt(r),DA.BigInt(6e10))),a=DA.add(a,DA.multiply(DA.BigInt(t),DA.BigInt(36e11)));const c=DA.add(e,a);return _w(c),c}function Gw(e,t,r,i,n,o,s,a,c,u,h,d,l,f,p,A,g,m,y,I,w){let b=f,{deltaDays:v,hour:E,minute:C,second:B,millisecond:S,microsecond:_,nanosecond:Q}=qw(i,n,o,s,a,c,p,A,g,m,y,I);b+=v;const D=xA("%Temporal.Duration%"),k=Yy(u,Ty(e,t,r,u),new D(h,d,l,b,0,0,0,0,0,0),w);return{year:gg(k,NA),month:gg(k,UA),day:gg(k,jA),hour:E,minute:C,second:B,millisecond:S,microsecond:_,nanosecond:Q}}function zw(e,t,r,i,n,o,s,a,c,u,h,d,l,f){const p=xA("%Temporal.Duration%");if(0===aw(i,n,o,s,0,0,0,0,0,0))return Hw(gg(e,OA),a,c,u,h,d,l);const A=DI(t,e,r),g=Yy(r,Ty(gg(A,NA),gg(A,UA),gg(A,jA),r),new p(i,n,o,s,0,0,0,0,0,0),f),m=Uy(gg(g,NA),gg(g,UA),gg(g,jA),gg(A,LA),gg(A,qA),gg(A,KA),gg(A,HA),gg(A,GA),gg(A,zA),r);return Hw(gg(kI(t,m,"compatible"),OA),a,c,u,h,d,l)}function Jw(e,t,r,i){const n="subtract"===e?-1:1;let{years:o,months:s,weeks:a,days:c,hours:u,minutes:h,seconds:d,milliseconds:l,microseconds:f,nanoseconds:p}=uy(r);const A=by(mb(i));return({years:o,months:s,weeks:a,days:c,hours:u,minutes:h,seconds:d,milliseconds:l,microseconds:f,nanoseconds:p}=Kw(gg(t,XA),gg(t,eg),gg(t,tg),gg(t,rg),gg(t,ig),gg(t,ng),gg(t,og),gg(t,sg),gg(t,ag),gg(t,cg),n*o,n*s,n*a,n*c,n*u,n*h,n*d,n*l,n*f,n*p,A)),new(xA("%Temporal.Duration%"))(o,s,a,c,u,h,d,l,f,p)}function Yw(e,t,r){const i="subtract"===e?-1:1,{hours:n,minutes:o,seconds:s,milliseconds:a,microseconds:c,nanoseconds:u}=function(e,t){let r=uy(e);for(const e of["years","months","weeks","days"])if(0!==r[e])throw new RangeError(`Duration field ${e} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return r}(r),h=Hw(gg(t,OA),i*n,i*o,i*s,i*a,i*c,i*u);return new(xA("%Temporal.Instant%"))(h)}function Vw(e,t,r,i){const n="subtract"===e?-1:1,{years:o,months:s,weeks:a,days:c,hours:u,minutes:h,seconds:d,milliseconds:l,microseconds:f,nanoseconds:p}=uy(r),A=mb(i),g=gg(t,JA),{year:m,month:y,day:I,hour:w,minute:b,second:v,millisecond:E,microsecond:C,nanosecond:B}=Gw(gg(t,NA),gg(t,UA),gg(t,jA),gg(t,LA),gg(t,qA),gg(t,KA),gg(t,HA),gg(t,GA),gg(t,zA),g,n*o,n*s,n*a,n*c,n*u,n*h,n*d,n*l,n*f,n*p,A);return Uy(m,y,I,w,b,v,E,C,B,g)}function $w(e,t,r){const i="subtract"===e?-1:1,{hours:n,minutes:o,seconds:s,milliseconds:a,microseconds:c,nanoseconds:u}=uy(r);let{hour:h,minute:d,second:l,millisecond:f,microsecond:p,nanosecond:A}=qw(gg(t,LA),gg(t,qA),gg(t,KA),gg(t,HA),gg(t,GA),gg(t,zA),i*n,i*o,i*s,i*a,i*c,i*u);return({hour:h,minute:d,second:l,millisecond:f,microsecond:p,nanosecond:A}=cy(h,d,l,f,p,A,"reject")),new(xA("%Temporal.PlainTime%"))(h,d,l,f,p,A)}function Ww(e,t,r,i){let n=uy(r);"subtract"===e&&(n={years:-n.years,months:-n.months,weeks:-n.weeks,days:-n.days,hours:-n.hours,minutes:-n.minutes,seconds:-n.seconds,milliseconds:-n.milliseconds,microseconds:-n.microseconds,nanoseconds:-n.nanoseconds});let{years:o,months:s,weeks:a,days:c,hours:u,minutes:h,seconds:d,milliseconds:l,microseconds:f,nanoseconds:p}=n;({days:c}=pw(c,u,h,d,l,f,p,"day"));const A=mb(i),g=gg(t,JA),m=zy(g,["monthCode","year"]),y=Cy(t,m,[]),I=Vg(null);Hm(I,y,[]),y.day=1;let w=yI(g,y);const b=aw(o,s,a,c,0,0,0,0,0,0),v=wm(g,"dateAdd"),E=xA("%Temporal.Duration%");if(b<0){const e=Yy(g,w,new E(0,1,0,0,0,0,0,0,0,0),void 0,v),t=Yy(g,e,new E(0,0,0,-1,0,0,0,0,0,0),void 0,v);I.day=Xy(g,t),w=yI(g,I)}const C=new E(o,s,a,c,0,0,0,0,0,0),B=Ib(A);return II(g,Cy(Yy(g,w,C,A,v),m,[]),B)}function Zw(e,t,r,i){const n="subtract"===e?-1:1,{years:o,months:s,weeks:a,days:c,hours:u,minutes:h,seconds:d,milliseconds:l,microseconds:f,nanoseconds:p}=uy(r),A=mb(i),g=gg(t,ZA),m=gg(t,JA);return Gy(zw(gg(t,WA),g,m,n*o,n*s,n*a,n*c,n*u,n*h,n*d,n*l,n*f,n*p,A),g,m)}function Xw(e,t,r){if(DA.equal(t,em))return e;let{quotient:i,remainder:n}=km(e,t);if(DA.equal(n,Xg))return e;const o=DA.lessThan(n,Xg)?-1:1,s=xm(DA.multiply(n,DA.BigInt(2))),a=DA.equal(s,t),c=DA.greaterThan(s,t);switch(r){case"ceil":o>0&&(i=DA.add(i,DA.BigInt(o)));break;case"floor":o<0&&(i=DA.add(i,DA.BigInt(o)));break;case"expand":i=DA.add(i,DA.BigInt(o));break;case"trunc":break;case"halfCeil":(c||a&&o>0)&&(i=DA.add(i,DA.BigInt(o)));break;case"halfFloor":(c||a&&o<0)&&(i=DA.add(i,DA.BigInt(o)));break;case"halfExpand":(c||a)&&(i=DA.add(i,DA.BigInt(o)));break;case"halfTrunc":c&&(i=DA.add(i,DA.BigInt(o)));break;case"halfEven":(c||a&&1===DA.toNumber(DA.remainder(xm(i),DA.BigInt(2))))&&(i=DA.add(i,DA.BigInt(o)))}return DA.multiply(i,t)}function eb(e,t,r,i){let{remainder:n}=ub(e,um);const o=DA.subtract(e,n),s=Xw(n,DA.BigInt(Bb[r]*t),i);return DA.add(o,s)}function tb(e,t,r,i,n,o,s,a,c,u,h,d,l=864e11){const{deltaDays:f,hour:p,minute:A,second:g,millisecond:m,microsecond:y,nanosecond:I}=rb(i,n,o,s,a,c,u,h,d,l),{year:w,month:b,day:v}=uw(e,t,r+f);return{year:w,month:b,day:v,hour:p,minute:A,second:g,millisecond:m,microsecond:y,nanosecond:I}}function rb(e,t,r,i,n,o,s,a,c,u=864e11){let h=Xg;switch(a){case"day":case"hour":h=DA.BigInt(e);case"minute":h=DA.add(DA.multiply(h,tm),DA.BigInt(t));case"second":h=DA.add(DA.multiply(h,tm),DA.BigInt(r));case"millisecond":h=DA.add(DA.multiply(h,im),DA.BigInt(i));case"microsecond":h=DA.add(DA.multiply(h,im),DA.BigInt(n));case"nanosecond":h=DA.add(DA.multiply(h,im),DA.BigInt(o))}const d="day"===a?u:Bb[a],l=Xw(h,DA.BigInt(d*s),c),f=DA.toNumber(DA.divide(l,DA.BigInt(d)));switch(a){case"day":return{deltaDays:f,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return dw(f,0,0,0,0,0);case"minute":return dw(e,f,0,0,0,0);case"second":return dw(e,t,f,0,0,0);case"millisecond":return dw(e,t,r,f,0,0);case"microsecond":return dw(e,t,r,i,f,0);case"nanosecond":return dw(e,t,r,i,n,f);default:throw new Error(`Invalid unit ${a}`)}}function ib(e,t){return Dw(gg(e,NA),gg(e,UA),gg(e,jA),gg(t,NA),gg(t,UA),gg(t,jA),"day").days}function nb(e,t,r,i){const n=Yy(e,t,r,void 0,i);return{relativeTo:n,days:ib(t,n)}}function ob(e,t,r,i,n){const o=gg(e,ZA),s=gg(e,JA);return Gy(zw(gg(e,WA),o,s,t,r,i,n,0,0,0,0,0,0),o,s)}function sb(e,t,r,i,n,o,s,a,c,u,h,d,l,f){let p=e,A=t,g=r,m=i,y=n,I=o,w=s,b=a,v=c,E=u;if(!ey(f)||"year"===d||"month"===d||"week"===d||"day"===d||"nanosecond"===d&&1===h)return{years:p,months:A,weeks:g,days:m,hours:y,minutes:I,seconds:w,milliseconds:b,microseconds:v,nanoseconds:E};let C=lw(0,y,I,w,b,v,E,0);const B=qg(DA.toNumber(C)),S=gg(f,ZA),_=gg(f,JA),Q=zw(gg(f,WA),S,_,p,A,g,m,0,0,0,0,0,0),D=zw(new(xA("%Temporal.Instant%"))(Q),S,_,0,0,0,B,0,0,0,0,0,0),k=DA.subtract(D,Q);return DA.greaterThanOrEqual(DA.multiply(DA.subtract(C,k),DA.BigInt(B)),Xg)&&(({years:p,months:A,weeks:g,days:m}=Kw(p,A,g,m,0,0,0,0,0,0,0,0,0,B,0,0,0,0,0,0,f)),C=eb(DA.subtract(C,k),h,d,l),({hours:y,minutes:I,seconds:w,milliseconds:b,microseconds:v,nanoseconds:E}=pw(0,0,0,0,0,0,DA.toNumber(C),"hour"))),{years:p,months:A,weeks:g,days:m,hours:y,minutes:I,seconds:w,milliseconds:b,microseconds:v,nanoseconds:E}}function ab(e,t,r,i,n,o,s,a,c,u,h,d,l,f){let p=e,A=t,g=r,m=i,y=n,I=o,w=s,b=a,v=c,E=DA.BigInt(u);const C=xA("%Temporal.Duration%");let B,S,_,Q,D=f;if(D){if(ey(D))S=D,D=Sy(D);else if(!Vm(D))throw new TypeError("starting point must be PlainDate or ZonedDateTime");B=gg(D,JA)}if("year"===d||"month"===d||"week"===d||"day"===d){let e,t,r;E=lw(0,y,I,w,b,v,u,0),S&&(e=ob(S,p,A,g,m)),({days:t,nanoseconds:E,dayLengthNs:r}=fw(E,e)),_=DA.BigInt(r),m+=t,y=I=w=b=v=0}switch(d){case"year":{if(!B)throw new RangeError("A starting point is required for years rounding");const e=new C(p),t="string"!=typeof B?wm(B,"dateAdd"):void 0,r=Yy(B,D,e,void 0,t),i=Yy(B,D,new C(p,A,g),void 0,t);D=r,m+=ib(r,i);const n=Yy(B,D,new C(0,0,0,m),void 0,t),o=Vg(null);o.largestUnit="year";const s=Vy(B,D,n,o).years;p+=s;const a=D;D=Yy(B,D,new C(s),void 0,t),m-=ib(a,D);const c=new C(m<0?-1:1);let{days:u}=nb(B,D,c,t);u=jg(u);const d=DA.multiply(DA.BigInt(u),_);E=DA.add(DA.add(DA.multiply(d,DA.BigInt(p)),DA.multiply(DA.BigInt(m),_)),E);const f=Xw(E,DA.multiply(d,DA.BigInt(h)),l);Q=db(E,d),p=DA.toNumber(DA.divide(f,d)),E=Xg,A=g=m=0;break}case"month":{if(!B)throw new RangeError("A starting point is required for months rounding");const e=new C(p,A),t="string"!=typeof B?wm(B,"dateAdd"):void 0,r=Yy(B,D,e,void 0,t),i=Yy(B,D,new C(p,A,g),void 0,t);D=r,m+=ib(r,i);const n=qg(m),o=new C(0,m<0?-1:1);let s;for(({relativeTo:D,days:s}=nb(B,D,o,t));jg(m)>=jg(s);)A+=n,m-=s,({relativeTo:D,days:s}=nb(B,D,o,t));s=jg(s);const a=DA.multiply(DA.BigInt(s),_);E=DA.add(DA.add(DA.multiply(a,DA.BigInt(A)),DA.multiply(DA.BigInt(m),_)),E);const c=Xw(E,DA.multiply(a,DA.BigInt(h)),l);Q=db(E,a),A=DA.toNumber(DA.divide(c,a)),E=Xg,g=m=0;break}case"week":{if(!B)throw new RangeError("A starting point is required for weeks rounding");const e=qg(m),t=new C(0,0,m<0?-1:1),r="string"!=typeof B?wm(B,"dateAdd"):void 0;let i;for(({relativeTo:D,days:i}=nb(B,D,t,r));jg(m)>=jg(i);)g+=e,m-=i,({relativeTo:D,days:i}=nb(B,D,t,r));i=jg(i);const n=DA.multiply(DA.BigInt(i),_);E=DA.add(DA.add(DA.multiply(n,DA.BigInt(g)),DA.multiply(DA.BigInt(m),_)),E);const o=Xw(E,DA.multiply(n,DA.BigInt(h)),l);Q=db(E,n),g=DA.toNumber(DA.divide(o,n)),E=Xg,m=0;break}case"day":{const e=_;E=DA.add(DA.multiply(e,DA.BigInt(m)),E);const t=Xw(E,DA.multiply(e,DA.BigInt(h)),l);Q=db(E,e),m=DA.toNumber(DA.divide(t,e)),E=Xg;break}case"hour":{const e=36e11;let t=DA.multiply(DA.BigInt(y),DA.BigInt(36e11));t=DA.add(t,DA.multiply(DA.BigInt(I),DA.BigInt(6e10))),t=DA.add(t,DA.multiply(DA.BigInt(w),om)),t=DA.add(t,DA.multiply(DA.BigInt(b),nm)),t=DA.add(t,DA.multiply(DA.BigInt(v),im)),t=DA.add(t,E),Q=db(t,DA.BigInt(e));const r=Xw(t,DA.BigInt(e*h),l);y=DA.toNumber(DA.divide(r,DA.BigInt(e))),E=Xg,I=w=b=v=0;break}case"minute":{const e=6e10;let t=DA.multiply(DA.BigInt(I),DA.BigInt(6e10));t=DA.add(t,DA.multiply(DA.BigInt(w),om)),t=DA.add(t,DA.multiply(DA.BigInt(b),nm)),t=DA.add(t,DA.multiply(DA.BigInt(v),im)),t=DA.add(t,E),Q=db(t,DA.BigInt(e));const r=Xw(t,DA.BigInt(e*h),l);I=DA.toNumber(DA.divide(r,DA.BigInt(e))),E=Xg,w=b=v=0;break}case"second":{const e=1e9;let t=DA.multiply(DA.BigInt(w),om);t=DA.add(t,DA.multiply(DA.BigInt(b),nm)),t=DA.add(t,DA.multiply(DA.BigInt(v),im)),t=DA.add(t,E),Q=db(t,DA.BigInt(e));const r=Xw(t,DA.BigInt(e*h),l);w=DA.toNumber(DA.divide(r,DA.BigInt(e))),E=Xg,b=v=0;break}case"millisecond":{const e=1e6;let t=DA.multiply(DA.BigInt(b),nm);t=DA.add(t,DA.multiply(DA.BigInt(v),im)),t=DA.add(t,E),Q=db(t,DA.BigInt(e));const r=Xw(t,DA.BigInt(e*h),l);b=DA.toNumber(DA.divide(r,DA.BigInt(e))),E=Xg,v=0;break}case"microsecond":{const e=1e3;let t=DA.multiply(DA.BigInt(v),im);t=DA.add(t,E),Q=db(t,DA.BigInt(e));const r=Xw(t,DA.BigInt(e*h),l);v=DA.toNumber(DA.divide(r,DA.BigInt(e))),E=Xg;break}case"nanosecond":Q=DA.toNumber(E),E=Xw(DA.BigInt(E),DA.BigInt(h),l)}return{years:p,months:A,weeks:g,days:m,hours:y,minutes:I,seconds:w,milliseconds:b,microseconds:v,nanoseconds:DA.toNumber(E),total:Q}}function cb(e,t,r,i,n,o){for(const[s,a]of[[e,i],[t,n],[r,o]])if(s!==a)return gb(s-a);return 0}function ub(e,t){let{quotient:r,remainder:i}=km(e,t);return DA.lessThan(i,Xg)&&(r=DA.subtract(r,em),i=DA.add(i,t)),{quotient:r,remainder:i}}function hb(e,t){const{quotient:r,remainder:i}=km(e,t);return Im(i)||!Mm(e)==!Mm(t)?r:DA.subtract(r,em)}function db(e,t){const{quotient:r,remainder:i}=km(e,t);return DA.toNumber(r)+DA.toNumber(i)/DA.toNumber(t)}function lb(e){const t=fb(e);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function fb(e){let t=e;if("object"==typeof e){const r=e[Symbol.toPrimitive];r&&"function"==typeof r&&(t=Wg(r,e,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return"bigint"==typeof t?DA.BigInt(t.toString(10)):DA.BigInt(t)}const pb=(()=>{let e=DA.BigInt(Date.now()%1e6);return()=>{const t=DA.BigInt(Date.now()),r=DA.add(DA.multiply(t,nm),e);return e=DA.remainder(t,nm),DA.greaterThan(r,dm)?dm:DA.lessThan(r,hm)?hm:r}})();function Ab(){return(new Tg).resolvedOptions().timeZone}function gb(e){return e<0?-1:e>0?1:e}function mb(e){if(void 0===e)return Vg(null);if(vm(e)&&null!==e)return e;throw new TypeError("Options parameter must be an object, not "+(null===e?"null":typeof e))}function yb(e,t){const r=Vg(null);return r[e]=t,r}function Ib(e){const t=Vg(null);return Hm(t,mb(e),[]),t}function wb(e,t,r,i){let n=e[t];if(void 0!==n){if(n=Sm(n),!r.includes(n))throw new RangeError(`${t} must be one of ${r.join(", ")}, not ${n}`);return n}return i}function bb(e){return ym.includes(vb(e))}function vb(e){return e.replace(/[A-Z]/g,(e=>{const t=e.charCodeAt(0);return String.fromCharCode(t+32)}))}const Eb=new RegExp(`^${Bg.source}$`);function Cb(e,t,r,i=e(t),n=e(r)){let o=DA.BigInt(t),s=DA.BigInt(r),a=i,c=n;for(;DA.greaterThan(DA.subtract(s,o),em);){const t=DA.divide(DA.add(o,s),DA.BigInt(2)),r=e(t);if(r===a)o=t,a=r;else{if(r!==c)throw new Error(`invalid state in bisection ${a} - ${r} - ${c}`);s=t,c=r}}return s}const Bb={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},Sb=Symbol("date"),_b=Symbol("ym"),Qb=Symbol("md"),Db=Symbol("time"),kb=Symbol("datetime"),Mb=Symbol("instant"),Pb=Symbol("original"),xb=Symbol("timezone"),Fb=Symbol("calendar-id"),Rb=Symbol("locale"),Ob=Symbol("options"),Tb=e=>({value:e,enumerable:!0,writable:!1,configurable:!0}),Nb=globalThis.Intl.DateTimeFormat,Ub=Object.assign,jb=Object.prototype.hasOwnProperty,Lb=Reflect.apply;function qb(e,t){let r=e[t];return"function"==typeof r&&(r=new Nb(e[Rb],r(e[Ob])),e[t]=r),r}function Kb(e,t={}){if(!(this instanceof Kb))return new Kb(e,t);const r=void 0!==t,i=r?Ub({},t):{},n=new Nb(e,i),o=n.resolvedOptions();if(r){const e=Ub({},o);for(const t in e)Lb(jb,i,[t])||delete e[t];this[Ob]=e}else this[Ob]=i;this[Rb]=o.locale,this[Pb]=n,this[xb]=o.timeZone,this[Fb]=o.calendar,this[Sb]=$b,this[_b]=Yb,this[Qb]=Vb,this[Db]=Jb,this[kb]=Wb,this[Mb]=Zb}Object.defineProperty(Kb,"name",{writable:!0,value:"DateTimeFormat"}),Kb.supportedLocalesOf=function(e,t){return Nb.supportedLocalesOf(e,t)};const Hb={resolvedOptions:Tb((function(){return this[Pb].resolvedOptions()})),format:Tb((function(e,...t){let{instant:r,formatter:i}=iv(e,this);return r&&i?i.format(r.epochMilliseconds):this[Pb].format(e,...t)})),formatRange:Tb((function(e,t){if(tv(e)||tv(t)){if(!rv(e,t))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:r,formatter:i}=iv(e,this),{instant:n,formatter:o}=iv(t,this);if(r&&n&&i&&o&&i===o)return i.formatRange(r.epochMilliseconds,n.epochMilliseconds)}return this[Pb].formatRange(e,t)}))};"formatToParts"in Nb.prototype&&(Hb.formatToParts=Tb((function(e,...t){let{instant:r,formatter:i}=iv(e,this);return r&&i?i.formatToParts(r.epochMilliseconds):this[Pb].formatToParts(e,...t)}))),"formatRangeToParts"in Nb.prototype&&(Hb.formatRangeToParts=Tb((function(e,t){if(tv(e)||tv(t)){if(!rv(e,t))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:r,formatter:i}=iv(e,this),{instant:n,formatter:o}=iv(t,this);if(r&&n&&i&&o&&i===o)return i.formatRangeToParts(r.epochMilliseconds,n.epochMilliseconds)}return this[Pb].formatRangeToParts(e,t)}))),Kb.prototype=Object.create(Nb.prototype,Hb),Object.defineProperty(Kb,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Gb=Kb;function zb(e={},t={}){const r=Ub({},e);for(const e of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])r[e]=e in t?t[e]:r[e],!1!==r[e]&&void 0!==r[e]||delete r[e];return r}function Jb(e){let t=zb(e,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return ev(t)||(t=Ub({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function Yb(e){let t=zb(e,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=Ub(t,{year:"numeric",month:"numeric"})),t}function Vb(e){let t=zb(e,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=Ub({},t,{month:"numeric",day:"numeric"})),t}function $b(e){let t=zb(e,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return Xb(t)||(t=Ub({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function Wb(e){let t=zb(e,{timeZoneName:!1});return ev(t)||Xb(t)||(t=Ub({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function Zb(e){let t=e;return ev(t)||Xb(t)||(t=Ub({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function Xb(e){return"year"in e||"month"in e||"day"in e||"weekday"in e||"dateStyle"in e}function ev(e){return"hour"in e||"minute"in e||"second"in e||"timeStyle"in e||"dayPeriod"in e}function tv(e){return Vm(e)||$m(e)||Wm(e)||ey(e)||Zm(e)||Xm(e)||Gm(e)}function rv(e,t){return!(!tv(e)||!tv(t)||$m(e)&&!$m(t)||Vm(e)&&!Vm(t)||Wm(e)&&!Wm(t)||ey(e)&&!ey(t)||Zm(e)&&!Zm(t)||Xm(e)&&!Xm(t)||Gm(e)&&!Gm(t))}function iv(e,t){const r=xA("%Temporal.PlainDateTime%");if($m(e)){const i=new r(1970,1,1,gg(e,LA),gg(e,qA),gg(e,KA),gg(e,HA),gg(e,GA),gg(e,zA),t[Fb]);return{instant:kI(t[xb],i,"compatible"),formatter:qb(t,Db)}}if(Zm(e)){const i=gg(e,NA),n=gg(e,UA),o=gg(e,jA),s=fI(gg(e,JA));if(s!==t[Fb])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${t[Fb]}`);const a=new r(i,n,o,12,0,0,0,0,0,s);return{instant:kI(t[xb],a,"compatible"),formatter:qb(t,_b)}}if(Xm(e)){const i=gg(e,NA),n=gg(e,UA),o=gg(e,jA),s=fI(gg(e,JA));if(s!==t[Fb])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${t[Fb]}`);const a=new r(i,n,o,12,0,0,0,0,0,s);return{instant:kI(t[xb],a,"compatible"),formatter:qb(t,Qb)}}if(Vm(e)){const i=gg(e,NA),n=gg(e,UA),o=gg(e,jA),s=fI(gg(e,JA));if("iso8601"!==s&&s!==t[Fb])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${t[Fb]}`);const a=new r(i,n,o,12,0,0,0,0,0,t[Fb]);return{instant:kI(t[xb],a,"compatible"),formatter:qb(t,Sb)}}if(Wm(e)){const i=gg(e,NA),n=gg(e,UA),o=gg(e,jA),s=gg(e,LA),a=gg(e,qA),c=gg(e,KA),u=gg(e,HA),h=gg(e,GA),d=gg(e,zA),l=fI(gg(e,JA));if("iso8601"!==l&&l!==t[Fb])throw new RangeError(`cannot format PlainDateTime with calendar ${l} in locale with calendar ${t[Fb]}`);let f=e;return"iso8601"===l&&(f=new r(i,n,o,s,a,c,u,h,d,t[Fb])),{instant:kI(t[xb],f,"compatible"),formatter:qb(t,kb)}}if(ey(e))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return Gm(e)?{instant:e,formatter:qb(t,Mb)}:{}}Object.freeze({__proto__:null,DateTimeFormat:Gb});class nv{constructor(e){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const t=fb(e);_w(t),pg(this),mg(this,OA,t)}get epochSeconds(){if(!Gm(this))throw new TypeError("invalid receiver");const e=gg(this,OA);return DA.toNumber(hb(e,om))}get epochMilliseconds(){if(!Gm(this))throw new TypeError("invalid receiver");const e=DA.BigInt(gg(this,OA));return DA.toNumber(hb(e,nm))}get epochMicroseconds(){if(!Gm(this))throw new TypeError("invalid receiver");return lb(hb(DA.BigInt(gg(this,OA)),im))}get epochNanoseconds(){if(!Gm(this))throw new TypeError("invalid receiver");return lb(DA.BigInt(gg(this,OA)))}add(e){if(!Gm(this))throw new TypeError("invalid receiver");return Yw("add",this,e)}subtract(e){if(!Gm(this))throw new TypeError("invalid receiver");return Yw("subtract",this,e)}until(e,t){if(!Gm(this))throw new TypeError("invalid receiver");return Rw("until",this,e,t)}since(e,t){if(!Gm(this))throw new TypeError("invalid receiver");return Rw("since",this,e,t)}round(e){if(!Gm(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?yb("smallestUnit",e):mb(e),r=Ay(t),i=ly(t,"halfExpand"),n=wy(t,"smallestUnit","time",Iy);gy(r,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[n],!0);const o=eb(gg(this,OA),r,n,i);return new nv(o)}equals(e){if(!Gm(this))throw new TypeError("invalid receiver");const t=ky(e),r=gg(this,OA),i=gg(t,OA);return DA.equal(DA.BigInt(r),DA.BigInt(i))}toString(e){if(!Gm(this))throw new TypeError("invalid receiver");const t=mb(e),r=my(t),i=ly(t,"trunc"),n=wy(t,"smallestUnit","time",void 0);if("hour"===n)throw new RangeError('smallestUnit must be a time unit other than "hour"');let o=t.timeZone;void 0!==o&&(o=bI(o));const{precision:s,unit:a,increment:c}=yy(n,r),u=eb(gg(this,OA),c,a,i);return OI(new nv(u),o,s)}toJSON(){if(!Gm(this))throw new TypeError("invalid receiver");return OI(this,void 0,"auto")}toLocaleString(e,t){if(!Gm(this))throw new TypeError("invalid receiver");return new Gb(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(e){if(!Gm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid argument in toZonedDateTime");const t=e.calendar;if(void 0===t)throw new TypeError("missing calendar property in toZonedDateTime");const r=dI(t),i=e.timeZone;if(void 0===i)throw new TypeError("missing timeZone property in toZonedDateTime");const n=bI(i);return Gy(gg(this,OA),n,r)}toZonedDateTimeISO(e){if(!Gm(this))throw new TypeError("invalid receiver");const t=bI(e);return Gy(gg(this,OA),t,"iso8601")}static fromEpochSeconds(e){const t=Em(e),r=DA.multiply(DA.BigInt(t),om);return _w(r),new nv(r)}static fromEpochMilliseconds(e){const t=Em(e),r=DA.multiply(DA.BigInt(t),nm);return _w(r),new nv(r)}static fromEpochMicroseconds(e){const t=fb(e),r=DA.multiply(t,im);return _w(r),new nv(r)}static fromEpochNanoseconds(e){const t=fb(e);return _w(t),new nv(t)}static from(e){return Gm(e)?new nv(gg(e,OA)):ky(e)}static compare(e,t){const r=ky(e),i=ky(t),n=gg(r,OA),o=gg(i,OA);return DA.lessThan(n,o)?-1:DA.greaterThan(n,o)?1:0}}MA(nv,"Temporal.Instant");const ov=Array.prototype.includes,sv=Array.prototype.push,av=globalThis.Intl.DateTimeFormat,cv=Array.prototype.sort,uv=Math.abs,hv=Math.floor,dv=Object.create,lv=Object.entries,fv=Set,pv=Reflect.ownKeys,Av=Set.prototype.add,gv=Set.prototype.values,mv={};class yv{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: id is required");const t=Sm(e);if(!bb(t))throw new RangeError(`invalid calendar identifier ${t}`);pg(this),mg(this,ug,vb(t))}get id(){if(!Jm(this))throw new TypeError("invalid receiver");return gg(this,ug)}dateFromFields(e,t){if(!Jm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid fields");const r=mb(t),i=gg(this,ug);return mv[i].dateFromFields(e,r,i)}yearMonthFromFields(e,t){if(!Jm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid fields");const r=mb(t),i=gg(this,ug);return mv[i].yearMonthFromFields(e,r,i)}monthDayFromFields(e,t){if(!Jm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid fields");const r=mb(t),i=gg(this,ug);return mv[i].monthDayFromFields(e,r,i)}fields(e){if(!Jm(this))throw new TypeError("invalid receiver");const t=[],r=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const i of e){if("string"!=typeof i)throw new TypeError("invalid fields");if(!r.has(i))throw new RangeError(`invalid field name ${i}`);r.delete(i),sv.call(t,i)}return mv[gg(this,ug)].fields(t)}mergeFields(e,t){if(!Jm(this))throw new TypeError("invalid receiver");const r=Km(e),i=dv(null);Hm(i,r,[],[void 0]);const n=Km(t),o=dv(null);Hm(o,n,[],[void 0]);const s=pv(o),a=mv[gg(this,ug)].fieldKeysToIgnore(s),c=dv(null),u=pv(i);for(const e of u){let t;t=bm(ov,a,[e])?o[e]:i[e],void 0!==t&&(c[e]=t)}return Hm(c,o,[]),c}dateAdd(e,t,r){if(!Jm(this))throw new TypeError("invalid receiver");const i=Sy(e),n=Dy(t),o=hy(mb(r)),{days:s}=pw(gg(n,rg),gg(n,ig),gg(n,ng),gg(n,og),gg(n,sg),gg(n,ag),gg(n,cg),"day"),a=gg(this,ug);return mv[a].dateAdd(i,gg(n,XA),gg(n,eg),gg(n,tg),s,o,a)}dateUntil(e,t,r){if(!Jm(this))throw new TypeError("invalid receiver");const i=Sy(e),n=Sy(t);let o=wy(mb(r),"largestUnit","date","auto");"auto"===o&&(o="day");const{years:s,months:a,weeks:c,days:u}=mv[gg(this,ug)].dateUntil(i,n,o);return new(xA("%Temporal.Duration%"))(s,a,c,u,0,0,0,0,0,0)}year(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Zm(t)||(t=Sy(t)),mv[gg(this,ug)].year(t)}month(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");if(Xm(t))throw new TypeError("use monthCode on PlainMonthDay instead");return Zm(t)||(t=Sy(t)),mv[gg(this,ug)].month(t)}monthCode(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Zm(t)||Xm(t)||(t=Sy(t)),mv[gg(this,ug)].monthCode(t)}day(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Xm(t)||(t=Sy(t)),mv[gg(this,ug)].day(t)}era(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Zm(t)||(t=Sy(t)),mv[gg(this,ug)].era(t)}eraYear(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Zm(t)||(t=Sy(t)),mv[gg(this,ug)].eraYear(t)}dayOfWeek(e){if(!Jm(this))throw new TypeError("invalid receiver");const t=Sy(e);return mv[gg(this,ug)].dayOfWeek(t)}dayOfYear(e){if(!Jm(this))throw new TypeError("invalid receiver");const t=Sy(e);return mv[gg(this,ug)].dayOfYear(t)}weekOfYear(e){if(!Jm(this))throw new TypeError("invalid receiver");const t=Sy(e);return mv[gg(this,ug)].weekOfYear(t)}yearOfWeek(e){if(!Jm(this))throw new TypeError("invalid receiver");const t=Sy(e);return mv[gg(this,ug)].yearOfWeek(t)}daysInWeek(e){if(!Jm(this))throw new TypeError("invalid receiver");const t=Sy(e);return mv[gg(this,ug)].daysInWeek(t)}daysInMonth(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Zm(t)||(t=Sy(t)),mv[gg(this,ug)].daysInMonth(t)}daysInYear(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Zm(t)||(t=Sy(t)),mv[gg(this,ug)].daysInYear(t)}monthsInYear(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Zm(t)||(t=Sy(t)),mv[gg(this,ug)].monthsInYear(t)}inLeapYear(e){let t=e;if(!Jm(this))throw new TypeError("invalid receiver");return Zm(t)||(t=Sy(t)),mv[gg(this,ug)].inLeapYear(t)}toString(){if(!Jm(this))throw new TypeError("invalid receiver");return gg(this,ug)}toJSON(){if(!Jm(this))throw new TypeError("invalid receiver");return gg(this,ug)}static from(e){return pI(dI(e))}}function Iv(e){if(!e.startsWith("M"))throw new RangeError(`Invalid month code: ${e}.  Month codes must start with M.`);const t=+e.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${e}`);return t}function wv(e,t=!1){return`M${e.toString().padStart(2,"0")}${t?"L":""}`}function bv(e,t,r=12){let{month:i,monthCode:n}=e;if(void 0===n){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&bw(i,1,r),"constrain"===t&&(i=Iw(i,1,r)),n=wv(i)}else{const e=Iv(n);if(void 0!==i&&i!==e)throw new RangeError(`monthCode ${n} and month ${i} must match if both are present`);if(n!==wv(e))throw new RangeError(`Invalid month code: ${n}`);if(i=e,i<1||i>r)throw new RangeError(`Invalid monthCode: ${n}`)}return{...e,month:i,monthCode:n}}MA(yv,"Temporal.Calendar"),PA("Temporal.Calendar.from",yv.from),PA("Temporal.Calendar.prototype.dateAdd",yv.prototype.dateAdd),PA("Temporal.Calendar.prototype.dateFromFields",yv.prototype.dateFromFields),PA("Temporal.Calendar.prototype.dateUntil",yv.prototype.dateUntil),PA("Temporal.Calendar.prototype.day",yv.prototype.day),PA("Temporal.Calendar.prototype.dayOfWeek",yv.prototype.dayOfWeek),PA("Temporal.Calendar.prototype.dayOfYear",yv.prototype.dayOfYear),PA("Temporal.Calendar.prototype.daysInMonth",yv.prototype.daysInMonth),PA("Temporal.Calendar.prototype.daysInWeek",yv.prototype.daysInWeek),PA("Temporal.Calendar.prototype.daysInYear",yv.prototype.daysInYear),PA("Temporal.Calendar.prototype.era",yv.prototype.era),PA("Temporal.Calendar.prototype.eraYear",yv.prototype.eraYear),PA("Temporal.Calendar.prototype.fields",yv.prototype.fields),PA("Temporal.Calendar.prototype.inLeapYear",yv.prototype.inLeapYear),PA("Temporal.Calendar.prototype.mergeFields",yv.prototype.mergeFields),PA("Temporal.Calendar.prototype.month",yv.prototype.month),PA("Temporal.Calendar.prototype.monthCode",yv.prototype.monthCode),PA("Temporal.Calendar.prototype.monthDayFromFields",yv.prototype.monthDayFromFields),PA("Temporal.Calendar.prototype.monthsInYear",yv.prototype.monthsInYear),PA("Temporal.Calendar.prototype.weekOfYear",yv.prototype.weekOfYear),PA("Temporal.Calendar.prototype.year",yv.prototype.year),PA("Temporal.Calendar.prototype.yearMonthFromFields",yv.prototype.yearMonthFromFields),PA("Temporal.Calendar.prototype.yearOfWeek",yv.prototype.yearOfWeek),mv.iso8601={dateFromFields(e,t,r){let i=Cy(e,["day","month","monthCode","year"],["year","day"]);const n=hy(t);i=bv(i);let{year:o,month:s,day:a}=i;return({year:o,month:s,day:a}=ay(o,s,a,n)),Ty(o,s,a,r)},yearMonthFromFields(e,t,r){let i=Cy(e,["month","monthCode","year"],["year"]);const n=hy(t);i=bv(i);let{year:o,month:s}=i;return({year:o,month:s}=function(e,t,r){let i=e,n=t;switch(r){case"reject":vw(i,n,1);break;case"constrain":({year:i,month:n}=ww(i,n))}return{year:i,month:n}}(o,s,n)),Ky(o,s,r,1)},monthDayFromFields(e,t,r){let i=Cy(e,["day","month","monthCode","year"],["day"]);const n=hy(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const o=void 0===i.monthCode;i=bv(i);let{month:s,day:a,year:c}=i;return({month:s,day:a}=ay(o?c:1972,s,a,n)),Ly(s,a,r,1972)},fields:e=>e,fieldKeysToIgnore(e){const t=new fv;for(let r=0;r<e.length;r++){const i=e[r];bm(Av,t,[i]),"month"===i?bm(Av,t,["monthCode"]):"monthCode"===i&&bm(Av,t,["month"])}return[...bm(gv,t,[])]},dateAdd(e,t,r,i,n,o,s){let a=gg(e,NA),c=gg(e,UA),u=gg(e,jA);return({year:a,month:c,day:u}=Lw(a,c,u,t,r,i,n,o)),Ty(a,c,u,s)},dateUntil:(e,t,r)=>Dw(gg(e,NA),gg(e,UA),gg(e,jA),gg(t,NA),gg(t,UA),gg(t,jA),r),year:e=>gg(e,NA),era(){},eraYear(){},month:e=>gg(e,UA),monthCode:e=>wv(gg(e,UA)),day:e=>gg(e,jA),dayOfWeek:e=>nw(gg(e,NA),gg(e,UA),gg(e,jA)),dayOfYear:e=>ow(gg(e,NA),gg(e,UA),gg(e,jA)),weekOfYear:e=>sw(gg(e,NA),gg(e,UA),gg(e,jA)).week,yearOfWeek:e=>sw(gg(e,NA),gg(e,UA),gg(e,jA)).year,daysInWeek:()=>7,daysInMonth:e=>iw(gg(e,NA),gg(e,UA)),daysInYear(e){let t=e;return Ag(t,NA)||(t=Sy(t)),rw(gg(t,NA))?366:365},monthsInYear:()=>12,inLeapYear(e){let t=e;return Ag(t,NA)||(t=Sy(t)),rw(gg(t,NA))}};class vv{constructor(e){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==e){let t=0;for(const r of e.map.entries()){if(++t>vv.MAX_CACHE_ENTRIES)break;this.map.set(...r)}}}get(e){const t=this.map.get(e);return t&&(this.hits++,this.report()),this.calls++,t}set(e,t){this.map.set(e,t),this.misses++,this.report()}report(){}setObject(e){if(vv.objectMap.get(e))throw new RangeError("object already cached");vv.objectMap.set(e,this),this.report()}static getCacheForObject(e){let t=vv.objectMap.get(e);return t||(t=new vv,vv.objectMap.set(e,t)),t}}function Ev({isoYear:e,isoMonth:t,isoDay:r}){return`${xI(e)}-${FI(t)}-${FI(r)}T00:00Z`}function Cv(e,t){return{years:e.year-t.year,months:e.month-t.month,days:e.day-t.day}}vv.objectMap=new WeakMap,vv.MAX_CACHE_ENTRIES=1e3;class Bv{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new av(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(e,t){const{year:r,month:i,day:n}=e,o=JSON.stringify({func:"isoToCalendarDate",isoYear:r,isoMonth:i,isoDay:n,id:this.id}),s=t.get(o);if(s)return s;const a=this.getFormatter();let c,u;try{u=Ev({isoYear:r,isoMonth:i,isoDay:n}),c=a.formatToParts(new Date(u))}catch(e){throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:r,isoMonth:i,isoDay:n})}`)}const h={};for(let{type:e,value:t}of c){if("year"===e&&(h.eraYear=+t),"relatedYear"===e&&(h.eraYear=+t),"month"===e){const e=/^([0-9]*)(.*?)$/.exec(t);if(!e||3!=e.length||!e[1]&&!e[2])throw new RangeError(`Unexpected month: ${t}`);if(h.month=e[1]?+e[1]:1,h.month<1)throw new RangeError(`Invalid month ${t} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(h.month>13)throw new RangeError(`Invalid month ${t} from ${u}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);e[2]&&(h.monthExtra=e[2])}"day"===e&&(h.day=+t),this.hasEra&&"era"===e&&null!=t&&""!==t&&(t=t.split(" (")[0],h.era=t.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===h.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:t,eraYear:r}=this.reviseIntlEra(h,e);h.era=t,h.eraYear=r}this.checkIcuBugs&&this.checkIcuBugs(e);const d=this.adjustCalendarDate(h,t,"constrain",!0);if(void 0===d.year)throw new RangeError(`Missing year converting ${JSON.stringify(e)}`);if(void 0===d.month)throw new RangeError(`Missing month converting ${JSON.stringify(e)}`);if(void 0===d.day)throw new RangeError(`Missing day converting ${JSON.stringify(e)}`);return t.set(o,d),["constrain","reject"].forEach((r=>{const i=JSON.stringify({func:"calendarToIsoDate",year:d.year,month:d.month,day:d.day,overflow:r,id:this.id});t.set(i,e)})),d}validateCalendarDate(e){const{era:t,month:r,year:i,day:n,eraYear:o,monthCode:s,monthExtra:a}=e;if(void 0!==a)throw new RangeError("Unexpected `monthExtra` value");if(void 0===i&&void 0===o)throw new TypeError("year or eraYear is required");if(void 0===r&&void 0===s)throw new TypeError("month or monthCode is required");if(void 0===n)throw new RangeError("Missing day");if(void 0!==s){if("string"!=typeof s)throw new RangeError("monthCode must be a string, not "+typeof s);if(!/^M([01]?\d)(L?)$/.test(s))throw new RangeError(`Invalid monthCode: ${s}`)}if(this.constantEra){if(void 0!==t&&t!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${t}`);if(void 0!==o&&void 0!==i&&o!==i)throw new RangeError(`eraYear ${o} does not match year ${i}`)}if(this.hasEra&&void 0===e.era!=(void 0===e.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(e,t,r="constrain",i=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let n=e;if(this.validateCalendarDate(n),this.constantEra){const{year:e,eraYear:t}=n;n={...n,era:this.constantEra,year:void 0!==e?e:t,eraYear:void 0!==t?t:e}}const o=this.monthsInYear(n,t);let{month:s,monthCode:a}=n;return({month:s,monthCode:a}=bv(n,r,o)),{...n,month:s,monthCode:a}}regulateMonthDayNaive(e,t,r){const i=this.monthsInYear(e,r);let{month:n,day:o}=e;return"reject"===t?(bw(n,1,i),bw(o,1,this.maximumMonthLength(e))):(n=Iw(n,1,i),o=Iw(o,1,this.maximumMonthLength({...e,month:n}))),{...e,month:n,day:o}}calendarToIsoDate(e,t="constrain",r){const i=e;let n=this.adjustCalendarDate(e,r,t,!1);n=this.regulateMonthDayNaive(n,t,r);const{year:o,month:s,day:a}=n,c=JSON.stringify({func:"calendarToIsoDate",year:o,month:s,day:a,overflow:t,id:this.id});let u,h=r.get(c);if(h)return h;if(void 0!==i.year&&void 0!==i.month&&void 0!==i.day&&(i.year!==n.year||i.month!==n.month||i.day!==n.day)&&(u=JSON.stringify({func:"calendarToIsoDate",year:i.year,month:i.month,day:i.day,overflow:t,id:this.id}),h=r.get(u),h))return h;let d=this.estimateIsoDate({year:o,month:s,day:a});const l=e=>{let i=this.addDaysIso(d,e);if(n.day>this.minimumMonthLength(n)){let e=this.isoToCalendarDate(i,r);for(;e.month!==s||e.year!==o;){if("reject"===t)throw new RangeError(`day ${a} does not exist in month ${s} of year ${o}`);i=this.addDaysIso(i,-1),e=this.isoToCalendarDate(i,r)}}return i};let f=0,p=this.isoToCalendarDate(d,r),A=Cv(n,p);if(0!==A.years||0!==A.months||0!==A.days){const e=365*A.years+30*A.months+A.days;d=this.addDaysIso(d,e),p=this.isoToCalendarDate(d,r),A=Cv(n,p),0===A.years&&0===A.months?d=l(A.days):f=this.compareCalendarDates(n,p)}let g=8;for(;f;){d=this.addDaysIso(d,f*g);const e=p;p=this.isoToCalendarDate(d,r);const o=f;if(f=this.compareCalendarDates(n,p),f)if(A=Cv(n,p),0===A.years&&0===A.months)d=l(A.days),f=0;else if(o&&f!==o)if(g>1)g/=2;else{if("reject"===t)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...i})}`);this.compareCalendarDates(p,e)>0&&(d=this.addDaysIso(d,-1)),f=0}}if(r.set(c,d),u&&r.set(u,d),void 0===n.year||void 0===n.month||void 0===n.day||void 0===n.monthCode||this.hasEra&&(void 0===n.era||void 0===n.eraYear))throw new RangeError("Unexpected missing property");return d}temporalToCalendarDate(e,t){const r={year:gg(e,NA),month:gg(e,UA),day:gg(e,jA)};return this.isoToCalendarDate(r,t)}compareCalendarDates(e,t){const r=Cy(e,["day","month","year"],["day","month","year"]),i=Cy(t,["day","month","year"],["day","month","year"]);return r.year!==i.year?gb(r.year-i.year):r.month!==i.month?gb(r.month-i.month):r.day!==i.day?gb(r.day-i.day):0}regulateDate(e,t="constrain",r){const i=this.calendarToIsoDate(e,t,r);return this.isoToCalendarDate(i,r)}addDaysIso(e,t){return Lw(e.year,e.month,e.day,0,0,0,t,"constrain")}addDaysCalendar(e,t,r){const i=this.calendarToIsoDate(e,"constrain",r),n=this.addDaysIso(i,t);return this.isoToCalendarDate(n,r)}addMonthsCalendar(e,t,r,i){let n=e;const{day:o}=n;for(let e=0,r=uv(t);e<r;e++){const{month:e}=n,r=n,s=t<0?-Math.max(o,this.daysInPreviousMonth(n,i)):this.daysInMonth(n,i),a=this.calendarToIsoDate(n,"constrain",i);let c=this.addDaysIso(a,s);if(n=this.isoToCalendarDate(c,i),t>0){const t=this.monthsInYear(r,i);for(;n.month-1!=e%t;)c=this.addDaysIso(c,-1),n=this.isoToCalendarDate(c,i)}n.day!==o&&(n=this.regulateDate({...n,day:o},"constrain",i))}if("reject"===r&&n.day!==o)throw new RangeError(`Day ${o} does not exist in resulting calendar month`);return n}addCalendar(e,{years:t=0,months:r=0,weeks:i=0,days:n=0},o,s){const{year:a,day:c,monthCode:u}=e,h=this.adjustCalendarDate({year:a+t,monthCode:u,day:c},s),d=this.addMonthsCalendar(h,r,o,s),l=n+7*i;return this.addDaysCalendar(d,l,s)}untilCalendar(e,t,r,i){let n=0,o=0,s=0,a=0;switch(r){case"day":n=this.calendarDaysUntil(e,t,i);break;case"week":{const r=this.calendarDaysUntil(e,t,i);n=r%7,o=(r-n)/7;break}case"month":case"year":{const o=this.compareCalendarDates(t,e);if(!o)return{years:0,months:0,weeks:0,days:0};const c=t.year-e.year,u=t.day-e.day;if("year"===r&&c){let r=0;t.monthCode>e.monthCode&&(r=1),t.monthCode<e.monthCode&&(r=-1),r||(r=Math.sign(u)),a=r*o<0?c-o:c}let h,d=a?this.addCalendar(e,{years:a},"constrain",i):e;do{s+=o,h=d,d=this.addMonthsCalendar(h,o,"constrain",i),d.day!==e.day&&(d=this.regulateDate({...d,day:e.day},"constrain",i))}while(this.compareCalendarDates(t,d)*o>=0);s-=o,n=this.calendarDaysUntil(h,t,i);break}}return{years:a,months:s,weeks:o,days:n}}daysInMonth(e,t){const{day:r}=e,i=this.maximumMonthLength(e),n=this.minimumMonthLength(e);if(n===i)return n;const o=r<=i-n?i:n,s=this.calendarToIsoDate(e,"constrain",t),a=this.addDaysIso(s,o),c=this.isoToCalendarDate(a,t),u=this.addDaysIso(a,-c.day);return this.isoToCalendarDate(u,t).day}daysInPreviousMonth(e,t){const{day:r,month:i,year:n}=e;let o={year:i>1?n:n-1,month:i,day:1};const s=i>1?i-1:this.monthsInYear(o,t);o={...o,month:s};const a=this.minimumMonthLength(o),c=this.maximumMonthLength(o);if(a===c)return c;const u=this.calendarToIsoDate(e,"constrain",t),h=this.addDaysIso(u,-r);return this.isoToCalendarDate(h,t).day}startOfCalendarYear(e){return{year:e.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(e){return{year:e.year,month:e.month,day:1}}calendarDaysUntil(e,t,r){const i=this.calendarToIsoDate(e,"constrain",r),n=this.calendarToIsoDate(t,"constrain",r);return this.isoDaysUntil(i,n)}isoDaysUntil(e,t){return Dw(e.year,e.month,e.day,t.year,t.month,t.day,"day").days}monthDayFromFields(e,t,r){let i,n,o,s,a,{monthCode:c,day:u}=e;if(void 0===c){let{year:i,era:n,eraYear:o}=e;if(void 0===i&&(void 0===n||void 0===o))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:c,day:u}=this.isoToCalendarDate(this.calendarToIsoDate(e,t,r),r))}const h=this.isoToCalendarDate({year:1972,month:12,day:31},r),d=h.monthCode>c||h.monthCode===c&&h.day>=u?h.year:h.year-1;for(let e=0;e<100;e++){const h=this.adjustCalendarDate({day:u,monthCode:c,year:d-e},r),l=this.calendarToIsoDate(h,"constrain",r),f=this.isoToCalendarDate(l,r);if(({year:i,month:n,day:o}=l),f.monthCode===c&&f.day===u)return{month:n,day:o,year:i};"constrain"===t&&(void 0===s||f.monthCode===s.monthCode&&f.day>s.day)&&(s=f,a=l)}if("constrain"===t&&void 0!==a)return a;throw new RangeError(`No recent ${this.id} year with monthCode ${c} and day ${u}`)}}class Sv extends Bv{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(e){const{year:t}=e;return(7*t+1)%19<7}monthsInYear(e){return this.inLeapYear(e)?13:12}minimumMonthLength(e){return this.minMaxMonthLength(e,"min")}maximumMonthLength(e){return this.minMaxMonthLength(e,"max")}minMaxMonthLength(e,t){const{month:r,year:i}=e,n=this.getMonthCode(i,r),o=lv(this.months).find((e=>e[1].monthCode===n));if(void 0===o)throw new RangeError(`unmatched Hebrew month: ${r}`);const s=o[1].days;return"number"==typeof s?s:s[t]}estimateIsoDate(e){const{year:t}=e;return{year:t-3760,month:1,day:1}}getMonthCode(e,t){return this.inLeapYear({year:e})?6===t?wv(5,!0):wv(t<6?t:t-1):wv(t)}adjustCalendarDate(e,t,r="constrain",i=!1){let{year:n,eraYear:o,month:s,monthCode:a,day:c,monthExtra:u}=e;if(void 0===n&&void 0!==o&&(n=o),void 0===o&&void 0!==n&&(o=n),i){if(u){const e=this.months[u];if(!e)throw new RangeError(`Unrecognized month from formatToParts: ${u}`);s=this.inLeapYear({year:n})?e.leap:e.regular}return a=this.getMonthCode(n,s),{year:n,month:s,day:c,era:void 0,eraYear:o,monthCode:a}}if(this.validateCalendarDate(e),void 0===s)if(a.endsWith("L")){if("M05L"!==a)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${a}`);if(s=6,!this.inLeapYear({year:n})){if("reject"===r)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${n} which is not a leap year`);s=6,a="M06"}}else{s=Iv(a),this.inLeapYear({year:n})&&s>=6&&s++;const e=this.monthsInYear({year:n});if(s<1||s>e)throw new RangeError(`Invalid monthCode: ${a}`)}else if("reject"===r?(bw(s,1,this.monthsInYear({year:n})),bw(c,1,this.maximumMonthLength({year:n,month:s}))):(s=Iw(s,1,this.monthsInYear({year:n})),c=Iw(c,1,this.maximumMonthLength({year:n,month:s}))),void 0===a)a=this.getMonthCode(n,s);else if(this.getMonthCode(n,s)!==a)throw new RangeError(`monthCode ${a} doesn't correspond to month ${s} in Hebrew year ${n}`);return{...e,day:c,month:s,monthCode:a,year:n,eraYear:o}}}class _v extends Bv{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(e,t){return 30===this.daysInMonth({year:e.year,month:12,day:1},t)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:hv(t*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class Qv extends _v{constructor(){super(...arguments),this.id="islamic"}}class Dv extends _v{constructor(){super(...arguments),this.id="islamic-umalqura"}}class kv extends _v{constructor(){super(...arguments),this.id="islamic-tbla"}}class Mv extends _v{constructor(){super(...arguments),this.id="islamic-civil"}}class Pv extends _v{constructor(){super(...arguments),this.id="islamic-rgsa"}}class xv extends _v{constructor(){super(...arguments),this.id="islamicc"}}class Fv extends Bv{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(e,t){return Qv.prototype.inLeapYear.call(this,e,t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return 12===t?29:t<=6?31:30}maximumMonthLength(e){const{month:t}=e;return 12===t?30:t<=6?31:30}estimateIsoDate(e){const{year:t}=this.adjustCalendarDate(e);return{year:t+621,month:1,day:1}}}class Rv extends Bv{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(e){return Ov(e.year+78)}monthsInYear(){return 12}minimumMonthLength(e){return this.getMonthInfo(e).length}maximumMonthLength(e){return this.getMonthInfo(e).length}getMonthInfo(e){const{month:t}=e;let r=this.months[t];if(void 0===r)throw new RangeError(`Invalid month: ${t}`);return this.inLeapYear(e)&&r.leap&&(r=r.leap),r}estimateIsoDate(e){const t=this.adjustCalendarDate(e),r=this.getMonthInfo(t);return Lw(t.year+78+(r.nextYear?1:0),r.month,r.day,0,0,0,t.day-1,"constrain")}checkIcuBugs(e){if(this.vulnerableToBceBug&&e.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function Ov(e){return e%4==0&&(e%100!=0||e%400==0)}class Tv extends Bv{constructor(e,t){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=e;const{eras:r,anchorEra:i}=function(e){let t,r=e;if(0===r.length)throw new RangeError("Invalid era data: eras are required");if(1===r.length&&r[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===r.length&&!r[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(r.filter((e=>null!=e.reverseOf)).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");r.forEach((e=>{if(e.isAnchor||!e.anchorEpoch&&!e.reverseOf){if(t)throw new RangeError("Invalid era data: cannot have multiple anchor eras");t=e,e.anchorEpoch={year:e.hasYearZero?0:1}}else if(!e.name)throw new RangeError("If era name is blank, it must be the anchor era")})),r=r.filter((e=>e.name)),r.forEach((e=>{const{reverseOf:t}=e;if(t){const i=r.find((e=>e.name===t));if(void 0===i)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${t}`);e.reverseOf=i,e.anchorEpoch=i.anchorEpoch,e.isoEpoch=i.isoEpoch}void 0===e.anchorEpoch.month&&(e.anchorEpoch.month=1),void 0===e.anchorEpoch.day&&(e.anchorEpoch.day=1)})),cv.call(r,((e,t)=>{if(e.reverseOf)return 1;if(t.reverseOf)return-1;if(!e.isoEpoch||!t.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return t.isoEpoch.year-e.isoEpoch.year}));const i=r[r.length-1].reverseOf;if(i&&i!==r[r.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return r.forEach(((e,t)=>{e.genericName="era"+(r.length-1-t)})),{eras:r,anchorEra:t||r[0]}}(t);this.anchorEra=i,this.eras=r}inLeapYear(e){const{year:t}=this.estimateIsoDate({month:1,day:1,year:e.year});return Ov(t)}monthsInYear(){return 12}minimumMonthLength(e){const{month:t}=e;return 2===t?this.inLeapYear(e)?29:28:[4,6,9,11].indexOf(t)>=0?30:31}maximumMonthLength(e){return this.minimumMonthLength(e)}completeEraYear(e){const t=(t,r)=>{const i=e[t];if(null!=i&&i!=r)throw new RangeError(`Input ${t} ${i} doesn't match calculated value ${r}`)},r=t=>{let r;const i={...e,year:t},n=this.eras.find(((e,n)=>{if(n===this.eras.length-1){if(e.reverseOf){if(t>0)throw new RangeError(`Signed year ${t} is invalid for era ${e.name}`);return r=e.anchorEpoch.year-t,!0}return r=t-e.anchorEpoch.year+(e.hasYearZero?0:1),!0}return this.compareCalendarDates(i,e.anchorEpoch)>=0&&(r=t-e.anchorEpoch.year+(e.hasYearZero?0:1),!0)}));if(!n)throw new RangeError(`Year ${t} was not matched by any era`);return{eraYear:r,era:n.name}};let{year:i,eraYear:n,era:o}=e;if(null!=i)({eraYear:n,era:o}=r(i)),t("era",o),t("eraYear",n);else{if(null==n)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const e=void 0===o?void 0:this.eras.find((e=>e.name===o||e.genericName===o));if(!e)throw new RangeError(`Era ${o} (ISO year ${n}) was not matched by any era`);if(n<1&&e.reverseOf)throw new RangeError(`Years in ${o} era must be positive, not ${i}`);i=e.reverseOf?e.anchorEpoch.year-n:n+e.anchorEpoch.year-(e.hasYearZero?0:1),t("year",i),({eraYear:n,era:o}=r(i))}}return{...e,year:i,eraYear:n,era:o}}adjustCalendarDate(e,t,r="constrain"){let i=e;const{month:n,monthCode:o}=i;return void 0===n&&(i={...i,month:Iv(o)}),this.validateCalendarDate(i),i=this.completeEraYear(i),super.adjustCalendarDate(i,t,r)}estimateIsoDate(e){const t=this.adjustCalendarDate(e),{year:r,month:i,day:n}=t,{anchorEra:o}=this;return ay(r+o.isoEpoch.year-(o.hasYearZero?0:1),i,n,"constrain")}checkIcuBugs(e){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&cb(e.year,e.month,e.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class Nv extends Tv{constructor(e,t){super(e,t)}inLeapYear(e){const{year:t}=e;return(t+1)%4==0}monthsInYear(){return 13}minimumMonthLength(e){const{month:t}=e;return 13===t?this.inLeapYear(e)?6:5:30}maximumMonthLength(e){return this.minimumMonthLength(e)}}class Uv extends Nv{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class jv extends Nv{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class Lv extends Nv{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class qv extends Tv{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class Kv extends Tv{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class Hv extends Tv{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(e){let{era:t,eraYear:r}=e;return"bc"!==t&&"b"!==t||(t="bce"),"ad"!==t&&"a"!==t||(t="ce"),{era:t,eraYear:r}}}class Gv extends Tv{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(e,t){const{era:r,eraYear:i}=e,{year:n}=t;return this.eras.find((e=>e.name===r))?{era:r,eraYear:i}:n<1?{era:"bce",eraYear:1-n}:{era:"ce",eraYear:n}}}class zv extends Bv{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(e,t){const r=this.getMonthList(e.year,t);return 13===lv(r).length}monthsInYear(e,t){return this.inLeapYear(e,t)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(e,t){if(void 0===e)throw new TypeError("Missing year");const r=JSON.stringify({func:"getMonthList",calendarYear:e,id:this.id}),i=t.get(r);if(i)return i;const n=this.getFormatter(),o=(e,t)=>{const r=Ev({isoYear:e,isoMonth:2,isoDay:1}),i=new Date(r);i.setUTCDate(t+1);const o=n.formatToParts(i),s=o.find((e=>"month"===e.type)).value,a=+o.find((e=>"day"===e.type)).value;let c=o.find((e=>"relatedYear"===e.type));if(void 0===c)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return c=+c.value,{calendarMonthString:s,calendarDay:a,calendarYearToVerify:c}};let s=17,{calendarMonthString:a,calendarDay:c,calendarYearToVerify:u}=o(e,s);"1"!==a&&(s+=29,({calendarMonthString:a,calendarDay:c}=o(e,s))),s-=c-5;const h={};let d,l,f=1,p=!1;do{({calendarMonthString:a,calendarDay:c,calendarYearToVerify:u}=o(e,s)),d&&(h[l].daysInMonth=d+30-c),u!==e?p=!0:(h[a]={monthIndex:f++},s+=30),d=c,l=a}while(!p);return h[l].daysInMonth=d+30-c,t.set(r,h),h}estimateIsoDate(e){const{year:t,month:r}=e;return{year:t,month:r>=12?12:r+1,day:1}}adjustCalendarDate(e,t,r="constrain",i=!1){let{year:n,month:o,monthExtra:s,day:a,monthCode:c,eraYear:u}=e;if(i){if(n=u,s&&"bis"!==s)throw new RangeError(`Unexpected leap month suffix: ${s}`);const e=wv(o,void 0!==s),r=`${o}${s||""}`,i=this.getMonthList(n,t)[r];if(void 0===i)throw new RangeError(`Unmatched month ${r} in Chinese year ${n}`);return o=i.monthIndex,{year:n,month:o,day:a,era:void 0,eraYear:u,monthCode:e}}if(this.validateCalendarDate(e),void 0===n&&(n=u),void 0===u&&(u=n),void 0===o){const e=this.getMonthList(n,t);let i=c.replace("L","bis").slice(1);"0"===i[0]&&(i=i.slice(1));let s=e[i];if(o=s&&s.monthIndex,void 0===o&&c.endsWith("L")&&"M13L"!=c&&"constrain"===r){let t=c.slice(1,-1);"0"===t[0]&&(t=t.slice(1)),s=e[t],s&&(o=s.monthIndex,c=wv(t))}if(void 0===o)throw new RangeError(`Unmatched month ${c} in Chinese year ${n}`)}else if(void 0===c){const e=this.getMonthList(n,t),i=lv(e),s=i.length;"reject"===r?(bw(o,1,s),bw(a,1,this.maximumMonthLength())):(o=Iw(o,1,s),a=Iw(a,1,this.maximumMonthLength()));const u=i.find((([,e])=>e.monthIndex===o));if(void 0===u)throw new RangeError(`Invalid month ${o} in Chinese year ${n}`);c=wv(u[0].replace("bis",""),-1!==u[0].indexOf("bis"))}else{const e=this.getMonthList(n,t);let r=c.replace("L","bis").slice(1);"0"===r[0]&&(r=r.slice(1));const i=e[r];if(!i)throw new RangeError(`Unmatched monthCode ${c} in Chinese year ${n}`);if(o!==i.monthIndex)throw new RangeError(`monthCode ${c} doesn't correspond to month ${o} in Chinese year ${n}`)}return{...e,year:n,eraYear:u,month:o,monthCode:c,day:a}}}class Jv extends zv{constructor(){super(...arguments),this.id="chinese"}}class Yv extends zv{constructor(){super(...arguments),this.id="dangi"}}class Vv{constructor(e){this.helper=e}dateFromFields(e,t,r){const i=new vv,n=Cy(e,this.fields(["day","month","monthCode","year"]),[]),o=hy(t),{year:s,month:a,day:c}=this.helper.calendarToIsoDate(n,o,i),u=Ty(s,a,c,r);return i.setObject(u),u}yearMonthFromFields(e,t,r){const i=new vv,n=Cy(e,this.fields(["month","monthCode","year"]),[]),o=hy(t),{year:s,month:a,day:c}=this.helper.calendarToIsoDate({...n,day:1},o,i),u=Ky(s,a,r,c);return i.setObject(u),u}monthDayFromFields(e,t,r){const i=new vv,n=Cy(e,this.fields(["day","month","monthCode","year"]),[]),o=hy(t),{year:s,month:a,day:c}=this.helper.monthDayFromFields(n,o,i),u=Ly(a,c,r,s);return i.setObject(u),u}fields(e){let t=e;return ov.call(t,"year")&&(t=[...t,"era","eraYear"]),t}fieldKeysToIgnore(e){const t=new fv;for(let r=0;r<e.length;r++){const i=e[r];switch(bm(Av,t,[i]),i){case"era":bm(Av,t,["eraYear"]),bm(Av,t,["year"]);break;case"eraYear":bm(Av,t,["era"]),bm(Av,t,["year"]);break;case"year":bm(Av,t,["era"]),bm(Av,t,["eraYear"]);break;case"month":bm(Av,t,["monthCode"]),this.helper.erasBeginMidYear&&(bm(Av,t,["era"]),bm(Av,t,["eraYear"]));break;case"monthCode":bm(Av,t,["month"]),this.helper.erasBeginMidYear&&(bm(Av,t,["era"]),bm(Av,t,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(bm(Av,t,["era"]),bm(Av,t,["eraYear"]))}}return[...bm(gv,t,[])]}dateAdd(e,t,r,i,n,o,s){const a=vv.getCacheForObject(e),c=this.helper.temporalToCalendarDate(e,a),u=this.helper.addCalendar(c,{years:t,months:r,weeks:i,days:n},o,a),h=this.helper.calendarToIsoDate(u,"constrain",a),{year:d,month:l,day:f}=h,p=Ty(d,l,f,s);return new vv(a).setObject(p),p}dateUntil(e,t,r){const i=vv.getCacheForObject(e),n=vv.getCacheForObject(t),o=this.helper.temporalToCalendarDate(e,i),s=this.helper.temporalToCalendarDate(t,n);return this.helper.untilCalendar(o,s,r,i)}year(e){const t=vv.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).year}month(e){const t=vv.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).month}day(e){const t=vv.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).day}era(e){if(!this.helper.hasEra)return;const t=vv.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).era}eraYear(e){if(!this.helper.hasEra)return;const t=vv.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).eraYear}monthCode(e){const t=vv.getCacheForObject(e);return this.helper.temporalToCalendarDate(e,t).monthCode}dayOfWeek(e){return mv.iso8601.dayOfWeek(e)}dayOfYear(e){const t=vv.getCacheForObject(e),r=this.helper.isoToCalendarDate(e,t),i=this.helper.startOfCalendarYear(r);return this.helper.calendarDaysUntil(i,r,t)+1}weekOfYear(e){return mv.iso8601.weekOfYear(e)}yearOfWeek(e){return mv.iso8601.yearOfWeek(e)}daysInWeek(e){return mv.iso8601.daysInWeek(e)}daysInMonth(e){const t=vv.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t),i=this.helper.maximumMonthLength(r);if(i===this.helper.minimumMonthLength(r))return i;const n=this.helper.startOfCalendarMonth(r),o=this.helper.addMonthsCalendar(n,1,"constrain",t);return this.helper.calendarDaysUntil(n,o,t)}daysInYear(e){let t=e;Ag(t,NA)||(t=Sy(t));const r=vv.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,r),n=this.helper.startOfCalendarYear(i),o=this.helper.addCalendar(n,{years:1},"constrain",r);return this.helper.calendarDaysUntil(n,o,r)}monthsInYear(e){const t=vv.getCacheForObject(e),r=this.helper.temporalToCalendarDate(e,t);return this.helper.monthsInYear(r,t)}inLeapYear(e){let t=e;Ag(t,NA)||(t=Sy(t));const r=vv.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,r);return this.helper.inLeapYear(i,r)}}for(const e of[Sv,Fv,Lv,Uv,jv,Jv,Yv,qv,Rv,Kv,Hv,Gv,Qv,Dv,kv,Mv,Pv,xv]){const t=new e;mv[t.id]=new Vv(t)}class $v{constructor(e,t,r,i="iso8601"){Oy(this,_m(e),_m(t),_m(r),dI(i))}get calendarId(){if(!Vm(this))throw new TypeError("invalid receiver");return fI(gg(this,JA))}get era(){if(!Vm(this))throw new TypeError("invalid receiver");return eI(gg(this,JA),this)}get eraYear(){if(!Vm(this))throw new TypeError("invalid receiver");return tI(gg(this,JA),this)}get year(){if(!Vm(this))throw new TypeError("invalid receiver");return $y(gg(this,JA),this)}get month(){if(!Vm(this))throw new TypeError("invalid receiver");return Wy(gg(this,JA),this)}get monthCode(){if(!Vm(this))throw new TypeError("invalid receiver");return Zy(gg(this,JA),this)}get day(){if(!Vm(this))throw new TypeError("invalid receiver");return Xy(gg(this,JA),this)}get dayOfWeek(){if(!Vm(this))throw new TypeError("invalid receiver");return rI(gg(this,JA),this)}get dayOfYear(){if(!Vm(this))throw new TypeError("invalid receiver");return iI(gg(this,JA),this)}get weekOfYear(){if(!Vm(this))throw new TypeError("invalid receiver");return nI(gg(this,JA),this)}get yearOfWeek(){if(!Vm(this))throw new TypeError("invalid receiver");return oI(gg(this,JA),this)}get daysInWeek(){if(!Vm(this))throw new TypeError("invalid receiver");return sI(gg(this,JA),this)}get daysInMonth(){if(!Vm(this))throw new TypeError("invalid receiver");return aI(gg(this,JA),this)}get daysInYear(){if(!Vm(this))throw new TypeError("invalid receiver");return cI(gg(this,JA),this)}get monthsInYear(){if(!Vm(this))throw new TypeError("invalid receiver");return uI(gg(this,JA),this)}get inLeapYear(){if(!Vm(this))throw new TypeError("invalid receiver");return hI(gg(this,JA),this)}with(e,t){if(!Vm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid argument");ty(e);const r=mb(t),i=gg(this,JA),n=zy(i,["day","month","monthCode","year"]);let o=Cy(this,n,[]);return o=Jy(i,o,Cy(e,n,"partial")),o=Cy(o,n,[]),yI(i,o,r)}withCalendar(e){if(!Vm(this))throw new TypeError("invalid receiver");const t=dI(e);return new $v(gg(this,NA),gg(this,UA),gg(this,jA),t)}add(e,t){if(!Vm(this))throw new TypeError("invalid receiver");const r=Dy(e),i=mb(t);return Yy(gg(this,JA),this,r,i)}subtract(e,t){if(!Vm(this))throw new TypeError("invalid receiver");const r=yw(Dy(e)),i=mb(t);return Yy(gg(this,JA),this,r,i)}until(e,t){if(!Vm(this))throw new TypeError("invalid receiver");return Ow("until",this,e,t)}since(e,t){if(!Vm(this))throw new TypeError("invalid receiver");return Ow("since",this,e,t)}equals(e){if(!Vm(this))throw new TypeError("invalid receiver");const t=Sy(e);for(const e of[NA,UA,jA])if(gg(this,e)!==gg(t,e))return!1;return AI(gg(this,JA),gg(t,JA))}toString(e){if(!Vm(this))throw new TypeError("invalid receiver");return NI(this,py(mb(e)))}toJSON(){if(!Vm(this))throw new TypeError("invalid receiver");return NI(this)}toLocaleString(e,t){if(!Vm(this))throw new TypeError("invalid receiver");return new Gb(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(e){if(!Vm(this))throw new TypeError("invalid receiver");const t=gg(this,NA),r=gg(this,UA),i=gg(this,jA),n=gg(this,JA);if(void 0===e)return Uy(t,r,i,0,0,0,0,0,0,n);const o=Py(e);return Uy(t,r,i,gg(o,LA),gg(o,qA),gg(o,KA),gg(o,HA),gg(o,GA),gg(o,zA),n)}toZonedDateTime(e){if(!Vm(this))throw new TypeError("invalid receiver");let t,r;if(vm(e))if(zm(e))t=e;else{const i=e.timeZone;void 0===i?t=bI(e):(t=bI(i),r=e.plainTime)}else t=bI(e);const i=gg(this,NA),n=gg(this,UA),o=gg(this,jA),s=gg(this,JA);let a=0,c=0,u=0,h=0,d=0,l=0;return void 0!==r&&(r=Py(r),a=gg(r,LA),c=gg(r,qA),u=gg(r,KA),h=gg(r,HA),d=gg(r,GA),l=gg(r,zA)),Gy(gg(kI(t,Uy(i,n,o,a,c,u,h,d,l,s),"compatible"),OA),t,s)}toPlainYearMonth(){if(!Vm(this))throw new TypeError("invalid receiver");const e=gg(this,JA);return II(e,Cy(this,zy(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Vm(this))throw new TypeError("invalid receiver");const e=gg(this,JA);return wI(e,Cy(this,zy(e,["day","monthCode"]),[]))}getISOFields(){if(!Vm(this))throw new TypeError("invalid receiver");return{calendar:gg(this,JA),isoDay:gg(this,jA),isoMonth:gg(this,UA),isoYear:gg(this,NA)}}getCalendar(){if(!Vm(this))throw new TypeError("invalid receiver");return pI(gg(this,JA))}static from(e,t){const r=mb(t);return Vm(e)?(hy(r),Ty(gg(e,NA),gg(e,UA),gg(e,jA),gg(e,JA))):Sy(e,r)}static compare(e,t){const r=Sy(e),i=Sy(t);return cb(gg(r,NA),gg(r,UA),gg(r,jA),gg(i,NA),gg(i,UA),gg(i,jA))}}MA($v,"Temporal.PlainDate");class Wv{constructor(e,t,r,i=0,n=0,o=0,s=0,a=0,c=0,u="iso8601"){Ny(this,_m(e),_m(t),_m(r),void 0===i?0:_m(i),void 0===n?0:_m(n),void 0===o?0:_m(o),void 0===s?0:_m(s),void 0===a?0:_m(a),void 0===c?0:_m(c),dI(u))}get calendarId(){if(!Wm(this))throw new TypeError("invalid receiver");return fI(gg(this,JA))}get year(){if(!Wm(this))throw new TypeError("invalid receiver");return $y(gg(this,JA),this)}get month(){if(!Wm(this))throw new TypeError("invalid receiver");return Wy(gg(this,JA),this)}get monthCode(){if(!Wm(this))throw new TypeError("invalid receiver");return Zy(gg(this,JA),this)}get day(){if(!Wm(this))throw new TypeError("invalid receiver");return Xy(gg(this,JA),this)}get hour(){if(!Wm(this))throw new TypeError("invalid receiver");return gg(this,LA)}get minute(){if(!Wm(this))throw new TypeError("invalid receiver");return gg(this,qA)}get second(){if(!Wm(this))throw new TypeError("invalid receiver");return gg(this,KA)}get millisecond(){if(!Wm(this))throw new TypeError("invalid receiver");return gg(this,HA)}get microsecond(){if(!Wm(this))throw new TypeError("invalid receiver");return gg(this,GA)}get nanosecond(){if(!Wm(this))throw new TypeError("invalid receiver");return gg(this,zA)}get era(){if(!Wm(this))throw new TypeError("invalid receiver");return eI(gg(this,JA),this)}get eraYear(){if(!Wm(this))throw new TypeError("invalid receiver");return tI(gg(this,JA),this)}get dayOfWeek(){if(!Wm(this))throw new TypeError("invalid receiver");return rI(gg(this,JA),this)}get dayOfYear(){if(!Wm(this))throw new TypeError("invalid receiver");return iI(gg(this,JA),this)}get weekOfYear(){if(!Wm(this))throw new TypeError("invalid receiver");return nI(gg(this,JA),this)}get yearOfWeek(){if(!Wm(this))throw new TypeError("invalid receiver");return oI(gg(this,JA),this)}get daysInWeek(){if(!Wm(this))throw new TypeError("invalid receiver");return sI(gg(this,JA),this)}get daysInYear(){if(!Wm(this))throw new TypeError("invalid receiver");return cI(gg(this,JA),this)}get daysInMonth(){if(!Wm(this))throw new TypeError("invalid receiver");return aI(gg(this,JA),this)}get monthsInYear(){if(!Wm(this))throw new TypeError("invalid receiver");return uI(gg(this,JA),this)}get inLeapYear(){if(!Wm(this))throw new TypeError("invalid receiver");return hI(gg(this,JA),this)}with(e,t){if(!Wm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid argument");ty(e);const r=mb(t),i=gg(this,JA),n=zy(i,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let o=Cy(this,n,[]);o=Jy(i,o,Cy(e,n,"partial")),o=Cy(o,n,[]);const{year:s,month:a,day:c,hour:u,minute:h,second:d,millisecond:l,microsecond:f,nanosecond:p}=_y(i,o,r);return Uy(s,a,c,u,h,d,l,f,p,i)}withPlainTime(e){if(!Wm(this))throw new TypeError("invalid receiver");const t=gg(this,NA),r=gg(this,UA),i=gg(this,jA),n=gg(this,JA);if(void 0===e)return Uy(t,r,i,0,0,0,0,0,0,n);const o=Py(e);return Uy(t,r,i,gg(o,LA),gg(o,qA),gg(o,KA),gg(o,HA),gg(o,GA),gg(o,zA),n)}withPlainDate(e){if(!Wm(this))throw new TypeError("invalid receiver");const t=Sy(e),r=gg(t,NA),i=gg(t,UA),n=gg(t,jA);let o=gg(t,JA);const s=gg(this,LA),a=gg(this,qA),c=gg(this,KA),u=gg(this,HA),h=gg(this,GA),d=gg(this,zA);return o=mI(gg(this,JA),o),Uy(r,i,n,s,a,c,u,h,d,o)}withCalendar(e){if(!Wm(this))throw new TypeError("invalid receiver");const t=dI(e);return new Wv(gg(this,NA),gg(this,UA),gg(this,jA),gg(this,LA),gg(this,qA),gg(this,KA),gg(this,HA),gg(this,GA),gg(this,zA),t)}add(e,t){if(!Wm(this))throw new TypeError("invalid receiver");return Vw("add",this,e,t)}subtract(e,t){if(!Wm(this))throw new TypeError("invalid receiver");return Vw("subtract",this,e,t)}until(e,t){if(!Wm(this))throw new TypeError("invalid receiver");return Tw("until",this,e,t)}since(e,t){if(!Wm(this))throw new TypeError("invalid receiver");return Tw("since",this,e,t)}round(e){if(!Wm(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?yb("smallestUnit",e):mb(e),r=Ay(t),i=ly(t,"halfExpand"),n=wy(t,"smallestUnit","time",Iy,["day"]),o={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[n];gy(r,o,1===o);let s=gg(this,NA),a=gg(this,UA),c=gg(this,jA),u=gg(this,LA),h=gg(this,qA),d=gg(this,KA),l=gg(this,HA),f=gg(this,GA),p=gg(this,zA);return({year:s,month:a,day:c,hour:u,minute:h,second:d,millisecond:l,microsecond:f,nanosecond:p}=tb(s,a,c,u,h,d,l,f,p,r,n,i)),Uy(s,a,c,u,h,d,l,f,p,gg(this,JA))}equals(e){if(!Wm(this))throw new TypeError("invalid receiver");const t=Qy(e);for(const e of[NA,UA,jA,LA,qA,KA,HA,GA,zA])if(gg(this,e)!==gg(t,e))return!1;return AI(gg(this,JA),gg(t,JA))}toString(e){if(!Wm(this))throw new TypeError("invalid receiver");const t=mb(e),r=py(t),i=my(t),n=ly(t,"trunc"),o=wy(t,"smallestUnit","time",void 0);if("hour"===o)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:s,unit:a,increment:c}=yy(o,i);return UI(this,s,r,{unit:a,increment:c,roundingMode:n})}toJSON(){if(!Wm(this))throw new TypeError("invalid receiver");return UI(this,"auto")}toLocaleString(e,t){if(!Wm(this))throw new TypeError("invalid receiver");return new Gb(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(e,t){if(!Wm(this))throw new TypeError("invalid receiver");const r=bI(e);return Gy(gg(kI(r,this,dy(mb(t))),OA),r,gg(this,JA))}toPlainDate(){if(!Wm(this))throw new TypeError("invalid receiver");return BI(this)}toPlainYearMonth(){if(!Wm(this))throw new TypeError("invalid receiver");const e=gg(this,JA);return II(e,Cy(this,zy(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Wm(this))throw new TypeError("invalid receiver");const e=gg(this,JA);return wI(e,Cy(this,zy(e,["day","monthCode"]),[]))}toPlainTime(){if(!Wm(this))throw new TypeError("invalid receiver");return SI(this)}getISOFields(){if(!Wm(this))throw new TypeError("invalid receiver");return{calendar:gg(this,JA),isoDay:gg(this,jA),isoHour:gg(this,LA),isoMicrosecond:gg(this,GA),isoMillisecond:gg(this,HA),isoMinute:gg(this,qA),isoMonth:gg(this,UA),isoNanosecond:gg(this,zA),isoSecond:gg(this,KA),isoYear:gg(this,NA)}}getCalendar(){if(!Wm(this))throw new TypeError("invalid receiver");return pI(gg(this,JA))}static from(e,t){const r=mb(t);return Wm(e)?(hy(r),Uy(gg(e,NA),gg(e,UA),gg(e,jA),gg(e,LA),gg(e,qA),gg(e,KA),gg(e,HA),gg(e,GA),gg(e,zA),gg(e,JA))):Qy(e,r)}static compare(e,t){const r=Qy(e),i=Qy(t);for(const e of[NA,UA,jA,LA,qA,KA,HA,GA,zA]){const t=gg(r,e),n=gg(i,e);if(t!==n)return gb(t-n)}return 0}}MA(Wv,"Temporal.PlainDateTime");class Zv{constructor(e=0,t=0,r=0,i=0,n=0,o=0,s=0,a=0,c=0,u=0){const h=void 0===e?0:Dm(e),d=void 0===t?0:Dm(t),l=void 0===r?0:Dm(r),f=void 0===i?0:Dm(i),p=void 0===n?0:Dm(n),A=void 0===o?0:Dm(o),g=void 0===s?0:Dm(s),m=void 0===a?0:Dm(a),y=void 0===c?0:Dm(c),I=void 0===u?0:Dm(u);Qw(h,d,l,f,p,A,g,m,y,I),pg(this),mg(this,XA,h),mg(this,eg,d),mg(this,tg,l),mg(this,rg,f),mg(this,ig,p),mg(this,ng,A),mg(this,og,g),mg(this,sg,m),mg(this,ag,y),mg(this,cg,I)}get years(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,XA)}get months(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,eg)}get weeks(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,tg)}get days(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,rg)}get hours(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,ig)}get minutes(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,ng)}get seconds(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,og)}get milliseconds(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,sg)}get microseconds(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,ag)}get nanoseconds(){if(!Ym(this))throw new TypeError("invalid receiver");return gg(this,cg)}get sign(){if(!Ym(this))throw new TypeError("invalid receiver");return aw(gg(this,XA),gg(this,eg),gg(this,tg),gg(this,rg),gg(this,ig),gg(this,ng),gg(this,og),gg(this,sg),gg(this,ag),gg(this,cg))}get blank(){if(!Ym(this))throw new TypeError("invalid receiver");return 0===aw(gg(this,XA),gg(this,eg),gg(this,tg),gg(this,rg),gg(this,ig),gg(this,ng),gg(this,og),gg(this,sg),gg(this,ag),gg(this,cg))}with(e){if(!Ym(this))throw new TypeError("invalid receiver");const t=Cy(e,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:r=gg(this,XA),months:i=gg(this,eg),weeks:n=gg(this,tg),days:o=gg(this,rg),hours:s=gg(this,ig),minutes:a=gg(this,ng),seconds:c=gg(this,og),milliseconds:u=gg(this,sg),microseconds:h=gg(this,ag),nanoseconds:d=gg(this,cg)}=t;return new Zv(r,i,n,o,s,a,c,u,h,d)}negated(){if(!Ym(this))throw new TypeError("invalid receiver");return yw(this)}abs(){if(!Ym(this))throw new TypeError("invalid receiver");return new Zv(Math.abs(gg(this,XA)),Math.abs(gg(this,eg)),Math.abs(gg(this,tg)),Math.abs(gg(this,rg)),Math.abs(gg(this,ig)),Math.abs(gg(this,ng)),Math.abs(gg(this,og)),Math.abs(gg(this,sg)),Math.abs(gg(this,ag)),Math.abs(gg(this,cg)))}add(e,t){if(!Ym(this))throw new TypeError("invalid receiver");return Jw("add",this,e,t)}subtract(e,t){if(!Ym(this))throw new TypeError("invalid receiver");return Jw("subtract",this,e,t)}round(e){if(!Ym(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");let t=gg(this,XA),r=gg(this,eg),i=gg(this,tg),n=gg(this,rg),o=gg(this,ig),s=gg(this,ng),a=gg(this,og),c=gg(this,sg),u=gg(this,ag),h=gg(this,cg),d=vy(t,r,i,n,o,s,a,c,u,h);const l="string"==typeof e?yb("smallestUnit",e):mb(e);let f=wy(l,"largestUnit","datetime",void 0,["auto"]),p=by(l);const A=Ay(l),g=ly(l,"halfExpand");let m=wy(l,"smallestUnit","datetime",void 0),y=!0;m||(y=!1,m="nanosecond"),d=Ey(d,m);let I=!0;if(f||(I=!1,f=d),"auto"===f&&(f=d),!y&&!I)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(Ey(f,m)!==f)throw new RangeError(`largestUnit ${f} cannot be smaller than smallestUnit ${m}`);const w={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[m];return void 0!==w&&gy(A,w,!1),({years:t,months:r,weeks:i,days:n}=gw(t,r,i,n,f,p)),({years:t,months:r,weeks:i,days:n,hours:o,minutes:s,seconds:a,milliseconds:c,microseconds:u,nanoseconds:h}=ab(t,r,i,n,o,s,a,c,u,h,A,m,g,p)),({years:t,months:r,weeks:i,days:n,hours:o,minutes:s,seconds:a,milliseconds:c,microseconds:u,nanoseconds:h}=sb(t,r,i,n,o,s,a,c,u,h,A,m,g,p)),({days:n,hours:o,minutes:s,seconds:a,milliseconds:c,microseconds:u,nanoseconds:h}=pw(n,o,s,a,c,u,h,f,p)),({years:t,months:r,weeks:i,days:n}=function(e,t,r,i,n,o){const s=xA("%Temporal.Duration%"),a=aw(e,t,r,i,0,0,0,0,0,0);if(0===a)return{years:e,months:t,weeks:r,days:i};const c=DA.BigInt(a);let u,h,d=DA.BigInt(e),l=DA.BigInt(t),f=DA.BigInt(r),p=DA.BigInt(i);o&&(h=Sy(o),u=gg(h,JA));const A=new s(a),g=new s(0,a),m=new s(0,0,a);switch(n){case"year":{if(!u)throw new RangeError("a starting point is required for years balancing");const e="string"!=typeof u?wm(u,"dateAdd"):void 0;let t,r,i;for(({relativeTo:t,days:r}=nb(u,h,A,e));DA.greaterThanOrEqual(xm(p),DA.BigInt(jg(r)));)p=DA.subtract(p,DA.BigInt(r)),d=DA.add(d,c),h=t,({relativeTo:t,days:r}=nb(u,h,A,e));for(({relativeTo:t,days:i}=nb(u,h,g,e));DA.greaterThanOrEqual(xm(p),DA.BigInt(jg(i)));)p=DA.subtract(p,DA.BigInt(i)),l=DA.add(l,c),h=t,({relativeTo:t,days:i}=nb(u,h,g,e));t=Yy(u,h,A,void 0,e);const n="string"!=typeof u?wm(u,"dateUntil"):void 0,o=Vg(null);o.largestUnit="month";let s=Vy(u,h,t,o,n),a=gg(s,eg);for(;DA.greaterThanOrEqual(xm(l),DA.BigInt(jg(a)));){l=DA.subtract(l,DA.BigInt(a)),d=DA.add(d,c),h=t,t=Yy(u,h,A,void 0,e);const r=Vg(null);r.largestUnit="month",s=Vy(u,h,t,r,n),a=gg(s,eg)}break}case"month":{if(!u)throw new RangeError("a starting point is required for months balancing");const e="string"!=typeof u?wm(u,"dateAdd"):void 0;let t,r;for(({relativeTo:t,days:r}=nb(u,h,g,e));DA.greaterThanOrEqual(xm(p),DA.BigInt(jg(r)));)p=DA.subtract(p,DA.BigInt(r)),l=DA.add(l,c),h=t,({relativeTo:t,days:r}=nb(u,h,g,e));break}case"week":{if(!u)throw new RangeError("a starting point is required for weeks balancing");const e="string"!=typeof u?wm(u,"dateAdd"):void 0;let t,r;for(({relativeTo:t,days:r}=nb(u,h,m,e));DA.greaterThanOrEqual(xm(p),DA.BigInt(jg(r)));)p=DA.subtract(p,DA.BigInt(r)),f=DA.add(f,c),h=t,({relativeTo:t,days:r}=nb(u,h,m,e));break}}return{years:DA.toNumber(d),months:DA.toNumber(l),weeks:DA.toNumber(f),days:DA.toNumber(p)}}(t,r,i,n,f,p)),new Zv(t,r,i,n,o,s,a,c,u,h)}total(e){if(!Ym(this))throw new TypeError("invalid receiver");let t=gg(this,XA),r=gg(this,eg),i=gg(this,tg),n=gg(this,rg),o=gg(this,ig),s=gg(this,ng),a=gg(this,og),c=gg(this,sg),u=gg(this,ag),h=gg(this,cg);if(void 0===e)throw new TypeError("options argument is required");const d="string"==typeof e?yb("unit",e):mb(e),l=by(d),f=wy(d,"unit","datetime",Iy);let p;({years:t,months:r,weeks:i,days:n}=gw(t,r,i,n,f,l)),ey(l)&&(p=ob(l,t,r,i,0));let A=Aw(n,o,s,a,c,u,h,f,p);if("positive overflow"===A)return 1/0;if("negative overflow"===A)return-1/0;({days:n,hours:o,minutes:s,seconds:a,milliseconds:c,microseconds:u,nanoseconds:h}=A);const{total:g}=ab(t,r,i,n,o,s,a,c,u,h,1,f,"trunc",l);return g}toString(e){if(!Ym(this))throw new TypeError("invalid receiver");const t=mb(e),r=my(t),i=ly(t,"trunc"),n=wy(t,"smallestUnit","time",void 0);if("hour"===n||"minute"===n)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:o,unit:s,increment:a}=yy(n,r);return TI(this,o,{unit:s,increment:a,roundingMode:i})}toJSON(){if(!Ym(this))throw new TypeError("invalid receiver");return TI(this)}toLocaleString(e,t){if(!Ym(this))throw new TypeError("invalid receiver");return"undefined"!=typeof Intl&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(e,t).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),TI(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(e){return Ym(e)?new Zv(gg(e,XA),gg(e,eg),gg(e,tg),gg(e,rg),gg(e,ig),gg(e,ng),gg(e,og),gg(e,sg),gg(e,ag),gg(e,cg)):Dy(e)}static compare(e,t,r){const i=Dy(e),n=Dy(t),o=by(mb(r)),s=gg(i,XA),a=gg(i,eg),c=gg(i,tg);let u=gg(i,rg);const h=gg(i,ig),d=gg(i,ng),l=gg(i,og),f=gg(i,sg),p=gg(i,ag);let A=gg(i,cg);const g=gg(n,XA),m=gg(n,eg),y=gg(n,tg);let I=gg(n,rg);const w=gg(n,ig),b=gg(n,ng),v=gg(n,og),E=gg(n,sg),C=gg(n,ag);let B=gg(n,cg);const S=mw(o,s,a,c,u),_=mw(o,g,m,y,I);0===s&&0===g&&0===a&&0===m&&0===c&&0===y||(({days:u}=gw(s,a,c,u,"day",o)),({days:I}=gw(g,m,y,I,"day",o)));const Q=lw(u,h,d,l,f,p,A,S),D=lw(I,w,b,v,E,C,B,_);return gb(DA.toNumber(DA.subtract(Q,D)))}}MA(Zv,"Temporal.Duration");const Xv=Object.create;class eE{constructor(e,t,r="iso8601",i=1972){jy(this,_m(e),_m(t),dI(r),_m(i))}get monthCode(){if(!Xm(this))throw new TypeError("invalid receiver");return Zy(gg(this,JA),this)}get day(){if(!Xm(this))throw new TypeError("invalid receiver");return Xy(gg(this,JA),this)}get calendarId(){if(!Xm(this))throw new TypeError("invalid receiver");return fI(gg(this,JA))}with(e,t){if(!Xm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid argument");ty(e);const r=mb(t),i=gg(this,JA),n=zy(i,["day","month","monthCode","year"]);let o=Cy(this,n,[]);return o=Jy(i,o,Cy(e,n,"partial")),o=Cy(o,n,[]),wI(i,o,r)}equals(e){if(!Xm(this))throw new TypeError("invalid receiver");const t=My(e);for(const e of[UA,jA,NA])if(gg(this,e)!==gg(t,e))return!1;return AI(gg(this,JA),gg(t,JA))}toString(e){if(!Xm(this))throw new TypeError("invalid receiver");return jI(this,py(mb(e)))}toJSON(){if(!Xm(this))throw new TypeError("invalid receiver");return jI(this)}toLocaleString(e,t){if(!Xm(this))throw new TypeError("invalid receiver");return new Gb(e,t).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(e){if(!Xm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("argument should be an object");const t=gg(this,JA),r=zy(t,["day","monthCode"]),i=Cy(this,r,[]),n=zy(t,["year"]);let o=Jy(t,i,Cy(e,n,[]));o=Cy(o,[...new Set([...r,...n])],[]);const s=Xv(null);return s.overflow="reject",yI(t,o,s)}getISOFields(){if(!Xm(this))throw new TypeError("invalid receiver");return{calendar:gg(this,JA),isoDay:gg(this,jA),isoMonth:gg(this,UA),isoYear:gg(this,NA)}}getCalendar(){if(!Xm(this))throw new TypeError("invalid receiver");return pI(gg(this,JA))}static from(e,t){const r=mb(t);return Xm(e)?(hy(r),Ly(gg(e,UA),gg(e,jA),gg(e,JA),gg(e,NA))):My(e,r)}}MA(eE,"Temporal.PlainMonthDay");const tE=()=>new(xA("%Temporal.Instant%"))(pb()),rE=(e,t=Ab())=>{const r=bI(t),i=dI(e);return DI(r,tE(),i)},iE=(e=Ab())=>DI(bI(e),tE(),"iso8601"),nE=(e,t=Ab())=>{const r=bI(t),i=dI(e);return Gy(pb(),r,i)},oE={instant:tE,plainDateTime:rE,plainDateTimeISO:iE,plainDate:(e,t=Ab())=>BI(rE(e,t)),plainDateISO:(e=Ab())=>BI(iE(e)),plainTimeISO:(e=Ab())=>SI(iE(e)),timeZoneId:()=>Ab(),zonedDateTime:nE,zonedDateTimeISO:(e=Ab())=>nE("iso8601",e),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(oE,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const sE=Object.assign;function aE(e,t,r){let i=gg(e,LA),n=gg(e,qA),o=gg(e,KA),s=gg(e,HA),a=gg(e,GA),c=gg(e,zA);if(r){const{unit:e,increment:t,roundingMode:u}=r;({hour:i,minute:n,second:o,millisecond:s,microsecond:a,nanosecond:c}=rb(i,n,o,s,a,c,t,e,u))}return`${FI(i)}:${FI(n)}${RI(o,s,a,c,t)}`}class cE{constructor(e=0,t=0,r=0,i=0,n=0,o=0){const s=void 0===e?0:_m(e),a=void 0===t?0:_m(t),c=void 0===r?0:_m(r),u=void 0===i?0:_m(i),h=void 0===n?0:_m(n),d=void 0===o?0:_m(o);Cw(s,a,c,u,h,d),pg(this),mg(this,LA,s),mg(this,qA,a),mg(this,KA,c),mg(this,HA,u),mg(this,GA,h),mg(this,zA,d)}get hour(){if(!$m(this))throw new TypeError("invalid receiver");return gg(this,LA)}get minute(){if(!$m(this))throw new TypeError("invalid receiver");return gg(this,qA)}get second(){if(!$m(this))throw new TypeError("invalid receiver");return gg(this,KA)}get millisecond(){if(!$m(this))throw new TypeError("invalid receiver");return gg(this,HA)}get microsecond(){if(!$m(this))throw new TypeError("invalid receiver");return gg(this,GA)}get nanosecond(){if(!$m(this))throw new TypeError("invalid receiver");return gg(this,zA)}with(e,t){if(!$m(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid argument");ty(e);const r=hy(mb(t)),i=By(e,"partial"),n=By(this);let{hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h}=sE(n,i);return({hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h}=cy(o,s,a,c,u,h,r)),new cE(o,s,a,c,u,h)}add(e){if(!$m(this))throw new TypeError("invalid receiver");return $w("add",this,e)}subtract(e){if(!$m(this))throw new TypeError("invalid receiver");return $w("subtract",this,e)}until(e,t){if(!$m(this))throw new TypeError("invalid receiver");return Nw("until",this,e,t)}since(e,t){if(!$m(this))throw new TypeError("invalid receiver");return Nw("since",this,e,t)}round(e){if(!$m(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?yb("smallestUnit",e):mb(e),r=Ay(t),i=ly(t,"halfExpand"),n=wy(t,"smallestUnit","time",Iy);gy(r,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[n],!1);let o=gg(this,LA),s=gg(this,qA),a=gg(this,KA),c=gg(this,HA),u=gg(this,GA),h=gg(this,zA);return({hour:o,minute:s,second:a,millisecond:c,microsecond:u,nanosecond:h}=rb(o,s,a,c,u,h,r,n,i)),new cE(o,s,a,c,u,h)}equals(e){if(!$m(this))throw new TypeError("invalid receiver");const t=Py(e);for(const e of[LA,qA,KA,HA,GA,zA])if(gg(this,e)!==gg(t,e))return!1;return!0}toString(e){if(!$m(this))throw new TypeError("invalid receiver");const t=mb(e),r=my(t),i=ly(t,"trunc"),n=wy(t,"smallestUnit","time",void 0);if("hour"===n)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:o,unit:s,increment:a}=yy(n,r);return aE(this,o,{unit:s,increment:a,roundingMode:i})}toJSON(){if(!$m(this))throw new TypeError("invalid receiver");return aE(this,"auto")}toLocaleString(e,t){if(!$m(this))throw new TypeError("invalid receiver");return new Gb(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(e){if(!$m(this))throw new TypeError("invalid receiver");const t=Sy(e),r=gg(t,NA),i=gg(t,UA),n=gg(t,jA),o=gg(t,JA);return Uy(r,i,n,gg(this,LA),gg(this,qA),gg(this,KA),gg(this,HA),gg(this,GA),gg(this,zA),o)}toZonedDateTime(e){if(!$m(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid argument");const t=e.plainDate;if(void 0===t)throw new TypeError("missing date property");const r=Sy(t),i=e.timeZone;if(void 0===i)throw new TypeError("missing timeZone property");const n=bI(i),o=gg(r,NA),s=gg(r,UA),a=gg(r,jA),c=gg(r,JA),u=gg(this,LA),h=gg(this,qA),d=gg(this,KA),l=gg(this,HA),f=gg(this,GA),p=gg(this,zA);return Gy(gg(kI(n,new(xA("%Temporal.PlainDateTime%"))(o,s,a,u,h,d,l,f,p,c),"compatible"),OA),n,c)}getISOFields(){if(!$m(this))throw new TypeError("invalid receiver");return{isoHour:gg(this,LA),isoMicrosecond:gg(this,GA),isoMillisecond:gg(this,HA),isoMinute:gg(this,qA),isoNanosecond:gg(this,zA),isoSecond:gg(this,KA)}}static from(e,t){const r=hy(mb(t));return $m(e)?new cE(gg(e,LA),gg(e,qA),gg(e,KA),gg(e,HA),gg(e,GA),gg(e,zA)):Py(e,r)}static compare(e,t){const r=Py(e),i=Py(t);for(const e of[LA,qA,KA,HA,GA,zA]){const t=gg(r,e),n=gg(i,e);if(t!==n)return gb(t-n)}return 0}}MA(cE,"Temporal.PlainTime");class uE{constructor(e){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const t=GI(e);pg(this),mg(this,TA,t)}get id(){if(!zm(this))throw new TypeError("invalid receiver");return gg(this,TA)}getOffsetNanosecondsFor(e){if(!zm(this))throw new TypeError("invalid receiver");const t=ky(e),r=gg(this,TA);return KI(r)?HI(r):zI(r,gg(t,OA))}getOffsetStringFor(e){if(!zm(this))throw new TypeError("invalid receiver");return QI(this,ky(e))}getPlainDateTimeFor(e,t="iso8601"){if(!zm(this))throw new TypeError("invalid receiver");return DI(this,ky(e),dI(t))}getInstantFor(e,t){if(!zm(this))throw new TypeError("invalid receiver");return kI(this,Qy(e),dy(mb(t)))}getPossibleInstantsFor(e){if(!zm(this))throw new TypeError("invalid receiver");const t=Qy(e),r=xA("%Temporal.Instant%"),i=gg(this,TA);if(KI(i)){const e=VI(gg(t,NA),gg(t,UA),gg(t,jA),gg(t,LA),gg(t,qA),gg(t,KA),gg(t,HA),gg(t,GA),gg(t,zA));if(null===e)throw new RangeError("DateTime outside of supported range");const n=HI(i);return[new r(DA.subtract(e,DA.BigInt(n)))]}const n=function(e,t,r,i,n,o,s,a,c,u){const h=VI(t,r,i,n,o,s,a,c,u);if(null===h)throw new RangeError("DateTime outside of supported range");let d=DA.subtract(h,um);DA.lessThan(d,hm)&&(d=h);let l=DA.add(h,um);DA.greaterThan(l,dm)&&(l=h);const f=zI(e,d),p=zI(e,l);return(f===p?[f]:[f,p]).map((d=>{const l=DA.subtract(h,DA.BigInt(d)),f=WI(e,l);if(t===f.year&&r===f.month&&i===f.day&&n===f.hour&&o===f.minute&&s===f.second&&a===f.millisecond&&c===f.microsecond&&u===f.nanosecond)return l})).filter((e=>void 0!==e))}(i,gg(t,NA),gg(t,UA),gg(t,jA),gg(t,LA),gg(t,qA),gg(t,KA),gg(t,HA),gg(t,GA),gg(t,zA));return n.map((e=>new r(e)))}getNextTransition(e){if(!zm(this))throw new TypeError("invalid receiver");const t=ky(e),r=gg(this,TA);if(KI(r)||"UTC"===r)return null;let i=gg(t,OA);const n=xA("%Temporal.Instant%");return i=ew(r,i),null===i?null:new n(i)}getPreviousTransition(e){if(!zm(this))throw new TypeError("invalid receiver");const t=ky(e),r=gg(this,TA);if(KI(r)||"UTC"===r)return null;let i=gg(t,OA);const n=xA("%Temporal.Instant%");return i=tw(r,i),null===i?null:new n(i)}toString(){if(!zm(this))throw new TypeError("invalid receiver");return gg(this,TA)}toJSON(){if(!zm(this))throw new TypeError("invalid receiver");return gg(this,TA)}static from(e){return EI(bI(e))}}MA(uE,"Temporal.TimeZone"),PA("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",uE.prototype.getOffsetNanosecondsFor),PA("Temporal.TimeZone.prototype.getPossibleInstantsFor",uE.prototype.getPossibleInstantsFor);const hE=Object.create;class dE{constructor(e,t,r="iso8601",i=1){qy(this,_m(e),_m(t),dI(r),_m(i))}get year(){if(!Zm(this))throw new TypeError("invalid receiver");return $y(gg(this,JA),this)}get month(){if(!Zm(this))throw new TypeError("invalid receiver");return Wy(gg(this,JA),this)}get monthCode(){if(!Zm(this))throw new TypeError("invalid receiver");return Zy(gg(this,JA),this)}get calendarId(){if(!Zm(this))throw new TypeError("invalid receiver");return fI(gg(this,JA))}get era(){if(!Zm(this))throw new TypeError("invalid receiver");return eI(gg(this,JA),this)}get eraYear(){if(!Zm(this))throw new TypeError("invalid receiver");return tI(gg(this,JA),this)}get daysInMonth(){if(!Zm(this))throw new TypeError("invalid receiver");return aI(gg(this,JA),this)}get daysInYear(){if(!Zm(this))throw new TypeError("invalid receiver");return cI(gg(this,JA),this)}get monthsInYear(){if(!Zm(this))throw new TypeError("invalid receiver");return uI(gg(this,JA),this)}get inLeapYear(){if(!Zm(this))throw new TypeError("invalid receiver");return hI(gg(this,JA),this)}with(e,t){if(!Zm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid argument");ty(e);const r=mb(t),i=gg(this,JA),n=zy(i,["month","monthCode","year"]);let o=Cy(this,n,[]);return o=Jy(i,o,Cy(e,n,"partial")),o=Cy(o,n,[]),II(i,o,r)}add(e,t){if(!Zm(this))throw new TypeError("invalid receiver");return Ww("add",this,e,t)}subtract(e,t){if(!Zm(this))throw new TypeError("invalid receiver");return Ww("subtract",this,e,t)}until(e,t){if(!Zm(this))throw new TypeError("invalid receiver");return Uw("until",this,e,t)}since(e,t){if(!Zm(this))throw new TypeError("invalid receiver");return Uw("since",this,e,t)}equals(e){if(!Zm(this))throw new TypeError("invalid receiver");const t=xy(e);for(const e of[NA,UA,jA])if(gg(this,e)!==gg(t,e))return!1;return AI(gg(this,JA),gg(t,JA))}toString(e){if(!Zm(this))throw new TypeError("invalid receiver");return LI(this,py(mb(e)))}toJSON(){if(!Zm(this))throw new TypeError("invalid receiver");return LI(this)}toLocaleString(e,t){if(!Zm(this))throw new TypeError("invalid receiver");return new Gb(e,t).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(e){if(!Zm(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("argument should be an object");const t=gg(this,JA),r=zy(t,["monthCode","year"]),i=Cy(this,r,[]),n=zy(t,["day"]);let o=Jy(t,i,Cy(e,n,[]));o=Cy(o,[...new Set([...r,...n])],[]);const s=hE(null);return s.overflow="reject",yI(t,o,s)}getISOFields(){if(!Zm(this))throw new TypeError("invalid receiver");return{calendar:gg(this,JA),isoDay:gg(this,jA),isoMonth:gg(this,UA),isoYear:gg(this,NA)}}getCalendar(){if(!Zm(this))throw new TypeError("invalid receiver");return pI(gg(this,JA))}static from(e,t){const r=mb(t);return Zm(e)?(hy(r),Ky(gg(e,NA),gg(e,UA),gg(e,JA),gg(e,jA))):xy(e,r)}static compare(e,t){const r=xy(e),i=xy(t);return cb(gg(r,NA),gg(r,UA),gg(r,jA),gg(i,NA),gg(i,UA),gg(i,jA))}}MA(dE,"Temporal.PlainYearMonth");const lE=Gb.prototype.resolvedOptions,fE=Object.create;class pE{constructor(e,t,r="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");Hy(this,fb(e),bI(t),dI(r))}get calendarId(){if(!ey(this))throw new TypeError("invalid receiver");return fI(gg(this,JA))}get timeZoneId(){if(!ey(this))throw new TypeError("invalid receiver");return vI(gg(this,ZA))}get year(){if(!ey(this))throw new TypeError("invalid receiver");return $y(gg(this,JA),AE(this))}get month(){if(!ey(this))throw new TypeError("invalid receiver");return Wy(gg(this,JA),AE(this))}get monthCode(){if(!ey(this))throw new TypeError("invalid receiver");return Zy(gg(this,JA),AE(this))}get day(){if(!ey(this))throw new TypeError("invalid receiver");return Xy(gg(this,JA),AE(this))}get hour(){if(!ey(this))throw new TypeError("invalid receiver");return gg(AE(this),LA)}get minute(){if(!ey(this))throw new TypeError("invalid receiver");return gg(AE(this),qA)}get second(){if(!ey(this))throw new TypeError("invalid receiver");return gg(AE(this),KA)}get millisecond(){if(!ey(this))throw new TypeError("invalid receiver");return gg(AE(this),HA)}get microsecond(){if(!ey(this))throw new TypeError("invalid receiver");return gg(AE(this),GA)}get nanosecond(){if(!ey(this))throw new TypeError("invalid receiver");return gg(AE(this),zA)}get era(){if(!ey(this))throw new TypeError("invalid receiver");return eI(gg(this,JA),AE(this))}get eraYear(){if(!ey(this))throw new TypeError("invalid receiver");return tI(gg(this,JA),AE(this))}get epochSeconds(){if(!ey(this))throw new TypeError("invalid receiver");const e=gg(this,OA);return DA.toNumber(hb(e,om))}get epochMilliseconds(){if(!ey(this))throw new TypeError("invalid receiver");const e=gg(this,OA);return DA.toNumber(hb(e,nm))}get epochMicroseconds(){if(!ey(this))throw new TypeError("invalid receiver");return lb(hb(gg(this,OA),im))}get epochNanoseconds(){if(!ey(this))throw new TypeError("invalid receiver");return lb(gg(this,OA))}get dayOfWeek(){if(!ey(this))throw new TypeError("invalid receiver");return rI(gg(this,JA),AE(this))}get dayOfYear(){if(!ey(this))throw new TypeError("invalid receiver");return iI(gg(this,JA),AE(this))}get weekOfYear(){if(!ey(this))throw new TypeError("invalid receiver");return nI(gg(this,JA),AE(this))}get yearOfWeek(){if(!ey(this))throw new TypeError("invalid receiver");return oI(gg(this,JA),AE(this))}get hoursInDay(){if(!ey(this))throw new TypeError("invalid receiver");const e=AE(this),t=xA("%Temporal.PlainDateTime%"),r=gg(e,NA),i=gg(e,UA),n=gg(e,jA),o=new t(r,i,n,0,0,0,0,0,0),s=Lw(r,i,n,0,0,0,1,"reject"),a=new t(s.year,s.month,s.day,0,0,0,0,0,0),c=gg(this,ZA),u=gg(kI(c,o,"compatible"),OA),h=gg(kI(c,a,"compatible"),OA);return db(DA.subtract(h,u),am)}get daysInWeek(){if(!ey(this))throw new TypeError("invalid receiver");return sI(gg(this,JA),AE(this))}get daysInMonth(){if(!ey(this))throw new TypeError("invalid receiver");return aI(gg(this,JA),AE(this))}get daysInYear(){if(!ey(this))throw new TypeError("invalid receiver");return cI(gg(this,JA),AE(this))}get monthsInYear(){if(!ey(this))throw new TypeError("invalid receiver");return uI(gg(this,JA),AE(this))}get inLeapYear(){if(!ey(this))throw new TypeError("invalid receiver");return hI(gg(this,JA),AE(this))}get offset(){if(!ey(this))throw new TypeError("invalid receiver");return QI(gg(this,ZA),gg(this,WA))}get offsetNanoseconds(){if(!ey(this))throw new TypeError("invalid receiver");return _I(gg(this,ZA),gg(this,WA))}with(e,t){if(!ey(this))throw new TypeError("invalid receiver");if(!vm(e))throw new TypeError("invalid zoned-date-time-like");ty(e);const r=mb(t),i=gg(this,JA);let n=zy(i,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);n.push("offset");let o=Cy(this,n,["offset"]);o=Jy(i,o,Cy(e,n,"partial")),o=Cy(o,n,["offset"]);const s=dy(r),a=fy(r,"prefer");let{year:c,month:u,day:h,hour:d,minute:l,second:f,millisecond:p,microsecond:A,nanosecond:g}=_y(i,o,r);const m=HI(o.offset),y=gg(this,ZA);return Gy(Fy(c,u,h,d,l,f,p,A,g,"option",m,y,s,a,!1),y,i)}withPlainDate(e){if(!ey(this))throw new TypeError("invalid receiver");const t=Sy(e),r=gg(t,NA),i=gg(t,UA),n=gg(t,jA);let o=gg(t,JA);const s=AE(this),a=gg(s,LA),c=gg(s,qA),u=gg(s,KA),h=gg(s,HA),d=gg(s,GA),l=gg(s,zA);o=mI(gg(this,JA),o);const f=gg(this,ZA);return Gy(gg(kI(f,new(xA("%Temporal.PlainDateTime%"))(r,i,n,a,c,u,h,d,l,o),"compatible"),OA),f,o)}withPlainTime(e){if(!ey(this))throw new TypeError("invalid receiver");const t=xA("%Temporal.PlainTime%"),r=void 0===e?new t:Py(e),i=AE(this),n=gg(i,NA),o=gg(i,UA),s=gg(i,jA),a=gg(this,JA),c=gg(r,LA),u=gg(r,qA),h=gg(r,KA),d=gg(r,HA),l=gg(r,GA),f=gg(r,zA),p=gg(this,ZA);return Gy(gg(kI(p,new(xA("%Temporal.PlainDateTime%"))(n,o,s,c,u,h,d,l,f,a),"compatible"),OA),p,a)}withTimeZone(e){if(!ey(this))throw new TypeError("invalid receiver");const t=bI(e);return Gy(gg(this,OA),t,gg(this,JA))}withCalendar(e){if(!ey(this))throw new TypeError("invalid receiver");const t=dI(e);return Gy(gg(this,OA),gg(this,ZA),t)}add(e,t){if(!ey(this))throw new TypeError("invalid receiver");return Zw("add",this,e,t)}subtract(e,t){if(!ey(this))throw new TypeError("invalid receiver");return Zw("subtract",this,e,t)}until(e,t){if(!ey(this))throw new TypeError("invalid receiver");return jw("until",this,e,t)}since(e,t){if(!ey(this))throw new TypeError("invalid receiver");return jw("since",this,e,t)}round(e){if(!ey(this))throw new TypeError("invalid receiver");if(void 0===e)throw new TypeError("options parameter is required");const t="string"==typeof e?yb("smallestUnit",e):mb(e),r=Ay(t),i=ly(t,"halfExpand"),n=wy(t,"smallestUnit","time",Iy,["day"]),o={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[n];gy(r,o,1===o);const s=AE(this);let a=gg(s,NA),c=gg(s,UA),u=gg(s,jA),h=gg(s,LA),d=gg(s,qA),l=gg(s,KA),f=gg(s,HA),p=gg(s,GA),A=gg(s,zA);const g=xA("%Temporal.PlainDateTime%"),m=gg(this,ZA),y=gg(this,JA),I=kI(m,new g(gg(s,NA),gg(s,UA),gg(s,jA),0,0,0,0,0,0),"compatible"),w=zw(I,m,y,0,0,0,1,0,0,0,0,0,0),b=DA.subtract(w,DA.BigInt(gg(I,OA)));if(DA.lessThanOrEqual(b,Xg))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:a,month:c,day:u,hour:h,minute:d,second:l,millisecond:f,microsecond:p,nanosecond:A}=tb(a,c,u,h,d,l,f,p,A,r,n,i,DA.toNumber(b))),Gy(Fy(a,c,u,h,d,l,f,p,A,"option",_I(m,gg(this,WA)),m,"compatible","prefer",!1),m,gg(this,JA))}equals(e){if(!ey(this))throw new TypeError("invalid receiver");const t=Ry(e),r=gg(this,OA),i=gg(t,OA);return!!DA.equal(DA.BigInt(r),DA.BigInt(i))&&!!CI(gg(this,ZA),gg(t,ZA))&&AI(gg(this,JA),gg(t,JA))}toString(e){if(!ey(this))throw new TypeError("invalid receiver");const t=mb(e),r=py(t),i=my(t),n=function(e){return wb(e,"offset",["auto","never"],"auto")}(t),o=ly(t,"trunc"),s=wy(t,"smallestUnit","time",void 0);if("hour"===s)throw new RangeError('smallestUnit must be a time unit other than "hour"');const a=function(e){return wb(e,"timeZoneName",["auto","never","critical"],"auto")}(t),{precision:c,unit:u,increment:h}=yy(s,i);return qI(this,c,r,a,n,{unit:u,increment:h,roundingMode:o})}toLocaleString(e,t){if(!ey(this))throw new TypeError("invalid receiver");const r=mb(t),i=fE(null);if(Hm(i,r,["timeZone"]),void 0!==r.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===i.year&&void 0===i.month&&void 0===i.day&&void 0===i.weekday&&void 0===i.dateStyle&&void 0===i.hour&&void 0===i.minute&&void 0===i.second&&void 0===i.timeStyle&&void 0===i.dayPeriod&&void 0===i.timeZoneName&&(i.timeZoneName="short");let n=vI(gg(this,ZA));if(KI(n))throw new RangeError("toLocaleString does not support offset string time zones");n=GI(n),i.timeZone=n;const o=new Gb(e,i),s=bm(lE,o,[]).calendar,a=fI(gg(this,JA));if("iso8601"!==a&&"iso8601"!==s&&s!==a)throw new RangeError(`cannot format ZonedDateTime with calendar ${a} in locale with calendar ${s}`);return o.format(gg(this,WA))}toJSON(){if(!ey(this))throw new TypeError("invalid receiver");return qI(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!ey(this))throw new TypeError("invalid receiver");const e=AE(this),t=xA("%Temporal.PlainDateTime%"),r=gg(this,JA),i=new t(gg(e,NA),gg(e,UA),gg(e,jA),0,0,0,0,0,0,r),n=gg(this,ZA);return Gy(gg(kI(n,i,"compatible"),OA),n,r)}toInstant(){if(!ey(this))throw new TypeError("invalid receiver");return new(xA("%Temporal.Instant%"))(gg(this,OA))}toPlainDate(){if(!ey(this))throw new TypeError("invalid receiver");return BI(AE(this))}toPlainTime(){if(!ey(this))throw new TypeError("invalid receiver");return SI(AE(this))}toPlainDateTime(){if(!ey(this))throw new TypeError("invalid receiver");return AE(this)}toPlainYearMonth(){if(!ey(this))throw new TypeError("invalid receiver");const e=gg(this,JA);return II(e,Cy(this,zy(e,["monthCode","year"]),[]))}toPlainMonthDay(){if(!ey(this))throw new TypeError("invalid receiver");const e=gg(this,JA);return wI(e,Cy(this,zy(e,["day","monthCode"]),[]))}getISOFields(){if(!ey(this))throw new TypeError("invalid receiver");const e=AE(this),t=gg(this,ZA);return{calendar:gg(this,JA),isoDay:gg(e,jA),isoHour:gg(e,LA),isoMicrosecond:gg(e,GA),isoMillisecond:gg(e,HA),isoMinute:gg(e,qA),isoMonth:gg(e,UA),isoNanosecond:gg(e,zA),isoSecond:gg(e,KA),isoYear:gg(e,NA),offset:QI(t,gg(this,WA)),timeZone:t}}getCalendar(){if(!ey(this))throw new TypeError("invalid receiver");return pI(gg(this,JA))}getTimeZone(){if(!ey(this))throw new TypeError("invalid receiver");return EI(gg(this,ZA))}static from(e,t){const r=mb(t);return ey(e)?(dy(r),fy(r,"reject"),hy(r),Gy(gg(e,OA),gg(e,ZA),gg(e,JA))):Ry(e,r)}static compare(e,t){const r=Ry(e),i=Ry(t),n=gg(r,OA),o=gg(i,OA);return DA.lessThan(DA.BigInt(n),DA.BigInt(o))?-1:DA.greaterThan(DA.BigInt(n),DA.BigInt(o))?1:0}}function AE(e){return DI(gg(e,ZA),gg(e,WA),gg(e,JA))}MA(pE,"Temporal.ZonedDateTime");var gE=Object.freeze({__proto__:null,Calendar:yv,Duration:Zv,Instant:nv,Now:oE,PlainDate:$v,PlainDateTime:Wv,PlainMonthDay:eE,PlainTime:cE,PlainYearMonth:dE,TimeZone:uE,ZonedDateTime:pE});const mE=[nv,yv,$v,Wv,Zv,eE,cE,uE,dE,pE];for(const e of mE){const t=Object.getOwnPropertyDescriptor(e,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(e,"prototype",t))}function yE(e){return new Promise((t=>setTimeout(t,e)))}function IE(){return gE.Now.instant().toString({smallestUnit:"microseconds"})}const wE=new TextEncoder,bE=new TextDecoder;class vE{static base64UrlToBytes(e){return W.baseDecode(e)}static base64UrlToObject(e){const t=W.baseDecode(e),r=vE.bytesToString(t);return JSON.parse(r)}static bytesToBase64Url(e){return W.baseEncode(e)}static bytesToString(e){return bE.decode(e)}static objectToBytes(e){const t=JSON.stringify(e);return wE.encode(t)}static stringToBase64Url(e){const t=wE.encode(e);return W.baseEncode(t)}static stringToBytes(e){return wE.encode(e)}}var EE=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class CE{constructor(e){this.jws=e}static create(e,t=[]){return EE(this,void 0,void 0,(function*(){const r={payload:vE.bytesToBase64Url(e),signatures:[]},i=new CE(r);for(const e of t)yield i.addSignature(e);return i}))}addSignature(e){return EE(this,void 0,void 0,(function*(){const t={kid:e.keyId,alg:e.algorithm},r=JSON.stringify(t),i=vE.stringToBase64Url(r),n=`${i}.${this.jws.payload}`,o=vE.stringToBytes(n),s=yield e.sign(o),a=vE.bytesToBase64Url(s);this.jws.signatures.push({protected:i,signature:a})}))}getJws(){return this.jws}}var BE=n(68630),SE=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function _E(e){if("OKP"!==e.kty||"Ed25519"!==e.crv)throw new Error("invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function QE(e){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:vE.bytesToBase64Url(e)}}const DE={sign:(e,t)=>SE(void 0,void 0,void 0,(function*(){_E(t);const r=bs.bytesToHex(e),i=vE.base64UrlToBytes(t.d);return(async(e,t)=>{const r=$o(e),i=await ys(t);return Is(!0,((e,t,r)=>{const{pointBytes:i,scalar:n}=e,o=fs(t),s=ts.mul(o).toRawBytes();return{hashable:cs(s,i,r),finish:e=>{const t=Wo(o+fs(e)*n,qo);return Yo(cs(s,ss(t)),64)}}})(i,await As(i.prefix,r),r))})(r,bs.bytesToHex(i))})),verify:(e,t,r)=>SE(void 0,void 0,void 0,(function*(){_E(r);const i=vE.base64UrlToBytes(r.x);return(async(e,t,r)=>Is(!0,((e,t,r)=>{t=$o(t),e=$o(e,64);const i=es.fromHex(r,!1),n=es.fromHex(e.slice(0,32),!1),o=as(e.slice(32,64)),s=ts.mul(o,!1);return{hashable:cs(n.toRawBytes(),i.toRawBytes(),t),finish:e=>{const t=fs(e);return n.add(i.mul(t,!1)).add(s.negate()).clearCofactor().is0()}}})(e,t,r)))(t,e,i)})),generateKeyPair:()=>SE(void 0,void 0,void 0,(function*(){const e=vs(),t=bs.bytesToHex(e),r=yield(i=t,ys(i).then((e=>e.pointBytes)));var i;const n=vE.bytesToBase64Url(e),o=QE(r);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:n})}})),publicKeyToJwk:e=>SE(void 0,void 0,void 0,(function*(){return QE(e)}))};class kE extends Error{constructor(e,t){super(`${e}: ${t}`),this.code=e,this.name="DwnError"}}var ME;!function(e){e.AuthenticateJwsMissing="AuthenticateJwsMissing",e.AuthorizationUnknownAuthor="AuthorizationUnknownAuthor",e.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",e.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",e.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",e.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",e.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",e.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",e.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",e.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",e.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",e.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",e.PermissionsGrantGrantedByMismatch="PermissionsGrantGrantedByMismatch",e.PermissionsGrantScopeContextIdAndProtocolPath="PermissionsGrantScopeContextIdAndProtocolPath",e.PermissionsGrantScopeSchemaProhibitedFields="PermissionsGrantScopeSchemaProhibitedFields",e.PermissionsGrantUnauthorizedGrant="PermissionsGrantUnauthorizedGrant",e.PermissionsRevokeMissingPermissionsGrant="PermissionsRevokeMissingPermissionsGrant",e.PermissionsRevokeUnauthorizedRevoke="PermissionsRevokeUnauthorizedRevoke",e.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",e.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",e.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",e.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",e.ProtocolAuthorizationDuplicateContextRoleRecipient="ProtocolAuthorizationDuplicateContextRoleRecipient",e.ProtocolAuthorizationDuplicateGlobalRoleRecipient="ProtocolAuthorizationDuplicateGlobalRoleRecipient",e.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",e.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",e.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",e.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",e.ProtocolAuthorizationMissingRole="ProtocolAuthorizationMissingRole",e.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",e.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",e.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",e.ProtocolsConfigureContextRoleAtProhibitedProtocolPath="ProtocolsConfigureContextRoleAtProhibitedProtocolPath",e.ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath="ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath",e.ProtocolsConfigureInvalidRole="ProtocolsConfigureInvalidRole",e.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",e.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",e.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",e.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",e.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",e.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",e.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",e.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",e.RecordsGrantAuthorizationScopeNotProtocol="RecordsGrantAuthorizationScopeNotProtocol",e.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",e.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",e.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",e.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",e.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",e.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",e.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",e.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",e.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",e.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",e.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",e.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",e.RecordsWriteMissingAuthorizationSigner="RecordsWriteMissingAuthorizationSigner",e.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",e.RecordsWriteMissingDataAssociation="RecordsWriteMissingDataAssociation",e.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",e.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",e.RecordsWriteMissingSchema="RecordsWriteMissingSchema",e.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",e.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",e.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",e.Secp256k1KeyNotValid="Secp256k1KeyNotValid",e.UrlProtocolNotNormalized="UrlProtocolNotNormalized",e.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",e.UrlSchemaNotNormalized="UrlSchemaNotNormalized",e.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable"}(ME||(ME={}));var PE=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class xE{static validateKey(e){if("EC"!==e.kty||"secp256k1"!==e.crv)throw new kE(ME.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(e){return PE(this,void 0,void 0,(function*(){let t;if(33===e.byteLength){const r=pa.bytesToHex(e);t=Ks.fromHex(r).toRawBytes(!1)}else t=e;return{alg:"ES256K",kty:"EC",crv:"secp256k1",x:vE.bytesToBase64Url(t.subarray(1,33)),y:vE.bytesToBase64Url(t.subarray(33,65))}}))}static privateKeyToJwk(e){return PE(this,void 0,void 0,(function*(){const t=yield xE.getPublicKey(e),r=yield xE.publicKeyToJwk(t);return r.d=vE.bytesToBase64Url(e),r}))}static publicJwkToBytes(e){const t=vE.base64UrlToBytes(e.x),r=vE.base64UrlToBytes(e.y);return new Uint8Array([4,...t,...r])}static privateJwkToBytes(e){return vE.base64UrlToBytes(e.d)}static sign(e,t){return PE(this,void 0,void 0,(function*(){xE.validateKey(t);const r=yield Zf.encode(e),i=pa.bytesToHex(r),n=xE.privateJwkToBytes(t),o=pa.bytesToHex(n);return(yield async function(e,t,r=da){const{seed:i,k2sig:n}=function(e,t,r=da){["der","recovered","canonical"].some((e=>e in r))&&Ps("sign() legacy options not supported");let{lowS:i}=r;null==i&&(i=!0);const n=aa(Us(e)),o=ca(n),s=ra(t),a=[ca(s),o];let c=r.extraEntropy;if(c){!0===c&&(c=pa.randomBytes(ks));const e=Us(c);e.length!==ks&&Ps(),a.push(e)}const u=n;return{seed:Xs(...a),k2sig:e=>{const t=sa(e);if(!Os(t))return;const r=ea(t,Ss),n=Hs.mul(t).aff(),o=js(n.x,Ss);if(0n===o)return;const a=js(r*js(u+js(s*o,Ss),Ss),Ss);if(0n===a)return;let c=a,h=(n.x===o?0:2)|Number(1n&n.y);return i&&ia(a)&&(c=js(-a,Ss),h^=1),new oa(o,c,h)}}}(e,t,r);return function(e){let t=Ns(ks),r=Ns(ks),i=0;const n=()=>{t.fill(1),r.fill(0),i=0},o="drbg: tried 1000 values";if(e){const e=(...e)=>pa.hmacSha256Async(r,t,...e),s=async(i=Ns())=>{r=await e(Ns([0]),i),t=await e(),0!==i.length&&(r=await e(Ns([1]),i),t=await e())},a=async()=>(i++>=1e3&&Ps(o),t=await e(),t);return async(e,t)=>{let r;for(n(),await s(e);!(r=t(await a()));)await s();return n(),r}}{const e=(...e)=>{const i=ha;return i||Ps("etc.hmacSha256Sync not set"),i(r,t,...e)},s=(i=Ns())=>{r=e(Ns([0]),i),t=e(),0!==i.length&&(r=e(Ns([1]),i),t=e())},a=()=>(i++>=1e3&&Ps(o),t=e(),t);return(e,t)=>{let r;for(n(),s(e);!(r=t(a()));)s();return n(),r}}}(!0)(i,n)}(i,o)).toCompactRawBytes()}))}static verify(e,t,r){return PE(this,void 0,void 0,(function*(){xE.validateKey(r);const i=xE.publicJwkToBytes(r),n=yield Zf.encode(e);return function(e,t,r,i=la){let n,o,s,{lowS:a}=i;null==a&&(a=!0),"strict"in i&&Ps("verify() legacy options not supported");const c=e&&"object"==typeof e&&"r"in e;c||64===Us(e).length||Ps("signature must be 64 bytes");try{n=c?new oa(e.r,e.s).assertValidity():oa.fromCompact(e),o=aa(Us(t,ks)),s=r instanceof Ks?r.ok():Ks.fromHex(r)}catch(e){return!1}if(!n)return!1;const{r:u,s:h}=n;if(a&&ia(h))return!1;let d;try{const e=ea(h,Ss),t=js(o*e,Ss),r=js(u*e,Ss);d=Hs.mulAddQUns(s,t,r).aff()}catch(e){return!1}return!!d&&js(d.x,Ss)===u}(t,n,i)}))}static generateKeyPair(){return PE(this,void 0,void 0,(function*(){const e=Aa(),t=na(e,!1),r=vE.bytesToBase64Url(e),i=yield xE.publicKeyToJwk(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:r})}}))}static generateKeyPairRaw(){return PE(this,void 0,void 0,(function*(){const e=Aa();return{publicKey:na(e,!1),privateKey:e}}))}static getPublicKey(e){return PE(this,void 0,void 0,(function*(){return na(e,!1)}))}static getPublicJwk(e){return PE(this,void 0,void 0,(function*(){const{d:t}=e;return function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(e,["d"])}))}static derivePublicKey(e,t){return PE(this,void 0,void 0,(function*(){xE.validateKeyDerivationPath(t);const r=yield xE.derivePrivateKey(e,t);return yield xE.getPublicKey(r)}))}static derivePrivateKey(e,t){return PE(this,void 0,void 0,(function*(){xE.validateKeyDerivationPath(t);let r=e;for(const e of t){const t=vE.stringToBytes(e);r=yield xE.deriveChildPrivateKey(r,t)}return r}))}static deriveChildPrivateKey(e,t){return PE(this,void 0,void 0,(function*(){const r=yield Zf.encode(e),i=yield Zf.encode(t),n=pa.concatBytes(r,i);return pa.hashToPrivateKey(n)}))}static validateKeyDerivationPath(e){if(e.includes(""))throw new kE(ME.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${e}`)}}const FE={Ed25519:DE,secp256k1:{sign:xE.sign,verify:xE.verify,generateKeyPair:xE.generateKeyPair,publicKeyToJwk:xE.publicKeyToJwk}};class RE{constructor(e){var t,r;if(void 0===e.keyId&&void 0===e.privateJwk.kid)throw new kE(ME.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===e.algorithm&&void 0===e.privateJwk.alg)throw new kE(ME.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(t=e.keyId)&&void 0!==t?t:e.privateJwk.kid,this.algorithm=null!==(r=e.algorithm)&&void 0!==r?r:e.privateJwk.alg,this.privateJwk=e.privateJwk,this.signatureAlgorithm=FE[e.privateJwk.crv],!this.signatureAlgorithm)throw new kE(ME.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${e.privateJwk.crv}, crv must be one of ${Object.keys(FE)}`)}sign(e){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return yield this.signatureAlgorithm.sign(e,this.privateJwk)}))}}class OE{static getKid(e){const{kid:t}=vE.base64UrlToObject(e.protected);return t}static getSignerDid(e){const t=OE.getKid(e);return OE.extractDid(t)}static verifySignature(e,t,r){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const i=FE[r.crv];if(!i)throw new Error(`unsupported crv. crv must be one of ${Object.keys(FE)}`);const n=vE.stringToBytes(`${t.protected}.${e}`),o=vE.base64UrlToBytes(t.signature);return yield i.verify(n,o,r)}))}static decodePlainObjectPayload(e){let t;try{t=vE.base64UrlToObject(e.payload)}catch(e){throw new Error("payload is not a JSON object")}if(!BE(t))throw new Error("signed payload must be a plain object");return t}static extractDid(e){const[t]=e.split("#");return t}static createSigners(e){return e.map((e=>OE.createSigner(e)))}static createSigner(e){const t=e.keyPair.privateJwk,r=e.keyId;return new RE({privateJwk:t,keyId:r})}}var TE=n(34444);function NE(e){const t=TE.flatten(e);return UE(t),t}function UE(e){Object.keys(e).forEach((t=>{"object"==typeof e[t]&&UE(e[t]),function(e){if("object"!=typeof e)return!1;for(const t in e)return!1;return!0}(e[t])&&delete e[t]}))}function jE(e){Object.keys(e).forEach((t=>{void 0===e[t]?delete e[t]:"object"==typeof e[t]&&jE(e[t])}))}const LE=HE,qE=new RegExp("^[A-Za-z0-9_-]+$","u");function KE(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return KE.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=0;for(const r in e)if("payload"!==r&&"signatures"!==r)return KE.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.payload){let r=e.payload;const i=0;if("string"!=typeof r)return KE.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qE.test(r))return KE.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var o=0===i}else o=!0;if(o)if(void 0!==e.signatures){let r=e.signatures;const i=0;if(0===i){if(!Array.isArray(r))return KE.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(r.length<1)return KE.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const e=r.length;for(let i=0;i<e;i++){let e=r[i];const n=0;if(0===n){if(!e||"object"!=typeof e||Array.isArray(e))return KE.errors=[{instancePath:t+"/signatures/"+i,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==e.protected){let r=e.protected;const n=0;if("string"!=typeof r)return KE.errors=[{instancePath:t+"/signatures/"+i+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qE.test(r))return KE.errors=[{instancePath:t+"/signatures/"+i+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var s=0===n}else s=!0;if(s)if(void 0!==e.signature){let r=e.signature;const n=0;if("string"!=typeof r)return KE.errors=[{instancePath:t+"/signatures/"+i+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qE.test(r))return KE.errors=[{instancePath:t+"/signatures/"+i+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;s=0===n}else s=!0}if(0!==n)break}}}o=0===i}else o=!0}}return KE.errors=null,!0}function HE(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return HE.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=s;for(const r in e)if("authorSignature"!==r)return HE.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;r===s&&void 0!==e.authorSignature&&(KE(e.authorSignature,{instancePath:t+"/authorSignature",parentData:e,parentDataProperty:"authorSignature",rootData:n})||(o=null===o?KE.errors:o.concat(KE.errors),s=o.length))}}return HE.errors=o,0===s}const GE=zE;function zE(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return zE.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=s;for(const r in e)if("authorSignature"!==r&&"ownerSignature"!==r)return zE.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){let r;if(void 0!==e.ownerSignature&&void 0===e.authorSignature&&(r="authorSignature"))return zE.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:r,depsCount:1,deps:"authorSignature"},message:"must have property authorSignature when property ownerSignature is present"}],!1;if(void 0!==e.authorSignature){const r=s;KE(e.authorSignature,{instancePath:t+"/authorSignature",parentData:e,parentDataProperty:"authorSignature",rootData:n})||(o=null===o?KE.errors:o.concat(KE.errors),s=o.length);var a=r===s}else a=!0;if(a)if(void 0!==e.ownerSignature){const r=s;KE(e.ownerSignature,{instancePath:t+"/ownerSignature",parentData:e,parentDataProperty:"ownerSignature",rootData:n})||(o=null===o?KE.errors:o.concat(KE.errors),s=o.length),a=r===s}else a=!0}}}return zE.errors=o,0===s}const JE=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.authorization&&(i="authorization")||void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp")||void 0===i.recordId&&(t="recordId"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if("interface"!==t&&"method"!==t&&"messageTimestamp"!==t&&"recordId"!==t)return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:YE.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:YE.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.messageTimestamp){const t=a;if("string"!=typeof i.messageTimestamp)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u)if(void 0!==i.recordId){const t=a;if("string"!=typeof i.recordId)return e.errors=[{instancePath:r+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},YE={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{type:"string"},recordId:{type:"string"}}}}},VE=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp")||void 0===i.filter&&(t="filter"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if("interface"!==t&&"method"!==t&&"messageTimestamp"!==t&&"filter"!==t&&"pagination"!==t&&"dateSort"!==t)return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:$E.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:$E.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.messageTimestamp){let t=i.messageTimestamp;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(t))return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}u=n===a}else u=!0;if(u){if(void 0!==i.filter){const e=a;tC(i.filter,{instancePath:r+"/descriptor/filter",parentData:i,parentDataProperty:"filter",rootData:o})||(s=null===s?tC.errors:s.concat(tC.errors),a=s.length),u=e===a}else u=!0;if(u){if(void 0!==i.pagination){let t=i.pagination;const n=a;if(a===n){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const i=a;for(const i in t)if("limit"!==i&&"messageCid"!==i)return e.errors=[{instancePath:r+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.limit){let i=t.limit;const n=a;if(a===n){if("number"!=typeof i||!isFinite(i))return e.errors=[{instancePath:r+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(i<1||isNaN(i))return e.errors=[{instancePath:r+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var h=n===a}else h=!0;if(h)if(void 0!==t.messageCid){const i=a;if("string"!=typeof t.messageCid)return e.errors=[{instancePath:r+"/descriptor/pagination/messageCid",schemaPath:"#/properties/descriptor/properties/pagination/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=i===a}else h=!0}}}u=n===a}else u=!0;if(u)if(void 0!==i.dateSort){let t=i.dateSort;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==t&&"createdDescending"!==t&&"publishedAscending"!==t&&"publishedDescending"!==t)return e.errors=[{instancePath:r+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:$E.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0}}}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},$E={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},messageCid:{type:"string"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},WE={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"}}}}},ZE=Object.prototype.hasOwnProperty,XE=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),eC=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u");function tC(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return tC.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(e).length<1)return tC.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const r=0;for(const r in e)if(!ZE.call(WE.properties,r))return tC.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(0===r){if(void 0!==e.protocol){const r=0;if("string"!=typeof e.protocol)return tC.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var o=0===r}else o=!0;if(o){if(void 0!==e.protocolPath){const r=0;if("string"!=typeof e.protocolPath)return tC.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.attester){let r=e.attester;const i=0;if("string"!=typeof r)return tC.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(r))return tC.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1;o=0===i}else o=!0;if(o){if(void 0!==e.recipient){let r=e.recipient;const i=0;if("string"!=typeof r)return tC.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(r))return tC.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1;o=0===i}else o=!0;if(o){if(void 0!==e.contextId){const r=0;if("string"!=typeof e.contextId)return tC.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.schema){const r=0;if("string"!=typeof e.schema)return tC.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.recordId){const r=0;if("string"!=typeof e.recordId)return tC.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.parentId){const r=0;if("string"!=typeof e.parentId)return tC.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o){if(void 0!==e.dataFormat){const r=0;if("string"!=typeof e.dataFormat)return tC.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;o=0===r}else o=!0;if(o)if(void 0!==e.dateCreated){let r=e.dateCreated;const i=0;if(0===i){if(!r||"object"!=typeof r||Array.isArray(r))return tC.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return tC.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const e=0;for(const e in r)if("from"!==e&&"to"!==e)return tC.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(0===e){if(void 0!==r.from){let e=r.from;const i=0;if("string"!=typeof e)return tC.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(e))return tC.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;var s=0===i}else s=!0;if(s)if(void 0!==r.to){let e=r.to;const i=0;if("string"!=typeof e)return tC.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(e))return tC.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;s=0===i}else s=!0}}}o=0===i}else o=!0}}}}}}}}}}return tC.errors=null,!0}const rC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(aC(t,{instancePath:r,parentData:i,parentDataProperty:n,rootData:o})){if(a==a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/allOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.recordId&&(i="recordId")||void 0===t.authorization&&(i="authorization"))return e.errors=[{instancePath:r,schemaPath:"#/allOf/0/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1}}}else s=null===s?aC.errors:s.concat(aC.errors),a=s.length;return e.errors=s,0===a},iC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath","schema"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},nC={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function oC(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;const a=s,c=s;let u=!1,h=null;const d=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.crv&&(r="crv")||void 0===e.x&&(r="x")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){const r=s;if("EC"!==e.kty){const e={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var l=r===s}else l=!0;if(l){if(void 0!==e.crv){const r=s;if("string"!=typeof e.crv){const e={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}l=r===s}else l=!0;if(l){if(void 0!==e.x){const r=s;if("string"!=typeof e.x){const e={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}l=r===s}else l=!0;if(l){if(void 0!==e.y){const r=s;if("string"!=typeof e.y){const e={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}l=r===s}else l=!0;if(l)if(void 0!==e.d){const r=s;if("string"!=typeof e.d){const e={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}l=r===s}else l=!0}}}}}(m=d===s)&&(u=!0,h=0);const f=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.crv&&(r="crv")||void 0===e.x&&(r="x")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){const r=s;if("OKP"!==e.kty){const e={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var p=r===s}else p=!0;if(p){if(void 0!==e.crv){const r=s;if("string"!=typeof e.crv){const e={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p){if(void 0!==e.x){const r=s;if("string"!=typeof e.x){const e={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p)if(void 0!==e.d){const r=s;if("string"!=typeof e.d){const e={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0}}}}if((m=f===s)&&u)u=!1,h=[h,1];else{m&&(u=!0,h=1);const r=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.n&&(r="n")||void 0===e.e&&(r="e")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){const r=s;if("RSA"!==e.kty){const e={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var A=r===s}else A=!0;if(A){if(void 0!==e.n){const r=s;if("string"!=typeof e.n){const e={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.e){const r=s;if("string"!=typeof e.e){const e={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.d){const r=s;if("string"!=typeof e.d){const e={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.p){const r=s;if("string"!=typeof e.p){const e={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.q){const r=s;if("string"!=typeof e.q){const e={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.dp){const r=s;if("string"!=typeof e.dp){const e={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.dq){const r=s;if("string"!=typeof e.dq){const e={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.qi){const r=s;if("string"!=typeof e.qi){const e={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A)if(void 0!==e.oth){let r=e.oth;const i=s;if(!r||"object"!=typeof r||Array.isArray(r)){const e={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}A=i===s}else A=!0}}}}}}}}}}if((m=r===s)&&u)u=!1,h=[h,2];else{m&&(u=!0,h=2);const r=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.k&&(r="k")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.kty){const r=s;if("oct"!==e.kty){const e={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var g=r===s}else g=!0;if(g)if(void 0!==e.k){const r=s;if("string"!=typeof e.k){const e={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}g=r===s}else g=!0}}var m;(m=r===s)&&u?(u=!1,h=[h,3]):m&&(u=!0,h=3)}}if(!u){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:h},message:"must match exactly one schema in oneOf"};return null===o?o=[e]:o.push(e),s++,oC.errors=o,!1}if(s=c,null!==o&&(c?o.length=c:o=null),s===a){if(!e||"object"!=typeof e||Array.isArray(e))return oC.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.kty&&(r="kty"))return oC.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;if(void 0!==e.alg){const r=s;if("string"!=typeof e.alg)return oC.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=r===s}else y=!0;if(y){if(void 0!==e.kid){const r=s;if("string"!=typeof e.kid)return oC.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===s}else y=!0;if(y){if(void 0!==e.kty){let r=e.kty;const i=s;if("EC"!==r&&"RSA"!==r&&"oct"!==r&&"OKP"!==r)return oC.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:nC.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;y=i===s}else y=!0;if(y){if(void 0!==e.crv){const r=s;if("string"!=typeof e.crv)return oC.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===s}else y=!0;if(y){if(void 0!==e.use){const r=s;if("string"!=typeof e.use)return oC.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===s}else y=!0;if(y){if(void 0!==e.key_ops){const r=s;if("string"!=typeof e.key_ops)return oC.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===s}else y=!0;if(y){if(void 0!==e.x5u){const r=s;if("string"!=typeof e.x5u)return oC.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===s}else y=!0;if(y){if(void 0!==e.x5c){const r=s;if("string"!=typeof e.x5c)return oC.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===s}else y=!0;if(y){if(void 0!==e.x5t){const r=s;if("string"!=typeof e.x5t)return oC.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===s}else y=!0;if(y)if(void 0!==e["x5t#S256"]){const r=s;if("string"!=typeof e["x5t#S256"])return oC.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=r===s}else y=!0}}}}}}}}}}if(a===s){const r=s,i=s,n=s;let a=!1;const c=s,u=s;let h=!1;const d=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.d&&(t="d")){const e={};null===o?o=[e]:o.push(e),s++}}if(h=h||d===s,h)s=u,null!==o&&(u?o.length=u:o=null);else{const e={};null===o?o=[e]:o.push(e),s++}if(s===c)if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.kty&&"EC"!==e.kty){const e={};null===o?o=[e]:o.push(e),s++}}else{const e={};null===o?o=[e]:o.push(e),s++}var I=c===s;if(a=a||I,!a){const t=s,r=s;let i=!1;const n=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.d&&(t="d")){const e={};null===o?o=[e]:o.push(e),s++}}if(i=i||n===s,i)s=r,null!==o&&(r?o.length=r:o=null);else{const e={};null===o?o=[e]:o.push(e),s++}if(s===t)if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.kty&&"OKP"!==e.kty){const e={};null===o?o=[e]:o.push(e),s++}}else{const e={};null===o?o=[e]:o.push(e),s++}if(I=t===s,a=a||I,!a){const t=s,r=s;let i=!1;const n=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.d&&(t="d")){const e={};null===o?o=[e]:o.push(e),s++}}var w=n===s;if(i=i||w,!i){const t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.p&&(t="p")){const e={};null===o?o=[e]:o.push(e),s++}}if(w=t===s,i=i||w,!i){const t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.q&&(t="q")){const e={};null===o?o=[e]:o.push(e),s++}}if(w=t===s,i=i||w,!i){const t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.dp&&(t="dp")){const e={};null===o?o=[e]:o.push(e),s++}}if(w=t===s,i=i||w,!i){const t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.dq&&(t="dq")){const e={};null===o?o=[e]:o.push(e),s++}}if(w=t===s,i=i||w,!i){const t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.qi&&(t="qi")){const e={};null===o?o=[e]:o.push(e),s++}}if(w=t===s,i=i||w,!i){const t=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.oth&&(t="oth")){const e={};null===o?o=[e]:o.push(e),s++}}w=t===s,i=i||w}}}}}}if(i)s=r,null!==o&&(r?o.length=r:o=null);else{const e={};null===o?o=[e]:o.push(e),s++}if(s===t)if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.kty){const t=s;if("RSA"!==e.kty){const e={};null===o?o=[e]:o.push(e),s++}var b=t===s}else b=!0;if(b)if(void 0!==e.oth){let t=e.oth;const r=s;if(!t||"object"!=typeof t||Array.isArray(t)){const e={};null===o?o=[e]:o.push(e),s++}b=r===s}else b=!0}else{const e={};null===o?o=[e]:o.push(e),s++}I=t===s,a=a||I}}if(a)s=n,null!==o&&(n?o.length=n:o=null);else{const e={};null===o?o=[e]:o.push(e),s++}if(i===s)return oC.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;s=r,null!==o&&(r?o.length=r:o=null)}return oC.errors=o,0===s}const sC=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u");function aC(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;const a=s;let c=!1;const u=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.contextId&&(r="contextId")){const e={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else if(void 0!==e.descriptor){let r=e.descriptor;if(s==s)if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.protocol&&(e="protocol")||void 0===r.protocolPath&&(e="protocolPath")||void 0===r.schema&&(e="schema")){const r={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===o?o=[r]:o.push(r),s++}}else{const e={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}}}var h=u===s;if(c=c||h,!c){const r=s,i=s,n=s,a=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let t;if(void 0===e.contextId&&(t="contextId")){const e={};null===o?o=[e]:o.push(e),s++}}if(a===s){const e={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=n,null!==o&&(n?o.length=n:o=null);if(i===s){const r=s;if(e&&"object"==typeof e&&!Array.isArray(e)&&void 0!==e.descriptor){let r=e.descriptor;if(!r||"object"!=typeof r||Array.isArray(r)){const e={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}const i=s,n=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.protocol&&(e="protocol")){const e={};null===o?o=[e]:o.push(e),s++}}if(n===s){const e={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=i,null!==o&&(i?o.length=i:o=null)}if(r===s&&e&&"object"==typeof e&&!Array.isArray(e)&&void 0!==e.descriptor){let r=e.descriptor;if(!r||"object"!=typeof r||Array.isArray(r)){const e={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}const i=s,n=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.protocolPath&&(e="protocolPath")){const e={};null===o?o=[e]:o.push(e),s++}}if(n===s){const e={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=i,null!==o&&(i?o.length=i:o=null)}}h=r===s,c=c||h}if(!c){const e={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),s++,aC.errors=o,!1}if(s=a,null!==o&&(a?o.length=a:o=null),0===s){if(!e||"object"!=typeof e||Array.isArray(e))return aC.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.descriptor&&(r="descriptor"))return aC.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=s;for(const r in e)if("recordId"!==r&&"contextId"!==r&&"attestation"!==r&&"authorization"!==r&&"encryption"!==r&&"descriptor"!==r)return aC.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.recordId){const r=s;if("string"!=typeof e.recordId)return aC.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=r===s}else d=!0;if(d){if(void 0!==e.contextId){const r=s;if("string"!=typeof e.contextId)return aC.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=r===s}else d=!0;if(d){if(void 0!==e.attestation){const r=s;KE(e.attestation,{instancePath:t+"/attestation",parentData:e,parentDataProperty:"attestation",rootData:n})||(o=null===o?KE.errors:o.concat(KE.errors),s=o.length),d=r===s}else d=!0;if(d){if(void 0!==e.authorization){const r=s;zE(e.authorization,{instancePath:t+"/authorization",parentData:e,parentDataProperty:"authorization",rootData:n})||(o=null===o?zE.errors:o.concat(zE.errors),s=o.length),d=r===s}else d=!0;if(d){if(void 0!==e.encryption){let r=e.encryption;const i=s;if(s===i){if(!r||"object"!=typeof r||Array.isArray(r))return aC.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.algorithm&&(e="algorithm")||void 0===r.initializationVector&&(e="initializationVector")||void 0===r.keyEncryption&&(e="keyEncryption"))return aC.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{const e=s;for(const e in r)if("algorithm"!==e&&"initializationVector"!==e&&"keyEncryption"!==e)return aC.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.algorithm){let e=r.algorithm;const i=s;if("string"!=typeof e)return aC.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==e)return aC.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:iC.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var l=i===s}else l=!0;if(l){if(void 0!==r.initializationVector){let e=r.initializationVector;const i=s;if(s==s){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qE.test(e))return aC.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}l=i===s}else l=!0;if(l)if(void 0!==r.keyEncryption){let e=r.keyEncryption;const i=s;if(s===i){if(!Array.isArray(e))return aC.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(e.length<1)return aC.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const r=e.length;for(let i=0;i<r;i++){let r=e[i];const a=s;if(s===a){if(!r||"object"!=typeof r||Array.isArray(r))return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.rootKeyId&&(e="rootKeyId")||void 0===r.derivationScheme&&(e="derivationScheme")||void 0===r.algorithm&&(e="algorithm")||void 0===r.encryptedKey&&(e="encryptedKey")||void 0===r.initializationVector&&(e="initializationVector")||void 0===r.ephemeralPublicKey&&(e="ephemeralPublicKey")||void 0===r.messageAuthenticationCode&&(e="messageAuthenticationCode"))return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{const e=s;for(const e in r)if("rootKeyId"!==e&&"derivationScheme"!==e&&"derivedPublicKey"!==e&&"algorithm"!==e&&"encryptedKey"!==e&&"initializationVector"!==e&&"ephemeralPublicKey"!==e&&"messageAuthenticationCode"!==e)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.rootKeyId){const e=s;if("string"!=typeof r.rootKeyId)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var f=e===s}else f=!0;if(f){if(void 0!==r.derivationScheme){let e=r.derivationScheme;const n=s;if("string"!=typeof e)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==e&&"protocolContext"!==e&&"protocolPath"!==e&&"schemas"!==e)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:iC.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;f=n===s}else f=!0;if(f){if(void 0!==r.derivedPublicKey){const e=s;oC(r.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+i+"/derivedPublicKey",parentData:r,parentDataProperty:"derivedPublicKey",rootData:n})||(o=null===o?oC.errors:o.concat(oC.errors),s=o.length),f=e===s}else f=!0;if(f){if(void 0!==r.algorithm){let e=r.algorithm;const n=s;if("string"!=typeof e)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==e)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:iC.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;f=n===s}else f=!0;if(f){if(void 0!==r.encryptedKey){let e=r.encryptedKey;const n=s;if(s==s){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qE.test(e))return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}f=n===s}else f=!0;if(f){if(void 0!==r.initializationVector){let e=r.initializationVector;const n=s;if(s==s){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qE.test(e))return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}f=n===s}else f=!0;if(f){if(void 0!==r.ephemeralPublicKey){const e=s;oC(r.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+i+"/ephemeralPublicKey",parentData:r,parentDataProperty:"ephemeralPublicKey",rootData:n})||(o=null===o?oC.errors:o.concat(oC.errors),s=o.length),f=e===s}else f=!0;if(f)if(void 0!==r.messageAuthenticationCode){let e=r.messageAuthenticationCode;const n=s;if(s==s){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!qE.test(e))return aC.errors=[{instancePath:t+"/encryption/keyEncryption/"+i+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}f=n===s}else f=!0}}}}}}}}}}if(a!==s)break}}}l=i===s}else l=!0}}}}}d=i===s}else d=!0;if(d)if(void 0!==e.descriptor){let r=e.descriptor;const i=s,n=s;let a=!1;const c=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.published&&(e="published")||void 0===r.datePublished&&(e="datePublished")){const r={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===o?o=[r]:o.push(r),s++}else if(void 0!==r.published){let e=r.published;if("boolean"!=typeof e){const e={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),s++}if(!0!==e){const e={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:iC.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}}}var p=c===s;if(a=a||p,!a){const e=s,i=s,n=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.datePublished&&(e="datePublished")){const e={};null===o?o=[e]:o.push(e),s++}}if(n===s){const e={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=i,null!==o&&(i?o.length=i:o=null);if(s===e&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.published){let e=r.published;if("boolean"!=typeof e){const e={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===o?o=[e]:o.push(e),s++}if(!1!==e){const e={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:iC.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}}if(p=e===s,a=a||p,!a){const e=s,i=s,n=s,c=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.published&&(e="published")){const e={};null===o?o=[e]:o.push(e),s++}}if(c===s){const e={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=n,null!==o&&(n?o.length=n:o=null);if(i===s){const e=s,i=s;if(r&&"object"==typeof r&&!Array.isArray(r)){let e;if(void 0===r.datePublished&&(e="datePublished")){const e={};null===o?o=[e]:o.push(e),s++}}if(i===s){const e={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===o?o=[e]:o.push(e),s++}else s=e,null!==o&&(e?o.length=e:o=null)}p=e===s,a=a||p}}if(!a){const e={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===o?o=[e]:o.push(e),s++,aC.errors=o,!1}if(s=n,null!==o&&(n?o.length=n:o=null),s===i){if(!r||"object"!=typeof r||Array.isArray(r))return aC.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===r.interface&&(e="interface")||void 0===r.method&&(e="method")||void 0===r.dataCid&&(e="dataCid")||void 0===r.dataSize&&(e="dataSize")||void 0===r.dateCreated&&(e="dateCreated")||void 0===r.messageTimestamp&&(e="messageTimestamp")||void 0===r.dataFormat&&(e="dataFormat"))return aC.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;{const e=s;for(const e in r)if(!ZE.call(iC.properties.descriptor.properties,e))return aC.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){let e;if(void 0!==r.parentId&&void 0===r.protocol&&(e="protocol"))return aC.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:e,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==r.interface){let e=r.interface;const i=s;if("string"!=typeof e)return aC.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==e)return aC.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:iC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var A=i===s}else A=!0;if(A){if(void 0!==r.method){let e=r.method;const i=s;if("string"!=typeof e)return aC.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==e)return aC.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:iC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;A=i===s}else A=!0;if(A){if(void 0!==r.recipient){let e=r.recipient;const i=s;if(s==s){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(e))return aC.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}A=i===s}else A=!0;if(A){if(void 0!==r.protocol){const e=s;if("string"!=typeof r.protocol)return aC.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;A=e===s}else A=!0;if(A){if(void 0!==r.protocolPath){let e=r.protocolPath;const i=s;if(s===i){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!sC.test(e))return aC.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}A=i===s}else A=!0;if(A){if(void 0!==r.schema){const e=s;if("string"!=typeof r.schema)return aC.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;A=e===s}else A=!0;if(A){if(void 0!==r.parentId){const e=s;if("string"!=typeof r.parentId)return aC.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;A=e===s}else A=!0;if(A){if(void 0!==r.dataCid){const e=s;if("string"!=typeof r.dataCid)return aC.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;A=e===s}else A=!0;if(A){if(void 0!==r.dataSize){let e=r.dataSize;const i=s;if("number"!=typeof e||!isFinite(e))return aC.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;A=i===s}else A=!0;if(A){if(void 0!==r.dateCreated){let e=r.dateCreated;const i=s;if(s==s){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(e))return aC.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}A=i===s}else A=!0;if(A){if(void 0!==r.messageTimestamp){let e=r.messageTimestamp;const i=s;if(s==s){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(e))return aC.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}A=i===s}else A=!0;if(A){if(void 0!==r.published){const e=s;if("boolean"!=typeof r.published)return aC.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;A=e===s}else A=!0;if(A){if(void 0!==r.datePublished){let e=r.datePublished;const i=s;if(s==s){if("string"!=typeof e)return aC.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(e))return aC.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}A=i===s}else A=!0;if(A)if(void 0!==r.dataFormat){const e=s;if("string"!=typeof r.dataFormat)return aC.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;A=e===s}else A=!0}}}}}}}}}}}}}}}}d=i===s}else d=!0}}}}}}}}return aC.errors=o,0===s}const cC=aC,uC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.authorization&&(i="authorization")||void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if("interface"!==t&&"method"!==t&&"messageTimestamp"!==t&&"watermark"!==t)return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:hC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:hC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.messageTimestamp){const t=a;if("string"!=typeof i.messageTimestamp)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u)if(void 0!==i.watermark){const t=a;if("string"!=typeof i.watermark)return e.errors=[{instancePath:r+"/descriptor/watermark",schemaPath:"#/properties/descriptor/properties/watermark/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},hC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},watermark:{type:"string"}}}}},dC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){return!t||"object"!=typeof t||Array.isArray(t)?(e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1):(e.errors=null,!0)},lC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;const c=a;let u=!1,h=null;const d=a;if(t&&"object"==typeof t&&!Array.isArray(t)){let e;if(void 0===t.crv&&(e="crv")||void 0===t.x&&(e="x")){const t={instancePath:r,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===s?s=[t]:s.push(t),a++}else{if(void 0!==t.kty){const e=a;if("EC"!==t.kty){const e={instancePath:r+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===s?s=[e]:s.push(e),a++}var l=e===a}else l=!0;if(l){if(void 0!==t.crv){const e=a;if("string"!=typeof t.crv){const e={instancePath:r+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}l=e===a}else l=!0;if(l){if(void 0!==t.x){const e=a;if("string"!=typeof t.x){const e={instancePath:r+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}l=e===a}else l=!0;if(l){if(void 0!==t.y){const e=a;if("string"!=typeof t.y){const e={instancePath:r+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}l=e===a}else l=!0;if(l)if(void 0!==t.d){const e=a;if("string"!=typeof t.d){const e={instancePath:r+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}l=e===a}else l=!0}}}}}(m=d===a)&&(u=!0,h=0);const f=a;if(t&&"object"==typeof t&&!Array.isArray(t)){let e;if(void 0===t.crv&&(e="crv")||void 0===t.x&&(e="x")){const t={instancePath:r,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===s?s=[t]:s.push(t),a++}else{if(void 0!==t.kty){const e=a;if("OKP"!==t.kty){const e={instancePath:r+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===s?s=[e]:s.push(e),a++}var p=e===a}else p=!0;if(p){if(void 0!==t.crv){const e=a;if("string"!=typeof t.crv){const e={instancePath:r+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}p=e===a}else p=!0;if(p){if(void 0!==t.x){const e=a;if("string"!=typeof t.x){const e={instancePath:r+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}p=e===a}else p=!0;if(p)if(void 0!==t.d){const e=a;if("string"!=typeof t.d){const e={instancePath:r+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}p=e===a}else p=!0}}}}if((m=f===a)&&u)u=!1,h=[h,1];else{m&&(u=!0,h=1);const e=a;if(t&&"object"==typeof t&&!Array.isArray(t)){let e;if(void 0===t.n&&(e="n")||void 0===t.e&&(e="e")){const t={instancePath:r,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===s?s=[t]:s.push(t),a++}else{if(void 0!==t.kty){const e=a;if("RSA"!==t.kty){const e={instancePath:r+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===s?s=[e]:s.push(e),a++}var A=e===a}else A=!0;if(A){if(void 0!==t.n){const e=a;if("string"!=typeof t.n){const e={instancePath:r+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}A=e===a}else A=!0;if(A){if(void 0!==t.e){const e=a;if("string"!=typeof t.e){const e={instancePath:r+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}A=e===a}else A=!0;if(A){if(void 0!==t.d){const e=a;if("string"!=typeof t.d){const e={instancePath:r+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}A=e===a}else A=!0;if(A){if(void 0!==t.p){const e=a;if("string"!=typeof t.p){const e={instancePath:r+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}A=e===a}else A=!0;if(A){if(void 0!==t.q){const e=a;if("string"!=typeof t.q){const e={instancePath:r+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}A=e===a}else A=!0;if(A){if(void 0!==t.dp){const e=a;if("string"!=typeof t.dp){const e={instancePath:r+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}A=e===a}else A=!0;if(A){if(void 0!==t.dq){const e=a;if("string"!=typeof t.dq){const e={instancePath:r+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}A=e===a}else A=!0;if(A){if(void 0!==t.qi){const e=a;if("string"!=typeof t.qi){const e={instancePath:r+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}A=e===a}else A=!0;if(A)if(void 0!==t.oth){let e=t.oth;const i=a;if(!e||"object"!=typeof e||Array.isArray(e)){const e={instancePath:r+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[e]:s.push(e),a++}A=i===a}else A=!0}}}}}}}}}}if((m=e===a)&&u)u=!1,h=[h,2];else{m&&(u=!0,h=2);const e=a;if(t&&"object"==typeof t&&!Array.isArray(t)){let e;if(void 0===t.k&&(e="k")){const t={instancePath:r,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"};null===s?s=[t]:s.push(t),a++}else{if(void 0!==t.kty){const e=a;if("oct"!==t.kty){const e={instancePath:r+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===s?s=[e]:s.push(e),a++}var g=e===a}else g=!0;if(g)if(void 0!==t.k){const e=a;if("string"!=typeof t.k){const e={instancePath:r+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[e]:s.push(e),a++}g=e===a}else g=!0}}var m;(m=e===a)&&u?(u=!1,h=[h,3]):m&&(u=!0,h=3)}}if(!u){const t={instancePath:r,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:h},message:"must match exactly one schema in oneOf"};return null===s?s=[t]:s.push(t),a++,e.errors=s,!1}if(a=c,null!==s&&(c?s.length=c:s=null),0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.kty&&(i="kty"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;if(void 0!==t.alg){const i=a;if("string"!=typeof t.alg)return e.errors=[{instancePath:r+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var y=i===a}else y=!0;if(y){if(void 0!==t.kid){const i=a;if("string"!=typeof t.kid)return e.errors=[{instancePath:r+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===a}else y=!0;if(y){if(void 0!==t.kty){let i=t.kty;const n=a;if("EC"!==i&&"RSA"!==i&&"oct"!==i&&"OKP"!==i)return e.errors=[{instancePath:r+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:nC.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;y=n===a}else y=!0;if(y){if(void 0!==t.crv){const i=a;if("string"!=typeof t.crv)return e.errors=[{instancePath:r+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===a}else y=!0;if(y){if(void 0!==t.use){const i=a;if("string"!=typeof t.use)return e.errors=[{instancePath:r+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===a}else y=!0;if(y){if(void 0!==t.key_ops){const i=a;if("string"!=typeof t.key_ops)return e.errors=[{instancePath:r+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===a}else y=!0;if(y){if(void 0!==t.x5u){const i=a;if("string"!=typeof t.x5u)return e.errors=[{instancePath:r+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===a}else y=!0;if(y){if(void 0!==t.x5c){const i=a;if("string"!=typeof t.x5c)return e.errors=[{instancePath:r+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===a}else y=!0;if(y){if(void 0!==t.x5t){const i=a;if("string"!=typeof t.x5t)return e.errors=[{instancePath:r+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===a}else y=!0;if(y)if(void 0!==t["x5t#S256"]){const i=a;if("string"!=typeof t["x5t#S256"])return e.errors=[{instancePath:r+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;y=i===a}else y=!0}}}}}}}}}}return e.errors=s,0===a},fC=KE,pC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.id&&(i="id")||void 0===t.type&&(i="type")||void 0===t.controller&&(i="controller")||void 0===t.publicKeyJwk&&(i="publicKeyJwk"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("id"!==i&&"type"!==i&&"controller"!==i&&"publicKeyJwk"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.id){const i=a;if("string"!=typeof t.id)return e.errors=[{instancePath:r+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=i===a}else c=!0;if(c){if(void 0!==t.type){const i=a;if("JsonWebKey2020"!==t.type)return e.errors=[{instancePath:r+"/type",schemaPath:"#/properties/type/const",keyword:"const",params:{allowedValue:"JsonWebKey2020"},message:"must be equal to constant"}],!1;c=i===a}else c=!0;if(c){if(void 0!==t.controller){let i=t.controller;const n=a;if(a==a){if("string"!=typeof i)return e.errors=[{instancePath:r+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(i))return e.errors=[{instancePath:r+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}c=n===a}else c=!0;if(c)if(void 0!==t.publicKeyJwk){const e=a;oC(t.publicKeyJwk,{instancePath:r+"/publicKeyJwk",parentData:t,parentDataProperty:"publicKeyJwk",rootData:o})||(s=null===s?oC.errors:s.concat(oC.errors),a=s.length),c=e===a}else c=!0}}}}}}return e.errors=s,0===a},AC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.authorization&&(i="authorization")||void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if("interface"!==t&&"method"!==t&&"messageTimestamp"!==t&&"messageCids"!==t)return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:gC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:gC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.messageTimestamp){const t=a;if("string"!=typeof i.messageTimestamp)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u)if(void 0!==i.messageCids){let t=i.messageCids;const n=a;if(a===n){if(!Array.isArray(t))return e.errors=[{instancePath:r+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(t.length<1)return e.errors=[{instancePath:r+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const i=t.length;for(let n=0;n<i;n++){const i=a;if("string"!=typeof t[n])return e.errors=[{instancePath:r+"/descriptor/messageCids/"+n,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(i!==a)break}}}u=n===a}else u=!0}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},gC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}},mC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){return!t||"object"!=typeof t||Array.isArray(t)?(e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1):(e.errors=null,!0)},yC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.authorization&&(i="authorization")||void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"delegationChain"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c){if(void 0!==t.delegationChain){const i=a;e(t.delegationChain,{instancePath:r+"/delegationChain",parentData:t,parentDataProperty:"delegationChain",rootData:o})||(s=null===s?e.errors:s.concat(e.errors),a=s.length),c=i===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp")||void 0===i.dateExpires&&(t="dateExpires"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if(!ZE.call(IC.properties.descriptor.properties,t))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.messageTimestamp){let t=i.messageTimestamp;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(t))return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var u=n===a}else u=!0;if(u){if(void 0!==i.dateExpires){let t=i.dateExpires;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(t))return e.errors=[{instancePath:r+"/descriptor/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}u=n===a}else u=!0;if(u){if(void 0!==i.description){const t=a;if("string"!=typeof i.description)return e.errors=[{instancePath:r+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u){if(void 0!==i.grantedTo){let t=i.grantedTo;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(t))return e.errors=[{instancePath:r+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}u=n===a}else u=!0;if(u){if(void 0!==i.grantedBy){let t=i.grantedBy;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(t))return e.errors=[{instancePath:r+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}u=n===a}else u=!0;if(u){if(void 0!==i.grantedFor){let t=i.grantedFor;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(t))return e.errors=[{instancePath:r+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}u=n===a}else u=!0;if(u){if(void 0!==i.permissionsRequestId){const t=a;if("string"!=typeof i.permissionsRequestId)return e.errors=[{instancePath:r+"/descriptor/permissionsRequestId",schemaPath:"#/properties/descriptor/properties/permissionsRequestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:IC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Grant"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:IC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.scope){const e=a;bC(i.scope,{instancePath:r+"/descriptor/scope",parentData:i,parentDataProperty:"scope",rootData:o})||(s=null===s?bC.errors:s.concat(bC.errors),a=s.length),u=e===a}else u=!0;if(u)if(void 0!==i.conditions){let t=i.conditions;const n=a;if(a==a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const i=a;for(const i in t)if("publication"!==i)return e.errors=[{instancePath:r+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a&&void 0!==t.publication){let i=t.publication;if("string"!=typeof i)return e.errors=[{instancePath:r+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==i&&"Prohibited"!==i)return e.errors=[{instancePath:r+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:wC.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}u=n===a}else u=!0}}}}}}}}}}}}}c=n===a}else c=!0}}}}}return e.errors=s,0===a},IC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-grant.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},delegationChain:{description:"the parent grant",$ref:"#"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","dateExpires"],properties:{messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},dateExpires:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},permissionsRequestId:{description:"CID of an associated PermissionsRequest message",type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Grant"],type:"string"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}},wC={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function bC(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;const a=s;let c=!1,u=null;const h=s;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.interface){const r=s;if("Protocols"!==e.interface){const e={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var d=r===s}else d=!0;if(d)if(void 0!==e.method){const r=s;if("Query"!==e.method){const e={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}d=r===s}else d=!0}else{const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}(g=h===s)&&(c=!0,u=0);const l=s;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.interface&&(r="interface")||void 0===e.method&&(r="method")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.interface){const r=s;if("Records"!==e.interface){const e={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var f=r===s}else f=!0;if(f){if(void 0!==e.method){const r=s;if("Read"!==e.method){const e={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0;if(f){if(void 0!==e.schema){const r=s;if("string"!=typeof e.schema){const e={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0;if(f){if(void 0!==e.protocol){const r=s;if("string"!=typeof e.protocol){const e={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0;if(f){if(void 0!==e.contextId){const r=s;if("string"!=typeof e.contextId){const e={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0;if(f)if(void 0!==e.protocolPath){const r=s;if("string"!=typeof e.protocolPath){const e={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0}}}}}}else{const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}if((g=l===s)&&c)c=!1,u=[u,1];else{g&&(c=!0,u=1);const r=s;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.interface&&(r="interface")||void 0===e.method&&(r="method")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.interface){const r=s;if("Records"!==e.interface){const e={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var p=r===s}else p=!0;if(p){if(void 0!==e.method){const r=s;if("Delete"!==e.method){const e={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p)if(void 0!==e.schema){const r=s;if("string"!=typeof e.schema){const e={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0}}}else{const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}if((g=r===s)&&c)c=!1,u=[u,2];else{g&&(c=!0,u=2);const r=s;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.interface&&(r="interface")||void 0===e.method&&(r="method")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.interface){const r=s;if("Records"!==e.interface){const e={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var A=r===s}else A=!0;if(A){if(void 0!==e.method){const r=s;if("Write"!==e.method){const e={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.schema){const r=s;if("string"!=typeof e.schema){const e={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.protocol){const r=s;if("string"!=typeof e.protocol){const e={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.contextId){const r=s;if("string"!=typeof e.contextId){const e={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A)if(void 0!==e.protocolPath){const r=s;if("string"!=typeof e.protocolPath){const e={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0}}}}}}else{const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}var g;(g=r===s)&&c?(c=!1,u=[u,3]):g&&(c=!0,u=3)}}if(!c){const e={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:u},message:"must match exactly one schema in oneOf"};return null===o?o=[e]:o.push(e),s++,bC.errors=o,!1}return s=a,null!==o&&(a?o.length=a:o=null),bC.errors=o,0===s}const vC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.authorization&&(i="authorization")||void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp")||void 0===i.grantedBy&&(t="grantedBy")||void 0===i.grantedTo&&(t="grantedTo")||void 0===i.grantedFor&&(t="grantedFor")||void 0===i.scope&&(t="scope"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if(!ZE.call(EC.properties.descriptor.properties,t))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:EC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Request"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:EC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.messageTimestamp){const t=a;if("string"!=typeof i.messageTimestamp)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u){if(void 0!==i.description){const t=a;if("string"!=typeof i.description)return e.errors=[{instancePath:r+"/descriptor/description",schemaPath:"#/properties/descriptor/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u){if(void 0!==i.grantedTo){let t=i.grantedTo;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(t))return e.errors=[{instancePath:r+"/descriptor/grantedTo",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}u=n===a}else u=!0;if(u){if(void 0!==i.grantedBy){let t=i.grantedBy;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(t))return e.errors=[{instancePath:r+"/descriptor/grantedBy",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}u=n===a}else u=!0;if(u){if(void 0!==i.grantedFor){let t=i.grantedFor;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(t))return e.errors=[{instancePath:r+"/descriptor/grantedFor",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}u=n===a}else u=!0;if(u){if(void 0!==i.scope){const e=a;CC(i.scope,{instancePath:r+"/descriptor/scope",parentData:i,parentDataProperty:"scope",rootData:o})||(s=null===s?CC.errors:s.concat(CC.errors),a=s.length),u=e===a}else u=!0;if(u)if(void 0!==i.conditions){let t=i.conditions;const n=a;if(a==a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const i=a;for(const i in t)if("publication"!==i)return e.errors=[{instancePath:r+"/descriptor/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a&&void 0!==t.publication){let i=t.publication;if("string"!=typeof i)return e.errors=[{instancePath:r+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==i&&"Prohibited"!==i)return e.errors=[{instancePath:r+"/descriptor/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:wC.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}u=n===a}else u=!0}}}}}}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},EC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-request.json",additionalProperties:!1,type:"object",required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","grantedBy","grantedTo","grantedFor","scope"],properties:{interface:{enum:["Permissions"],type:"string"},method:{enum:["Request"],type:"string"},messageTimestamp:{type:"string"},description:{type:"string"},grantedTo:{description:"DID of the grantee",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedTo"},grantedBy:{description:"DID of the grantor",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedBy"},grantedFor:{description:"DID of the DWN to which the grantee is given access",$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/grantedFor"},scope:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/scope"},conditions:{$ref:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/definitions/conditions"}}}}};function CC(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;const a=s;let c=!1,u=null;const h=s;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0!==e.interface){const r=s;if("Protocols"!==e.interface){const e={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var d=r===s}else d=!0;if(d)if(void 0!==e.method){const r=s;if("Query"!==e.method){const e={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}d=r===s}else d=!0}else{const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}(g=h===s)&&(c=!0,u=0);const l=s;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.interface&&(r="interface")||void 0===e.method&&(r="method")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.interface){const r=s;if("Records"!==e.interface){const e={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var f=r===s}else f=!0;if(f){if(void 0!==e.method){const r=s;if("Read"!==e.method){const e={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0;if(f){if(void 0!==e.schema){const r=s;if("string"!=typeof e.schema){const e={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0;if(f){if(void 0!==e.protocol){const r=s;if("string"!=typeof e.protocol){const e={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0;if(f){if(void 0!==e.contextId){const r=s;if("string"!=typeof e.contextId){const e={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0;if(f)if(void 0!==e.protocolPath){const r=s;if("string"!=typeof e.protocolPath){const e={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}f=r===s}else f=!0}}}}}}else{const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}if((g=l===s)&&c)c=!1,u=[u,1];else{g&&(c=!0,u=1);const r=s;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.interface&&(r="interface")||void 0===e.method&&(r="method")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.interface){const r=s;if("Records"!==e.interface){const e={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var p=r===s}else p=!0;if(p){if(void 0!==e.method){const r=s;if("Delete"!==e.method){const e={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0;if(p)if(void 0!==e.schema){const r=s;if("string"!=typeof e.schema){const e={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}p=r===s}else p=!0}}}else{const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}if((g=r===s)&&c)c=!1,u=[u,2];else{g&&(c=!0,u=2);const r=s;if(s==s)if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.interface&&(r="interface")||void 0===e.method&&(r="method")){const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.interface){const r=s;if("Records"!==e.interface){const e={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}var A=r===s}else A=!0;if(A){if(void 0!==e.method){const r=s;if("Write"!==e.method){const e={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.schema){const r=s;if("string"!=typeof e.schema){const e={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.protocol){const r=s;if("string"!=typeof e.protocol){const e={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A){if(void 0!==e.contextId){const r=s;if("string"!=typeof e.contextId){const e={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0;if(A)if(void 0!==e.protocolPath){const r=s;if("string"!=typeof e.protocolPath){const e={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}A=r===s}else A=!0}}}}}}else{const e={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/definitions/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===o?o=[e]:o.push(e),s++}var g;(g=r===s)&&c?(c=!1,u=[u,3]):g&&(c=!0,u=3)}}if(!c){const e={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:u},message:"must match exactly one schema in oneOf"};return null===o?o=[e]:o.push(e),s++,CC.errors=o,!1}return s=a,null!==o&&(a?o.length=a:o=null),CC.errors=o,0===s}const BC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.authorization&&(i="authorization")||void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp")||void 0===i.permissionsGrantId&&(t="permissionsGrantId"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if("messageTimestamp"!==t&&"permissionsGrantId"!==t&&"interface"!==t&&"method"!==t)return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.messageTimestamp){const t=a;if("string"!=typeof i.messageTimestamp)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var u=t===a}else u=!0;if(u){if(void 0!==i.permissionsGrantId){const t=a;if("string"!=typeof i.permissionsGrantId)return e.errors=[{instancePath:r+"/descriptor/permissionsGrantId",schemaPath:"#/properties/descriptor/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:SC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u)if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Revoke"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:SC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},SC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/permissions-revoke.json",type:"object",required:["authorization","descriptor"],additionalProperties:!1,properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","permissionsGrantId"],properties:{messageTimestamp:{type:"string"},permissionsGrantId:{type:"string"},interface:{enum:["Permissions"],type:"string"},method:{enum:["Revoke"],type:"string"}}}}},_C=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){return!t||"object"!=typeof t||Array.isArray(t)?(e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1):(e.errors=null,!0)},QC=FC,DC=new RegExp(".*","u"),kC={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"string",enum:["read","write"]}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a record with either $globalRole or $contextRole set to true",type:"string"},can:{type:"string",enum:["read","write"]}}}]}},$globalRole:{$comment:"When `true`, this turns a record into `role` that may be used across contexts",type:"boolean"},$contextRole:{$comment:"When `true`, this turns a record into `role` that may be used within a context",type:"boolean"}},patternProperties:{"^[^$].*":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},MC=new RegExp("^[^$].*","u"),PC={validate:xC};function xC(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return xC.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=s;for(const r in e)if("$encryption"!==r&&"$actions"!==r&&"$globalRole"!==r&&"$contextRole"!==r&&!MC.test(r))return xC.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.$encryption){let r=e.$encryption;const i=s;if(s===i){if(!r||"object"!=typeof r||Array.isArray(r))return xC.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const e=s;for(const e in r)if("rootKeyId"!==e&&"publicKeyJwk"!==e)return xC.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"}],!1;if(e===s){if(void 0!==r.rootKeyId){const e=s;if("string"!=typeof r.rootKeyId)return xC.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=e===s}else a=!0;if(a)if(void 0!==r.publicKeyJwk){const e=s;oC(r.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:n})||(o=null===o?oC.errors:o.concat(oC.errors),s=o.length),a=e===s}else a=!0}}}var c=i===s}else c=!0;if(c){if(void 0!==e.$actions){let r=e.$actions;const i=s;if(s===i){if(!Array.isArray(r))return xC.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(r.length<1)return xC.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const e=r.length;for(let i=0;i<e;i++){let e=r[i];const n=s;if(!e||"object"!=typeof e||Array.isArray(e))return xC.errors=[{instancePath:t+"/$actions/"+i,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const a=s;let c=!1,l=null;const f=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.who&&(r="who")||void 0===e.can&&(r="can")){const e={instancePath:t+"/$actions/"+i,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{const r=s;for(const r in e)if("who"!==r&&"of"!==r&&"can"!==r){const e={instancePath:t+"/$actions/"+i,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"};null===o?o=[e]:o.push(e),s++;break}if(r===s){if(void 0!==e.who){let r=e.who;const n=s;if("string"!=typeof r){const e={instancePath:t+"/$actions/"+i+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}if("anyone"!==r&&"author"!==r&&"recipient"!==r){const e={instancePath:t+"/$actions/"+i+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:kC.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}var u=n===s}else u=!0;if(u){if(void 0!==e.of){const r=s;if("string"!=typeof e.of){const e={instancePath:t+"/$actions/"+i+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}u=r===s}else u=!0;if(u)if(void 0!==e.can){let r=e.can;const n=s;if("string"!=typeof r){const e={instancePath:t+"/$actions/"+i+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}if("read"!==r&&"write"!==r){const e={instancePath:t+"/$actions/"+i+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/enum",keyword:"enum",params:{allowedValues:kC.properties.$actions.items.oneOf[0].properties.can.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}u=n===s}else u=!0}}}}f===s&&(c=!0,l=0);const p=s;if(e&&"object"==typeof e&&!Array.isArray(e)){let r;if(void 0===e.role&&(r="role")||void 0===e.can&&(r="can")){const e={instancePath:t+"/$actions/"+i,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"};null===o?o=[e]:o.push(e),s++}else{if(void 0!==e.role){const r=s;if("string"!=typeof e.role){const e={instancePath:t+"/$actions/"+i+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}var h=r===s}else h=!0;if(h)if(void 0!==e.can){let r=e.can;const n=s;if("string"!=typeof r){const e={instancePath:t+"/$actions/"+i+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"string"},message:"must be string"};null===o?o=[e]:o.push(e),s++}if("read"!==r&&"write"!==r){const e={instancePath:t+"/$actions/"+i+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/enum",keyword:"enum",params:{allowedValues:kC.properties.$actions.items.oneOf[1].properties.can.enum},message:"must be equal to one of the allowed values"};null===o?o=[e]:o.push(e),s++}h=n===s}else h=!0}}var d;if((d=p===s)&&c?(c=!1,l=[l,1]):d&&(c=!0,l=1),!c){const e={instancePath:t+"/$actions/"+i,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};return null===o?o=[e]:o.push(e),s++,xC.errors=o,!1}if(s=a,null!==o&&(a?o.length=a:o=null),n!==s)break}}}c=i===s}else c=!0;if(c){if(void 0!==e.$globalRole){const r=s;if("boolean"!=typeof e.$globalRole)return xC.errors=[{instancePath:t+"/$globalRole",schemaPath:"#/properties/%24globalRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;c=r===s}else c=!0;if(c){if(void 0!==e.$contextRole){const r=s;if("boolean"!=typeof e.$contextRole)return xC.errors=[{instancePath:t+"/$contextRole",schemaPath:"#/properties/%24contextRole/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;c=r===s}else c=!0;if(c)for(const r in e)if(MC.test(r)){const i=s;if(PC.validate(e[r],{instancePath:t+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:e,parentDataProperty:r,rootData:n})||(o=null===o?PC.validate.errors:o.concat(PC.validate.errors),s=o.length),i!==s)break}}}}}}}return xC.errors=o,0===s}function FC(e,{instancePath:t="",parentData:r,parentDataProperty:i,rootData:n=e}={}){let o=null,s=0;if(0===s){if(!e||"object"!=typeof e||Array.isArray(e))return FC.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let r;if(void 0===e.protocol&&(r="protocol")||void 0===e.published&&(r="published")||void 0===e.types&&(r="types")||void 0===e.structure&&(r="structure"))return FC.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:r},message:"must have required property '"+r+"'"}],!1;{const r=s;for(const r in e)if("protocol"!==r&&"published"!==r&&"types"!==r&&"structure"!==r)return FC.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==e.protocol){const r=s;if("string"!=typeof e.protocol)return FC.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var a=r===s}else a=!0;if(a){if(void 0!==e.published){const r=s;if("boolean"!=typeof e.published)return FC.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;a=r===s}else a=!0;if(a){if(void 0!==e.types){let r=e.types;const i=s;if(s===i){if(!r||"object"!=typeof r||Array.isArray(r))return FC.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r)if(DC.test(e)){let i=r[e];const n=s;if(s===n){if(!i||"object"!=typeof i||Array.isArray(i))return FC.errors=[{instancePath:t+"/types/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const r=s;for(const r in i)if("schema"!==r&&"dataFormats"!==r)return FC.errors=[{instancePath:t+"/types/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:r},message:"must NOT have additional properties"}],!1;if(r===s){if(void 0!==i.schema){const r=s;if("string"!=typeof i.schema)return FC.errors=[{instancePath:t+"/types/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=r===s}else c=!0;if(c)if(void 0!==i.dataFormats){let r=i.dataFormats;const n=s;if(s===n){if(!Array.isArray(r))return FC.errors=[{instancePath:t+"/types/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(r.length<1)return FC.errors=[{instancePath:t+"/types/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const i=r.length;for(let n=0;n<i;n++){const i=s;if("string"!=typeof r[n])return FC.errors=[{instancePath:t+"/types/"+e.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+n,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(i!==s)break}}}c=n===s}else c=!0}}}if(n!==s)break}}a=i===s}else a=!0;if(a)if(void 0!==e.structure){let r=e.structure;const i=s;if(s===i){if(!r||"object"!=typeof r||Array.isArray(r))return FC.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;for(const e in r)if(DC.test(e)){const i=s;if(xC(r[e],{instancePath:t+"/structure/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:e,rootData:n})||(o=null===o?xC.errors:o.concat(xC.errors),s=o.length),i!==s)break}}a=i===s}else a=!0}}}}}}return FC.errors=o,0===s}const RC=xC,OC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.authorization&&(i="authorization")||void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp")||void 0===i.definition&&(t="definition"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if("interface"!==t&&"method"!==t&&"messageTimestamp"!==t&&"definition"!==t)return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:TC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:TC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.messageTimestamp){let t=i.messageTimestamp;const n=a;if(a==a){if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!eC.test(t))return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}u=n===a}else u=!0;if(u)if(void 0!==i.definition){const e=a;FC(i.definition,{instancePath:r+"/descriptor/definition",parentData:i,parentDataProperty:"definition",rootData:o})||(s=null===s?FC.errors:s.concat(FC.errors),a=s.length),u=e===a}else u=!0}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},TC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}},NC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if("interface"!==t&&"method"!==t&&"messageTimestamp"!==t&&"filter"!==t)return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:UC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:UC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.messageTimestamp){const t=a;if("string"!=typeof i.messageTimestamp)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u)if(void 0!==i.filter){let t=i.filter;const n=a;if(a===n){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(t).length<1)return e.errors=[{instancePath:r+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const i=a;for(const i in t)if("protocol"!==i&&"recipient"!==i)return e.errors=[{instancePath:r+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.protocol){const i=a;if("string"!=typeof t.protocol)return e.errors=[{instancePath:r+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=i===a}else h=!0;if(h)if(void 0!==t.recipient){let i=t.recipient;const n=a;if(a==a){if("string"!=typeof i)return e.errors=[{instancePath:r+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!XE.test(i))return e.errors=[{instancePath:r+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}h=n===a}else h=!0}}}u=n===a}else u=!0}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},UC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{type:"string"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/definitions/did"}}}}}}},jC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){let s=null,a=0;if(0===a){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.descriptor&&(i="descriptor"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=a;for(const i in t)if("authorization"!==i&&"descriptor"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(i===a){if(void 0!==t.authorization){const e=a;HE(t.authorization,{instancePath:r+"/authorization",parentData:t,parentDataProperty:"authorization",rootData:o})||(s=null===s?HE.errors:s.concat(HE.errors),a=s.length);var c=e===a}else c=!0;if(c)if(void 0!==t.descriptor){let i=t.descriptor;const n=a;if(a===n){if(!i||"object"!=typeof i||Array.isArray(i))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===i.interface&&(t="interface")||void 0===i.method&&(t="method")||void 0===i.messageTimestamp&&(t="messageTimestamp")||void 0===i.filter&&(t="filter"))return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;{const t=a;for(const t in i)if("interface"!==t&&"method"!==t&&"messageTimestamp"!==t&&"filter"!==t)return e.errors=[{instancePath:r+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"}],!1;if(t===a){if(void 0!==i.interface){let t=i.interface;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==t)return e.errors=[{instancePath:r+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:LC.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var u=n===a}else u=!0;if(u){if(void 0!==i.method){let t=i.method;const n=a;if("string"!=typeof t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==t)return e.errors=[{instancePath:r+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:LC.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;u=n===a}else u=!0;if(u){if(void 0!==i.messageTimestamp){const t=a;if("string"!=typeof i.messageTimestamp)return e.errors=[{instancePath:r+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;u=t===a}else u=!0;if(u)if(void 0!==i.filter){const e=a;tC(i.filter,{instancePath:r+"/descriptor/filter",parentData:i,parentDataProperty:"filter",rootData:o})||(s=null===s?tC.errors:s.concat(tC.errors),a=s.length),u=e===a}else u=!0}}}}}}c=n===a}else c=!0}}}}return e.errors=s,0===a},LC={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{type:"string"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}},qC=tC,KC=oC,HC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.descriptorCid&&(i="descriptorCid"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=0;for(const i in t)if("descriptorCid"!==i&&"permissionsGrantId"!==i&&"protocolRole"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(0===i){if(void 0!==t.descriptorCid){const i=0;if("string"!=typeof t.descriptorCid)return e.errors=[{instancePath:r+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===i}else s=!0;if(s){if(void 0!==t.permissionsGrantId){const i=0;if("string"!=typeof t.permissionsGrantId)return e.errors=[{instancePath:r+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===i}else s=!0;if(s)if(void 0!==t.protocolRole){const i=0;if("string"!=typeof t.protocolRole)return e.errors=[{instancePath:r+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===i}else s=!0}}}}return e.errors=null,!0},GC=function e(t,{instancePath:r="",parentData:i,parentDataProperty:n,rootData:o=t}={}){if(!t||"object"!=typeof t||Array.isArray(t))return e.errors=[{instancePath:r,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let i;if(void 0===t.descriptorCid&&(i="descriptorCid")||void 0===t.recordId&&(i="recordId"))return e.errors=[{instancePath:r,schemaPath:"#/required",keyword:"required",params:{missingProperty:i},message:"must have required property '"+i+"'"}],!1;{const i=0;for(const i in t)if("descriptorCid"!==i&&"recordId"!==i&&"contextId"!==i&&"attestationCid"!==i&&"encryptionCid"!==i&&"permissionsGrantId"!==i&&"protocolRole"!==i)return e.errors=[{instancePath:r,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:i},message:"must NOT have additional properties"}],!1;if(0===i){if(void 0!==t.descriptorCid){const i=0;if("string"!=typeof t.descriptorCid)return e.errors=[{instancePath:r+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var s=0===i}else s=!0;if(s){if(void 0!==t.recordId){const i=0;if("string"!=typeof t.recordId)return e.errors=[{instancePath:r+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===i}else s=!0;if(s){if(void 0!==t.contextId){const i=0;if("string"!=typeof t.contextId)return e.errors=[{instancePath:r+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===i}else s=!0;if(s){if(void 0!==t.attestationCid){const i=0;if("string"!=typeof t.attestationCid)return e.errors=[{instancePath:r+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===i}else s=!0;if(s){if(void 0!==t.encryptionCid){const i=0;if("string"!=typeof t.encryptionCid)return e.errors=[{instancePath:r+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===i}else s=!0;if(s){if(void 0!==t.permissionsGrantId){const i=0;if("string"!=typeof t.permissionsGrantId)return e.errors=[{instancePath:r+"/permissionsGrantId",schemaPath:"#/properties/permissionsGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===i}else s=!0;if(s)if(void 0!==t.protocolRole){const i=0;if("string"!=typeof t.protocolRole)return e.errors=[{instancePath:r+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;s=0===i}else s=!0}}}}}}}}return e.errors=null,!0};function zC(e,t){const r=w[e];if(!r)throw new Error(`schema for ${e} not found.`);if(r(t),!r.errors)return;const[i]=r.errors;let{instancePath:n,message:o}=i;throw n||(n=e),new Error(`${n}: ${o}`)}var JC,YC,VC=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.Events="Events",e.Messages="Messages",e.Permissions="Permissions",e.Protocols="Protocols",e.Records="Records"}(JC||(JC={})),function(e){e.Configure="Configure",e.Create="Create",e.Get="Get",e.Grant="Grant",e.Query="Query",e.Read="Read",e.Request="Request",e.Revoke="Revoke",e.Write="Write",e.Delete="Delete"}(YC||(YC={}));class $C{constructor(e){this.message=e,void 0!==e.authorization&&(this.authorSignaturePayload=OE.decodePlainObjectPayload(e.authorization.authorSignature),this.author=$C.getAuthor(e))}toJSON(){return this.message}static validateJsonSchema(e){zC(e.descriptor.interface+e.descriptor.method,e)}static getAuthor(e){if(void 0!==e.authorization)return OE.getSignerDid(e.authorization.authorSignature.signatures[0])}static getCid(e){return VC(this,void 0,void 0,(function*(){const t=Object.assign({},e);return t.encodedData&&delete t.encodedData,yield QA.computeCid(t)}))}static compareCid(e,t){return VC(this,void 0,void 0,(function*(){return function(e,t){return e>t?1:e<t?-1:0}(yield $C.getCid(e),yield $C.getCid(t))}))}static createAuthorizationAsAuthor(e,t,r){return VC(this,void 0,void 0,(function*(){return{authorSignature:yield $C.createSignature(e,t,r)}}))}static createSignature(e,t,r){return VC(this,void 0,void 0,(function*(){const i=yield QA.computeCid(e),n=Object.assign({descriptorCid:i},r);jE(n);const o=vE.objectToBytes(n);return(yield CE.create(o,[t])).getJws()}))}static getNewestMessage(e){return VC(this,void 0,void 0,(function*(){let t;for(const r of e)(void 0===t||(yield $C.isNewer(r,t)))&&(t=r);return t}))}static getOldestMessage(e){return VC(this,void 0,void 0,(function*(){let t;for(const r of e)(void 0===t||(yield $C.isOlder(r,t)))&&(t=r);return t}))}static isNewer(e,t){return VC(this,void 0,void 0,(function*(){return(yield $C.compareMessageTimestamp(e,t))>0}))}static isOlder(e,t){return VC(this,void 0,void 0,(function*(){return(yield $C.compareMessageTimestamp(e,t))<0}))}static compareMessageTimestamp(e,t){return VC(this,void 0,void 0,(function*(){return e.descriptor.messageTimestamp>t.descriptor.messageTimestamp?1:e.descriptor.messageTimestamp<t.descriptor.messageTimestamp?-1:$C.compareCid(e,t)}))}}var WC,ZC,XC,eB=n(55835),tB=n(16065),rB=n(38149),iB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class nB{static aes256CtrEncrypt(e,t,r){return iB(this,void 0,void 0,(function*(){const i=eB.createCipheriv("aes-256-ctr",e,t),n=new rB.Readable({read(){}});return r.on("data",(e=>{const t=i.update(e);n.push(t)})),r.on("end",(()=>{const e=i.final();n.push(e),n.push(null)})),r.on("error",(e=>{n.emit("error",e)})),n}))}static aes256CtrDecrypt(e,t,r){return iB(this,void 0,void 0,(function*(){const i=eB.createDecipheriv("aes-256-ctr",e,t),n=new rB.Readable({read(){}});return r.on("data",(e=>{const t=i.update(e);n.push(t)})),r.on("end",(()=>{const e=i.final();n.push(e),n.push(null)})),r.on("error",(e=>{n.emit("error",e)})),n}))}static eciesSecp256k1Encrypt(e,t){return iB(this,void 0,void 0,(function*(){const r=Buffer.from(e),i=Buffer.from(t),n=tB.HI(r,i),o=n.subarray(0,65),s=n.subarray(65,81),a=n.subarray(81,97);return{ciphertext:n.subarray(97),ephemeralPublicKey:o,initializationVector:s,messageAuthenticationCode:a}}))}static eciesSecp256k1Decrypt(e){return iB(this,void 0,void 0,(function*(){const t=Buffer.from(e.privateKey),r=Buffer.concat([e.ephemeralPublicKey,e.initializationVector,e.messageAuthenticationCode,e.ciphertext]);return tB.pe(t,r)}))}}function oB(e){let t;try{t=sB(e)}catch(e){t=void 0}if(e!==t)throw new kE(ME.UrlProtocolNotNormalized,`Protocol URI ${e} must be normalized.`)}function sB(e){return uB(e)}function aB(e){let t;try{t=cB(e)}catch(e){t=void 0}if(e!==t)throw new kE(ME.UrlSchemaNotNormalized,`Schema URI ${e} must be normalized.`)}function cB(e){return uB(e)}function uB(e){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(e)?e:`http://${e}`;try{const e=new URL(t);return e.search="",e.hash="",function(e){return e.endsWith("/")?e.slice(0,-1):e}(e.href)}catch(e){throw new kE(ME.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}!function(e){e.Aes256Ctr="A256CTR",e.EciesSecp256k1="ECIES-ES256K"}(WC||(WC={})),(XC=ZC||(ZC={})).DataFormats="dataFormats",XC.ProtocolContext="protocolContext",XC.ProtocolPath="protocolPath",XC.Schemas="schemas";var hB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class dB{static decrypt(e,t,r){return hB(this,void 0,void 0,(function*(){const{encryption:i}=e,n=i.keyEncryption.find((e=>e.rootKeyId===t.rootKeyId&&e.derivationScheme===t.derivationScheme));if(void 0===n)throw new kE(ME.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${t.rootKeyId}' and '${t.derivationScheme}' derivation scheme.`);const o=dB.constructKeyDerivationPath(n.derivationScheme,e),s=yield dB.derivePrivateKey(t,o),a=vE.base64UrlToBytes(n.encryptedKey),c=xE.publicJwkToBytes(n.ephemeralPublicKey),u=vE.base64UrlToBytes(n.initializationVector),h=vE.base64UrlToBytes(n.messageAuthenticationCode),d=yield nB.eciesSecp256k1Decrypt({ciphertext:a,ephemeralPublicKey:c,initializationVector:u,messageAuthenticationCode:h,privateKey:s}),l=vE.base64UrlToBytes(i.initializationVector);return yield nB.aes256CtrDecrypt(d,l,r)}))}static constructKeyDerivationPath(e,t){const r=t.descriptor,i=t.contextId;let n;return n=e===ZC.DataFormats?dB.constructKeyDerivationPathUsingDataFormatsScheme(r.schema,r.dataFormat):e===ZC.ProtocolPath?dB.constructKeyDerivationPathUsingProtocolPathScheme(r):e===ZC.ProtocolContext?dB.constructKeyDerivationPathUsingProtocolContextScheme(i):dB.constructKeyDerivationPathUsingSchemasScheme(r.schema),n}static constructKeyDerivationPathUsingDataFormatsScheme(e,t){return void 0!==e?[ZC.DataFormats,e,t]:[ZC.DataFormats,t]}static constructKeyDerivationPathUsingProtocolPathScheme(e){if(void 0===e.protocol)throw new kE(ME.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const t=e.protocolPath.split("/");return[ZC.ProtocolPath,e.protocol,...t]}static constructKeyDerivationPathUsingProtocolContextScheme(e){if(void 0===e)throw new kE(ME.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");return[ZC.ProtocolContext,e]}static constructKeyDerivationPathUsingSchemasScheme(e){if(void 0===e)throw new kE(ME.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[ZC.Schemas,e]}static derivePrivateKey(e,t){var r;return hB(this,void 0,void 0,(function*(){if("secp256k1"!==e.derivedPrivateKey.crv)throw new kE(ME.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${e.derivedPrivateKey.crv} is not supported.`);const i=null!==(r=e.derivationPath)&&void 0!==r?r:[];dB.validateAncestorKeyAndDescentKeyDerivationPathsMatch(i,t);const n=t.slice(i.length),o=xE.privateJwkToBytes(e.derivedPrivateKey);return yield xE.derivePrivateKey(o,n)}))}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(e,t){for(let r=0;r<e.length;r++){const i=e[r],n=t[r];if(i!==n)throw new kE(ME.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${i}' mismatches against the descendant key derivation segment '${n}'.`)}}static normalizeFilter(e){let t,r;return t=void 0===e.protocol?void 0:sB(e.protocol),r=void 0===e.schema?void 0:cB(e.schema),Object.assign(Object.assign({},e),{protocol:t,schema:r})}static convertFilter(e){const t=Object.assign({},e),{dateCreated:r}=t;let i;return void 0!==r&&(void 0!==r.to&&void 0!==r.from?i={gte:r.from,lt:r.to}:void 0!==r.to?i={lt:r.to}:void 0!==r.from&&(i={gte:r.from})),i&&(t.dateCreated=i),t}}var lB=n(34155);const fB="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,pB=new Set,AB="object"==typeof lB&&lB?lB:{},gB=(e,t,r,i)=>{"function"==typeof AB.emitWarning?AB.emitWarning(e,t,r,i):console.error(`[${r}] ${t}: ${e}`)};let mB=globalThis.AbortController,yB=globalThis.AbortSignal;if(void 0===mB){yB=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},mB=class{constructor(){t()}signal=new yB;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==AB.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,gB("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const IB=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),wB=e=>IB(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?bB:null:null;class bB extends Array{constructor(e){super(e),this.fill(0)}}class vB{heap;length;static#e=!1;static create(e){const t=wB(e);if(!t)return[];vB.#e=!0;const r=new vB(e,t);return vB.#e=!1,r}constructor(e,t){if(!vB.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class EB{#t;#r;#i;#n;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#a;#c;#u;#h;#d;#l;#f;#p;#A;#g;#m;#y;#I;#w;#b;#v;static unsafeExposeInternals(e){return{starts:e.#y,ttls:e.#I,sizes:e.#m,keyMap:e.#c,keyList:e.#u,valList:e.#h,next:e.#d,prev:e.#l,get head(){return e.#f},get tail(){return e.#p},free:e.#A,isBackgroundFetch:t=>e.#E(t),backgroundFetch:(t,r,i,n)=>e.#C(t,r,i,n),moveToTail:t=>e.#B(t),indexes:t=>e.#S(t),rindexes:t=>e.#_(t),isStale:t=>e.#Q(t)}}get max(){return this.#t}get maxSize(){return this.#r}get calculatedSize(){return this.#a}get size(){return this.#s}get fetchMethod(){return this.#o}get dispose(){return this.#i}get disposeAfter(){return this.#n}constructor(e){const{max:t=0,ttl:r,ttlResolution:i=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:s,allowStale:a,dispose:c,disposeAfter:u,noDisposeOnSet:h,noUpdateTTL:d,maxSize:l=0,maxEntrySize:f=0,sizeCalculation:p,fetchMethod:A,noDeleteOnFetchRejection:g,noDeleteOnStaleGet:m,allowStaleOnFetchRejection:y,allowStaleOnFetchAbort:I,ignoreFetchAbort:w}=e;if(0!==t&&!IB(t))throw new TypeError("max option must be a nonnegative integer");const b=t?wB(t):Array;if(!b)throw new Error("invalid max value: "+t);if(this.#t=t,this.#r=l,this.maxEntrySize=f||this.#r,this.sizeCalculation=p,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==A&&"function"!=typeof A)throw new TypeError("fetchMethod must be a function if specified");if(this.#o=A,this.#b=!!A,this.#c=new Map,this.#u=new Array(t).fill(void 0),this.#h=new Array(t).fill(void 0),this.#d=new b(t),this.#l=new b(t),this.#f=0,this.#p=0,this.#A=vB.create(t),this.#s=0,this.#a=0,"function"==typeof c&&(this.#i=c),"function"==typeof u?(this.#n=u,this.#g=[]):(this.#n=void 0,this.#g=void 0),this.#w=!!this.#i,this.#v=!!this.#n,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!g,this.allowStaleOnFetchRejection=!!y,this.allowStaleOnFetchAbort=!!I,this.ignoreFetchAbort=!!w,0!==this.maxEntrySize){if(0!==this.#r&&!IB(this.#r))throw new TypeError("maxSize must be a positive integer if specified");if(!IB(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#D()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!m,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!s,this.ttlResolution=IB(i)||0===i?i:1,this.ttlAutopurge=!!n,this.ttl=r||0,this.ttl){if(!IB(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#k()}if(0===this.#t&&0===this.ttl&&0===this.#r)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#r){const e="LRU_CACHE_UNBOUNDED";(e=>!pB.has(e))(e)&&(pB.add(e),gB("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,EB))}}getRemainingTTL(e){return this.#c.has(e)?1/0:0}#k(){const e=new bB(this.#t),t=new bB(this.#t);this.#I=e,this.#y=t,this.#M=(r,i,n=fB.now())=>{if(t[r]=0!==i?n:0,e[r]=i,0!==i&&this.ttlAutopurge){const e=setTimeout((()=>{this.#Q(r)&&this.delete(this.#u[r])}),i+1);e.unref&&e.unref()}},this.#P=r=>{t[r]=0!==e[r]?fB.now():0},this.#x=(n,o)=>{if(e[o]){const s=e[o],a=t[o];n.ttl=s,n.start=a,n.now=r||i();const c=n.now-a;n.remainingTTL=s-c}};let r=0;const i=()=>{const e=fB.now();if(this.ttlResolution>0){r=e;const t=setTimeout((()=>r=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=n=>{const o=this.#c.get(n);if(void 0===o)return 0;const s=e[o],a=t[o];return 0===s||0===a?1/0:s-((r||i())-a)},this.#Q=n=>0!==e[n]&&0!==t[n]&&(r||i())-t[n]>e[n]}#P=()=>{};#x=()=>{};#M=()=>{};#Q=()=>!1;#D(){const e=new bB(this.#t);this.#a=0,this.#m=e,this.#F=t=>{this.#a-=e[t],e[t]=0},this.#R=(e,t,r,i)=>{if(this.#E(t))return 0;if(!IB(r)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(r=i(t,e),!IB(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#O=(t,r,i)=>{if(e[t]=r,this.#r){const r=this.#r-e[t];for(;this.#a>r;)this.#T(!0)}this.#a+=e[t],i&&(i.entrySize=r,i.totalCalculatedSize=this.#a)}}#F=e=>{};#O=(e,t,r)=>{};#R=(e,t,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#S({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#p;this.#N(t)&&(!e&&this.#Q(t)||(yield t),t!==this.#f);)t=this.#l[t]}*#_({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#f;this.#N(t)&&(!e&&this.#Q(t)||(yield t),t!==this.#p);)t=this.#d[t]}#N(e){return void 0!==e&&this.#c.get(this.#u[e])===e}*entries(){for(const e of this.#S())void 0===this.#h[e]||void 0===this.#u[e]||this.#E(this.#h[e])||(yield[this.#u[e],this.#h[e]])}*rentries(){for(const e of this.#_())void 0===this.#h[e]||void 0===this.#u[e]||this.#E(this.#h[e])||(yield[this.#u[e],this.#h[e]])}*keys(){for(const e of this.#S()){const t=this.#u[e];void 0===t||this.#E(this.#h[e])||(yield t)}}*rkeys(){for(const e of this.#_()){const t=this.#u[e];void 0===t||this.#E(this.#h[e])||(yield t)}}*values(){for(const e of this.#S())void 0===this.#h[e]||this.#E(this.#h[e])||(yield this.#h[e])}*rvalues(){for(const e of this.#_())void 0===this.#h[e]||this.#E(this.#h[e])||(yield this.#h[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const r of this.#S()){const i=this.#h[r],n=this.#E(i)?i.__staleWhileFetching:i;if(void 0!==n&&e(n,this.#u[r],this))return this.get(this.#u[r],t)}}forEach(e,t=this){for(const r of this.#S()){const i=this.#h[r],n=this.#E(i)?i.__staleWhileFetching:i;void 0!==n&&e.call(t,n,this.#u[r],this)}}rforEach(e,t=this){for(const r of this.#_()){const i=this.#h[r],n=this.#E(i)?i.__staleWhileFetching:i;void 0!==n&&e.call(t,n,this.#u[r],this)}}purgeStale(){let e=!1;for(const t of this.#_({allowStale:!0}))this.#Q(t)&&(this.delete(this.#u[t]),e=!0);return e}dump(){const e=[];for(const t of this.#S({allowStale:!0})){const r=this.#u[t],i=this.#h[t],n=this.#E(i)?i.__staleWhileFetching:i;if(void 0===n||void 0===r)continue;const o={value:n};if(this.#I&&this.#y){o.ttl=this.#I[t];const e=fB.now()-this.#y[t];o.start=Math.floor(Date.now()-e)}this.#m&&(o.size=this.#m[t]),e.unshift([r,o])}return e}load(e){this.clear();for(const[t,r]of e){if(r.start){const e=Date.now()-r.start;r.start=fB.now()-e}this.set(t,r.value,r)}}set(e,t,r={}){if(void 0===t)return this.delete(e),this;const{ttl:i=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=r;let{noUpdateTTL:c=this.noUpdateTTL}=r;const u=this.#R(e,t,r.size||0,s);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let h=0===this.#s?void 0:this.#c.get(e);if(void 0===h)h=0===this.#s?this.#p:0!==this.#A.length?this.#A.pop():this.#s===this.#t?this.#T(!1):this.#s,this.#u[h]=e,this.#h[h]=t,this.#c.set(e,h),this.#d[this.#p]=h,this.#l[h]=this.#p,this.#p=h,this.#s++,this.#O(h,u,a),a&&(a.set="add"),c=!1;else{this.#B(h);const r=this.#h[h];if(t!==r){if(this.#b&&this.#E(r)?r.__abortController.abort(new Error("replaced")):o||(this.#w&&this.#i?.(r,e,"set"),this.#v&&this.#g?.push([r,e,"set"])),this.#F(h),this.#O(h,u,a),this.#h[h]=t,a){a.set="replace";const e=r&&this.#E(r)?r.__staleWhileFetching:r;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0===i||this.#I||this.#k(),this.#I&&(c||this.#M(h,i,n),a&&this.#x(a,h)),!o&&this.#v&&this.#g){const e=this.#g;let t;for(;t=e?.shift();)this.#n?.(...t)}return this}pop(){try{for(;this.#s;){const e=this.#h[this.#f];if(this.#T(!0),this.#E(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#v&&this.#g){const e=this.#g;let t;for(;t=e?.shift();)this.#n?.(...t)}}}#T(e){const t=this.#f,r=this.#u[t],i=this.#h[t];return this.#b&&this.#E(i)?i.__abortController.abort(new Error("evicted")):(this.#w||this.#v)&&(this.#w&&this.#i?.(i,r,"evict"),this.#v&&this.#g?.push([i,r,"evict"])),this.#F(t),e&&(this.#u[t]=void 0,this.#h[t]=void 0,this.#A.push(t)),1===this.#s?(this.#f=this.#p=0,this.#A.length=0):this.#f=this.#d[t],this.#c.delete(r),this.#s--,t}has(e,t={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=t,n=this.#c.get(e);if(void 0!==n){const e=this.#h[n];if(this.#E(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#Q(n))return r&&this.#P(n),i&&(i.has="hit",this.#x(i,n)),!0;i&&(i.has="stale",this.#x(i,n))}else i&&(i.has="miss");return!1}peek(e,t={}){const{allowStale:r=this.allowStale}=t,i=this.#c.get(e);if(void 0!==i&&(r||!this.#Q(i))){const e=this.#h[i];return this.#E(e)?e.__staleWhileFetching:e}}#C(e,t,r,i){const n=void 0===t?void 0:this.#h[t];if(this.#E(n))return n;const o=new mB,{signal:s}=r;s?.addEventListener("abort",(()=>o.abort(s.reason)),{signal:o.signal});const a={signal:o.signal,options:r,context:i},c=(i,n=!1)=>{const{aborted:s}=o.signal,c=r.ignoreFetchAbort&&void 0!==i;if(r.status&&(s&&!n?(r.status.fetchAborted=!0,r.status.fetchError=o.signal.reason,c&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),s&&!c&&!n)return u(o.signal.reason);const d=h;return this.#h[t]===h&&(void 0===i?d.__staleWhileFetching?this.#h[t]=d.__staleWhileFetching:this.delete(e):(r.status&&(r.status.fetchUpdated=!0),this.set(e,i,a.options))),i},u=i=>{const{aborted:n}=o.signal,s=n&&r.allowStaleOnFetchAbort,a=s||r.allowStaleOnFetchRejection,c=a||r.noDeleteOnFetchRejection,u=h;if(this.#h[t]===h&&(c&&void 0!==u.__staleWhileFetching?s||(this.#h[t]=u.__staleWhileFetching):this.delete(e)),a)return r.status&&void 0!==u.__staleWhileFetching&&(r.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw i};r.status&&(r.status.fetchDispatched=!0);const h=new Promise(((t,i)=>{const s=this.#o?.(e,n,a);s&&s instanceof Promise&&s.then((e=>t(e)),i),o.signal.addEventListener("abort",(()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(t(),r.allowStaleOnFetchAbort&&(t=e=>c(e,!0)))}))})).then(c,(e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),u(e)))),d=Object.assign(h,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return void 0===t?(this.set(e,d,{...a.options,status:void 0}),t=this.#c.get(e)):this.#h[t]=d,d}#E(e){if(!this.#b)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof mB}async fetch(e,t={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:l=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:A=!1,status:g,signal:m}=t;if(!this.#b)return g&&(g.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,status:g});const y={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:s,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:f,ignoreFetchAbort:l,status:g,signal:m};let I=this.#c.get(e);if(void 0===I){g&&(g.fetch="miss");const t=this.#C(e,I,y,p);return t.__returned=t}{const t=this.#h[I];if(this.#E(t)){const e=r&&void 0!==t.__staleWhileFetching;return g&&(g.fetch="inflight",e&&(g.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const n=this.#Q(I);if(!A&&!n)return g&&(g.fetch="hit"),this.#B(I),i&&this.#P(I),g&&this.#x(g,I),t;const o=this.#C(e,I,y,p),s=void 0!==o.__staleWhileFetching&&r;return g&&(g.fetch=n?"stale":"refresh",s&&n&&(g.returnedStale=!0)),s?o.__staleWhileFetching:o.__returned=o}}get(e,t={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=t,s=this.#c.get(e);if(void 0!==s){const t=this.#h[s],a=this.#E(t);return o&&this.#x(o,s),this.#Q(s)?(o&&(o.get="stale"),a?(o&&r&&void 0!==t.__staleWhileFetching&&(o.returnedStale=!0),r?t.__staleWhileFetching:void 0):(n||this.delete(e),o&&r&&(o.returnedStale=!0),r?t:void 0)):(o&&(o.get="hit"),a?t.__staleWhileFetching:(this.#B(s),i&&this.#P(s),t))}o&&(o.get="miss")}#U(e,t){this.#l[t]=e,this.#d[e]=t}#B(e){e!==this.#p&&(e===this.#f?this.#f=this.#d[e]:this.#U(this.#l[e],this.#d[e]),this.#U(this.#p,e),this.#p=e)}delete(e){let t=!1;if(0!==this.#s){const r=this.#c.get(e);if(void 0!==r)if(t=!0,1===this.#s)this.clear();else{this.#F(r);const t=this.#h[r];this.#E(t)?t.__abortController.abort(new Error("deleted")):(this.#w||this.#v)&&(this.#w&&this.#i?.(t,e,"delete"),this.#v&&this.#g?.push([t,e,"delete"])),this.#c.delete(e),this.#u[r]=void 0,this.#h[r]=void 0,r===this.#p?this.#p=this.#l[r]:r===this.#f?this.#f=this.#d[r]:(this.#d[this.#l[r]]=this.#d[r],this.#l[this.#d[r]]=this.#l[r]),this.#s--,this.#A.push(r)}}if(this.#v&&this.#g?.length){const e=this.#g;let t;for(;t=e?.shift();)this.#n?.(...t)}return t}clear(){for(const e of this.#_({allowStale:!0})){const t=this.#h[e];if(this.#E(t))t.__abortController.abort(new Error("deleted"));else{const r=this.#u[e];this.#w&&this.#i?.(t,r,"delete"),this.#v&&this.#g?.push([t,r,"delete"])}}if(this.#c.clear(),this.#h.fill(void 0),this.#u.fill(void 0),this.#I&&this.#y&&(this.#I.fill(0),this.#y.fill(0)),this.#m&&this.#m.fill(0),this.#f=0,this.#p=0,this.#A.length=0,this.#a=0,this.#s=0,this.#v&&this.#g){const e=this.#g;let t;for(;t=e?.shift();)this.#n?.(...t)}}}var CB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class BB{constructor(e){this.timeToLiveInSeconds=e,this.cache=new EB({max:1e5,ttl:1e3*e})}set(e,t){return CB(this,void 0,void 0,(function*(){try{this.cache.set(e,t)}catch(e){}}))}get(e){return CB(this,void 0,void 0,(function*(){return this.cache.get(e)}))}dump(){return CB(this,void 0,void 0,(function*(){for(const[e,t]of this.cache)console.debug(e,t)}))}}var SB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class _B{constructor(e,t){this.jws=e,this.cache=t||new BB(600)}verify(e){return SB(this,void 0,void 0,(function*(){const t=[];for(const r of this.jws.signatures){let i;const n=`${r.protected}.${this.jws.payload}.${r.signature}`,o=OE.getKid(r),s=yield _B.getPublicKey(o,e),a=yield this.cache.get(n);void 0===a?(i=yield OE.verifySignature(this.jws.payload,r,s),yield this.cache.set(n,i)):i=a;const c=OE.extractDid(o);if(!i)throw new kE(ME.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${c}`);t.push(c)}return{signers:t}}))}static getPublicKey(e,t){return SB(this,void 0,void 0,(function*(){const r=OE.extractDid(e),{didDocument:i}=yield t.resolve(r),{verificationMethod:n=[]}=i||{};let o;for(const t of n)if(e.endsWith(t.id)){o=t;break}if(!o)throw new Error("public key needed to verify signature not found in DID Document");zC("JwkVerificationMethod",o);const{publicKeyJwk:s}=o;return s}))}}var QB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};function DB(e,t,r="GenericSignaturePayload"){return QB(this,void 0,void 0,(function*(){if(1!==e.signatures.length)throw new Error("expected no more than 1 signature for authorization purpose");const i=OE.decodePlainObjectPayload(e);zC(r,i);const{descriptorCid:n}=i,o=yield QA.computeCid(t);if(n!==o)throw new Error(`provided descriptorCid ${n} does not match expected CID ${o}`);return i}))}function kB(e,t){return QB(this,void 0,void 0,(function*(){if(void 0===e)throw new kE(ME.AuthenticateJwsMissing,"Missing JWS.");const r=new _B(e.authorSignature);if(yield r.verify(t),void 0!==e.ownerSignature){const r=new _B(e.ownerSignature);yield r.verify(t)}}))}function MB(e,t){return QB(this,void 0,void 0,(function*(){if(t.author!==e)throw new Error("message failed authorization, permission grant check not yet implemented")}))}var PB,xB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.CreatedAscending="createdAscending",e.CreatedDescending="createdDescending",e.PublishedAscending="publishedAscending",e.PublishedDescending="publishedDescending"}(PB||(PB={}));class FB extends $C{static parse(e){return xB(this,void 0,void 0,(function*(){return void 0!==e.authorization&&(yield DB(e.authorization.authorSignature,e.descriptor)),void 0!==e.descriptor.filter.protocol&&oB(e.descriptor.filter.protocol),void 0!==e.descriptor.filter.schema&&aB(e.descriptor.filter.schema),new FB(e)}))}static create(e){var t;return xB(this,void 0,void 0,(function*(){const r={interface:JC.Records,method:YC.Query,messageTimestamp:null!==(t=e.messageTimestamp)&&void 0!==t?t:IE(),filter:dB.normalizeFilter(e.filter),dateSort:e.dateSort,pagination:e.pagination};jE(r);const i=e.authorizationSigner,n={descriptor:r,authorization:i?yield $C.createAuthorizationAsAuthor(r,i):void 0};return $C.validateJsonSchema(n),new FB(n)}))}}class RB{static toBytes(e){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return new Promise(((t,r)=>{const i=[];e.on("data",(e=>{i.push(e)})),e.on("end",(()=>{const e=RB.concatenateArrayOfBytes(i);t(e)})),e.on("error",r)}))}))}static concatenateArrayOfBytes(e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let i=0;for(const t of e)r.set(t,i),i+=t.length;return r}static fromBytes(e){const t=1e5;let r=0;return new rB.Readable({read(i){r+t>e.length?(this.push(e.subarray(r)),this.push(null)):(this.push(e.subarray(r,r+t)),r+=t)}})}static fromObject(e){const t=vE.objectToBytes(e);return RB.fromBytes(t)}}var OB=n(94676);class TB{static getMethodSpecificId(e){const t=e.indexOf(":",4);return e.substring(t+1)}static validate(e){if("string"!=typeof e)throw new Error(`DID is not string: ${e}`);if(!/^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(\/[^#?]*)?([?][^#]*)?(#.*)?$/.test(e))throw new TypeError(`DID is not a valid DID: ${e}`)}static getMethodName(e){const t=e.indexOf(":",4);return e.substring(4,t)}}var NB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class UB{method(){return"key"}static getMulticodecSize(e){let t=0;for(;;){const r=e[t];if(t++,128!=(128&r))break}return t}resolve(e){return NB(this,void 0,void 0,(function*(){const[t,r,i]=e.split(":",3);try{const t=$.decode(i),r=OB.decode(t),n=UB.getMulticodecSize(t),o=t.slice(n),s=[];let a;if(237===r)s.push("https://w3id.org/security/suites/ed25519-2020/v1"),a=yield DE.publicKeyToJwk(o);else{if(231!==r)throw Error(`key type of multicodec ${r} is not supported`);a=yield xE.publicKeyToJwk(o)}const c=`${e}#${i}`;return{"@context":"https://w3id.org/did-resolution/v1",didDocument:{"@context":["https://www.w3.org/ns/did/v1","https://w3id.org/security/suites/jws-2020/v1",...s],id:e,verificationMethod:[{id:c,type:"JsonWebKey2020",controller:e,publicKeyJwk:a}],authentication:[c],assertionMethod:[c],capabilityDelegation:[c],capabilityInvocation:[c]},didDocumentMetadata:{},didResolutionMetadata:{}}}catch(e){return{didDocument:void 0,didDocumentMetadata:{},didResolutionMetadata:{error:"invalidDid"}}}}))}static generate(){return NB(this,void 0,void 0,(function*(){const{publicJwk:e,privateJwk:t}=yield DE.generateKeyPair(),r=OB.encode(237),i=vE.base64UrlToBytes(e.x),n=new Uint8Array(r.length+i.byteLength);n.set(r,0),n.set(i,r.length);const o=`did:key:${$.encode(n)}`;return{did:o,keyId:UB.getKeyId(o),keyPair:{publicJwk:e,privateJwk:t}}}))}static getKeyId(e){return`${e}#${TB.getMethodSpecificId(e)}`}dump(){return NB(this,void 0,void 0,(function*(){}))}}var jB,LB=n(54098),qB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const KB=null!==(jB=globalThis.fetch)&&void 0!==jB?jB:LB;class HB{constructor(e="https://discover.did.msidentity.com/1.0/identifiers/"){this.resolutionEndpoint=e}method(){return"ion"}resolve(e){return qB(this,void 0,void 0,(function*(){const t=new URL("./"+e,this.resolutionEndpoint).toString(),r=yield KB(t);if(200!==r.status)throw new Error(`unable to resolve ${e}, got http status ${r.status}`);return yield r.json()}))}dump(){return qB(this,void 0,void 0,(function*(){}))}}var GB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class zB{constructor(e,t){this.cache=t||new BB(600),void 0!==e&&0!==e.length||(e=[new HB,new UB]),this.didResolvers=new Map;for(const t of e)this.didResolvers.set(t.method(),t)}resolve(e){return GB(this,void 0,void 0,(function*(){TB.validate(e);const t=e.split(":",3)[1],r=this.didResolvers.get(t);if(!r)throw new Error(`${t} DID method not supported`);const i=yield this.cache.get(e),n=null!=i?i:yield r.resolve(e);void 0===i&&(yield this.cache.set(e,n));const{didDocument:o,didResolutionMetadata:s}=n;if(!o||(null==s?void 0:s.error)){const{error:t}=s;let r=`Failed to resolve DID ${e}.`;throw r+=t?` Error: ${t}`:"",new Error(r)}return n}))}dump(){var e,t,r;return GB(this,void 0,void 0,(function*(){console.group("didResolvers");for(const[t,r]of this.didResolvers)console.group(t),yield null===(e=r.dump)||void 0===e?void 0:e.call(r),console.groupEnd();console.groupEnd(),console.group("didCache"),yield null===(r=(t=this.cache).dump)||void 0===r?void 0:r.call(t),console.groupEnd()}))}}var JB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class YB extends $C{static parse(e){return JB(this,void 0,void 0,(function*(){return $C.validateJsonSchema(e),yield DB(e.authorization.authorSignature,e.descriptor),new YB(e)}))}static create(e){var t;return JB(this,void 0,void 0,(function*(){const r={interface:JC.Events,method:YC.Get,messageTimestamp:null!==(t=e.messageTimestamp)&&void 0!==t?t:IE()};e.watermark&&(r.watermark=e.watermark);const i={descriptor:r,authorization:yield $C.createAuthorizationAsAuthor(r,e.authorizationSigner)};return $C.validateJsonSchema(i),new YB(i)}))}}function VB(e,t){return{status:{code:t,detail:e instanceof Error?e.message:"Error"}}}class $B{constructor(e,t){this.didResolver=e,this.eventLog=t}handle({tenant:e,message:t}){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let r,i;try{r=yield YB.parse(t)}catch(e){return VB(e,400)}try{yield kB(t.authorization,this.didResolver),yield MB(e,r)}catch(e){return VB(e,401)}return t.descriptor.watermark&&(i={gt:t.descriptor.watermark}),{status:{code:200,detail:"OK"},events:yield this.eventLog.getEvents(e,i)}}))}}var WB=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class ZB extends $C{static parse(e){return WB(this,void 0,void 0,(function*(){return $C.validateJsonSchema(e),this.validateMessageCids(e.descriptor.messageCids),yield DB(e.authorization.authorSignature,e.descriptor),new ZB(e)}))}static create(e){var t;return WB(this,void 0,void 0,(function*(){const r={interface:JC.Messages,method:YC.Get,messageCids:e.messageCids,messageTimestamp:null!==(t=null==e?void 0:e.messageTimestamp)&&void 0!==t?t:IE()},i={descriptor:r,authorization:yield $C.createAuthorizationAsAuthor(r,e.authorizationSigner)};return $C.validateJsonSchema(i),ZB.validateMessageCids(e.messageCids),new ZB(i)}))}static validateMessageCids(e){for(const t of e)try{QA.parseCid(t)}catch(e){throw new Error(`${t} is not a valid CID`)}}}class XB{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}handle({tenant:e,message:t}){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let r;try{r=yield ZB.parse(t)}catch(e){return VB(e,400)}try{yield kB(t.authorization,this.didResolver),yield MB(e,r)}catch(e){return VB(e,401)}const i=[],n=new Set(t.descriptor.messageCids);for(const t of n){const r=this.messageStore.get(e,t).then((e=>({messageCid:t,message:e}))).catch((e=>({messageCid:t,message:void 0,error:`Failed to get message ${t}`})));i.push(r)}const o=yield Promise.all(i);for(const e of o){const{message:t}=e;if(!t)continue;const{interface:r,method:i}=t.descriptor;if(r!==JC.Records||i!==YC.Write)continue;const n=t;void 0!==n.encodedData&&(e.encodedData=n.encodedData,delete n.encodedData)}return{status:{code:200,detail:"OK"},messages:o}}))}}var eS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class tS extends $C{static parse(e){return eS(this,void 0,void 0,(function*(){return yield DB(e.authorization.authorSignature,e.descriptor),tS.validateScope(e),new tS(e)}))}static create(e){var t;return eS(this,void 0,void 0,(function*(){const r=Object.assign({},e.scope);r.protocol=void 0!==r.protocol?sB(r.protocol):void 0,r.schema=void 0!==r.schema?cB(r.schema):void 0;const i={interface:JC.Permissions,method:YC.Grant,messageTimestamp:null!==(t=e.messageTimestamp)&&void 0!==t?t:IE(),dateExpires:e.dateExpires,description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,permissionsRequestId:e.permissionsRequestId,scope:r,conditions:e.conditions};jE(i);const n={descriptor:i,authorization:yield $C.createAuthorizationAsAuthor(i,e.authorizationSigner)};return $C.validateJsonSchema(n),tS.validateScope(n),new tS(n)}))}static createFromPermissionsRequest(e,t,r){var i,n,o,s,a,c;return eS(this,void 0,void 0,(function*(){const u=e.message.descriptor;return tS.create({dateExpires:r.dateExpires,description:null!==(i=r.description)&&void 0!==i?i:u.description,grantedBy:null!==(n=r.grantedBy)&&void 0!==n?n:u.grantedBy,grantedTo:null!==(o=r.grantedTo)&&void 0!==o?o:u.grantedTo,grantedFor:null!==(s=r.grantedFor)&&void 0!==s?s:u.grantedFor,permissionsRequestId:yield $C.getCid(e.message),scope:null!==(a=r.scope)&&void 0!==a?a:u.scope,conditions:null!==(c=r.conditions)&&void 0!==c?c:u.conditions,authorizationSigner:t})}))}authorize(){const{grantedBy:e,grantedFor:t}=this.message.descriptor;if(this.author!==e)throw new kE(ME.PermissionsGrantGrantedByMismatch,"Message author must match grantedBy property");if(e!==t)throw new kE(ME.PermissionsGrantUnauthorizedGrant,`${e} is not authorized to give access to the DWN belonging to ${t}`)}static validateScope(e){const t=e.descriptor.scope;if(void 0!==t.schema&&(void 0!==t.protocol||void 0!==t.contextId||t.protocolPath))throw new kE(ME.PermissionsGrantScopeSchemaProhibitedFields,"PermissionsGrants for RecordsRead and RecordsWrite that have `schema` present may not also have protocol-related properties present");if(void 0!==t.protocol&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new kE(ME.PermissionsGrantScopeContextIdAndProtocolPath,"PermissionsGrants for RecordsRead and RecordsWrite may not have both `contextId` and `protocolPath` present")}}class rS{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.eventLog=r}handle({tenant:e,message:t}){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let r;try{r=yield tS.parse(t)}catch(e){return VB(e,400)}try{yield kB(t.authorization,this.didResolver),yield r.authorize()}catch(e){return VB(e,401)}const i=t.descriptor,{scope:n,conditions:o}=i,s=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(i,["scope","conditions"]),a=Object.assign({author:r.author},s),c=yield $C.getCid(t);return void 0===(yield this.messageStore.get(e,c))&&(yield this.messageStore.put(e,t,a),yield this.eventLog.append(e,c)),{status:{code:202,detail:"Accepted"}}}))}}var iS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class nS extends $C{static parse(e){return iS(this,void 0,void 0,(function*(){return yield DB(e.authorization.authorSignature,e.descriptor),new nS(e)}))}static create(e){var t;return iS(this,void 0,void 0,(function*(){const r={interface:JC.Permissions,method:YC.Request,messageTimestamp:null!==(t=e.messageTimestamp)&&void 0!==t?t:IE(),description:e.description,grantedTo:e.grantedTo,grantedBy:e.grantedBy,grantedFor:e.grantedFor,scope:e.scope,conditions:e.conditions};jE(r);const i={descriptor:r,authorization:yield $C.createAuthorizationAsAuthor(r,e.authorizationSigner)};return $C.validateJsonSchema(i),new nS(i)}))}}class oS{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.eventLog=r}handle({tenant:e,message:t}){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let r;try{r=yield nS.parse(t)}catch(e){return VB(e,400)}try{yield kB(t.authorization,this.didResolver)}catch(e){return VB(e,401)}const i=t.descriptor,{scope:n,conditions:o}=i,s=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(i,["scope","conditions"]),a=Object.assign(Object.assign({},s),{author:r.author}),c=yield $C.getCid(t);return void 0===(yield this.messageStore.get(e,c))&&(yield this.messageStore.put(e,t,a),yield this.eventLog.append(e,c)),{status:{code:202,detail:"Accepted"}}}))}}var sS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class aS extends $C{static parse(e){return sS(this,void 0,void 0,(function*(){return yield DB(e.authorization.authorSignature,e.descriptor),new aS(e)}))}static create(e){var t;return sS(this,void 0,void 0,(function*(){const r={interface:JC.Permissions,method:YC.Revoke,messageTimestamp:null!==(t=e.messageTimestamp)&&void 0!==t?t:IE(),permissionsGrantId:e.permissionsGrantId},i={descriptor:r,authorization:yield $C.createAuthorizationAsAuthor(r,e.authorizationSigner)};return $C.validateJsonSchema(i),new aS(i)}))}authorize(e){return sS(this,void 0,void 0,(function*(){if(this.author!==e.descriptor.grantedFor)throw new kE(ME.PermissionsRevokeUnauthorizedRevoke,"Only the DWN owner may revoke a grant")}))}}class cS{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.eventLog=r}handle({tenant:e,message:t}){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let r;try{r=yield aS.parse(t)}catch(e){return VB(e,400)}try{yield kB(t.authorization,this.didResolver)}catch(e){return VB(e,401)}const i=t.descriptor.permissionsGrantId,n=yield this.messageStore.get(e,i);if(void 0===n)return{status:{code:400,detail:`Could not find PermissionsGrant with CID ${i}`}};try{yield r.authorize(n)}catch(e){return VB(e,401)}if(t.descriptor.messageTimestamp<n.descriptor.messageTimestamp)return{status:{code:400,detail:"PermissionsRevoke has earlier date than associated PermissionsGrant"}};const o={interface:JC.Permissions,method:YC.Revoke,permissionsGrantId:i},{messages:s}=yield this.messageStore.query(e,[o]),a=yield $C.getOldestMessage(s);if(void 0!==a&&!(yield $C.isOlder(t,a)))return{status:{code:409,detail:"Conflict"}};const c={interface:JC.Permissions,method:YC.Revoke,permissionsGrantId:t.descriptor.permissionsGrantId};yield this.messageStore.put(e,t,c),yield this.eventLog.append(e,yield $C.getCid(t));const u=[];for(const t of s){const r=yield $C.getCid(t);yield this.messageStore.delete(e,r),u.push(r)}yield this.eventLog.deleteEventsByCid(e,u);const h={permissionsGrantId:i,dateCreated:{gte:t.descriptor.messageTimestamp}},{messages:d}=yield this.messageStore.query(e,[h]);for(const t of d){const r=yield $C.getCid(t);yield this.messageStore.delete(e,r)}return this.eventLog.deleteEventsByCid(e,[]),{status:{code:202,detail:"Accepted"}}}))}}var uS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class hS extends $C{static parse(e){return uS(this,void 0,void 0,(function*(){return $C.validateJsonSchema(e),hS.validateProtocolDefinition(e.descriptor.definition),yield DB(e.authorization.authorSignature,e.descriptor),new hS(e)}))}static create(e){var t;return uS(this,void 0,void 0,(function*(){const r={interface:JC.Protocols,method:YC.Configure,messageTimestamp:null!==(t=e.messageTimestamp)&&void 0!==t?t:IE(),definition:hS.normalizeDefinition(e.definition)},i={descriptor:r,authorization:yield $C.createAuthorizationAsAuthor(r,e.authorizationSigner,{permissionsGrantId:e.permissionsGrantId})};return $C.validateJsonSchema(i),hS.validateProtocolDefinition(i.descriptor.definition),new hS(i)}))}static validateProtocolDefinition(e){const{protocol:t,types:r}=e;oB(t);for(const e in r){const t=r[e].schema;void 0!==t&&aB(t)}hS.validateStructure(e)}static validateStructure(e){const t=[];for(const r in e.structure)e.structure[r].$globalRole&&t.push(r);for(const r in e.structure){const i=e.structure[r],n=[];for(const e in i)e.startsWith("$")||i[e].$contextRole&&n.push(`${r}/${e}`);hS.validateRuleSet(i,r,[...t,...n])}}static validateRuleSet(e,t,r){var i;const n=t.split("/").length;if(e.$globalRole&&1!==n)throw new kE(ME.ProtocolsConfigureGlobalRoleAtProhibitedProtocolPath,`$globalRole is not allowed at protocol path (${t}). Only root records may set $globalRole true.`);if(e.$contextRole&&2!==n)throw new kE(ME.ProtocolsConfigureContextRoleAtProhibitedProtocolPath,`$contextRole is not allowed at protocol path (${t}). Only second-level records may set $contextRole true.`);const o=null!==(i=e.$actions)&&void 0!==i?i:[];for(const e of o){if(void 0!==e.role&&!r.includes(e.role))throw new kE(ME.ProtocolsConfigureInvalidRole,`Invalid role '${e.role}' found at protocol path '${t}'`);if("anyone"===e.who&&e.of)throw new kE(ME.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at protocol path (${t})`);if(void 0!==e.who&&["author","recipient"].includes(e.who)&&!e.of)throw new kE(ME.ProtocolsConfigureInvalidActionMissingOf,`'of' is required at protocol path (${t})`)}for(const i in e){if(i.startsWith("$"))continue;const n=e[i],o=`${t}/${i}`;hS.validateRuleSet(n,o,r)}}static normalizeDefinition(e){const t=Object.assign({},e.types);for(const e in t){const r=t[e].schema;void 0!==r&&(t[e].schema=cB(r))}return Object.assign(Object.assign({},e),{protocol:sB(e.protocol),types:t})}}class dS{constructor(e,t,r,i){this.didResolver=e,this.messageStore=t,this.dataStore=r,this.eventLog=i}handle({tenant:e,message:t,dataStream:r}){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let r;try{r=yield hS.parse(t)}catch(e){return VB(e,400)}try{yield kB(t.authorization,this.didResolver),yield MB(e,r)}catch(e){return VB(e,401)}const i={interface:JC.Protocols,method:YC.Configure,protocol:t.descriptor.definition.protocol},{messages:n}=yield this.messageStore.query(e,[i]);let o,s=yield $C.getNewestMessage(n),a=!1;if((void 0===s||(yield $C.isNewer(t,s)))&&(a=!0,s=t),a){const i=dS.constructProtocolsConfigureIndexes(r),n=yield $C.getCid(t);yield this.messageStore.put(e,t,i),yield this.eventLog.append(e,n),o={status:{code:202,detail:"Accepted"}}}else o={status:{code:409,detail:"Conflict"}};const c=[];for(const t of n)if(yield $C.isNewer(s,t)){const r=yield $C.getCid(t);c.push(r),yield this.messageStore.delete(e,r)}return yield this.eventLog.deleteEventsByCid(e,c),o}))}static constructProtocolsConfigureIndexes(e){const t=e.message.descriptor,{definition:r}=t,i=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(t,["definition"]),{author:n}=e;return Object.assign(Object.assign({},i),{author:n,protocol:r.protocol,published:r.published})}}var lS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class fS{static authorizeGenericMessage(e,t,r,i,n){return lS(this,void 0,void 0,(function*(){const o=t.message.descriptor,s=yield fS.fetchGrant(e,n,i);return fS.verifyGrantedToAndGrantedFor(r,e,s),yield fS.verifyGrantActive(e,o.messageTimestamp,s,i,n),yield fS.verifyGrantScopeInterfaceAndMethod(o.interface,o.method,s,i),s}))}static fetchGrant(e,t,r){return lS(this,void 0,void 0,(function*(){const i=yield t.get(e,r),n=null==i?void 0:i.descriptor.interface,o=null==i?void 0:i.descriptor.method;if(void 0===i||n!==JC.Permissions||o!==YC.Grant)throw new kE(ME.GrantAuthorizationGrantMissing,`Could not find PermissionsGrant with CID ${r}`);return i}))}static verifyGrantedToAndGrantedFor(e,t,r){const i=r.descriptor.grantedTo;if(i!==e)throw new kE(ME.GrantAuthorizationNotGrantedToAuthor,`PermissionsGrant has grantedTo ${i}, but given ${e}`);const n=r.descriptor.grantedFor;if(n!==t)throw new kE(ME.GrantAuthorizationNotGrantedForTenant,`PermissionsGrant has grantedFor ${n}, but given ${t}`)}static verifyGrantActive(e,t,r,i,n){return lS(this,void 0,void 0,(function*(){if(t<r.descriptor.messageTimestamp)throw new kE(ME.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated PermissionsGrant becomes active");if(t>=r.descriptor.dateExpires)throw new kE(ME.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated PermissionsGrant");const o={interface:JC.Permissions,method:YC.Revoke,permissionsGrantId:i},{messages:s}=yield n.query(e,[o]),a=yield $C.getOldestMessage(s);if(void 0!==a&&a.descriptor.messageTimestamp<=t)throw new kE(ME.GrantAuthorizationGrantRevoked,`PermissionsGrant with CID ${i} has been revoked`)}))}static verifyGrantScopeInterfaceAndMethod(e,t,r,i){return lS(this,void 0,void 0,(function*(){if(e!==r.descriptor.scope.interface)throw new kE(ME.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of PermissionsGrant with CID ${i}`);if(t!==r.descriptor.scope.method)throw new kE(ME.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of PermissionsGrant with CID ${i}`)}))}}var pS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class AS extends $C{static parse(e){return pS(this,void 0,void 0,(function*(){return void 0!==e.authorization&&(yield DB(e.authorization.authorSignature,e.descriptor)),void 0!==e.descriptor.filter&&oB(e.descriptor.filter.protocol),new AS(e)}))}static create(e){var t;return pS(this,void 0,void 0,(function*(){const r={interface:JC.Protocols,method:YC.Query,messageTimestamp:null!==(t=e.messageTimestamp)&&void 0!==t?t:IE(),filter:AS.normalizeFilter(e.filter)};let i;jE(r),void 0!==e.authorizationSigner&&(i=yield $C.createAuthorizationAsAuthor(r,e.authorizationSigner,{permissionsGrantId:e.permissionsGrantId}));const n={descriptor:r,authorization:i};return $C.validateJsonSchema(n),new AS(n)}))}static normalizeFilter(e){if(void 0!==e)return Object.assign(Object.assign({},e),{protocol:sB(e.protocol)})}authorize(e,t){return pS(this,void 0,void 0,(function*(){if(this.author!==e){if(void 0===this.author||!this.authorSignaturePayload.permissionsGrantId)throw new kE(ME.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");yield fS.authorizeGenericMessage(e,this,this.author,this.authorSignaturePayload.permissionsGrantId,t)}}))}}var gS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class mS{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}handle({tenant:e,message:t}){return gS(this,void 0,void 0,(function*(){let r;try{r=yield AS.parse(t)}catch(e){return VB(e,400)}if(void 0===r.author)return{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(e,r)};try{yield kB(t.authorization,this.didResolver),yield r.authorize(e,this.messageStore)}catch(e){return VB(e,401)}const i=Object.assign(Object.assign({},t.descriptor.filter),{interface:JC.Protocols,method:YC.Configure});jE(i);const{messages:n}=yield this.messageStore.query(e,[i]);return{status:{code:200,detail:"OK"},entries:n}}))}fetchPublishedProtocolsConfigure(e,t){return gS(this,void 0,void 0,(function*(){const r=Object.assign(Object.assign({},t.message.descriptor.filter),{interface:JC.Protocols,method:YC.Configure,published:!0}),{messages:i}=yield this.messageStore.query(e,[r]);return i}))}}var yS,IS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class wS extends $C{static parse(e){return IS(this,void 0,void 0,(function*(){return yield DB(e.authorization.authorSignature,e.descriptor),new wS(e)}))}static create(e){var t;return IS(this,void 0,void 0,(function*(){const r=e.recordId,i=IE(),n={interface:JC.Records,method:YC.Delete,recordId:r,messageTimestamp:null!==(t=e.messageTimestamp)&&void 0!==t?t:i},o={descriptor:n,authorization:yield $C.createAuthorizationAsAuthor(n,e.authorizationSigner)};return $C.validateJsonSchema(o),new wS(o)}))}authorize(e){return IS(this,void 0,void 0,(function*(){yield MB(e,this)}))}}!function(e){e.Required="Required",e.Prohibited="Prohibited"}(yS||(yS={}));var bS,vS,ES=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class CS{static authorizeWrite(e,t,r,i){return ES(this,void 0,void 0,(function*(){const n=yield fS.authorizeGenericMessage(e,t,r,t.authorSignaturePayload.permissionsGrantId,i);CS.verifyScope(t,n),CS.verifyConditions(t,n)}))}static authorizeRead(e,t,r,i,n){return ES(this,void 0,void 0,(function*(){const o=yield fS.authorizeGenericMessage(e,t,i,t.authorSignaturePayload.permissionsGrantId,n);CS.verifyScope(r,o)}))}static verifyScope(e,t){const r=t.descriptor.scope;CS.isUnrestrictedScope(r)||(void 0!==e.message.descriptor.protocol?CS.authorizeProtocolRecord(e,r):CS.authorizeFlatRecord(e,r))}static authorizeProtocolRecord(e,t){if(void 0===t.protocol)throw new kE(ME.RecordsGrantAuthorizationScopeNotProtocol,"Grant for protocol record must specify protocol in its scope");if(t.protocol!==e.message.descriptor.protocol)throw new kE(ME.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==t.contextId&&t.contextId!==e.message.contextId)throw new kE(ME.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==t.protocolPath&&t.protocolPath!==e.message.descriptor.protocolPath)throw new kE(ME.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static authorizeFlatRecord(e,t){if(void 0!==t.schema&&t.schema!==e.message.descriptor.schema)throw new kE(ME.RecordsGrantAuthorizationScopeSchema,`Record does not have schema in PermissionsGrant scope with schema '${t.schema}'`)}static verifyConditions(e,t){const r=t.descriptor.conditions;if((null==r?void 0:r.publication)===yS.Required&&!e.message.descriptor.published)throw new kE(ME.RecordsGrantAuthorizationConditionPublicationRequired,"PermissionsGrant requires message to be published");if((null==r?void 0:r.publication)===yS.Prohibited&&e.message.descriptor.published)throw new kE(ME.RecordsGrantAuthorizationConditionPublicationProhibited,"PermissionsGrant prohibits message from being published")}static isUnrestrictedScope(e){return void 0===e.protocol&&void 0===e.schema}}!function(e){e.Anyone="anyone",e.Author="author",e.Recipient="recipient"}(bS||(bS={})),function(e){e.Read="read",e.Write="write"}(vS||(vS={}));var BS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const SS={[YC.Write]:vS.Write,[YC.Read]:vS.Read};class _S{static authorize(e,t,r,i){return BS(this,void 0,void 0,(function*(){const n=yield _S.constructAncestorMessageChain(e,t,r,i),o=yield _S.fetchProtocolDefinition(e,r,i);_S.verifyType(t.message,o.types),_S.verifyProtocolPath(t,n);const s=_S.getRuleSet(r,o);yield _S.verifyInvokedRole(e,t,r,o,i),yield _S.verifyAllowedActions(e,t,r,s,n,i),yield _S.verifyUniqueRoleRecipient(e,t,s,i),yield _S.verifyActionCondition(e,t,i)}))}static fetchProtocolDefinition(e,t,r){return BS(this,void 0,void 0,(function*(){const i=t.message.descriptor.protocol,n={interface:JC.Protocols,method:YC.Configure,protocol:i},{messages:o}=yield r.query(e,[n]);if(0===o.length)throw new Error(`unable to find protocol definition for ${i}`);return o[0].descriptor.definition}))}static constructAncestorMessageChain(e,t,r,i){return BS(this,void 0,void 0,(function*(){const n=[];t.message.descriptor.method!==YC.Write&&n.push(r.message);const o=r.message.descriptor.protocol,s=r.message.contextId;let a=r.message.descriptor.parentId;for(;void 0!==a;){const t={interface:JC.Records,method:YC.Write,protocol:o,contextId:s,recordId:a},{messages:r}=yield i.query(e,[t]);if(0===r.length)throw new Error(`no parent found with ID ${a}`);const c=r[0];n.push(c),a=c.descriptor.parentId}return n.reverse()}))}static getRuleSet(e,t){const r=e.message.descriptor.protocolPath,i=_S.getRuleSetAtProtocolPath(r,t);if(void 0===i)throw new kE(ME.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${r}`);return i}static verifyProtocolPath(e,t){if(e.message.descriptor.method!==YC.Write)return;const r=e.message.descriptor.protocolPath,i=_S.getTypeName(r);let n="";for(const e of t){const t=e.descriptor.protocolPath;n+=`${_S.getTypeName(t)}/`}const o=n+i;if(r!==o)throw new kE(ME.ProtocolAuthorizationIncorrectProtocolPath,`Declared protocol path '${r}' is not the same as actual protocol path '${o}'.`)}static verifyType(e,t){if(e.descriptor.method!==YC.Write)return;const r=e,i=Object.keys(t),n=r.descriptor.protocolPath,o=_S.getTypeName(n);if(!i.includes(o))throw new kE(ME.ProtocolAuthorizationInvalidType,`record with type ${o} not allowed in protocol`);const s=r.descriptor.protocolPath,a=_S.getTypeName(s),c=t[a],{schema:u}=r.descriptor;if(void 0!==c.schema&&c.schema!==u)throw new kE(ME.ProtocolAuthorizationInvalidSchema,`type '${a}' must have schema '${c.schema}',         instead has '${u}'`);const{dataFormat:h}=r.descriptor;if(void 0!==c.dataFormats&&!c.dataFormats.includes(h))throw new kE(ME.ProtocolAuthorizationIncorrectDataFormat,`type '${a}' must have data format in (${c.dataFormats}),         instead has '${h}'`)}static verifyInvokedRole(e,t,r,i,n){var o;return BS(this,void 0,void 0,(function*(){const s=null===(o=t.authorSignaturePayload)||void 0===o?void 0:o.protocolRole;if(void 0===s)return;const a=_S.getRuleSetAtProtocolPath(s,i);if(!(null==a?void 0:a.$globalRole)&&!(null==a?void 0:a.$contextRole))throw new kE(ME.ProtocolAuthorizationNotARole,`Protocol path ${s} is not a valid protocolRole`);const c={interface:JC.Records,method:YC.Write,protocol:r.message.descriptor.protocol,protocolPath:s,recipient:t.author,isLatestBaseState:!0};(null==a?void 0:a.$contextRole)&&(c.contextId=r.message.contextId);const{messages:u}=yield n.query(e,[c]);if(0===u.length)throw new kE(ME.ProtocolAuthorizationMissingRole,`No role record found for protocol path ${s}`)}))}static verifyAllowedActions(e,t,r,i,n,o){var s,a,c;return BS(this,void 0,void 0,(function*(){const u=t.message.descriptor.method,h=SS[u],d=t.author,l=i.$actions;if(void 0!==(null===(s=t.message.authorization)||void 0===s?void 0:s.ownerSignature))return;if(d===e)return;if(void 0!==t.author&&void 0!==(null===(a=t.authorSignaturePayload)||void 0===a?void 0:a.permissionsGrantId))return void(u===YC.Write?yield CS.authorizeWrite(e,t,t.author,o):yield CS.authorizeRead(e,t,r,t.author,o));if(void 0===l)throw new Error(`no action rule defined for ${u}, ${d} is unauthorized`);const f=null===(c=t.authorSignaturePayload)||void 0===c?void 0:c.protocolRole;for(const e of l)if(e.can===h)if(void 0===f){if(e.who===bS.Anyone)return;if(void 0!==d&&(yield _S.checkAncestorGroupActionRule(d,e,n)))return}else if(e.role===f)return;throw new kE(ME.ProtocolAuthorizationActionNotAllowed,`inbound message action ${h} not allowed for author`)}))}static verifyUniqueRoleRecipient(e,t,r,i){return BS(this,void 0,void 0,(function*(){if(t.message.descriptor.method!==YC.Write)return;const n=t;if(!r.$globalRole&&!r.$contextRole)return;const o=n.message.descriptor.recipient;if(void 0===o)throw new kE(ME.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const s=n.message.descriptor.protocolPath,a={interface:JC.Records,method:YC.Write,isLatestBaseState:!0,protocol:n.message.descriptor.protocol,protocolPath:s,recipient:o};r.$contextRole&&(a.contextId=n.message.contextId);const{messages:c}=yield i.query(e,[a]);if(c.filter((e=>e.recordId!==n.message.recordId)).length>0)throw r.$globalRole?new kE(ME.ProtocolAuthorizationDuplicateGlobalRoleRecipient,`DID '${o}' is already recipient of a $globalRole record at protocol path '${s}`):new kE(ME.ProtocolAuthorizationDuplicateContextRoleRecipient,`DID '${o}' is already recipient of a $contextRole record at protocol path '${s} in the same context`)}))}static verifyActionCondition(e,t,r){return BS(this,void 0,void 0,(function*(){if(t.message.descriptor.method===YC.Read);else if(t.message.descriptor.method===YC.Write){const i=t;if(!(yield i.isInitialWrite())){const t={entryId:i.message.recordId},{messages:n}=yield r.query(e,[t]),o=n[0],s=$C.getAuthor(o);if(i.author!==s)throw new Error(`author of incoming message '${i.author}' must match to author of initial write '${s}'`)}}}))}static getRuleSetAtProtocolPath(e,t){const r=e.split("/");let i=t.structure,n=0;for(;n<r.length;){const e=i[r[n]];if(void 0===e)return;i=e,n++}return i}static checkAncestorGroupActionRule(e,t,r){return BS(this,void 0,void 0,(function*(){const i=r.find((e=>e.descriptor.protocolPath===t.of));if(void 0===i)return!1;if(t.who===bS.Recipient)return e===i.descriptor.recipient;{const t=(yield DS.parse(i)).author;return e===t}}))}static getTypeName(e){return e.split("/").slice(-1)[0]}}var QS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class DS{get message(){if(void 0===this._message.authorization)throw new kE(ME.RecordsWriteMissingAuthorizationSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get authorSignaturePayload(){return this._authorSignaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}constructor(e){this._message=e,void 0!==e.authorization&&(this._author=$C.getAuthor(e),this._authorSignaturePayload=OE.decodePlainObjectPayload(e.authorization.authorSignature),void 0!==e.authorization.ownerSignature&&(this._owner=OE.getSignerDid(e.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=OE.decodePlainObjectPayload(e.authorization.ownerSignature))),this.attesters=DS.getAttesters(e)}static parse(e){return QS(this,void 0,void 0,(function*(){yield DB(e.authorization.authorSignature,e.descriptor,"RecordsWriteSignaturePayload"),void 0!==e.authorization.ownerSignature&&(yield DB(e.authorization.ownerSignature,e.descriptor)),yield DS.validateAttestationIntegrity(e);const t=new DS(e);return yield t.validateIntegrity(),t}))}static create(e){var t,r,i,n;return QS(this,void 0,void 0,(function*(){if(void 0===e.protocol&&void 0!==e.protocolPath||void 0!==e.protocol&&void 0===e.protocolPath)throw new Error("`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===e.data&&void 0===e.dataCid||void 0!==e.data&&void 0!==e.dataCid)throw new Error("one and only one parameter between `data` and `dataCid` is allowed");if(void 0===e.dataCid&&void 0!==e.dataSize||void 0!==e.dataCid&&void 0===e.dataSize)throw new Error("`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0!==e.parentId&&void 0===e.contextId)throw new Error("`contextId` must also be given when `parentId` is specified");const o=null!==(t=e.dataCid)&&void 0!==t?t:yield QA.computeDagPbCidFromBytes(e.data),s=null!==(r=e.dataSize)&&void 0!==r?r:e.data.length,a=IE(),c={interface:JC.Records,method:YC.Write,protocol:void 0!==e.protocol?sB(e.protocol):void 0,protocolPath:e.protocolPath,recipient:e.recipient,schema:void 0!==e.schema?cB(e.schema):void 0,parentId:e.parentId,dataCid:o,dataSize:s,dateCreated:null!==(i=e.dateCreated)&&void 0!==i?i:a,messageTimestamp:null!==(n=e.messageTimestamp)&&void 0!==n?n:a,published:e.published,datePublished:e.datePublished,dataFormat:e.dataFormat};!0===e.published&&void 0===e.datePublished&&(c.datePublished=a),jE(c);const u=e.recordId,h=e.contextId,d=yield QA.computeCid(c),l=yield DS.createAttestation(d,e.attestationSigners),f=yield DS.createEncryptionProperty(c,e.encryptionInput),p={recordId:u,descriptor:c};void 0!==h&&(p.contextId=h),void 0!==l&&(p.attestation=l),void 0!==f&&(p.encryption=f);const A=new DS(p);return void 0!==e.authorizationSigner&&(yield A.sign(e.authorizationSigner,{permissionsGrantId:e.permissionsGrantId,protocolRole:e.protocolRole})),A}))}static createFrom(e){var t,r;return QS(this,void 0,void 0,(function*(){const i=e.unsignedRecordsWriteMessage,n=IE(),o=null!==(t=e.published)&&void 0!==t?t:!!e.datePublished||i.descriptor.published;let s;e.datePublished?s=e.datePublished:o&&(s=i.descriptor.published?i.descriptor.datePublished:n);const a={recipient:i.descriptor.recipient,recordId:i.recordId,dateCreated:i.descriptor.dateCreated,contextId:i.contextId,protocol:i.descriptor.protocol,protocolPath:i.descriptor.protocolPath,parentId:i.descriptor.parentId,schema:i.descriptor.schema,dataFormat:i.descriptor.dataFormat,messageTimestamp:null!==(r=e.messageTimestamp)&&void 0!==r?r:n,published:o,datePublished:s,data:e.data,dataCid:e.data?void 0:i.descriptor.dataCid,dataSize:e.data?void 0:i.descriptor.dataSize,authorizationSigner:e.authorizationSigner,attestationSigners:e.attestationSigners};return yield DS.create(a)}))}toJSON(){return this.message}encryptSymmetricEncryptionKey(e){return QS(this,void 0,void 0,(function*(){this._message.encryption=yield DS.createEncryptionProperty(this._message.descriptor,e),delete this._message.authorization,this._authorSignaturePayload=void 0,this._author=void 0}))}sign(e,t){var r;return QS(this,void 0,void 0,(function*(){const i=OE.extractDid(e.keyId),n=this._message.descriptor,o=yield QA.computeCid(n);this._message.recordId=null!==(r=this._message.recordId)&&void 0!==r?r:yield DS.getEntryId(i,n),void 0===this._message.contextId&&void 0!==this._message.descriptor.protocol&&(this._message.contextId=yield DS.getEntryId(i,n));const s=yield DS.createAuthorSignature(this._message.recordId,this._message.contextId,o,this._message.attestation,this._message.encryption,e,t);this._message.authorization={authorSignature:s},this._authorSignaturePayload=OE.decodePlainObjectPayload(s),this._author=i}))}signAsOwner(e,t){return QS(this,void 0,void 0,(function*(){if(void 0===this._author)throw new kE(ME.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner if without author signature because owner needs to sign over `recordId` which depends on author DID.");const r=this._message.descriptor,i=yield $C.createSignature(r,e,{permissionsGrantId:t});this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=OE.decodePlainObjectPayload(i),this._owner=OE.extractDid(e.keyId)}))}authorize(e,t){return QS(this,void 0,void 0,(function*(){if(void 0!==this.owner&&this.owner!==e)throw new kE(ME.RecordsWriteOwnerAndTenantMismatch,`Owner ${this.owner} must be the same as tenant ${e} when specified.`);if(void 0===this.message.descriptor.protocol){if(void 0===this.owner&&this.author!==e){if(void 0===this.author||void 0===this.authorSignaturePayload.permissionsGrantId)throw new Error("message failed authorization");yield CS.authorizeWrite(e,this,this.author,t)}}else yield _S.authorize(e,this,this,t)}))}validateIntegrity(){return QS(this,void 0,void 0,(function*(){if(yield this.isInitialWrite()){const e=this.message.descriptor.dateCreated,t=this.message.descriptor.messageTimestamp;if(t!==e)throw new Error(`messageTimestamp ${t} must match dateCreated ${e} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const e=yield this.getEntryId();if(this.message.contextId!==e)throw new Error(`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${e}`)}}const e=this.authorSignaturePayload;if(this.message.recordId!==e.recordId)throw new Error(`recordId in message ${this.message.recordId} does not match recordId in authorization: ${e.recordId}`);if(this.message.contextId!==e.contextId)throw new Error(`contextId in message ${this.message.contextId} does not match contextId in authorization: ${e.contextId}`);if(void 0!==e.attestationCid){const t=yield QA.computeCid(this.message.attestation),r=e.attestationCid;if(r!==t)throw new Error(`CID ${t} of attestation property in message does not match attestationCid in authorization: ${r}`)}if(void 0!==e.encryptionCid){const t=yield QA.computeCid(this.message.encryption),r=e.encryptionCid;if(r!==t)throw new kE(ME.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${t} of encryption property in message does not match encryptionCid in authorization: ${r}`)}void 0!==this.message.descriptor.protocol&&oB(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&aB(this.message.descriptor.schema)}))}static validateAttestationIntegrity(e){return QS(this,void 0,void 0,(function*(){if(void 0===e.attestation)return;if(1!==e.attestation.signatures.length)throw new Error(`Currently implementation only supports 1 attester, but got ${e.attestation.signatures.length}`);const t=OE.decodePlainObjectPayload(e.attestation),{descriptorCid:r}=t,i=yield QA.computeCid(e.descriptor);if(r!==i)throw new Error(`descriptorCid ${r} does not match expected descriptorCid ${i}`);const n=Object.keys(t).length;if(n>1)throw new Error(`Only 'descriptorCid' is allowed in attestation payload, but got ${n} properties.`)}))}getEntryId(){return QS(this,void 0,void 0,(function*(){return yield DS.getEntryId(this.author,this.message.descriptor)}))}static getEntryId(e,t){return QS(this,void 0,void 0,(function*(){if(void 0===e)throw new kE(ME.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const r=Object.assign({},t);return r.author=e,yield QA.computeCid(r)}))}isInitialWrite(){return QS(this,void 0,void 0,(function*(){return(yield this.getEntryId())===this.message.recordId}))}static isInitialWrite(e){return QS(this,void 0,void 0,(function*(){if(e.descriptor.interface!==JC.Records||e.descriptor.method!==YC.Write)return!1;const t=e,r=$C.getAuthor(e);return(yield DS.getEntryId(r,t.descriptor))===t.recordId}))}static createEncryptionProperty(e,t){var r,i;return QS(this,void 0,void 0,(function*(){if(void 0===t)return;const n=[];for(const i of t.keyEncryptionInputs){if(i.derivationScheme===ZC.ProtocolPath&&void 0===e.protocol)throw new kE(ME.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(i.derivationScheme===ZC.Schemas&&void 0===e.schema)throw new kE(ME.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const o=xE.publicJwkToBytes(i.publicKey),s=yield nB.eciesSecp256k1Encrypt(o,t.key),a=vE.bytesToBase64Url(s.ciphertext),c=yield xE.publicKeyToJwk(s.ephemeralPublicKey),u=vE.bytesToBase64Url(s.initializationVector),h=vE.bytesToBase64Url(s.messageAuthenticationCode),d={rootKeyId:i.publicKeyId,algorithm:null!==(r=i.algorithm)&&void 0!==r?r:WC.EciesSecp256k1,derivationScheme:i.derivationScheme,ephemeralPublicKey:c,initializationVector:u,messageAuthenticationCode:h,encryptedKey:a};i.derivationScheme===ZC.ProtocolContext&&(d.derivedPublicKey=i.publicKey),n.push(d)}return{algorithm:null!==(i=t.algorithm)&&void 0!==i?i:WC.Aes256Ctr,initializationVector:vE.bytesToBase64Url(t.initializationVector),keyEncryption:n}}))}static createAttestation(e,t){return QS(this,void 0,void 0,(function*(){if(void 0===t||0===t.length)return;const r={descriptorCid:e},i=vE.objectToBytes(r);return(yield CE.create(i,t)).getJws()}))}static createAuthorSignature(e,t,r,i,n,o,s){return QS(this,void 0,void 0,(function*(){const a=i?yield QA.computeCid(i):void 0,c=n?yield QA.computeCid(n):void 0,u={recordId:e,descriptorCid:r,contextId:t,attestationCid:a,encryptionCid:c,permissionsGrantId:null==s?void 0:s.permissionsGrantId,protocolRole:null==s?void 0:s.protocolRole};jE(u);const h=vE.objectToBytes(u);return(yield CE.create(h,[o])).getJws()}))}static getInitialWrite(e){return QS(this,void 0,void 0,(function*(){for(const t of e)if(yield DS.isInitialWrite(t))return t;throw new Error("initial write is not found")}))}static verifyEqualityOfImmutableProperties(e,t){const r=["dataCid","dataSize","datePublished","published","messageTimestamp"];let i=[];i.push(...Object.keys(e.descriptor)),i.push(...Object.keys(t.descriptor)),i=[...new Set(i)];for(const n of i)if(-1===r.indexOf(n)){const r=e.descriptor[n],i=t.descriptor[n];if(i!==r)throw new Error(`${n} is an immutable property: cannot change '${r}' to '${i}'`)}return!0}static getAttesters(e){var t,r;return(null!==(r=null===(t=e.attestation)||void 0===t?void 0:t.signatures)&&void 0!==r?r:[]).map((e=>OE.getSignerDid(e)))}}var kS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class MS{constructor(e,t,r,i){this.didResolver=e,this.messageStore=t,this.dataStore=r,this.eventLog=i}handle({tenant:e,message:t,options:r,dataStream:i}){return kS(this,void 0,void 0,(function*(){let n;try{n=yield DS.parse(t)}catch(e){return VB(e,400)}try{yield kB(t.authorization,this.didResolver),yield n.authorize(e,this.messageStore)}catch(e){return VB(e,401)}const o={interface:JC.Records,recordId:t.recordId},{messages:s}=yield this.messageStore.query(e,[o]);if(!(yield n.isInitialWrite()))try{const e=yield DS.getInitialWrite(s);DS.verifyEqualityOfImmutableProperties(e,t)}catch(e){return VB(e,400)}const a=yield $C.getNewestMessage(s);let c,u=!1;if(void 0===a||(yield $C.isNewer(t,a))?(u=!0,c=t):c=a,!u)return{status:{code:409,detail:"Conflict"}};const h=yield PS(n,!0);let d=t;if(void 0===r||!r.skipDataStorage){if(void 0===i&&(null==a?void 0:a.descriptor.method)===YC.Delete)return VB(new kE(ME.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete"),400);try{t.descriptor.dataSize<=xS.maxDataSizeAllowedToBeEncoded?d=yield this.processEncodedData(t,i,a):yield this.putData(e,t,i)}catch(e){const t=e;if(t.code===ME.RecordsWriteMissingDataInPrevious||t.code===ME.RecordsWriteMissingDataAssociation||t.code===ME.RecordsWriteDataCidMismatch||t.code===ME.RecordsWriteDataSizeMismatch)return VB(e,400);throw e}}return yield this.messageStore.put(e,d,h),yield this.eventLog.append(e,yield $C.getCid(t)),yield RS.deleteAllOlderMessagesButKeepInitialWrite(e,s,c,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}}))}processEncodedData(e,t,r){return kS(this,void 0,void 0,(function*(){let i;if(void 0===t){const e=r;if(void 0===(null==e?void 0:e.encodedData))throw new kE(ME.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");i=vE.base64UrlToBytes(e.encodedData)}else i=yield RB.toBytes(t);const n=yield QA.computeDagPbCidFromBytes(i);MS.validateDataIntegrity(e.descriptor.dataCid,e.descriptor.dataSize,n,i.length);const o=Object.assign({},e);return o.encodedData=vE.bytesToBase64Url(i),o}))}putData(e,t,r){return kS(this,void 0,void 0,(function*(){let i;const n=yield $C.getCid(t);if(void 0===r){const r=yield this.dataStore.associate(e,n,t.descriptor.dataCid);if(void 0===r)throw new kE(ME.RecordsWriteMissingDataAssociation,`Unable to associate dataCid ${t.descriptor.dataCid} to messageCid ${n} because dataStream was not provided and data was not found in dataStore`);i=r}else i=yield this.dataStore.put(e,n,t.descriptor.dataCid,r);try{MS.validateDataIntegrity(t.descriptor.dataCid,t.descriptor.dataSize,i.dataCid,i.dataSize)}catch(r){throw yield this.dataStore.delete(e,n,t.descriptor.dataCid),r}}))}static validateDataIntegrity(e,t,r,i){if(e!==r)throw new kE(ME.RecordsWriteDataCidMismatch,`actual data CID ${r} does not match dataCid in descriptor: ${e}`);if(t!==i)throw new kE(ME.RecordsWriteDataSizeMismatch,`actual data size ${i} bytes does not match dataSize in descriptor: ${t}`)}}function PS(e,t){return kS(this,void 0,void 0,(function*(){const r=e.message,i=Object.assign({},r.descriptor);delete i.published;const n=Object.assign(Object.assign({},i),{isLatestBaseState:t,published:!!r.descriptor.published,author:e.author,recordId:r.recordId,entryId:yield DS.getEntryId(e.author,e.message.descriptor)});return e.attesters.length>0&&(n.attester=e.attesters[0]),void 0!==r.contextId&&(n.contextId=r.contextId),n}))}class xS{}xS.maxDataSizeAllowedToBeEncoded=3e4;var FS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class RS{static delete(e,t,r,i){return FS(this,void 0,void 0,(function*(){const n=yield $C.getCid(i);if(i.descriptor.method===YC.Write&&i.descriptor.dataSize>xS.maxDataSizeAllowedToBeEncoded){const e=i;yield t.delete(r,n,e.descriptor.dataCid)}yield e.delete(r,n)}))}static deleteAllOlderMessagesButKeepInitialWrite(e,t,r,i,n,o){return FS(this,void 0,void 0,(function*(){const s=[];for(const a of t){if(yield $C.isOlder(a,r))if(yield RS.delete(i,n,e,a),yield DS.isInitialWrite(a)){const t=yield DS.parse(a),r=!1,n=yield PS(t,r),o=a;delete o.encodedData,yield i.put(e,o,n)}else{const e=yield $C.getCid(a);s.push(e)}yield o.deleteEventsByCid(e,s)}}))}}var OS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class TS{constructor(e,t,r,i){this.didResolver=e,this.messageStore=t,this.dataStore=r,this.eventLog=i}handle({tenant:e,message:t}){return OS(this,void 0,void 0,(function*(){let r;try{r=yield wS.parse(t)}catch(e){return VB(e,400)}try{yield kB(t.authorization,this.didResolver),yield r.authorize(e)}catch(e){return VB(e,401)}const i={interface:JC.Records,recordId:t.descriptor.recordId},{messages:n}=yield this.messageStore.query(e,[i]),o=yield $C.getNewestMessage(n);let s,a=!1;if(void 0===o||(yield $C.isNewer(t,o))?(a=!0,s=t):s=o,!a)return{status:{code:409,detail:"Conflict"}};if(void 0===o||o.descriptor.method===YC.Delete)return{status:{code:404,detail:"Not Found"}};const c=yield function(e,t){return OS(this,void 0,void 0,(function*(){const e=t.message,r=Object.assign({},e.descriptor);return Object.assign({author:t.author},r)}))}(0,r);yield this.messageStore.put(e,t,c);const u=yield $C.getCid(t);return yield this.eventLog.append(e,u),yield RS.deleteAllOlderMessagesButKeepInitialWrite(e,n,s,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}}))}}var NS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class US{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}handle({tenant:e,message:t}){return NS(this,void 0,void 0,(function*(){let r,i,n;try{r=yield FB.parse(t)}catch(e){return VB(e,400)}if(void 0===r.author){const t=yield this.fetchPublishedRecords(e,r);i=t.messages,n=t.paginationMessageCid}else{try{yield kB(t.authorization,this.didResolver)}catch(e){return VB(e,401)}if(r.author===e){const t=yield this.fetchRecordsAsOwner(e,r);i=t.messages,n=t.paginationMessageCid}else{const t=yield this.fetchRecordsAsNonOwner(e,r);i=t.messages,n=t.paginationMessageCid}}return{status:{code:200,detail:"OK"},entries:i,paginationMessageCid:n}}))}convertDateSort(e){switch(e){case PB.CreatedAscending:return{dateCreated:La.Ascending};case PB.CreatedDescending:return{dateCreated:La.Descending};case PB.PublishedAscending:return{datePublished:La.Ascending};case PB.PublishedDescending:return{datePublished:La.Descending};default:return{dateCreated:La.Ascending}}}fetchRecordsAsOwner(e,t){return NS(this,void 0,void 0,(function*(){const{dateSort:r,filter:i,pagination:n}=t.message.descriptor,o=Object.assign(Object.assign({},dB.convertFilter(i)),{interface:JC.Records,method:YC.Write,isLatestBaseState:!0}),s=this.convertDateSort(r);return this.messageStore.query(e,[o],s,n)}))}fetchRecordsAsNonOwner(e,t){return NS(this,void 0,void 0,(function*(){const{dateSort:r,pagination:i}=t.message.descriptor,n=[US.buildPublishedRecordsFilter(t),US.buildUnpublishedRecordsByQueryAuthorFilter(t)],o=t.message.descriptor.filter.recipient;void 0!==o&&o!==t.author||n.push(US.buildUnpublishedRecordsForQueryAuthorFilter(t));const s=this.convertDateSort(r);return this.messageStore.query(e,n,s,i)}))}fetchPublishedRecords(e,t){return NS(this,void 0,void 0,(function*(){const{dateSort:r,pagination:i}=t.message.descriptor,n=US.buildPublishedRecordsFilter(t),o=this.convertDateSort(r);return this.messageStore.query(e,[n],o,i)}))}static buildPublishedRecordsFilter(e){return Object.assign(Object.assign({},dB.convertFilter(e.message.descriptor.filter)),{interface:JC.Records,method:YC.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(e){return Object.assign(Object.assign({},dB.convertFilter(e.message.descriptor.filter)),{interface:JC.Records,method:YC.Write,recipient:e.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(e){return Object.assign(Object.assign({},dB.convertFilter(e.message.descriptor.filter)),{author:e.author,interface:JC.Records,method:YC.Write,isLatestBaseState:!0,published:!1})}}var jS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class LS extends $C{static parse(e){return jS(this,void 0,void 0,(function*(){return void 0!==e.authorization&&(yield DB(e.authorization.authorSignature,e.descriptor)),new LS(e)}))}static create(e){var t;return jS(this,void 0,void 0,(function*(){const{filter:r,authorizationSigner:i,permissionsGrantId:n,protocolRole:o}=e,s=IE(),a={interface:JC.Records,method:YC.Read,filter:dB.normalizeFilter(r),messageTimestamp:null!==(t=e.date)&&void 0!==t?t:s};let c;jE(a),void 0!==i&&(c=yield $C.createAuthorizationAsAuthor(a,i,{permissionsGrantId:n,protocolRole:o}));const u={descriptor:a,authorization:c};return $C.validateJsonSchema(u),new LS(u)}))}authorize(e,t,r){var i;return jS(this,void 0,void 0,(function*(){const{descriptor:n}=t.message;if(this.author!==e&&!0!==n.published&&(void 0===this.author||this.author!==n.recipient))if(void 0!==n.protocol)yield _S.authorize(e,this,t,r);else{if(void 0===this.author||void 0===(null===(i=this.authorSignaturePayload)||void 0===i?void 0:i.permissionsGrantId))throw new Error("message failed authorization");yield CS.authorizeRead(e,this,t,this.author,r)}}))}}class qS{constructor(e,t,r){this.didResolver=e,this.messageStore=t,this.dataStore=r}handle({tenant:e,message:t}){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let r;try{r=yield LS.parse(t)}catch(e){return VB(e,400)}try{void 0!==r.author&&(yield kB(t.authorization,this.didResolver))}catch(e){return VB(e,401)}const i=Object.assign({interface:JC.Records,isLatestBaseState:!0},dB.convertFilter(t.descriptor.filter)),{messages:n}=yield this.messageStore.query(e,[i]);if(0===n.length)return{status:{code:404,detail:"Not Found"}};if(n.length>1)return VB(new kE(ME.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const o=n[0];try{yield r.authorize(e,yield DS.parse(o),this.messageStore)}catch(e){return VB(e,401)}let s;if(void 0!==o.encodedData){const e=vE.base64UrlToBytes(o.encodedData);s=RB.fromBytes(e),delete o.encodedData}else{const t=yield $C.getCid(o),r=yield this.dataStore.get(e,t,o.descriptor.dataCid);if(void 0===(null==r?void 0:r.dataStream))return{status:{code:404,detail:"Not Found"}};s=r.dataStream}return{status:{code:200,detail:"OK"},record:Object.assign(Object.assign({},o),{data:s})}}))}}var KS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class HS{constructor(e){this.didResolver=e.didResolver,this.tenantGate=e.tenantGate,this.messageStore=e.messageStore,this.dataStore=e.dataStore,this.eventLog=e.eventLog,this.methodHandlers={[JC.Events+YC.Get]:new $B(this.didResolver,this.eventLog),[JC.Messages+YC.Get]:new XB(this.didResolver,this.messageStore,this.dataStore),[JC.Permissions+YC.Grant]:new rS(this.didResolver,this.messageStore,this.eventLog),[JC.Permissions+YC.Request]:new oS(this.didResolver,this.messageStore,this.eventLog),[JC.Permissions+YC.Revoke]:new cS(this.didResolver,this.messageStore,this.eventLog),[JC.Protocols+YC.Configure]:new dS(this.didResolver,this.messageStore,this.dataStore,this.eventLog),[JC.Protocols+YC.Query]:new mS(this.didResolver,this.messageStore,this.dataStore),[JC.Records+YC.Delete]:new TS(this.didResolver,this.messageStore,this.dataStore,this.eventLog),[JC.Records+YC.Query]:new US(this.didResolver,this.messageStore,this.dataStore),[JC.Records+YC.Read]:new qS(this.didResolver,this.messageStore,this.dataStore),[JC.Records+YC.Write]:new MS(this.didResolver,this.messageStore,this.dataStore,this.eventLog)}}static create(e){var t,r;return KS(this,void 0,void 0,(function*(){null!==(t=e.didResolver)&&void 0!==t||(e.didResolver=new zB),null!==(r=e.tenantGate)&&void 0!==r||(e.tenantGate=new Ha);const i=new HS(e);return yield i.open(),i}))}open(){return KS(this,void 0,void 0,(function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open()}))}close(){return KS(this,void 0,void 0,(function*(){this.messageStore.close(),this.dataStore.close(),this.eventLog.close()}))}processMessage(e,t,r){var i;return KS(this,void 0,void 0,(function*(){const n=null!==(i=yield this.validateTenant(e))&&void 0!==i?i:yield this.validateMessageIntegrity(t);if(void 0!==n)return n;const o=t.descriptor.interface+t.descriptor.method;return yield this.methodHandlers[o].handle({tenant:e,message:t,dataStream:r})}))}handleRecordsQuery(e,t){var r;return KS(this,void 0,void 0,(function*(){const i=null!==(r=yield this.validateTenant(e))&&void 0!==r?r:yield this.validateMessageIntegrity(t,JC.Records,YC.Query);return void 0!==i?i:new US(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:t})}))}handleRecordsRead(e,t){var r;return KS(this,void 0,void 0,(function*(){const i=null!==(r=yield this.validateTenant(e))&&void 0!==r?r:yield this.validateMessageIntegrity(t,JC.Records,YC.Read);return void 0!==i?i:new qS(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:t})}))}handleMessagesGet(e,t){var r;return KS(this,void 0,void 0,(function*(){const i=null!==(r=yield this.validateTenant(e))&&void 0!==r?r:yield this.validateMessageIntegrity(t,JC.Messages,YC.Get);return void 0!==i?i:new XB(this.didResolver,this.messageStore,this.dataStore).handle({tenant:e,message:t})}))}synchronizePrunedInitialRecordsWrite(e,t){var r;return KS(this,void 0,void 0,(function*(){const i=null!==(r=yield this.validateTenant(e))&&void 0!==r?r:yield this.validateMessageIntegrity(t,JC.Records,YC.Write);if(void 0!==i)return i;const n=new MS(this.didResolver,this.messageStore,this.dataStore,this.eventLog);return yield n.handle({tenant:e,message:t,options:{skipDataStorage:!0}})}))}validateTenant(e){return KS(this,void 0,void 0,(function*(){if(!(yield this.tenantGate.isTenant(e)))return{status:{code:401,detail:`${e} is not a tenant`}}}))}validateMessageIntegrity(e,t,r){var i,n;return KS(this,void 0,void 0,(function*(){const o=null===(i=null==e?void 0:e.descriptor)||void 0===i?void 0:i.interface,s=null===(n=null==e?void 0:e.descriptor)||void 0===n?void 0:n.method;if(void 0===o||void 0===s)return{status:{code:400,detail:`Both interface and method must be present, interface: ${o}, method: ${s}`}};if(void 0!==t&&t!==o)return{status:{code:400,detail:`Expected interface ${t}, received ${o}`}};if(void 0!==r&&r!==s)return{status:{code:400,detail:`Expected method ${t}${r}, received ${o}${s}`}};try{$C.validateJsonSchema(e)}catch(e){return VB(e,400)}}))}}function GS(e){return new Promise(((t,r)=>{e.aborted?r(e.reason):e.addEventListener("abort",(()=>{r(e.reason)}))}))}function zS(e,t){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return t?Promise.race([e,GS(t)]):e}))}var JS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},YS=function(e){return this instanceof YS?(this.v=e,this):new YS(e)},VS=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}},$S=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){o.push([e,t,r,i])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof YS?Promise.resolve(e.value.v).then(c,u):h(o[0][2],e)}(n[e](t))}catch(e){h(o[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function h(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}};function WS(e,t){return JS(this,void 0,void 0,(function*(){return new Le.Level(e,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))}))}class ZS{constructor(e,t){this.config=Object.assign({createLevelDatabase:WS},e),this.db=t}open(){return JS(this,void 0,void 0,(function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise((e=>{this.db.once("open",e)}));case"closing":return new Promise(((e,t)=>{this.db.once("closed",(()=>{this.db.open().then(e).catch(t)}))}));case"closed":return this.db.open()}}))}close(){return JS(this,void 0,void 0,(function*(){if(this.db){for(;"opening"===this.db.status||"closing"===this.db.status;)yield yE(200);if("closed"!==this.db.status)return this.db.close()}}))}partition(e){return JS(this,void 0,void 0,(function*(){return yield this.createLevelDatabase(),new ZS(this.config,this.db.sublevel(e,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))}))}get(e,t){var r;return JS(this,void 0,void 0,(function*(){null===(r=null==t?void 0:t.signal)||void 0===r||r.throwIfAborted(),yield zS(this.createLevelDatabase(),null==t?void 0:t.signal);try{return yield zS(this.db.get(String(e)),null==t?void 0:t.signal)}catch(e){if("LEVEL_NOT_FOUND"===e.code)return;throw e}}))}has(e,t){return JS(this,void 0,void 0,(function*(){return!!(yield this.get(e,t))}))}keys(e){var t,r;return $S(this,arguments,(function*(){var i,n,o,s;null===(t=null==e?void 0:e.signal)||void 0===t||t.throwIfAborted(),yield YS(zS(this.createLevelDatabase(),null==e?void 0:e.signal));try{for(var a,c=!0,u=VS(this.db.keys());!(i=(a=yield YS(u.next())).done);c=!0){s=a.value,c=!1;const t=s;null===(r=null==e?void 0:e.signal)||void 0===r||r.throwIfAborted(),yield yield YS(t)}}catch(e){n={error:e}}finally{try{c||i||!(o=u.return)||(yield YS(o.call(u)))}finally{if(n)throw n.error}}}))}iterator(e,t){var r,i;return $S(this,arguments,(function*(){var n,o,s,a;null===(r=null==t?void 0:t.signal)||void 0===r||r.throwIfAborted(),yield YS(zS(this.createLevelDatabase(),null==t?void 0:t.signal));try{for(var c,u=!0,h=VS(this.db.iterator(e));!(n=(c=yield YS(h.next())).done);u=!0){a=c.value,u=!1;const e=a;null===(i=null==t?void 0:t.signal)||void 0===i||i.throwIfAborted(),yield yield YS(e)}}catch(e){o={error:e}}finally{try{u||n||!(s=h.return)||(yield YS(s.call(h)))}finally{if(o)throw o.error}}}))}put(e,t,r){var i;return JS(this,void 0,void 0,(function*(){return null===(i=null==r?void 0:r.signal)||void 0===i||i.throwIfAborted(),yield zS(this.createLevelDatabase(),null==r?void 0:r.signal),zS(this.db.put(String(e),t),null==r?void 0:r.signal)}))}delete(e,t){var r;return JS(this,void 0,void 0,(function*(){return null===(r=null==t?void 0:t.signal)||void 0===r||r.throwIfAborted(),yield zS(this.createLevelDatabase(),null==t?void 0:t.signal),zS(this.db.del(String(e)),null==t?void 0:t.signal)}))}isEmpty(e){var t,r,i;return JS(this,void 0,void 0,(function*(){try{for(var n,o=!0,s=VS(this.keys(e));n=yield s.next(),!(t=n.done);o=!0)return n.value,o=!1,!1}catch(e){r={error:e}}finally{try{o||t||!(i=s.return)||(yield i.call(s))}finally{if(r)throw r.error}}return!0}))}clear(){return JS(this,void 0,void 0,(function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()}))}batch(e,t){var r;return JS(this,void 0,void 0,(function*(){return null===(r=null==t?void 0:t.signal)||void 0===r||r.throwIfAborted(),yield zS(this.createLevelDatabase(),null==t?void 0:t.signal),zS(this.db.batch(e),null==t?void 0:t.signal)}))}compactUnderlyingStorage(e){var t,r,i;return JS(this,void 0,void 0,(function*(){null===(t=null==e?void 0:e.signal)||void 0===t||t.throwIfAborted(),yield zS(this.createLevelDatabase(),null==e?void 0:e.signal);const n=this.sublevelRange;if(!n)return;const o=this.root;return o.db.supports.additionalMethods.compactRange?zS(null===(i=(r=o.db).compactRange)||void 0===i?void 0:i.call(r,...n),null==e?void 0:e.signal):void 0}))}get sublevelRange(){const e=this.db.prefix;if(!e)return;const t=e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1);return[e,t]}get root(){let e=this.db;for(const t=e.db;t&&t!==e;)e=t;return new ZS(this.config,e)}createLevelDatabase(){var e;return JS(this,void 0,void 0,(function*(){null!==(e=this.db)&&void 0!==e||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))}))}dump(){var e,t,r,i;return JS(this,void 0,void 0,(function*(){if(this.db)try{for(var n,o=!0,s=VS(this.db.iterator());n=yield s.next(),!(e=n.done);o=!0){i=n.value,o=!1;const[e,t]=i;console.debug(e,t)}}catch(e){t={error:e}}finally{try{o||e||!(r=s.return)||(yield r.call(s))}finally{if(t)throw t.error}}}))}}var XS=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},e_=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}},t_=function(e){return this instanceof t_?(this.v=e,this):new t_(e)},r_=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(e){n[e]&&(i[e]=function(t){return new Promise((function(r,i){o.push([e,t,r,i])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof t_?Promise.resolve(e.value.v).then(c,u):h(o[0][2],e)}(n[e](t))}catch(e){h(o[0][3],e)}}function c(e){a("next",e)}function u(e){a("throw",e)}function h(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}};class i_{constructor(e,t){this.config=Object.assign({createLevelDatabase:WS},e),this.db=null!=t?t:new ZS(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return XS(this,void 0,void 0,(function*(){return this.db.open()}))}close(){return XS(this,void 0,void 0,(function*(){return this.db.close()}))}partition(e){return XS(this,void 0,void 0,(function*(){const t=yield this.db.partition(e);return new i_(Object.assign(Object.assign({},this.config),{location:""}),t)}))}put(e,t,r){return XS(this,void 0,void 0,(function*(){return yield this.db.put(String(e),t,r),_e.parse(e.toString())}))}get(e,t){return XS(this,void 0,void 0,(function*(){return yield this.db.get(String(e),t)}))}has(e,t){return XS(this,void 0,void 0,(function*(){return this.db.has(String(e),t)}))}delete(e,t){return XS(this,void 0,void 0,(function*(){return this.db.delete(String(e),t)}))}isEmpty(e){return XS(this,void 0,void 0,(function*(){return this.db.isEmpty(e)}))}putMany(e,t){return r_(this,arguments,(function*(){var r,i,n,o;try{for(var s,a=!0,c=e_(e);!(r=(s=yield t_(c.next())).done);a=!0){o=s.value,a=!1;const e=o;yield t_(this.put(e.cid,e.block,t)),yield yield t_(e.cid)}}catch(e){i={error:e}}finally{try{a||r||!(n=c.return)||(yield t_(n.call(c)))}finally{if(i)throw i.error}}}))}getMany(e,t){return r_(this,arguments,(function*(){var r,i,n,o;try{for(var s,a=!0,c=e_(e);!(r=(s=yield t_(c.next())).done);a=!0){o=s.value,a=!1;const e=o;yield yield t_({cid:e,block:yield t_(this.get(e,t))})}}catch(e){i={error:e}}finally{try{a||r||!(n=c.return)||(yield t_(n.call(c)))}finally{if(i)throw i.error}}}))}getAll(e){return r_(this,arguments,(function*(){var t,r,i,n;const o=this.db.iterator({keys:!0,keyEncoding:"buffer"},e);try{for(var s,a=!0,c=e_(o);!(t=(s=yield t_(c.next())).done);a=!0){n=s.value,a=!1;const[e,t]=n;yield yield t_({cid:_e.decode(e),block:t})}}catch(e){r={error:e}}finally{try{a||t||!(i=c.return)||(yield t_(i.call(c)))}finally{if(r)throw r.error}}}))}deleteMany(e,t){return r_(this,arguments,(function*(){var r,i,n,o;try{for(var s,a=!0,c=e_(e);!(r=(s=yield t_(c.next())).done);a=!0){o=s.value,a=!1;const e=o;yield t_(this.delete(e,t)),yield yield t_(e)}}catch(e){i={error:e}}finally{try{a||r||!(n=c.return)||(yield t_(n.call(c)))}finally{if(i)throw i.error}}}))}clear(){return XS(this,void 0,void 0,(function*(){return this.db.clear()}))}dump(){var e,t;return XS(this,void 0,void 0,(function*(){console.group("db"),yield null===(t=(e=this.db).dump)||void 0===t?void 0:t.call(e),console.groupEnd()}))}}const n_=function(e,t,r,i){const n=BigInt(e.length),o=BigInt(t+n);return r>=o||i<t?new Uint8Array(0):(i>=t&&i<o&&(e=e.subarray(0,Number(i-t))),r>=t&&r<o&&(e=e.subarray(Number(r-t))),e)},o_=(e,t=0,r=e)=>{const i=BigInt(e),n=BigInt(t??0);let o=BigInt(r);if(o!==i&&(o=n+o),o>i&&(o=i),n<0n)throw ah(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(n>i)throw ah(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(o<0n)throw ah(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw ah(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:n,end:o}},s_=async function(e){return(await Hp.encode(e)).slice(0,8).reverse()},a_=e=>e.toString(16).toUpperCase().padStart(2,"0").substring(0,2),c_=async(e,t,r,i,n)=>{if(null==i){const e=iA({hashFn:s_});i={rootBucket:e,hamtDepth:1,lastBucket:e}}await(async(e,t,r)=>{await Promise.all(e.map((async e=>{if(null==e.Name)throw new Error("Unexpected Link without a Name");if(2!==e.Name.length)await r.put(e.Name.substring(2),!0);else{const i=parseInt(e.Name,16);t._putObjectAt(i,new zp({hash:r._options.hash,bits:r._options.bits},t,i))}})))})(e.Links,i.lastBucket,i.rootBucket);const o=await i.rootBucket._findNewBucketAndPos(t);let s=a_(o.pos);const a=(e=>{let t=e.bucket;const r=[];for(;null!=t._parent;)r.push(t),t=t._parent;return r.push(t),r.reverse()})(o);a.length>i.hamtDepth&&(i.lastBucket=a[i.hamtDepth],s=a_(i.lastBucket._posAtParent));const c=e.Links.find((e=>{if(null==e.Name)return!1;const r=e.Name.substring(0,2),i=e.Name.substring(2);return r===s&&(""===i||i===t)}));if(null!=c)return null!=c.Name&&c.Name.substring(2)===t?c.Hash:(i.hamtDepth++,e=xd(await r.get(c.Hash,n)),c_(e,t,r,i,n))},u_=c_,h_=function(e){const[t,r]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:e=>{i.push(e)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[r](){return this}}},d_=function(e,t){if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e)yield t(r)}();const r=h_(e),{value:i,done:n}=r.next();if(!0===n)return function*(){}();const o=t(i);if("function"==typeof o.then)return async function*(){yield await o;for await(const e of r)yield t(e)}();const s=t;return function*(){yield o;for(const e of r)yield s(e)}()};function l_(){const e={};return e.promise=new Promise(((t,r)=>{e.resolve=t,e.reject=r})),e}const f_=globalThis.CustomEvent??Event;async function*p_(e,t={}){let r=t.concurrency??1/0;r<1&&(r=1/0);const i=null!=t.ordered&&t.ordered,n=new EventTarget,o=[];let s,a=l_(),c=l_(),u=!1,h=!1;function d(){return i?o[0]?.done:Boolean(o.find((e=>e.done)))}function*l(){for(;o.length>0&&o[0].done;){const e=o[0];if(o.shift(),!e.ok)throw h=!0,a.resolve(),e.err;yield e.value,a.resolve()}}function*f(){for(;d();)for(let e=0;e<o.length;e++)if(o[e].done){const t=o[e];if(o.splice(e,1),e--,!t.ok)throw h=!0,a.resolve(),t.err;yield t.value,a.resolve()}}for(n.addEventListener("task-complete",(()=>{c.resolve()})),Promise.resolve().then((async()=>{try{for await(const t of e){if(o.length===r&&(a=l_(),await a.promise),h)break;const e={done:!1};o.push(e),t().then((t=>{e.done=!0,e.ok=!0,e.value=t,n.dispatchEvent(new f_("task-complete"))}),(t=>{e.done=!0,e.err=t,n.dispatchEvent(new f_("task-complete"))}))}u=!0,n.dispatchEvent(new f_("task-complete"))}catch(e){s=e,n.dispatchEvent(new f_("task-complete"))}}));;){if(d()||(c=l_(),await c.promise),null!=s)throw s;if(i?yield*l():yield*f(),u&&0===o.length)break}}class A_{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return void 0===this.buffer[this.btm]}}class g_{size;hwm;head;tail;constructor(e={}){this.hwm=e.splitLimit??16,this.head=new A_(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return null!=e?.byteLength?e.byteLength:1}push(e){if(null!=e?.value&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){const t=this.head;this.head=t.next=new A_(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(void 0===e&&null!=this.tail.next){const t=this.tail.next;this.tail.next=null,this.tail=t,e=this.tail.shift()}return null!=e?.value&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}}class m_ extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}function y_(e={}){return function(e,t){let r,i,n,o=(t=t??{}).onEnd,s=new g_,a=l_();const c=e=>null!=i?i(e):(s.push(e),r),u=e=>{if(n)return r;if(!0!==t?.objectMode&&null==e?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return c({done:!1,value:e})},h=e=>n?r:(n=!0,null!=e?(e=>(s=new g_,null!=i?i({error:e}):(s.push({error:e}),r)))(e):c({done:!0}));if(r={[Symbol.asyncIterator](){return this},next:async()=>{try{return s.isEmpty()?n?{done:!0}:await new Promise(((t,n)=>{i=o=>{i=null,s.push(o);try{t(e(s))}catch(e){n(e)}return r}})):e(s)}finally{s.isEmpty()&&queueMicrotask((()=>{a.resolve(),a=l_()}))}},return:()=>(s=new g_,h(),{done:!0}),throw:e=>(h(e),{done:!0}),push:u,end:h,get readableLength(){return s.size},onEmpty:async e=>{const t=e?.signal;if(t?.throwIfAborted(),s.isEmpty())return;let r,i;null!=t&&(r=new Promise(((e,r)=>{i=()=>{r(new m_)},t.addEventListener("abort",i)})));try{await Promise.race([a.promise,r])}finally{null!=i&&null!=t&&t?.removeEventListener("abort",i)}}},null==o)return r;const d=r;return r={[Symbol.asyncIterator](){return this},next:()=>d.next(),throw:e=>(d.throw(e),null!=o&&(o(e),o=void 0),{done:!0}),return:()=>(d.return(),null!=o&&(o(),o=void 0),{done:!0}),push:u,end:e=>(d.end(e),null!=o&&(o(e),o=void 0),r),get readableLength(){return d.readableLength},onEmpty:e=>d.onEmpty(e)},r}((e=>{const t=e.shift();if(null==t)return{done:!0};if(null!=t.error)throw t.error;return{done:!0===t.done,value:t.value}}),e)}function I_(e,...t){if(null==e)throw new Error("Empty pipeline");if(E_(e)){const t=e;e=()=>t.source}else if(v_(e)||b_(e)){const t=e;e=()=>t}const r=[e,...t];if(r.length>1&&E_(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let e=1;e<r.length-1;e++)E_(r[e])&&(r[e]=C_(r[e]));return w_(...r)}const w_=(...e)=>{let t;for(;e.length>0;)t=e.shift()(t);return t},b_=e=>null!=e?.[Symbol.asyncIterator],v_=e=>null!=e?.[Symbol.iterator],E_=e=>null!=e&&null!=e.sink&&null!=e.source,C_=e=>t=>{const r=e.sink(t);if(null!=r?.then){const t=y_({objectMode:!0});let i;r.then((()=>{t.end()}),(e=>{t.end(e)}));const n=e.source;if(b_(n))i=async function*(){yield*n,t.end()};else{if(!v_(n))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");i=function*(){yield*n,t.end()}}return function(...e){const t=[];for(const r of e)null==r[Symbol.asyncIterator]&&t.push(r);return t.length===e.length?function*(){for(const e of t)yield*e}():async function*(){const t=y_({objectMode:!0});Promise.resolve().then((async()=>{try{await Promise.all(e.map((async e=>{for await(const r of e)t.push(r)}))),t.end()}catch(e){t.end(e)}})),yield*t}()}(t,i())}return e.source};var B_=n(26729);class S_ extends Error{constructor(e){super(e),this.name="TimeoutError"}}class __ extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const Q_=e=>void 0===globalThis.DOMException?new __(e):new DOMException(e),D_=e=>{const t=void 0===e.reason?Q_("This operation was aborted."):e.reason;return t instanceof Error?t:Q_(t)};var k_,M_=function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};k_=new WeakMap;const P_=class{constructor(){k_.set(this,[])}enqueue(e,t){const r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&M_(this,k_,"f")[this.size-1].priority>=t.priority)return void M_(this,k_,"f").push(r);const i=function(e,t,r){let i=0,n=e.length;for(;n>0;){const o=Math.trunc(n/2);let s=i+o;r(e[s],t)<=0?(i=++s,n-=o+1):n=o}return i}(M_(this,k_,"f"),r,((e,t)=>t.priority-e.priority));M_(this,k_,"f").splice(i,0,r)}dequeue(){const e=M_(this,k_,"f").shift();return null==e?void 0:e.run}filter(e){return M_(this,k_,"f").filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return M_(this,k_,"f").length}};var x_,F_,R_,O_,T_,N_,U_,j_,L_,q_,K_,H_,G_,z_,J_,Y_,V_,$_,W_,Z_,X_,eQ,tQ,rQ,iQ,nQ,oQ=function(e,t,r,i,n){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},sQ=function(e,t,r,i){if("a"===r&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class aQ extends Error{}F_=new WeakMap,R_=new WeakMap,O_=new WeakMap,T_=new WeakMap,N_=new WeakMap,U_=new WeakMap,j_=new WeakMap,L_=new WeakMap,q_=new WeakMap,K_=new WeakMap,H_=new WeakMap,G_=new WeakMap,z_=new WeakMap,J_=new WeakMap,x_=new WeakSet,Y_=function(){return sQ(this,R_,"f")||sQ(this,O_,"f")<sQ(this,T_,"f")},V_=function(){return sQ(this,H_,"f")<sQ(this,G_,"f")},$_=function(){var e;oQ(this,H_,(e=sQ(this,H_,"f"),--e),"f"),sQ(this,x_,"m",X_).call(this),this.emit("next")},W_=function(){sQ(this,x_,"m",tQ).call(this),sQ(this,x_,"m",eQ).call(this),oQ(this,L_,void 0,"f")},Z_=function(){const e=Date.now();if(void 0===sQ(this,j_,"f")){const t=sQ(this,U_,"f")-e;if(!(t<0))return void 0===sQ(this,L_,"f")&&oQ(this,L_,setTimeout((()=>{sQ(this,x_,"m",W_).call(this)}),t),"f"),!0;oQ(this,O_,sQ(this,F_,"f")?sQ(this,H_,"f"):0,"f")}return!1},X_=function(){if(0===sQ(this,q_,"f").size)return sQ(this,j_,"f")&&clearInterval(sQ(this,j_,"f")),oQ(this,j_,void 0,"f"),this.emit("empty"),0===sQ(this,H_,"f")&&this.emit("idle"),!1;if(!sQ(this,z_,"f")){const e=!sQ(this,x_,"a",Z_);if(sQ(this,x_,"a",Y_)&&sQ(this,x_,"a",V_)){const t=sQ(this,q_,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&sQ(this,x_,"m",eQ).call(this),!0)}}return!1},eQ=function(){sQ(this,R_,"f")||void 0!==sQ(this,j_,"f")||(oQ(this,j_,setInterval((()=>{sQ(this,x_,"m",tQ).call(this)}),sQ(this,N_,"f")),"f"),oQ(this,U_,Date.now()+sQ(this,N_,"f"),"f"))},tQ=function(){0===sQ(this,O_,"f")&&0===sQ(this,H_,"f")&&sQ(this,j_,"f")&&(clearInterval(sQ(this,j_,"f")),oQ(this,j_,void 0,"f")),oQ(this,O_,sQ(this,F_,"f")?sQ(this,H_,"f"):0,"f"),sQ(this,x_,"m",rQ).call(this)},rQ=function(){for(;sQ(this,x_,"m",X_).call(this););},iQ=async function(e){return new Promise(((t,r)=>{e.addEventListener("abort",(()=>{r(new aQ("The task was aborted."))}),{once:!0})}))},nQ=async function(e,t){return new Promise((r=>{const i=()=>{t&&!t()||(this.off(e,i),r())};this.on(e,i)}))};const cQ=class extends B_{constructor(e){var t,r,i,n;if(super(),x_.add(this),F_.set(this,void 0),R_.set(this,void 0),O_.set(this,0),T_.set(this,void 0),N_.set(this,void 0),U_.set(this,0),j_.set(this,void 0),L_.set(this,void 0),q_.set(this,void 0),K_.set(this,void 0),H_.set(this,0),G_.set(this,void 0),z_.set(this,void 0),J_.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:P_,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(n=null===(i=e.interval)||void 0===i?void 0:i.toString())&&void 0!==n?n:""}\` (${typeof e.interval})`);oQ(this,F_,e.carryoverConcurrencyCount,"f"),oQ(this,R_,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),oQ(this,T_,e.intervalCap,"f"),oQ(this,N_,e.interval,"f"),oQ(this,q_,new e.queueClass,"f"),oQ(this,K_,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,oQ(this,J_,!0===e.throwOnTimeout,"f"),oQ(this,z_,!1===e.autoStart,"f")}get concurrency(){return sQ(this,G_,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);oQ(this,G_,e,"f"),sQ(this,x_,"m",rQ).call(this)}async add(e,t={}){return t={timeout:this.timeout,throwOnTimeout:sQ(this,J_,"f"),...t},new Promise(((r,i)=>{sQ(this,q_,"f").enqueue((async()=>{var n,o,s;oQ(this,H_,(o=sQ(this,H_,"f"),++o),"f"),oQ(this,O_,(s=sQ(this,O_,"f"),++s),"f");try{if(null===(n=t.signal)||void 0===n?void 0:n.aborted)throw new aQ("The task was aborted.");let i=e({signal:t.signal});t.timeout&&(i=function(e,t,r,i){let n;const o=new Promise(((o,s)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:e}=i;e.aborted&&s(D_(e)),e.addEventListener("abort",(()=>{s(D_(e))}))}n=i.customTimers.setTimeout.call(void 0,(()=>{const i=r instanceof Error?r:new S_(`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),s(i)}),t),(async()=>{try{o(await e)}catch(e){s(e)}finally{i.customTimers.clearTimeout.call(void 0,n)}})()}else o(e)}));return o.clear=()=>{clearTimeout(n),n=void 0},o}(Promise.resolve(i),t.timeout)),t.signal&&(i=Promise.race([i,sQ(this,x_,"m",iQ).call(this,t.signal)]));const o=await i;r(o),this.emit("completed",o)}catch(e){if(e instanceof S_&&!t.throwOnTimeout)return void r();i(e),this.emit("error",e)}finally{sQ(this,x_,"m",$_).call(this)}}),t),this.emit("add"),sQ(this,x_,"m",X_).call(this)}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return sQ(this,z_,"f")?(oQ(this,z_,!1,"f"),sQ(this,x_,"m",rQ).call(this),this):this}pause(){oQ(this,z_,!0,"f")}clear(){oQ(this,q_,new(sQ(this,K_,"f")),"f")}async onEmpty(){0!==sQ(this,q_,"f").size&&await sQ(this,x_,"m",nQ).call(this,"empty")}async onSizeLessThan(e){sQ(this,q_,"f").size<e||await sQ(this,x_,"m",nQ).call(this,"next",(()=>sQ(this,q_,"f").size<e))}async onIdle(){0===sQ(this,H_,"f")&&0===sQ(this,q_,"f").size||await sQ(this,x_,"m",nQ).call(this,"idle")}get size(){return sQ(this,q_,"f").size}sizeBy(e){return sQ(this,q_,"f").filter(e).length}get pending(){return sQ(this,H_,"f")}get isPaused(){return sQ(this,z_,"f")}};async function uQ(e,t,r,i,n,o,s){if(t instanceof Uint8Array){const e=n_(t,i,n,o);return void r.push(e)}if(null==t.Data)throw ah(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let a;try{a=Gf.unmarshal(t.Data)}catch(e){throw ah(e,"ERR_NOT_UNIXFS")}if(null!=a.data){const e=a.data,t=n_(e,i,n,o);r.push(t),i+=BigInt(t.byteLength)}const c=[];if(t.Links.length!==a.blockSizes.length)throw ah(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let e=0;e<t.Links.length;e++){const r=t.Links[e],s=i,u=s+a.blockSizes[e];if((n>=s&&n<u||o>=s&&o<=u||n<s&&o>u)&&c.push({link:r,blockStart:i}),(i=u)>o)break}await I_(c,(t=>d_(t,(t=>async()=>{const r=await e.get(t.link.Hash,s);return{...t,block:r}}))),(e=>p_(e,{ordered:!0})),(async t=>{for await(const{link:i,block:a,blockStart:c}of t){let t;switch(i.Hash.code){case Md:t=xd(a);break;case Jf:t=a;break;default:return void r.end(ah(new Error(`Unsupported codec: ${i.Hash.code}`),"ERR_NOT_UNIXFS"))}const u=new cQ({concurrency:1});u.on("error",(e=>{r.end(e)})),u.add((async()=>{s.onProgress?.(new $f("unixfs:exporter:walk:file",{cid:i.Hash})),await uQ(e,t,r,c,n,o,s)})),await u.onIdle()}})),i>=o&&r.end()}const hQ=(e,t,r,i,n,o,s)=>async function*(i={}){const n=r.fileSize();if(void 0===n)throw new Error("File was a directory");const{start:o,end:a}=o_(n,i.offset,i.length);if(0n===a)return;let c=0n;const u=a-o,h=y_();i.onProgress?.(new $f("unixfs:exporter:walk:file",{cid:e})),uQ(s,t,h,0n,o,a,i).catch((e=>{h.end(e)}));for await(const e of h)if(null!=e){if(c+=BigInt(e.byteLength),c>u)throw h.end(),ah(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");c===u&&h.end(),i.onProgress?.(new $f("unixfs:exporter:progress:unixfs:file",{bytesRead:c,totalBytes:u,fileSize:n})),yield e}if(c<u)throw ah(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")};async function*dQ(e,t,r,i,n,o){const s=I_(e.Links,(s=>d_(s,(s=>async()=>{const a=null!=s.Name?s.Name.substring(2):null;if(null!=a&&""!==a){const e=await r(s.Hash,a,`${t}/${a}`,[],i+1,n,o);return{entries:null==e.entry?[]:[e.entry]}}{const a=await n.get(s.Hash,o);return e=xd(a),o.onProgress?.(new $f("unixfs:exporter:walk:hamt-sharded-directory",{cid:s.Hash})),{entries:dQ(e,t,r,i,n,o)}}}))),(e=>p_(e,{ordered:!0})));for await(const{entries:e}of s)yield*e}const lQ={raw:hQ,file:hQ,directory:(e,t,r,i,n,o,s)=>async function*(r={}){const a=r.offset??0,c=r.length??t.Links.length,u=t.Links.slice(a,c);r.onProgress?.(new $f("unixfs:exporter:walk:directory",{cid:e})),yield*I_(u,(e=>d_(e,(e=>async()=>{const t=e.Name??"",a=`${i}/${t}`;return(await n(e.Hash,t,a,[],o+1,s,r)).entry}))),(e=>p_(e,{ordered:!0})),(e=>function(e,t){if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e)await t(r)&&(yield r)}();const r=h_(e),{value:i,done:n}=r.next();if(!0===n)return function*(){}();const o=t(i);if("function"==typeof o.then)return async function*(){await o&&(yield i);for await(const e of r)await t(e)&&(yield e)}();const s=t;return function*(){!0===o&&(yield i);for(const e of r)s(e)&&(yield e)}()}(e,(e=>null!=e))))},"hamt-sharded-directory":(e,t,r,i,n,o,s)=>function(r={}){return r.onProgress?.(new $f("unixfs:exporter:walk:hamt-sharded-directory",{cid:e})),dQ(t,i,n,o,s,r)},metadata:(e,t,r,i,n,o,s)=>()=>[],symlink:(e,t,r,i,n,o,s)=>()=>[]},fQ={[Md]:async(e,t,r,i,n,o,s,a)=>{const c=xd(await s.get(e,a));let u,h;if(null==t&&(t=e.toString()),null==c.Data)throw ah(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{u=Gf.unmarshal(c.Data)}catch(e){throw ah(e,"ERR_NOT_UNIXFS")}if(null==r&&(r=t),i.length>0){let e;if(e="hamt-sharded-directory"===u?.type?await u_(c,i[0],s):((e,t)=>{const r=e.Links.find((e=>e.Name===t));return r?.Hash})(c,i[0]),null==e)throw ah(new Error("file does not exist"),"ERR_NOT_FOUND");const t=i.shift();h={cid:e,toResolve:i,name:t??"",path:`${r}/${t}`}}const d=lQ[u.type](e,c,u,r,n,o,s);if(null==d)throw ah(new Error("could not find content exporter"),"ERR_NOT_FOUND");return u.isDirectory()?{entry:{type:"directory",name:t,path:r,cid:e,content:d,unixfs:u,depth:o,node:c,size:u.fileSize()},next:h}:{entry:{type:"file",name:t,path:r,cid:e,content:d,unixfs:u,depth:o,node:c,size:u.fileSize()},next:h}},[Jf]:async(e,t,r,i,n,o,s,a)=>{if(i.length>0)throw ah(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");const c=await s.get(e,a);return{entry:{type:"raw",name:t,path:r,cid:e,content:(u=c,async function*(e={}){const{start:t,end:r}=o_(u.length,e.offset,e.length),i=n_(u,0n,t,r);e.onProgress?.(new $f("unixfs:exporter:progress:raw",{bytesRead:BigInt(i.byteLength),totalBytes:r-t,fileSize:BigInt(u.byteLength)})),yield i}),depth:o,size:BigInt(c.length),node:c}};var u},[nh]:async(e,t,r,i,n,o,s,a)=>{const c=await s.get(e,a),u=sh(c);let h=u,d=r;for(;i.length>0;){const n=i[0];if(!(n in h))throw ah(new Error(`No property named ${n} found in cbor node ${e}`),"ERR_NO_PROP");{i.shift(),d=`${d}/${n}`;const s=_e.asCID(h[n]);if(null!=s)return{entry:{type:"object",name:t,path:r,cid:e,node:c,depth:o,size:BigInt(c.length),content:async function*(){yield u}},next:{cid:s,name:n,path:d,toResolve:i}};h=h[n]}}return{entry:{type:"object",name:t,path:r,cid:e,node:c,depth:o,size:BigInt(c.length),content:async function*(){yield u}}}},0:async(e,t,r,i,n,o,s,a)=>{if(i.length>0)throw ah(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");const c=be(e.multihash.bytes);return{entry:{type:"identity",name:t,path:r,cid:e,content:(u=c.digest,async function*(e={}){const{start:t,end:r}=o_(u.length,e.offset,e.length),i=n_(u,0n,t,r);e.onProgress?.(new $f("unixfs:exporter:progress:identity",{bytesRead:BigInt(i.byteLength),totalBytes:r-t,fileSize:BigInt(u.byteLength)})),yield i}),depth:o,size:BigInt(c.digest.length),node:c.digest}};var u}},pQ=async(e,t,r,i,n,o,s)=>{const a=fQ[e.code];if(null==a)throw ah(new Error(`No resolver for code ${e.code}`),"ERR_NO_RESOLVER");return a(e,t,r,i,pQ,n,o,s)},AQ=pQ;async function gQ(e,t,r={}){const i=await function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{let t;for await(const r of e)t=r;return t})();let t;for(const r of e)t=r;return t}(async function*(e,t,r={}){let{cid:i,toResolve:n}=(e=>{if(e instanceof Uint8Array)return{cid:_e.decode(e),toResolve:[]};const t=_e.asCID(e);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=((e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(e);return{cid:_e.parse(t[0]),toResolve:t.slice(1)}}throw ah(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")})(e),o=i.toString(),s=o;const a=n.length;for(;;){const c=await AQ(i,o,s,n,a,t,r);if(null==c.entry&&null==c.next)throw ah(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(null!=c.entry&&(yield c.entry),null==c.next)return;n=c.next.toResolve,i=c.next.cid,o=c.next.name,s=c.next.path}}(e,t,r));if(null==i)throw ah(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");return i}var mQ=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const yQ=new Uint8Array;class IQ{constructor(e={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:WS},e),this.blockstore=new i_({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return mQ(this,void 0,void 0,(function*(){yield this.blockstore.open()}))}close(){return mQ(this,void 0,void 0,(function*(){yield this.blockstore.close()}))}put(e,t,r,i){var n,o,s,a,c,u;return mQ(this,void 0,void 0,(function*(){const h=yield this.getBlockstoreForReferenceCounting(e,r);yield h.put(t,yQ);const d=yield this.getBlockstoreForStoringData(e,r),l=fA([{content:i}],d,{cidVersion:1});let f;try{for(var p,A=!0,g=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}}(l);p=yield g.next(),!(n=p.done);A=!0)a=p.value,A=!1,f=a}catch(e){o={error:e}}finally{try{A||n||!(s=g.return)||(yield s.call(g))}finally{if(o)throw o.error}}return{dataCid:String(f.cid),dataSize:Number(null!==(u=null===(c=f.unixfs)||void 0===c?void 0:c.fileSize())&&void 0!==u?u:f.size)}}))}get(e,t,r){return mQ(this,void 0,void 0,(function*(){const i=yield this.getBlockstoreForReferenceCounting(e,r);if(!(yield i.has(t)))return;const n=yield this.getBlockstoreForStoringData(e,r);if(!(yield n.has(r)))return;const o=yield gQ(r,n),s=o.content(),a=new rB.Readable({read(){return mQ(this,void 0,void 0,(function*(){const e=yield s.next();e.done?this.push(null):this.push(e.value)}))}});let c=o.size;return"file"!==o.type&&"directory"!==o.type||(c=o.unixfs.fileSize()),{dataCid:String(o.cid),dataSize:Number(c),dataStream:a}}))}associate(e,t,r){return mQ(this,void 0,void 0,(function*(){const i=yield this.getBlockstoreForReferenceCounting(e,r);if(yield i.isEmpty())return;const n=yield this.getBlockstoreForStoringData(e,r);if(!(yield n.has(r)))return;yield i.put(t,yQ);const o=yield gQ(r,n);let s=o.size;return"file"!==o.type&&"directory"!==o.type||(s=o.unixfs.fileSize()),{dataCid:String(o.cid),dataSize:Number(s)}}))}delete(e,t,r){return mQ(this,void 0,void 0,(function*(){const i=yield this.getBlockstoreForReferenceCounting(e,r);if(yield i.delete(t),!(yield i.isEmpty()))return;const n=yield this.getBlockstoreForStoringData(e,r);yield n.clear()}))}clear(){return mQ(this,void 0,void 0,(function*(){yield this.blockstore.clear()}))}dump(){var e,t;return mQ(this,void 0,void 0,(function*(){console.group("blockstore"),yield null===(t=(e=this.blockstore).dump)||void 0===t?void 0:t.call(e),console.groupEnd()}))}getBlockstoreForReferenceCounting(e,t){return mQ(this,void 0,void 0,(function*(){const r=yield this.blockstore.partition("references"),i=yield r.partition(e);return yield i.partition(t)}))}getBlockstoreForStoringData(e,t){return mQ(this,void 0,void 0,(function*(){const r=yield this.blockstore.partition("data"),i=yield r.partition(e);return yield i.partition(t)}))}}function wQ(e){if(!bQ(e))throw new Error("Parameter was not an error")}function bQ(e){return"[object Error]"===(t=e,Object.prototype.toString.call(t))||e instanceof Error;var t}class vQ extends Error{constructor(e,t){const r=[...arguments],{options:i,shortMessage:n}=function(e){let t,r="";if(0===e.length)t={};else if(bQ(e[0]))t={cause:e[0]},r=e.slice(1).join(" ")||"";else if(e[0]&&"object"==typeof e[0])t=Object.assign({},e[0]),r=e.slice(1).join(" ")||"";else{if("string"!=typeof e[0])throw new Error("Invalid arguments passed to Layerr");t={},r=r=e.join(" ")||""}return{options:t,shortMessage:r}}(r);let o=n;if(i.cause&&(o=`${o}: ${i.cause.message}`),super(o),this.message=o,i.name&&"string"==typeof i.name?this.name=i.name:this.name="Layerr",i.cause&&Object.defineProperty(this,"_cause",{value:i.cause}),Object.defineProperty(this,"_info",{value:{}}),i.info&&"object"==typeof i.info&&Object.assign(this._info,i.info),Error.captureStackTrace){const e=i.constructorOpt||this.constructor;Error.captureStackTrace(this,e)}}static cause(e){return wQ(e),e._cause&&bQ(e._cause)?e._cause:null}static fullStack(e){wQ(e);const t=vQ.cause(e);return t?`${e.stack}\ncaused by: ${vQ.fullStack(t)}`:e.stack}static info(e){wQ(e);const t={},r=vQ.cause(e);return r&&Object.assign(t,vQ.info(r)),e._info&&Object.assign(t,e._info),t}cause(){return vQ.cause(this)}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e=`${e}: ${this.message}`),e}}const EQ="0123456789ABCDEFGHJKMNPQRSTVWXYZ",CQ=32,BQ=0xffffffffffff,SQ=Object.freeze({source:"ulid"});function _Q(e,t){if(isNaN(e))throw new vQ({info:{code:"ENC_TIME_NAN",...SQ}},`Time must be a number: ${e}`);if(e>BQ)throw new vQ({info:{code:"ENC_TIME_SIZE_EXCEED",...SQ}},`Cannot encode a time larger than ${BQ}: ${e}`);if(e<0)throw new vQ({info:{code:"ENC_TIME_NEG",...SQ}},`Time must be positive: ${e}`);if(!1===Number.isInteger(e))throw new vQ({info:{code:"ENC_TIME_TYPE",...SQ}},`Time must be an integer: ${e}`);let r,i="";for(let n=t;n>0;n--)r=e%CQ,i=EQ.charAt(r)+i,e=(e-r)/CQ;return i}function QQ(e){const t=e||function(e){const t=e||("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:null),r=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof r?.getRandomValues)return()=>{const e=new Uint8Array(1);return r.getRandomValues(e),e[0]/255};if("function"==typeof r?.randomBytes)return()=>r.randomBytes(1).readUInt8()/255;throw new vQ({info:{code:"PRNG_DETECT",...SQ}},"Failed to find a reliable PRNG")}();let r,i=0;return function(e){const n=isNaN(e)?Date.now():e;if(n<=i){const e=r=function(e){let t,r,i,n=e.length,o=e;const s=CQ-1;for(;!t&&n-- >=0;){if(r=o[n],i=EQ.indexOf(r),-1===i)throw new vQ({info:{code:"B32_INC_ENC",...SQ}},"Incorrectly encoded string");i!==s?t=kQ(o,n,EQ[i+1]):o=kQ(o,n,EQ[0])}if("string"==typeof t)return t;throw new vQ({info:{code:"B32_INC_INVALID",...SQ}},"Failed incrementing string")}(r);return _Q(i,10)+e}i=n;const o=r=function(e,t){let r="";for(;e>0;e--)r=DQ(t)+r;return r}(16,t);return _Q(n,10)+o}}function DQ(e){let t=Math.floor(e()*CQ);return t===CQ&&(t=CQ-1),EQ.charAt(t)}function kQ(e,t,r){return t>e.length-1?e:e.substr(0,t)+r+e.substr(t+1)}var MQ=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const PQ="watermarks",xQ="cids";class FQ{constructor(e){this.config=Object.assign({location:"EVENTLOG",createLevelDatabase:WS},e),this.db=new ZS({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,valueEncoding:"utf8"}),this.ulidFactory=QQ()}open(){return MQ(this,void 0,void 0,(function*(){return this.db.open()}))}close(){return MQ(this,void 0,void 0,(function*(){return this.db.close()}))}clear(){return MQ(this,void 0,void 0,(function*(){return this.db.clear()}))}append(e,t){return MQ(this,void 0,void 0,(function*(){const r=yield this.db.partition(e),i=yield r.partition(PQ),n=yield r.partition(xQ),o=this.ulidFactory();return yield i.put(o,t),yield n.put(t,o),o}))}getEvents(e,t){var r,i,n,o;return MQ(this,void 0,void 0,(function*(){const s=yield this.db.partition(e),a=yield s.partition(PQ),c=[];try{for(var u,h=!0,d=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}}(a.iterator(t));u=yield d.next(),!(r=u.done);h=!0){o=u.value,h=!1;const[e,t]=o,r={watermark:e,messageCid:t};c.push(r)}}catch(e){i={error:e}}finally{try{h||r||!(n=d.return)||(yield n.call(d))}finally{if(i)throw i.error}}return c}))}deleteEventsByCid(e,t){return MQ(this,void 0,void 0,(function*(){if(0===t.length)return 0;const r=yield this.db.partition(e),i=yield r.partition(xQ);let n=[];const o=[];for(const e of t){n.push({type:"del",key:e});const t=i.get(e).catch((e=>e));o.push(t)}yield i.batch(n),n=[];let s=0;const a=yield Promise.all(o);for(const e of a)e&&(n.push({type:"del",key:e}),s+=1);const c=yield r.partition("watermarks");return yield c.batch(n),s}))}dump(){var e,t;return MQ(this,void 0,void 0,(function*(){console.group("db"),yield null===(t=(e=this.db).dump)||void 0===t?void 0:t.call(e),console.groupEnd()}))}}function RQ({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*OQ(e,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[r,i]of t.entries()){const t=[...e,r],n=_e.asCID(i);n?yield[t.join("/"),n]:"object"==typeof i&&(yield*TQ(i,t))}else{const r=_e.asCID(t);r?yield[e.join("/"),r]:yield*TQ(t,e)}}function*TQ(e,t){if(null==e||e instanceof Uint8Array)return;const r=_e.asCID(e);r&&(yield[t.join("/"),r]);for(const[r,i]of Object.entries(e)){const e=[...t,r];yield*OQ(e,i)}}function*NQ(e,t){if(Array.isArray(t))for(const[r,i]of t.entries()){const t=[...e,r];yield t.join("/"),"object"!=typeof i||_e.asCID(i)||(yield*UQ(i,t))}else yield*UQ(t,e)}function*UQ(e,t){if(null!=e&&"object"==typeof e)for(const[r,i]of Object.entries(e)){const e=[...t,r];yield e.join("/"),null==i||i instanceof Uint8Array||"object"!=typeof i||_e.asCID(i)||(yield*NQ(e,i))}}class jQ{constructor({cid:e,bytes:t,value:r}){if(!e||!t||void 0===r)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:RQ(),bytes:RQ(),value:RQ(),asBlock:RQ()})}links(){return TQ(this.value,[])}tree(){return UQ(this.value,[])}get(e="/"){return function(e,t){let r=e;for(const[e,i]of t.entries()){if(r=r[i],null==r)throw new Error(`Object has no property at ${t.slice(0,e+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const n=_e.asCID(r);if(n)return{value:n,remaining:t.slice(e+1).join("/")}}return{value:r}}(this.value,e.split("/").filter(Boolean))}}var LQ=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class qQ{static byteArraysEqual(e,t){return e.length===t.length&&e.every(((e,r)=>e===t[r]))}static fromAsyncGenerator(e){var t,r,i,n,o,s,a;return LQ(this,void 0,void 0,(function*(){const c=[];try{for(t=!0,r=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}}(e);i=yield r.next(),!(n=i.done);t=!0){a=i.value,t=!1;const e=a;c.push(e)}}catch(e){o={error:e}}finally{try{t||n||!(s=r.return)||(yield s.call(r))}finally{if(o)throw o.error}}return c}))}static asyncSort(e,t){return LQ(this,void 0,void 0,(function*(){for(let r=0;r<e.length;r++)for(let i=r+1;i<e.length;i++)(yield t(e[r],e[i]))>0&&([e[r],e[i]]=[e[i],e[r]]);return e}))}}var KQ=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},HQ=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){!function(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)}(i,n,(t=e[r](t)).done,t.value)}))}}};class GQ{constructor(e){this.config=Object.assign({createLevelDatabase:WS},e),this.db=new ZS(Object.assign(Object.assign({},this.config),{valueEncoding:"utf8"}))}open(){return KQ(this,void 0,void 0,(function*(){return this.db.open()}))}close(){return KQ(this,void 0,void 0,(function*(){return this.db.close()}))}put(e,t,r){return KQ(this,void 0,void 0,(function*(){t=NE(t);const i=[];for(const r in t){const n=t[r],o=this.join(r,this.encodeValue(n),e);i.push({type:"put",key:o,value:e})}i.push({type:"put",key:`__${e}__indexes`,value:JSON.stringify(t)}),yield this.db.batch(i,r)}))}executeSingleFilterQuery(e,t,r){var i;return KQ(this,void 0,void 0,(function*(){const n={};for(const t in e){const i=e[t];if("object"==typeof i)if(Array.isArray(i)){n[t]=[];for(const e of new Set(i)){const i=this.findExactMatches(t,e,r);n[t].push(i)}}else{const e=this.findRangeMatches(t,i,r);n[t]=[e]}else{const e=this.findExactMatches(t,i,r);n[t]=[e]}}const o={};for(const[r,s]of Object.entries(n))for(const n of s)for(const s of yield n)t.has(s)||(null!==(i=o[s])&&void 0!==i||(o[s]=new Set([...Object.keys(e)])),o[s].delete(r),0===o[s].size&&t.add(s))}))}query(e,t){return KQ(this,void 0,void 0,(function*(){const r=new Set;for(const i of e)yield this.executeSingleFilterQuery(i,r,t);return[...r]}))}delete(e,t){return KQ(this,void 0,void 0,(function*(){const r=yield this.db.get(`__${e}__indexes`,t);if(!r)return;const i=JSON.parse(r),n=[];for(const t in i){const r=i[t],o=this.join(t,this.encodeValue(r),e);n.push({type:"del",key:o})}n.push({type:"del",key:`__${e}__indexes`}),yield this.db.batch(n,t)}))}clear(){return KQ(this,void 0,void 0,(function*(){return this.db.clear()}))}findExactMatches(e,t,r){var i,n,o,s;return KQ(this,void 0,void 0,(function*(){const a=this.join(e,this.encodeValue(t),""),c={gt:a},u=[];try{for(var h,d=!0,l=HQ(this.db.iterator(c,r));h=yield l.next(),!(i=h.done);d=!0){s=h.value,d=!1;const[e,t]=s;if(!e.startsWith(a))break;u.push(t)}}catch(e){n={error:e}}finally{try{d||i||!(o=l.return)||(yield o.call(l))}finally{if(n)throw n.error}}return u}))}findRangeMatches(e,t,r){var i,n,o,s;return KQ(this,void 0,void 0,(function*(){const a={};for(const r in t){const i=r;a[i]=this.join(e,this.encodeValue(t[i]))}void 0===a.gt&&void 0===a.gte&&(a.reverse=!0);const c=[];try{for(var u,h=!0,d=HQ(this.db.iterator(a,r));u=yield d.next(),!(i=u.done);h=!0){s=u.value,h=!1;const[r,i]=s;if(!("gt"in t)||GQ.extractValueFromKey(r)!==this.encodeValue(t.gt)){if(!r.startsWith(e))break;c.push(i)}}}catch(e){n={error:e}}finally{try{h||i||!(o=d.return)||(yield o.call(d))}finally{if(n)throw n.error}}if("lte"in t)for(const i of yield this.findExactMatches(e,t.lte,r))c.push(i);return c}))}encodeValue(e){switch(typeof e){case"string":return`"${e}"`;case"number":return GQ.encodeNumberValue(e);default:return String(e)}}static encodeNumberValue(e){const t=Number.MAX_SAFE_INTEGER,r=String(Number.MAX_SAFE_INTEGER).length;return(e<0?"!":"")+String(e+(e<0?t:0)).padStart(r,"0")}static extractValueFromKey(e){const[,t]=e.split(this.delimiter);return t}join(...e){return e.join(GQ.delimiter)}dump(){var e,t;return KQ(this,void 0,void 0,(function*(){console.group("db"),yield null===(t=(e=this.db).dump)||void 0===t?void 0:t.call(e),console.groupEnd()}))}}GQ.delimiter="\0";var zQ=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class JQ{constructor(e={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:WS},e),this.blockstore=new i_({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new GQ({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return zQ(this,void 0,void 0,(function*(){yield this.blockstore.open(),yield this.index.open()}))}close(){return zQ(this,void 0,void 0,(function*(){yield this.blockstore.close(),yield this.index.close()}))}get(e,r,i){var n;return zQ(this,void 0,void 0,(function*(){null===(n=null==i?void 0:i.signal)||void 0===n||n.throwIfAborted();const o=yield zS(this.blockstore.partition(e),null==i?void 0:i.signal),s=_e.parse(r),a=yield o.get(s,i);if(!a)return;const c=yield zS(async function({bytes:e,codec:t,hasher:r}){if(!e)throw new Error('Missing required argument "bytes"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const i=t.decode(e),n=await r.digest(e),o=_e.create(1,t.code,n);return new jQ({value:i,bytes:e,cid:o})}({bytes:a,codec:t,hasher:Zf}),null==i?void 0:i.signal);return c.value}))}query(e,t,r,i,n){var o;return zQ(this,void 0,void 0,(function*(){null===(o=null==n?void 0:n.signal)||void 0===o||o.throwIfAborted();const s=[],a=yield this.index.query(t.map((t=>Object.assign(Object.assign({},t),{tenant:e}))),n);let c;for(const t of a){const r=yield this.get(e,t,n);r&&s.push(r),(null==i?void 0:i.messageCid)&&i.messageCid===t&&(c=r)}if(void 0!==(null==i?void 0:i.messageCid)&&void 0===c)return{messages:[]};const u=yield JQ.sortMessages(s,r);return this.paginateMessages(u,c,i)}))}paginateMessages(e,t,r={}){return zQ(this,void 0,void 0,(function*(){const{limit:i}=r;if(void 0===t&&void 0===i)return{messages:e};const n=t?e.indexOf(t):void 0,o=void 0===n?0:n+1,s=void 0===i?void 0:o+i,a=e.slice(o,s);let c;if(void 0!==s&&s<e.length){const e=a.at(-1);c=yield $C.getCid(e)}return{messages:a,paginationMessageCid:c}}))}static lexicographicalCompare(e,t,r,i){return zQ(this,void 0,void 0,(function*(){const n=e.descriptor[r],o=t.descriptor[r];if(i===La.Ascending){if(n>o)return 1;if(n<o)return-1}else{if(o>n)return 1;if(o<n)return-1}return yield $C.compareCid(e,t)}))}static sortMessages(e,t={}){return zQ(this,void 0,void 0,(function*(){const{dateCreated:r,datePublished:i,messageTimestamp:n}=t;let o,s=La.Ascending,a=e;return void 0!==r?o="dateCreated":void 0!==i?(o="datePublished",a=e.filter((e=>e.descriptor.published))):void 0!==n&&(o="messageTimestamp"),void 0!==o?s=t[o]:o="messageTimestamp",yield qQ.asyncSort(a,((e,t)=>JQ.lexicographicalCompare(e,t,o,s)))}))}delete(e,t,r){var i;return zQ(this,void 0,void 0,(function*(){null===(i=null==r?void 0:r.signal)||void 0===i||i.throwIfAborted();const n=yield zS(this.blockstore.partition(e),null==r?void 0:r.signal),o=_e.parse(t);yield n.delete(o,r),yield this.index.delete(t,r)}))}put(e,r,i,n){var o;return zQ(this,void 0,void 0,(function*(){null===(o=null==n?void 0:n.signal)||void 0===o||o.throwIfAborted();const s=yield zS(this.blockstore.partition(e),null==n?void 0:n.signal),a=yield zS(async function({value:e,codec:t,hasher:r}){if(void 0===e)throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const i=t.encode(e),n=await r.digest(i),o=_e.create(1,t.code,n);return new jQ({value:e,bytes:i,cid:o})}({value:r,codec:t,hasher:Zf}),null==n?void 0:n.signal),c=QA.parseCid(yield $C.getCid(r));yield s.put(c,a.bytes,n);const u=c.toString(),h=Object.assign(Object.assign({},i),{tenant:e});yield this.index.put(u,h,n)}))}clear(){return zQ(this,void 0,void 0,(function*(){yield this.blockstore.clear(),yield this.index.clear()}))}dump(){var e,t,r,i;return zQ(this,void 0,void 0,(function*(){console.group("blockstore"),yield null===(t=(e=this.blockstore).dump)||void 0===t?void 0:t.call(e),console.groupEnd(),console.group("index"),yield null===(i=(r=this.index).dump)||void 0===i?void 0:i.call(r),console.groupEnd()}))}}var YQ=n(58090);function VQ(e){return ZQ(e.stream())}function $Q(e){return void 0!==e&&"algorithm"in e&&"extractable"in e&&"type"in e&&"usages"in e}function WQ(e){return void 0!==e&&"privateKey"in e&&"publicKey"in e}function ZQ(e){return new YQ.F(e)}var XQ=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const eD={[JC.Events+YC.Get]:YB,[JC.Messages+YC.Get]:ZB,[JC.Records+YC.Read]:LS,[JC.Records+YC.Query]:FB,[JC.Records+YC.Write]:DS,[JC.Records+YC.Delete]:wS,[JC.Protocols+YC.Query]:AS,[JC.Protocols+YC.Configure]:hS};class tD{constructor(e){this._agent=e.agent,this._dwn=e.dwn}get agent(){if(void 0===this._agent)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}get dwn(){return this._dwn}static create(e){return XQ(this,void 0,void 0,(function*(){let{agent:t,dataPath:r,didResolver:i,dwn:n}=null!=e?e:{};if(null!=r||(r="DATA/AGENT"),void 0===n){const e=new IQ({blockstoreLocation:`${r}/DWN_DATASTORE`}),t=new FQ({location:`${r}/DWN_EVENTLOG`}),o=new JQ({blockstoreLocation:`${r}/DWN_MESSAGESTORE`,indexLocation:`${r}/DWN_MESSAGEINDEX`});n=yield HS.create({dataStore:e,didResolver:i,eventLog:t,messageStore:o})}return new tD({agent:t,dwn:n})}))}processRequest(e){return XQ(this,void 0,void 0,(function*(){const{message:t,dataStream:r}=yield this.constructDwnMessage({request:e});let i;return i=!1!==e.store?yield this._dwn.processMessage(e.target,t,r):{status:{code:202,detail:"Accepted"}},{reply:i,message:t,messageCid:yield $C.getCid(t)}}))}sendRequest(e){var t,r;return XQ(this,void 0,void 0,(function*(){const i={targetDid:e.target};let n;if("messageCid"in e){const{message:t,data:r}=yield this.getDwnMessage({author:e.author,messageCid:e.messageCid,messageType:e.messageType});i.message=t,n=r}else{const{message:t}=yield this.constructDwnMessage({request:e});i.message=t,n=e.dataStream}n&&(i.data=n);const{didDocument:o,didResolutionMetadata:s}=yield this.agent.didResolver.resolve(e.target);if(!o){const i=null!==(t=`${null==s?void 0:s.error}: `)&&void 0!==t?t:"",n=`Unable to resolve target DID: ${e.target}`,o=null!==(r=null==s?void 0:s.errorMessage)&&void 0!==r?r:n;throw new Error(`DwnManager: ${i}${o}`)}const[a]=Tn({didDocument:o,id:"#dwn"});if(!a)throw new Error(`DwnManager: DID Document of '${e.target}' has no service endpoints with ID '#dwn'`);if(!jn(a.serviceEndpoint))throw new Error("DwnManager: Malformed '#dwn' service endpoint. Expected array of node addresses.");const c=a.serviceEndpoint.nodes;let u,h=[];for(let e of c){i.dwnUrl=e;try{u=yield this.agent.rpcClient.sendDwnRequest(i);break}catch(t){const r=t instanceof Error?t.message:"Uknown error";h.push({url:e,message:r})}}if(!u)throw new Error(JSON.stringify(h));return{message:i.message,messageCid:yield $C.getCid(i.message),reply:u}}))}constructDwnMessage(e){var t;return XQ(this,void 0,void 0,(function*(){const{request:r}=e;let i;if("RecordsWrite"===r.messageType){const e=r.messageOptions;if(r.dataStream&&!e.data){const{dataStream:n}=r;let o;if(n instanceof Blob)o=VQ(n),i=VQ(n);else if(n instanceof ReadableStream){const[e,t]=n.tee();o=ZQ(e),i=ZQ(t)}e.dataCid=yield QA.computeDagPbCidFromStream(o),null!==(t=e.dataSize)&&void 0!==t||(e.dataSize=o.bytesRead)}}const n=yield this.constructDwnAuthorizationSigner(r.author),o=eD[r.messageType];return{message:(yield o.create(Object.assign(Object.assign({},r.messageOptions),{authorizationSigner:n}))).toJSON(),dataStream:i}}))}getAuthorSigningKeyId(e){return XQ(this,void 0,void 0,(function*(){const{did:t}=e,r=yield this.agent.didManager.getDefaultSigningKey({did:t});if(!r)throw new Error(`DwnManager: Unable to determine signing key for author: '${t}'`);return r}))}constructDwnAuthorizationSigner(e){return XQ(this,void 0,void 0,(function*(){const t=yield this.getAuthorSigningKeyId({did:e}),r=Ln({didUrl:t});if(!r)throw new Error(`DidIonMethod: Unable to parse DID: ${t}`);const i=`${r.did.split(":",3).join(":")}#${r.fragment}`,n=yield this.agent.keyManager.getKey({keyRef:i});if(!WQ(n))throw new Error(`DwnManager: Signing key not found for author: '${e}'`);const{alg:o}=An.webCryptoToJose(n.privateKey.algorithm);if(void 0===o)throw Error(`No algorithm provided to sign with key ID ${t}`);return{keyId:t,algorithm:o,sign:e=>XQ(this,void 0,void 0,(function*(){return yield this.agent.keyManager.sign({algorithm:n.privateKey.algorithm,data:e,keyRef:i})}))}}))}getDwnMessage(e){return XQ(this,void 0,void 0,(function*(){const{author:t,messageType:r,messageCid:i}=e,n=yield this.constructDwnAuthorizationSigner(t),o=yield ZB.create({authorizationSigner:n,messageCids:[i]}),s=yield this._dwn.processMessage(t,o.message);if(!s.messages||1!==s.messages.length)throw new Error("TODO: figure out error message");const[a]=s.messages;let{message:c}=a;if(!c)throw new Error("TODO: message not found");let u={message:c};if("RecordsWrite"===r){const{encodedData:e}=a,r=c;if(e){const t=te.base64Url(e).toUint8Array();u.data=new Blob([t])}else{const e=yield LS.create({authorizationSigner:n,filter:{recordId:r.recordId}}),i=yield this._dwn.processMessage(t,e.toJSON());if(i.status.code>=400){const{status:{code:e,detail:t}}=i;throw new Error(`(${e}) Failed to read data associated with record ${r.recordId}. ${t}}`)}if(i.record){const e=yield RB.toBytes(i.record.data);u.data=new Blob([e])}}}return u}))}createMessage(e){return XQ(this,void 0,void 0,(function*(){const{author:t,messageOptions:r,messageType:i}=e,n=yield this.constructDwnAuthorizationSigner(t),o=eD[i];return yield o.create(Object.assign(Object.assign({},r),{authorizationSigner:n}))}))}writePrunedRecord(e){return XQ(this,void 0,void 0,(function*(){const{targetDid:t,message:r}=e;return yield this._dwn.synchronizePrunedInitialRecordsWrite(t,r)}))}processMessage(e){return XQ(this,void 0,void 0,(function*(){const{dataStream:t,message:r,targetDid:i}=e;return yield this._dwn.processMessage(i,r,t)}))}}var rD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class iD{constructor(){this._identityRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-identity"}}deleteIdentity(e){var t;return rD(this,void 0,void 0,(function*(){const{agent:r,context:i,did:n}=e,o=yield this.getAuthor({agent:r,context:i,did:n}),{reply:s}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}});let a;for(const e of null!==(t=s.entries)&&void 0!==t?t:[])if(e.encodedData){const t=te.base64Url(e.encodedData).toObject();if(t&&t.did===n){a=e.recordId;break}}if(!a)return!1;const{reply:{status:c}}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsDelete",messageOptions:{recordId:a}});return 202===c.code}))}getIdentity(e){var t;return rD(this,void 0,void 0,(function*(){const{agent:r,context:i,did:n}=e,o=yield this.getAuthor({agent:r,context:i,did:n}),{reply:s}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}});for(const e of null!==(t=s.entries)&&void 0!==t?t:[])if(e.encodedData){const t=te.base64Url(e.encodedData).toObject();if(t&&t.did===n)return t}}))}importIdentity(e){return rD(this,void 0,void 0,(function*(){const{agent:t,context:r,identity:i}=e,n=yield this.getAuthor({agent:t,context:r,did:i.did});if(yield this.getIdentity({agent:t,context:r,did:i.did}))throw new Error(`IdentityStoreDwn: Identity with DID already exists: '${i.did}'`);const o=te.object(i).toUint8Array(),{reply:{status:s}}=yield t.dwnManager.processRequest({author:n,target:n,messageType:"RecordsWrite",messageOptions:Object.assign({},this._identityRecordProperties),dataStream:new Blob([o])});if(202!==s.code)throw new Error("IdentityStoreDwn: Failed to write imported identity to store.")}))}listIdentities(e){var t;return rD(this,void 0,void 0,(function*(){const{agent:r,context:i}=e,n=yield this.getAuthor({agent:r,context:i}),{reply:o}=yield r.dwnManager.processRequest({author:n,target:n,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._identityRecordProperties)}});let s=[];for(const e of null!==(t=o.entries)&&void 0!==t?t:[])if(e.encodedData){const t=te.base64Url(e.encodedData).toObject();s.push(t)}return s}))}getAuthor(e){return rD(this,void 0,void 0,(function*(){const{context:t,did:r,agent:i}=e;if(t)return t;if(i.agentDid)return i.agentDid;if(!r)throw new Error("DidStoreDwn: Agent property 'agentDid' is undefined.");const n=yield i.didManager.getDefaultSigningKey({did:r});if(n?yield i.keyManager.getKey({keyRef:n}):void 0)return r;throw new Error(`IdentityStoreDwn: Agent property 'agentDid' is undefined and no keys were found for: '${r}'`)}))}}class nD{constructor(){this.store=new Map}deleteIdentity({did:e}){return rD(this,void 0,void 0,(function*(){return!!this.store.has(e)&&(this.store.delete(e),!0)}))}getIdentity({did:e}){return rD(this,void 0,void 0,(function*(){return this.store.get(e)}))}importIdentity(e){return rD(this,void 0,void 0,(function*(){const{identity:t}=e;if(this.store.has(t.did))throw new Error(`IdentityStoreMemory: Identity with DID already exists: '${t.did}'`);const r=structuredClone(t);this.store.set(t.did,r)}))}listIdentities(){return rD(this,void 0,void 0,(function*(){return Array.from(this.store.values())}))}}var oD,sD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class aD{constructor(e){const{agent:t,store:r}=null!=e?e:{};this._agent=t,this._store=null!=r?r:new nD}get agent(){if(void 0===this._agent)throw new Error("IdentityManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}create(e){return sD(this,void 0,void 0,(function*(){let t,{context:r,did:i,didMethod:n,didOptions:o,kms:s,name:a}=e;if(!(n?!i:i))throw new Error("Either 'did' or 'didMethod' must be defined, but not both.");const c=this.agent;if(n?t=yield c.didManager.create(Object.assign({method:n,context:r,kms:s},o)):i&&(t=yield c.didManager.import({did:i,context:r,kms:s})),void 0===t)throw new Error("IdentityManager: Unable to generate or import DID.");const u={did:t.did,name:a};return null!=r||(r=u.did),yield this._store.importIdentity({identity:u,agent:c,context:r}),u}))}get(e){return sD(this,void 0,void 0,(function*(){const{context:t,did:r}=e;return this._store.getIdentity({did:r,agent:this.agent,context:t})}))}import(e){return sD(this,void 0,void 0,(function*(){let{context:t,did:r,identity:i,kms:n}=e;const o=this.agent;return r&&(yield o.didManager.import({did:r,context:t,kms:n})),null!=t||(t=i.did),yield this._store.importIdentity({identity:i,agent:o,context:t}),i}))}list(e){return sD(this,void 0,void 0,(function*(){const{context:t}=null!=e?e:{};return this._store.listIdentities({agent:this.agent,context:t})}))}}!function(e){e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.ParseError=-32700]="ParseError",e[e.TransportError=-32300]="TransportError",e[e.BadRequest=-50400]="BadRequest",e[e.Unauthorized=-50401]="Unauthorized",e[e.Forbidden=-50403]="Forbidden"}(oD||(oD={}));const cD=(e,t,r)=>({jsonrpc:"2.0",id:e,method:t,params:r});var uD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},hD=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r};class dD{constructor(e){this._keyRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/managed-key"};const{schema:t}=null!=e?e:{};t&&(this._keyRecordProperties.schema=t)}deleteKey(e){var t;return uD(this,void 0,void 0,(function*(){const{agent:r,context:i,id:n}=e,o=yield this.getAuthor({agent:r,context:i}),{reply:s}=yield this.getKeyRecords(r,i);let a;for(const e of null!==(t=s.entries)&&void 0!==t?t:[])if(e.encodedData){const t=this.decodeKey(e.encodedData),r=WQ(t)?t.publicKey.id:t.id;if(t&&r===n){a=e.recordId;break}}if(!a)return!1;const{reply:{status:c}}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsDelete",messageOptions:{recordId:a}});return 202===c.code}))}findKey(e){var t;return uD(this,void 0,void 0,(function*(){const{agent:r,alias:i,context:n,id:o}=e,{reply:s}=yield this.getKeyRecords(r,n);for(const e of null!==(t=s.entries)&&void 0!==t?t:[])if(e.encodedData){const t=this.decodeKey(e.encodedData);if(WQ(t)){if(t.publicKey.id===o)return t;if(t.publicKey.alias===i)return t}else{if(t.id===o)return t;if(t.alias===i)return t}}}))}getKey(e){var t;return uD(this,void 0,void 0,(function*(){const{agent:r,context:i,id:n}=e,{reply:o}=yield this.getKeyRecords(r,i);for(const e of null!==(t=o.entries)&&void 0!==t?t:[])if(e.encodedData){const t=this.decodeKey(e.encodedData);if((WQ(t)?t.publicKey.id:t.id)===n)return t}}))}importKey(e){return uD(this,void 0,void 0,(function*(){const{agent:t,context:r,key:i}=e;let n;WQ(i)?n=i.publicKey.id:(i.id||(i.id=ct()),n=i.id);const o=yield this.getAuthor({agent:t,context:r});if(yield this.getKey({agent:t,context:r,id:n}))throw new Error(`KeyStoreDwn: Key with ID already exists: '${n}'`);const s=this.encodeKey(i),{reply:{status:a}}=yield t.dwnManager.processRequest({author:o,target:o,messageType:"RecordsWrite",messageOptions:Object.assign({},this._keyRecordProperties),dataStream:new Blob([s])});if(202!==a.code)throw new Error("DidStoreDwn: Failed to write imported DID to store.");return n}))}listKeys(e){var t;return uD(this,void 0,void 0,(function*(){const{agent:r,context:i}=e,{reply:n}=yield this.getKeyRecords(r,i);let o=[];for(const e of null!==(t=n.entries)&&void 0!==t?t:[])if(e.encodedData){const t=this.decodeKey(e.encodedData);o.push(t)}return o}))}updateKey(e){var t;return uD(this,void 0,void 0,(function*(){const{agent:r,context:i,id:n}=e,o={alias:e.alias,metadata:e.metadata},s=yield this.getAuthor({agent:r,context:i}),{reply:a}=yield this.getKeyRecords(r,i);let c,u;for(const e of null!==(t=a.entries)&&void 0!==t?t:[]){const{encodedData:t}=e,r=hD(e,["encodedData"]);if(t){const e=this.decodeKey(t),i=WQ(e)?e.publicKey.id:e.id;if(e&&i===n){c=e,u=r;break}}}if(!u||!c)return!1;je(o),Ue(o);const h=structuredClone(o);WQ(c)?(c.privateKey=Object.assign(Object.assign({},c.privateKey),h),c.publicKey=Object.assign(Object.assign({},c.publicKey),h)):c=Object.assign(Object.assign({},c),h);const d=this.encodeKey(c);let l=Object.assign({},u.descriptor);l.contextId=u.contextId,l.recordId=u.recordId,delete l.dataCid,delete l.dataSize,delete l.data,delete l.messageTimestamp;const{reply:{status:f}}=yield r.dwnManager.processRequest({author:s,target:s,messageType:"RecordsWrite",messageOptions:l,dataStream:new Blob([d])});if(202!==f.code)throw new Error("DidStoreDwn: Failed to write updated key to store.");return!0}))}decodeKey(e){const t=te.base64Url(e).toObject();if("publicKey"in t){const e=t.privateKey.material?te.base64Url(t.privateKey.material).toUint8Array():void 0,r=t.publicKey.material?te.base64Url(t.publicKey.material).toUint8Array():void 0;return{privateKey:Object.assign(Object.assign({},t.privateKey),{material:e}),publicKey:Object.assign(Object.assign({},t.publicKey),{material:r})}}{const e=t.material?te.base64Url(t.material).toUint8Array():void 0;return Object.assign(Object.assign({},t),{material:e})}}encodeKey(e){let t;if(WQ(e)){const r=e.privateKey.material?te.uint8Array(e.privateKey.material).toBase64Url():void 0,i=e.publicKey.material?te.uint8Array(e.publicKey.material).toBase64Url():void 0;t={privateKey:Object.assign(Object.assign({},e.privateKey),{material:r}),publicKey:Object.assign(Object.assign({},e.publicKey),{material:i})}}else{const r=e.material?te.uint8Array(e.material).toBase64Url():void 0;t=Object.assign(Object.assign({},e),{material:r})}return te.object(t).toUint8Array()}getAuthor(e){return uD(this,void 0,void 0,(function*(){const{agent:t,context:r}=e;if(r)return r;if(t.agentDid)return t.agentDid;throw new Error("KeyStoreDwn: Agent property 'agentDid' is undefined and no context was specified.")}))}getKeyRecords(e,t){return uD(this,void 0,void 0,(function*(){const r=yield this.getAuthor({agent:e,context:t});return yield e.dwnManager.processRequest({author:r,target:r,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._keyRecordProperties)}})}))}}class lD{constructor(){this.store=new Map}deleteKey({id:e}){return uD(this,void 0,void 0,(function*(){return!!this.store.has(e)&&(this.store.delete(e),!0)}))}findKey(e){return uD(this,void 0,void 0,(function*(){let{alias:t,id:r}=e;if(r)return this.store.get(r);if(t)for(const e of yield this.listKeys()){if("alias"in e&&e.alias===t)return e;if("publicKey"in e&&e.publicKey.alias===t)return e}}))}getKey({id:e}){return uD(this,void 0,void 0,(function*(){return this.store.get(e)}))}importKey({key:e}){return uD(this,void 0,void 0,(function*(){let t;if(WQ(e)?t=e.publicKey.id:(e.id||(e.id=ct()),t=e.id),this.store.has(t))throw new Error(`KeyStoreMemory: Key with ID already exists: '${t}'`);const r=structuredClone(e);return this.store.set(t,r),t}))}listKeys(){return uD(this,void 0,void 0,(function*(){return Array.from(this.store.values())}))}updateKey(e){return uD(this,void 0,void 0,(function*(){const t=e.id,r={alias:e.alias,metadata:e.metadata};if(!this.store.has(t))return!1;let i=yield this.getKey({id:t});je(r),Ue(r);const n=structuredClone(r);return WQ(i)?(i.privateKey=Object.assign(Object.assign({},i.privateKey),n),i.publicKey=Object.assign(Object.assign({},i.publicKey),n)):i=Object.assign(Object.assign(Object.assign({},i),n),{id:i.id}),this.store.set(t,i),!0}))}}class fD{constructor(){this._keyRecordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/kms-private-key"}}deleteKey(e){var t;return uD(this,void 0,void 0,(function*(){const{agent:r,context:i,id:n}=e,o=yield this.getAuthor({agent:r,context:i}),{reply:s}=yield this.getKeyRecords(r,i);let a;for(const e of null!==(t=s.entries)&&void 0!==t?t:[])if(e.encodedData){const t=this.decodeKey(e.encodedData);if(t&&t.id===n){a=e.recordId;break}}if(!a)return!1;const{reply:{status:c}}=yield r.dwnManager.processRequest({author:o,target:o,messageType:"RecordsDelete",messageOptions:{recordId:a}});return 202===c.code}))}findKey(){return uD(this,void 0,void 0,(function*(){throw new Error("PrivateKeyStoreDwn: Method not implemented: 'findKey'")}))}getKey(e){var t;return uD(this,void 0,void 0,(function*(){const{agent:r,context:i,id:n}=e,{reply:o}=yield this.getKeyRecords(r,i);for(const e of null!==(t=o.entries)&&void 0!==t?t:[])if(e.encodedData){const t=this.decodeKey(e.encodedData);if(t.id===n)return t}}))}importKey(e){return uD(this,void 0,void 0,(function*(){const{agent:t,context:r,key:i}=e;if(!i.material)throw new TypeError("Required parameter missing: 'material'");if(!i.type)throw new TypeError("Required parameter missing: 'type'");const n=yield this.getAuthor({agent:t,context:r}),o=ct(),s=this.encodeKey(Object.assign(Object.assign({},i),{id:o})),{reply:{status:a}}=yield t.dwnManager.processRequest({author:n,target:n,messageType:"RecordsWrite",messageOptions:Object.assign({},this._keyRecordProperties),dataStream:new Blob([s])});if(202!==a.code)throw new Error("PrivateKeyStoreDwn: Failed to write imported DID to store.");return o}))}listKeys(e){var t;return uD(this,void 0,void 0,(function*(){const{agent:r,context:i}=e,{reply:n}=yield this.getKeyRecords(r,i);let o=[];for(const e of null!==(t=n.entries)&&void 0!==t?t:[])if(e.encodedData){const t=this.decodeKey(e.encodedData);o.push(t)}return o}))}updateKey(){return uD(this,void 0,void 0,(function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'updateKey'")}))}decodeKey(e){const t=te.base64Url(e).toObject();return Object.assign(Object.assign({},t),{material:te.base64Url(t.material).toUint8Array()})}encodeKey(e){const t=Object.assign(Object.assign({},e),{material:te.uint8Array(e.material).toBase64Url()});return te.object(t).toUint8Array()}getAuthor(e){return uD(this,void 0,void 0,(function*(){const{agent:t,context:r}=e;if(r)return r;if(t.agentDid)return t.agentDid;throw new Error("PrivateKeyStoreDwn: Agent property 'agentDid' is undefined and no context was specified.")}))}getKeyRecords(e,t){return uD(this,void 0,void 0,(function*(){const r=yield this.getAuthor({agent:e,context:t});return yield e.dwnManager.processRequest({author:r,target:r,messageType:"RecordsQuery",messageOptions:{filter:Object.assign({},this._keyRecordProperties)}})}))}}class pD{constructor(){this.store=new Map}deleteKey({id:e}){return uD(this,void 0,void 0,(function*(){return!!this.store.has(e)&&(this.store.delete(e),!0)}))}findKey(){return uD(this,void 0,void 0,(function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'findKey'")}))}getKey({id:e}){return uD(this,void 0,void 0,(function*(){return this.store.get(e)}))}importKey({key:e}){return uD(this,void 0,void 0,(function*(){if(!e.material)throw new TypeError("Required parameter missing: 'material'");if(!e.type)throw new TypeError("Required parameter missing: 'type'");const t=structuredClone(e,{transfer:[e.material.buffer]});return t.id=ct(),this.store.set(t.id,t),t.id}))}listKeys(){return uD(this,void 0,void 0,(function*(){return Array.from(this.store.values())}))}updateKey(){return uD(this,void 0,void 0,(function*(){throw new Error("PrivateKeyStoreMemory: Method not implemented: 'updateKey'")}))}}var AD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const gD={"AES-CTR":class extends mt{decrypt(e){return un(this,void 0,void 0,(function*(){const{algorithm:t,key:r,data:i}=e;return this.checkAlgorithmOptions({algorithm:t,key:r}),this.checkKeyUsages({keyUsages:["decrypt"],allowedKeyUsages:r.usages}),Wr.decrypt({counter:t.counter,data:i,key:r.material,length:t.length})}))}encrypt(e){return un(this,void 0,void 0,(function*(){const{algorithm:t,key:r,data:i}=e;return this.checkAlgorithmOptions({algorithm:t,key:r}),this.checkKeyUsages({keyUsages:["encrypt"],allowedKeyUsages:r.usages}),Wr.encrypt({counter:t.counter,data:i,key:r.material,length:t.length})}))}generateKey(e){return un(this,void 0,void 0,(function*(){const{algorithm:t,extractable:r,keyUsages:i}=e;this.checkGenerateKey({algorithm:t,keyUsages:i});const n=yield Wr.generateKey({length:t.length});if("Uint8Array"!==Z(n))throw new Error("Operation failed to generate key.");return new yt(t,r,n,"secret",this.keyUsages)}))}},ECDH:class extends lt{constructor(){super(...arguments),this.namedCurves=["secp256k1","X25519"]}deriveBits(e){return nn(this,void 0,void 0,(function*(){const{algorithm:t,baseKey:r,length:i}=e;let n;this.checkAlgorithmOptions({algorithm:t,baseKey:r}),this.checkKeyUsages({keyUsages:["deriveBits"],allowedKeyUsages:r.usages}),this.checkKeyUsages({keyUsages:["deriveBits"],allowedKeyUsages:t.publicKey.usages});const o=r.algorithm;switch(o.namedCurve){case"secp256k1":{const e=r.material,i=t.publicKey.material;n=yield _i.sharedSecret({privateKey:e,publicKey:i});break}case"X25519":{const e=r.material,i=t.publicKey.material;n=yield Vr.sharedSecret({privateKey:e,publicKey:i});break}default:throw new TypeError(`Out of range: '${o.namedCurve}'. Must be one of '${this.namedCurves.join(", ")}'`)}if(null===i)return n;if(i&&i%8!=0)throw new N("To be compatible with all browsers, 'length' must be a multiple of 8.");const s=i/8;if(n.byteLength<s)throw new N("Requested 'length' exceeds the byte length of the derived secret.");return s===n.byteLength?n:n.slice(0,s)}))}generateKey(e){var t,r;return nn(this,void 0,void 0,(function*(){const{algorithm:i,extractable:n,keyUsages:o}=e;let s,a;switch(this.checkGenerateKey({algorithm:i,keyUsages:o}),i.namedCurve){case"secp256k1":null!==(t=(r=i).compressedPublicKey)&&void 0!==t||(r.compressedPublicKey=!0),s=yield _i.generateKeyPair({compressedPublicKey:i.compressedPublicKey});break;case"X25519":s=yield Vr.generateKeyPair()}if(!nt(s))throw new Error("Operation failed to generate key pair.");return a={privateKey:new yt(i,n,s.privateKey,"private",this.keyUsages.privateKey),publicKey:new yt(i,!0,s.publicKey,"public",this.keyUsages.publicKey)},a}))}},ECDSA:sn,EdDSA:cn};class mD{constructor(e){this._supportedAlgorithms=new Map;const{agent:t,kmsName:r,keyStore:i,privateKeyStore:n}=e;this._agent=t,this._name=r,this._keyStore=null!=i?i:new lD,this._privateKeyStore=null!=n?n:new pD;const o=Object.assign(Object.assign({},gD),e.cryptoAlgorithms);this.registerSupportedAlgorithms(o)}get agent(){if(void 0===this._agent)throw new Error("KeyManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}decrypt(e){return AD(this,void 0,void 0,(function*(){const{algorithm:t,data:r,keyRef:i}=e,n=yield this.getKey({keyRef:i});if($Q(n)){const e=yield this._privateKeyStore.getKey({id:n.id,agent:this.agent});if(void 0!==e){const i=this.toCryptoKey(Object.assign(Object.assign({},n),{material:e.material}));return this.getAlgorithm(t).decrypt({algorithm:t,key:i,data:r})}}throw new Error(`Operation failed: 'decrypt'. Key not found: ${i}`)}))}deriveBits(e){return AD(this,void 0,void 0,(function*(){let{algorithm:t,baseKeyRef:r,length:i}=e;const n=yield this.getKey({keyRef:r});if(WQ(n)){const e=yield this._privateKeyStore.getKey({id:n.privateKey.id,agent:this.agent});if(void 0!==e){const r=this.toCryptoKey(Object.assign(Object.assign({},n.privateKey),{material:e.material}));return this.getAlgorithm(t).deriveBits({algorithm:t,baseKey:r,length:null!=i?i:null})}}throw new Error(`Operation failed: 'deriveBits'. Key not found: ${r}`)}))}encrypt(e){return AD(this,void 0,void 0,(function*(){const{algorithm:t,data:r,keyRef:i}=e,n=yield this.getKey({keyRef:i});if($Q(n)){const e=yield this._privateKeyStore.getKey({id:n.id,agent:this.agent});if(void 0!==e){const i=this.toCryptoKey(Object.assign(Object.assign({},n),{material:e.material}));return this.getAlgorithm(t).encrypt({algorithm:t,key:i,data:r})}}throw new Error(`Operation failed: 'encrypt'. Key not found: ${i}`)}))}generateKey(e){return AD(this,void 0,void 0,(function*(){let{algorithm:t,alias:r,extractable:i,keyUsages:n,metadata:o}=e;const s=this.getAlgorithm(t);null!=i||(i=!0);const a=yield s.generateKey({algorithm:t,extractable:i,keyUsages:n});let c;if((u=a)&&"privateKey"in u&&"publicKey"in u){const e=a.privateKey.type,t=yield this._privateKeyStore.importKey({key:{material:a.privateKey.material,type:e},agent:this.agent});c={privateKey:this.toManagedKey(Object.assign(Object.assign({},a.privateKey),{id:t,alias:r,metadata:o})),publicKey:this.toManagedKey(Object.assign(Object.assign({},a.publicKey),{material:a.publicKey.material,id:t,alias:r,metadata:o}))}}else{const e=a.type,t=yield this._privateKeyStore.importKey({key:{material:a.material,type:e},agent:this.agent});c=this.toManagedKey(Object.assign(Object.assign({},a),{id:t,alias:r,metadata:o}))}var u;return yield this._keyStore.importKey({key:c,agent:this.agent}),c}))}getKey(e){return AD(this,void 0,void 0,(function*(){return this._keyStore.getKey({id:e.keyRef,agent:this.agent})}))}importKey(e){return AD(this,void 0,void 0,(function*(){if("privateKey"in e){const{privateKey:t,publicKey:r}=e;if("public"===t.type&&"private"===r.type)throw new Error("Import failed due to private and public key mismatch");if("private"!==t.type||"public"!==r.type)throw new TypeError(`Out of range: '${t.type}, ${r.type}'. Must be 'private, public'`);const i=yield this._privateKeyStore.importKey({key:{material:t.material,type:t.type},agent:this.agent}),n={privateKey:this.toManagedKey(Object.assign(Object.assign({},t),{id:i,material:void 0})),publicKey:this.toManagedKey(Object.assign(Object.assign({},r),{material:r.material,id:i}))};return yield this._keyStore.importKey({key:n,agent:this.agent}),n}const t=e.type;switch(t){case"private":{const r=e.material,i=yield this._privateKeyStore.importKey({key:{material:r,type:t},agent:this.agent}),n=this.toManagedKey(Object.assign(Object.assign({},e),{material:void 0,id:i}));return yield this._keyStore.importKey({key:n,agent:this.agent}),n}case"public":{const t=e.material,r=this.toManagedKey(Object.assign(Object.assign({},e),{material:t,id:""}));return r.id=yield this._keyStore.importKey({key:r,agent:this.agent}),r}case"secret":{const r=e.material,i=yield this._privateKeyStore.importKey({key:{material:r,type:t},agent:this.agent}),n=this.toManagedKey(Object.assign(Object.assign({},e),{material:void 0,id:i}));return yield this._keyStore.importKey({key:n,agent:this.agent}),n}default:throw new TypeError(`Out of range: '${t}'. Must be one of 'private, public, secret'`)}}))}sign(e){return AD(this,void 0,void 0,(function*(){const{algorithm:t,data:r,keyRef:i}=e,n=yield this.getKey({keyRef:i});if(WQ(n)){const e=yield this._privateKeyStore.getKey({id:n.privateKey.id,agent:this.agent});if(void 0!==e){const i=this.toCryptoKey(Object.assign(Object.assign({},n.privateKey),{material:e.material}));return this.getAlgorithm(t).sign({algorithm:t,key:i,data:r})}}throw new Error(`Operation failed: 'sign'. Key not found: ${i}`)}))}updateKey(e){return AD(this,void 0,void 0,(function*(){const{keyRef:t,alias:r,metadata:i}=e,n=yield this.getKey({keyRef:t});if(!n)throw new Error(`Key not found: '${t}'`);const o=WQ(n)?n.publicKey.id:n.id;return this._keyStore.updateKey({id:o,alias:r,metadata:i,agent:this.agent})}))}verify(e){return AD(this,void 0,void 0,(function*(){const{algorithm:t,data:r,keyRef:i,signature:n}=e,o=yield this.getKey({keyRef:i});if(WQ(o)){if(void 0===o.publicKey.material)throw new Error("Required property missing: 'material'");const e=this.toCryptoKey(Object.assign(Object.assign({},o.publicKey),{material:o.publicKey.material}));return this.getAlgorithm(t).verify({algorithm:t,key:e,signature:n,data:r})}throw new Error(`Operation failed: 'verify'. Key not found: ${i}`)}))}getAlgorithm(e){rt({property:"name",inObject:e});const t=this._supportedAlgorithms.get(e.name.toUpperCase());if(void 0===t)throw new Error(`The algorithm '${e.name}' is not supported`);return t.create()}registerSupportedAlgorithms(e){for(const[t,r]of Object.entries(e))this._supportedAlgorithms.set(t.toUpperCase(),r)}toCryptoKey(e){return{algorithm:e.algorithm,extractable:e.extractable,material:e.material,type:e.type,usages:e.usages}}toManagedKey(e){return{id:e.id,algorithm:e.algorithm,alias:e.alias,extractable:e.extractable,kms:this._name,material:"public"===e.type?e.material:void 0,metadata:e.metadata,state:"Enabled",type:e.type,usages:e.usages}}}var yD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},ID=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r};class wD{constructor(e){let{agent:t,kms:r,store:i}=null!=e?e:{};this._agent=t,this._store=null!=i?i:new lD,null!=r||(r=this.useMemoryKms()),this._kms=new Map(Object.entries(r))}get agent(){if(void 0===this._agent)throw new Error("KeyManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e,this._kms.forEach((t=>{t.agent=e}))}decrypt(e){return yD(this,void 0,void 0,(function*(){let{keyRef:t}=e,r=ID(e,["keyRef"]);const i=yield this.getKey({keyRef:t});if(!$Q(i))throw new Error(`Key not found: '${t}'`);const n=i.kms,o=this.getKms(n),s=i.id;return yield o.decrypt(Object.assign({keyRef:s},r))}))}deriveBits(e){return yD(this,void 0,void 0,(function*(){const{baseKeyRef:t}=e,r=ID(e,["baseKeyRef"]),i=yield this.getKey({keyRef:t});if(!WQ(i))throw new Error(`Key not found: '${t}'`);const n=i.privateKey.kms,o=this.getKms(n),s=i.privateKey.id;return o.deriveBits(Object.assign({baseKeyRef:s},r))}))}encrypt(e){return yD(this,void 0,void 0,(function*(){let{keyRef:t}=e,r=ID(e,["keyRef"]);const i=yield this.getKey({keyRef:t});if(!$Q(i))throw new Error(`Key not found: '${t}'`);const n=i.kms,o=this.getKms(n),s=i.id;return yield o.encrypt(Object.assign({keyRef:s},r))}))}generateKey(e){return yD(this,void 0,void 0,(function*(){const{kms:t}=e,r=ID(e,["kms"]),i=this.getKms(t),n=yield i.generateKey(r);return yield this._store.importKey({key:n,agent:this.agent}),n}))}getKey({keyRef:e}){var t,r;return yD(this,void 0,void 0,(function*(){let i;const n=null===(t=this._defaultSigningKey)||void 0===t?void 0:t.publicKey.id,o=null===(r=this._defaultSigningKey)||void 0===r?void 0:r.publicKey.alias;return e===n||e===o?this._defaultSigningKey:(i=yield this._store.getKey({id:e,agent:this.agent}),i||(i=yield this._store.findKey({alias:e,agent:this.agent}),i||void 0))}))}importKey(e){return yD(this,void 0,void 0,(function*(){const t="privateKey"in e?e.privateKey.kms:e.kms,r=this.getKms(t),i=yield r.importKey(e);return yield this._store.importKey({key:i,agent:this.agent}),i}))}listKms(){return Array.from(this._kms.keys())}setDefaultSigningKey({key:e}){return yD(this,void 0,void 0,(function*(){const t=e.privateKey.kms,r=this.getKms(t),i=yield r.importKey(e);this._defaultSigningKey=i}))}sign(e){return yD(this,void 0,void 0,(function*(){const{keyRef:t}=e,r=ID(e,["keyRef"]),i=yield this.getKey({keyRef:t});if(!WQ(i))throw new Error(`Key not found: '${t}'`);const n=i.privateKey.kms,o=this.getKms(n),s=i.privateKey.id;return yield o.sign(Object.assign({keyRef:s},r))}))}updateKey(e){return yD(this,void 0,void 0,(function*(){const{keyRef:t,alias:r,metadata:i}=e,n=yield this.getKey({keyRef:t});if(!n)throw new Error(`Key not found: '${t}'`);const{id:o,kms:s}=WQ(n)?Object.assign({},n.publicKey):Object.assign({},n),a=this.getKms(s);return!!(yield a.updateKey(e))&&(yield this._store.updateKey({id:o,alias:r,metadata:i,agent:this.agent}))}))}verify(e){return yD(this,void 0,void 0,(function*(){let{keyRef:t}=e,r=ID(e,["keyRef"]);const i=yield this.getKey({keyRef:t});if(!WQ(i))throw new Error(`Key not found: '${t}'`);const n=i.publicKey.kms,o=this.getKms(n),s=i.publicKey.id;return yield o.verify(Object.assign({keyRef:s},r))}))}getKms(e){null!=e||(e=1===this._kms.size?this._kms.keys().next().value:"");const t=this._kms.get(e);if(!t)throw Error(`Unknown key management system: '${e}'`);return t}useMemoryKms(){const e=new lD,t=new pD;return{memory:new mD({kmsName:"memory",keyStore:e,privateKeyStore:t})}}}var bD,vD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};!function(e){e.Create="did.create",e.Resolve="did.resolve"}(bD||(bD={}));class ED{constructor(e=[]){this.transportClients=new Map,e=[new BD,...e];for(let t of e)for(let e of t.transportProtocols)this.transportClients.set(e,t)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(e){return vD(this,void 0,void 0,(function*(){const t=new URL(e.url),r=this.transportClients.get(t.protocol);if(!r){const e=new Error(`no ${t.protocol} transport client available`);throw e.name="NO_TRANSPORT_CLIENT",e}return r.sendDidRequest(e)}))}sendDwnRequest(e){const t=new URL(e.dwnUrl),r=this.transportClients.get(t.protocol);if(!r){const e=new Error(`no ${t.protocol} transport client available`);throw e.name="NO_TRANSPORT_CLIENT",e}return r.sendDwnRequest(e)}}class CD{get transportProtocols(){return["http:","https:"]}sendDwnRequest(e){return vD(this,void 0,void 0,(function*(){const t=ct(),r=cD(t,"dwn.processMessage",{target:e.targetDid,message:e.message}),i={method:"POST",headers:{"dwn-request":JSON.stringify(r)}};e.data&&(i.headers["content-type"]="application/octet-stream",i.body=e.data);const n=yield fetch(e.dwnUrl,i);let o,s;const{headers:a}=n;if(a.has("dwn-response")){const t=function(e){try{return JSON.parse(e)}catch(e){return null}}(a.get("dwn-response"));if(null==t)throw new Error(`failed to parse json rpc response. dwn url: ${e.dwnUrl}`);s=n.body,o=t}else{const e=yield n.text();o=JSON.parse(e)}if(o.error){const{code:e,message:t}=o.error;throw new Error(`(${e}) - ${t}`)}const{reply:c}=o.result;return s&&(c.record.data=s),c}))}}class BD extends CD{sendDidRequest(e){return vD(this,void 0,void 0,(function*(){const t=ct(),r=cD(t,e.method,{data:e.data}),i=new Request(e.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});let n;try{const e=yield fetch(i);if(!e.ok)throw new Error(`HTTP (${e.status}) - ${e.statusText}`);if(n=yield e.json(),n.error){const{code:e,message:t}=n.error;throw new Error(`JSON RPC (${e}) - ${t}`)}}catch(t){throw new Error(`Error encountered while processing response from ${e.url}: ${t.message}`)}return n.result}))}}var SD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};const _D=e=>e>=200&&e<=299;class QD{constructor(e){let{agent:t,dataPath:r="DATA/AGENT/SYNC_STORE",db:i}=null!=e?e:{};this._agent=t,this._db=i||new Le.Level(r)}get agent(){if(void 0===this._agent)throw new Error("DidManager: Unable to determine agent execution context.");return this._agent}set agent(e){this._agent=e}clear(){return SD(this,void 0,void 0,(function*(){yield this._db.clear()}))}pull(){var e;return SD(this,void 0,void 0,(function*(){const t=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:t});const r=this.getPullQueue(),i=yield r.iterator().all(),n=[],o=new Set;for(let t of i){const[r]=t,[i,s,a,c]=r.split("~");if(o.has(s))continue;if(yield this.messageExists(i,c)){yield this.setWatermark(i,s,"pull",a),n.push({type:"del",key:r});continue}const u=yield this.agent.dwnManager.createMessage({author:i,messageType:"MessagesGet",messageOptions:{messageCids:[c]}});let h;try{h=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:s,targetDid:i,message:u})}catch(e){o.add(s);continue}for(let t of null!==(e=h.messages)&&void 0!==e?e:[]){if(t.error||!t.message){yield this.setWatermark(i,s,"pull",a),yield this.addMessage(i,c),n.push({type:"del",key:r});continue}let e;if("RecordsWrite"===this.getDwnMessageType(t.message)){const{encodedData:o}=t,u=t.message;if(o){const t=te.base64Url(o).toUint8Array();e=RB.fromBytes(t)}else{const t=yield this.agent.dwnManager.createMessage({author:i,messageType:"RecordsRead",messageOptions:{recordId:u.recordId}}),o=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:s,targetDid:i,message:t}),{record:h,status:d}=o;if(_D(d.code)&&h)e=ZQ(h.data);else if(d.code>=400){const e=yield this.agent.dwnManager.writePrunedRecord({targetDid:i,message:u});if(202===e.status.code||409===e.status.code){yield this.setWatermark(i,s,"pull",a),yield this.addMessage(i,c),n.push({type:"del",key:r});continue}throw new Error(`SyncManager: Failed to sync tombstone for message '${c}'`)}}}const o=yield this.agent.dwnManager.processMessage({targetDid:i,message:t.message,dataStream:e});202!==o.status.code&&409!==o.status.code||(yield this.setWatermark(i,s,"pull",a),yield this.addMessage(i,c),n.push({type:"del",key:r}))}}yield r.batch(n)}))}push(){return SD(this,void 0,void 0,(function*(){const e=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:e});const t=this.getPushQueue(),r=yield t.iterator().all(),i=[],n=new Set;for(let e of r){const[t]=e,[r,o,s,a]=t.split("~");if(n.has(o))continue;const c=yield this.getDwnMessage(r,a);if(c)try{const e=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:o,targetDid:r,data:c.data,message:c.message});202!==e.status.code&&409!==e.status.code||(yield this.setWatermark(r,o,"push",s),yield this.addMessage(r,a),i.push({type:"del",key:t}))}catch(e){n.add(o)}else i.push({type:"del",key:t}),yield this.setWatermark(r,o,"push",s),yield this.addMessage(r,a)}yield t.batch(i)}))}registerIdentity(e){return SD(this,void 0,void 0,(function*(){const{did:t}=e,r=this._db.sublevel("registeredIdentities");yield r.put(t,"")}))}startSync(e){const{interval:t=12e4}=e;return new Promise(((e,r)=>{this._syncIntervalId&&clearInterval(this._syncIntervalId),this._syncIntervalId=setInterval((()=>SD(this,void 0,void 0,(function*(){try{yield this.push(),yield this.pull()}catch(e){this.stopSync(),r(e)}}))),t)}))}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}enqueueOperations(e){return SD(this,void 0,void 0,(function*(){const{syncDirection:t,syncPeerState:r}=e;for(let e of r){const r=yield this.getDwnEventLog({did:e.did,dwnUrl:e.dwnUrl,syncDirection:t,watermark:e.watermark}),i=[];for(let t of r){const r={type:"put",key:[e.did,e.dwnUrl,t.watermark,t.messageCid].join("~"),value:""};i.push(r)}if(i.length>0){const e="pull"===t?this.getPullQueue():this.getPushQueue();yield e.batch(i)}}}))}getDwnEventLog(e){var t;return SD(this,void 0,void 0,(function*(){const{did:r,dwnUrl:i,syncDirection:n,watermark:o}=e;let s={};if("pull"===n){const e=yield this.agent.dwnManager.createMessage({author:r,messageType:"EventsGet",messageOptions:{watermark:o}});try{s=yield this.agent.rpcClient.sendDwnRequest({dwnUrl:i,targetDid:r,message:e})}catch(e){}}else"push"===n&&({reply:s}=yield this.agent.dwnManager.processRequest({author:r,target:r,messageType:"EventsGet",messageOptions:{watermark:o}}));return null!==(t=s.events)&&void 0!==t?t:[]}))}getDwnMessage(e,t){return SD(this,void 0,void 0,(function*(){const r=(yield this.agent.dwnManager.processRequest({author:e,target:e,messageType:"MessagesGet",messageOptions:{messageCids:[t]}})).reply;if(!r.messages||1!==r.messages.length)return;const[i]=r.messages;let{message:n}=i;if(!n)return;let o={message:n};if("RecordsWrite"==`${n.descriptor.interface}${n.descriptor.method}`){const{encodedData:t}=i,r=n;if(t){const e=te.base64Url(t).toUint8Array();o.data=new Blob([e])}else{const t=(yield this.agent.dwnManager.processRequest({author:e,target:e,messageType:"RecordsRead",messageOptions:{recordId:r.recordId}})).reply;if(_D(t.status.code)&&t.record){const e=yield RB.toBytes(t.record.data);o.data=new Blob([e])}else if(!(e=>e>=400&&e<=499)(t.status.code)){const{status:e}=t;throw new Error(`SyncManager: Failed to read data associated with record ${r.recordId}. (${e.code}) ${e.detail}}`)}}}return o}))}getSyncPeerState(e){var t,r;return SD(this,void 0,void 0,(function*(){const{syncDirection:i}=e,n=yield this._db.sublevel("registeredIdentities").keys().all(),o=[];for(let e of n){const{didDocument:n,didResolutionMetadata:s}=yield this.agent.didResolver.resolve(e);if(!n){const i=null!==(t=`${null==s?void 0:s.error}: `)&&void 0!==t?t:"",n=`Unable to resolve DID: ${e}`,o=null!==(r=null==s?void 0:s.errorMessage)&&void 0!==r?r:n;throw new Error(`SyncManager: ${i}${o}`)}const[a]=Tn({didDocument:n,id:"#dwn"});if(a){if(!jn(a.serviceEndpoint))throw new Error("SyncManager: Malformed '#dwn' service endpoint. Expected array of node addresses.");for(let t of a.serviceEndpoint.nodes){const r=yield this.getWatermark(e,t,i);o.push({did:e,dwnUrl:t,watermark:r})}}}return o}))}getWatermark(e,t,r){return SD(this,void 0,void 0,(function*(){const i=`${e}~${t}~${r}`,n=this.getWatermarkStore();try{return yield n.get(i)}catch(e){if(e.notFound)return}}))}setWatermark(e,t,r,i){return SD(this,void 0,void 0,(function*(){const n=`${e}~${t}~${r}`,o=this.getWatermarkStore();yield o.put(n,i)}))}messageExists(e,t){return SD(this,void 0,void 0,(function*(){const r=this.getMessageStore(e);try{return yield r.get(t),!0}catch(e){if(e.notFound)return!1;throw e}}))}addMessage(e,t){return SD(this,void 0,void 0,(function*(){const r=this.getMessageStore(e);return yield r.put(t,"")}))}getMessageStore(e){return this._db.sublevel("history").sublevel(e).sublevel("messages")}getWatermarkStore(){return this._db.sublevel("watermarks")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}getDwnMessageType(e){return`${e.descriptor.interface}${e.descriptor.method}`}}class DD{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}resolve(e,t){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const r=yield this.agent.processDidRequest({messageOptions:{didUrl:e,resolutionOptions:t},messageType:ja.Resolve}),{result:i}=r;return i}))}}const kD=(e,t)=>{let r;const i=Z(e);if("text/plain"===t||"String"===i)r=new Blob([e],{type:"text/plain"});else if("application/json"===t||"Object"===i){const t=te.object(e).toUint8Array();r=new Blob([t],{type:"application/json"})}else if("Uint8Array"===i||"ArrayBuffer"===i)r=new Blob([e],{type:"application/octet-stream"});else{if("Blob"!==i)throw new Error("data type not supported.");r=e}return{dataBlob:r,dataFormat:t=t||r.type||"application/octet-stream"}};var MD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class PD{get attestation(){return this._attestation}get contextId(){return this._contextId}get dataFormat(){return this._descriptor.dataFormat}get dateCreated(){return this._descriptor.dateCreated}get encryption(){return this._encryption}get id(){return this._recordId}get interface(){return this._descriptor.interface}get method(){return this._descriptor.method}get parentId(){return this._descriptor.parentId}get protocol(){return this._descriptor.protocol}get protocolPath(){return this._descriptor.protocolPath}get recipient(){return this._descriptor.recipient}get schema(){return this._descriptor.schema}get dataCid(){return this._descriptor.dataCid}get dataSize(){return this._descriptor.dataSize}get dateModified(){return this._descriptor.messageTimestamp}get datePublished(){return this._descriptor.datePublished}get messageTimestamp(){return this._descriptor.messageTimestamp}get published(){return this._descriptor.published}constructor(e,t){var r;this.isDeleted=!1,this._agent=e,this.author=t.author,this.target=t.target,this._attestation=t.attestation,this._contextId=t.contextId,this._descriptor=t.descriptor,this._encryption=t.encryption,this._recordId=t.recordId,this._encodedData=null!==(r=t.encodedData)&&void 0!==r?r:null,t.data&&(this._readableStream=PD.isReadableWebStream(t.data)?new YQ.F(t.data):t.data)}get data(){if(this.isDeleted)throw new Error("Operation failed: Attempted to access `data` of a record that has already been deleted.");if(this._encodedData||this._readableStream||(this._readableStream=this._agent.processDwnRequest({author:this.author,messageOptions:{recordId:this.id},messageType:JC.Records+YC.Read,target:this.target}).then((e=>e.reply)).then((e=>e.record.data)).catch((e=>{throw new Error(`Error encountered while attempting to read data: ${e.message}`)}))),"string"==typeof this._encodedData){const e=vE.base64UrlToBytes(this._encodedData);this._encodedData=new Blob([e],{type:this.dataFormat})}const e=this._encodedData,t=this,r={blob(){return MD(this,void 0,void 0,(function*(){return e||(t._readableStream?new Blob([yield this.stream().then(RB.toBytes)],{type:t.dataFormat}):void 0)}))},json(){return MD(this,void 0,void 0,(function*(){return e||t._readableStream?this.text().then(JSON.parse):null}))},text(){return MD(this,void 0,void 0,(function*(){return e?e.text():t._readableStream?this.stream().then(RB.toBytes).then(vE.bytesToString):null}))},stream(){return MD(this,void 0,void 0,(function*(){return e?new YQ.F(e.stream()):t._readableStream?t._readableStream:null}))},then(...e){return this.stream().then(...e)},catch:e=>r.then().catch(e)};return r}delete(){return MD(this,void 0,void 0,(function*(){if(this.isDeleted)throw new Error("Operation failed: Attempted to call `delete()` on a record that has already been deleted.");const e=yield this._agent.processDwnRequest({author:this.author,messageOptions:{recordId:this.id},messageType:JC.Records+YC.Delete,target:this.target}),{reply:{status:t}}=e;return 202===t.code&&this.setDeletedStatus(!0),{status:t}}))}send(e){return MD(this,void 0,void 0,(function*(){if(this.isDeleted)throw new Error("Operation failed: Attempted to call `send()` on a record that has already been deleted.");const{reply:{status:t}}=yield this._agent.sendDwnRequest({messageType:JC.Records+YC.Write,author:this.author,dataStream:yield this.data.blob(),target:e,messageOptions:this.toJSON()});return{status:t}}))}toJSON(){return{attestation:this.attestation,author:this.author,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,interface:this.interface,method:this.method,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,target:this.target}}toString(){let e="Record: {\n";return e+=`  ID: ${this.id}\n`,e+=this.contextId?`  Context ID: ${this.contextId}\n`:"",e+=this.protocol?`  Protocol: ${this.protocol}\n`:"",e+=this.schema?`  Schema: ${this.schema}\n`:"",e+=`  Data CID: ${this.dataCid}\n`,e+=`  Data Format: ${this.dataFormat}\n`,e+=`  Data Size: ${this.dataSize}\n`,e+=`  Created: ${this.dateCreated}\n`,e+=`  Modified: ${this.dateModified}\n`,e+="}",e}update(e={}){return MD(this,void 0,void 0,(function*(){if(this.isDeleted)throw new Error("Operation failed: Attempted to call `update()` on a record that has already been deleted.");const t=e,{dateModified:r}=t,i=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(t,["dateModified"]);i.messageTimestamp=r;let n,o=Object.assign(Object.assign({},this._descriptor),i);void 0!==e.data&&(delete o.dataCid,delete o.dataSize,delete o.data,({dataBlob:n}=kD(e.data,o.dataFormat)));const s=new Set(["data","dataCid","dataSize","dateModified","datePublished","published"]);PD.verifyPermittedMutation(Object.keys(e),s),void 0===e.dateModified&&delete o.messageTimestamp,!1===e.published&&void 0!==o.datePublished&&delete o.datePublished,o.recordId=this._recordId,o.contextId=this._contextId;const a=Object.assign({},o),c=yield this._agent.processDwnRequest({author:this.author,dataStream:n,messageOptions:a,messageType:JC.Records+YC.Write,target:this.target}),{message:u,reply:{status:h}}=c,d=u;return 200<=h.code&&h.code<=299&&(s.forEach((e=>{this._descriptor[e]=d.descriptor[e]})),void 0!==e.data&&(this._encodedData=n)),{status:h}}))}setDeletedStatus(e){this.isDeleted=e}static isReadableWebStream(e){return"function"!=typeof e._read}static verifyPermittedMutation(e,t){for(const r of e)if(!t.has(r))throw new Error(`${r} is an immutable property. Its value cannot be changed.`)}}class xD{get definition(){return this._protocolsConfigureMessage.descriptor.definition}constructor(e,t,r){this._agent=e,this._metadata=r,this._protocolsConfigureMessage=t}toJSON(){return this._protocolsConfigureMessage}send(e){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const{reply:t}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:"ProtocolsConfigure",target:e});return{status:t.status}}))}}var FD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class RD{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}get protocols(){return{configure:e=>FD(this,void 0,void 0,(function*(){const t=yield this.agent.processDwnRequest({target:this.connectedDid,author:this.connectedDid,messageOptions:e.message,messageType:JC.Protocols+YC.Configure}),{message:r,messageCid:i,reply:{status:n}}=t,o={status:n};if(n.code<300){const e={author:this.connectedDid,messageCid:i};o.protocol=new xD(this.agent,r,e)}return o})),query:e=>FD(this,void 0,void 0,(function*(){const t={author:this.connectedDid,messageOptions:e.message,messageType:JC.Protocols+YC.Query,target:e.from||this.connectedDid};let r;r=e.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t);const{reply:{entries:i=[],status:n}}=r;return{protocols:i.map((e=>{const t={author:this.connectedDid};return new xD(this.agent,e,t)})),status:n}}))}}get records(){return{create:e=>FD(this,void 0,void 0,(function*(){return this.records.write(e)})),createFrom:e=>FD(this,void 0,void 0,(function*(){var t;const r=e.record.toJSON(),{author:i}=r,n=function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(r,["author"]);return delete n.target,void 0!==e.data&&(delete n.dataCid,delete n.dataSize),!1===(null===(t=e.message)||void 0===t?void 0:t.published)&&void 0!==n.datePublished&&(delete n.datePublished,delete n.published),(!Ne(e.message)||e.author&&e.author!==i)&&delete n.recordId,this.records.write({data:e.data,message:Object.assign(Object.assign({},n),e.message)})})),delete:e=>FD(this,void 0,void 0,(function*(){const t={author:this.connectedDid,messageOptions:e.message,messageType:JC.Records+YC.Delete,target:e.from||this.connectedDid};let r,i;return r=e.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t),r.reply?({reply:{status:i}}=r):({status:i}=r),{status:i}})),query:e=>FD(this,void 0,void 0,(function*(){const t={author:this.connectedDid,messageOptions:e.message,messageType:JC.Records+YC.Query,target:e.from||this.connectedDid};let r;r=e.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t);const{reply:{entries:i,status:n}}=r;return{records:i.map((e=>{const t=Object.assign({author:this.connectedDid,target:this.connectedDid},e);return new PD(this.agent,t)})),status:n}})),read:e=>FD(this,void 0,void 0,(function*(){const t={author:this.connectedDid,messageOptions:e.message,messageType:JC.Records+YC.Read,target:e.from||this.connectedDid};let r,i,n,o;if(r=e.from?yield this.agent.sendDwnRequest(t):yield this.agent.processDwnRequest(t),r.reply?({reply:{record:i,status:n}}=r):({status:n}=r),200<=n.code&&n.code<=299){const e=Object.assign({author:this.connectedDid,target:this.connectedDid},i);o=new PD(this.agent,e)}return{record:o,status:n}})),write:e=>FD(this,void 0,void 0,(function*(){const t=Object.assign({},e.message),{dataBlob:r,dataFormat:i}=kD(e.data,t.dataFormat);t.dataFormat=i;const n=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:r,messageOptions:t,messageType:JC.Records+YC.Write,store:e.store,target:this.connectedDid}),{message:o,reply:{status:s}}=n,a=o;let c;if(200<=s.code&&s.code<=299){const e=Object.assign({author:this.connectedDid,encodedData:r,target:this.connectedDid},a);c=new PD(this.agent,e)}return{record:c,status:s}}))}}}class OD{constructor(e){this.agent=e.agent,this.connectedDid=e.connectedDid}create(){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){throw new Error("Not implemented.")}))}}var TD=function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class ND{constructor(e){this.agentDid=e.agentDid,this.appData=e.appData,this.keyManager=e.keyManager,this.didManager=e.didManager,this.didResolver=e.didResolver,this.dwnManager=e.dwnManager,this.identityManager=e.identityManager,this.rpcClient=e.rpcClient,this.syncManager=e.syncManager,this.didManager.agent=this,this.dwnManager.agent=this,this.identityManager.agent=this,this.keyManager.agent=this,this.syncManager.agent=this}static create(e={}){return TD(this,void 0,void 0,(function*(){let{agentDid:t,appData:r,didManager:i,didResolver:n,dwnManager:o,identityManager:s,keyManager:a,rpcClient:c,syncManager:u}=e;if(void 0===t&&(t=""),void 0===r&&(r=new Oa({store:new Ke("DATA/AGENT/APPDATA")})),void 0===i&&(i=new Ka({didMethods:[Ea,Qa],store:new Na})),void 0===n&&(n=new ka({cache:new Pa,didResolvers:[Ea,Qa]})),void 0===o&&(o=yield tD.create({didResolver:n})),void 0===s&&(s=new aD({store:new iD})),void 0===a){const e=new mD({kmsName:"local",keyStore:new dD({schema:"https://identity.foundation/schemas/web5/kms-key"}),privateKeyStore:new fD}),t=new mD({kmsName:"memory"});a=new wD({kms:{local:e,memory:t},store:new dD({schema:"https://identity.foundation/schemas/web5/managed-key"})})}return void 0===c&&(c=new ED),void 0===u&&(u=new QD),new ND({agentDid:t,appData:r,didManager:i,didResolver:n,dwnManager:o,keyManager:a,identityManager:s,rpcClient:c,syncManager:u})}))}firstLaunch(){return TD(this,void 0,void 0,(function*(){const{initialized:e}=yield this.appData.getStatus();return!1===e}))}initialize(e){return TD(this,void 0,void 0,(function*(){const{passphrase:t}=e,r=yield(new cn).generateKey({algorithm:{name:"EdDSA",namedCurve:"Ed25519"},extractable:!0,keyUsages:["sign","verify"]});yield this.appData.initialize({passphrase:t,keyPair:r})}))}processDidRequest(e){return TD(this,void 0,void 0,(function*(){if(e.messageType===ja.Resolve){const{didUrl:t,resolutionOptions:r}=e.messageOptions;return{result:yield this.didResolver.resolve(t,r)}}return this.didManager.processRequest(e)}))}processDwnRequest(e){return TD(this,void 0,void 0,(function*(){return this.dwnManager.processRequest(e)}))}processVcRequest(e){return TD(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}sendDidRequest(e){return TD(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}sendDwnRequest(e){return TD(this,void 0,void 0,(function*(){return this.dwnManager.sendRequest(e)}))}sendVcRequest(e){return TD(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}start(e){return TD(this,void 0,void 0,(function*(){const{passphrase:t}=e;(yield this.firstLaunch())?yield this.initialize({passphrase:t}):yield this.appData.unlock({passphrase:t}),this.agentDid=yield this.appData.getDid();const r=function(e){var t,r;const{cryptoKeyPair:i,keyData:n}=e,o=i.privateKey,s=i.publicKey;return{privateKey:{id:null!==(t=n.id)&&void 0!==t?t:"",algorithm:o.algorithm,alias:n.alias,extractable:o.extractable,kms:n.kms,material:o.material,metadata:n.metadata,type:o.type,usages:o.usages},publicKey:{id:null!==(r=n.id)&&void 0!==r?r:"",algorithm:s.algorithm,alias:n.alias,extractable:s.extractable,kms:n.kms,material:s.material,metadata:n.metadata,type:s.type,usages:s.usages}}}({cryptoKeyPair:{privateKey:yield this.appData.getPrivateKey(),publicKey:yield this.appData.getPublicKey()},keyData:{alias:yield this.didManager.getDefaultSigningKey({did:this.agentDid}),kms:"memory"}});yield this.keyManager.setDefaultSigningKey({key:r})}))}}class UD{constructor(e){const{agent:t,connectedDid:r}=e;this.agent=t,this.connectedDid=r,this.did=new DD({agent:t,connectedDid:r}),this.dwn=new RD({agent:t,connectedDid:r}),this.vc=new OD({agent:t,connectedDid:r})}static connect(e={}){var t;return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let{agent:r,appData:i,connectedDid:n,sync:o,techPreview:s}=e;if(void 0===r){const e=yield ND.create({appData:i});r=e,yield e.start({passphrase:"insecure-static-phrase"});{const r=yield e.identityManager.list(),i=r.length;if(0===i){const r=null!==(t=null==s?void 0:s.dwnEndpoints)&&void 0!==t?t:yield function(){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){let e;try{if(e=yield fetch("https://dwn.tbddev.org/.well-known/did.json"),!e.ok)throw new Error(`HTTP Error: ${e.status} ${e.statusText}`)}catch(e){return console.warn("failed to get tech preview dwn endpoints:",e.message),[]}const t=yield e.json(),[r]=Tn({didDocument:t,id:"#dwn",type:"DecentralizedWebNode"}),i=new Set;if("serviceEndpoint"in r&&!Array.isArray(r.serviceEndpoint)&&"string"!=typeof r.serviceEndpoint&&Array.isArray(r.serviceEndpoint.nodes)){const e=r.serviceEndpoint.nodes,t=Math.min(e.length,2);for(let r=0;r<e.length&&i.size<t;r+=1){const t=e[(n=0,o=e.length,n=Math.ceil(n),o=Math.floor(o),Math.floor(Math.random()*(o-n))+n)];try{(yield fetch(`${t}/health`)).ok&&i.add(t)}catch(e){}}}var n,o;return Array.from(i)}))}(),i=yield Ea.generateDwnOptions({serviceEndpointNodes:r}),o=yield e.identityManager.create({name:"Default",didMethod:"ion",didOptions:i,kms:"local"});yield e.identityManager.import({identity:o,context:e.agentDid}),n=o.did}else{if(1!==i)throw new Error("connect() failed due to unexpected state: ${storedIdentities} stored identities");{const[e]=r;n=e.did}}}"off"!==o&&(yield e.syncManager.registerIdentity({did:n}),null!=o||(o="2m"),e.syncManager.startSync({interval:Ma(o)}).catch((e=>{console.error(`Sync failed: ${e}`)})))}return{web5:new UD({agent:r,connectedDid:n}),did:n}}))}}function jD(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function LD(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?jD(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}const qD=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var o=e.charAt(n),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=n}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var i=0,n=0;e[t]===c;)i++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var h=r[e.charCodeAt(t)];if(255===h)return;for(var d=0,l=o-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=a*s[l]>>>0,s[l]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,t++}if(" "!==e[t]){for(var f=o-n;f!==o&&0===s[f];)f++;for(var p=new Uint8Array(i+(o-f)),A=i;f!==o;)p[A++]=s[f++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,i=0,n=0,o=t.length;n!==o&&0===t[n];)n++,r++;for(var s=(o-n)*h+1>>>0,u=new Uint8Array(s);n!==o;){for(var d=t[n],l=0,f=s-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=256*u[f]>>>0,u[f]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,n++}for(var p=s-i;p!==s&&0===u[p];)p++;for(var A=c.repeat(r);p<s;++p)A+=e.charAt(u[p]);return A},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}},KD=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class HD{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class GD{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return JD(this,e)}}class zD{constructor(e){this.decoders=e}or(e){return JD(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const JD=(e,t)=>new zD({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class YD{constructor(e,t,r,i){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=i,this.encoder=new HD(e,t,r),this.decoder=new GD(e,t,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const VD=({name:e,prefix:t,encode:r,decode:i})=>new YD(e,t,r,i),$D=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=qD(r,t);return VD({prefix:e,name:t,encode:i,decode:e=>KD(n(e))})},WD=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>VD({prefix:t,name:e,encode:e=>((e,t,r)=>{const i="="===t[t.length-1],n=(1<<r)-1;let o="",s=0,a=0;for(let i=0;i<e.length;++i)for(a=a<<8|e[i],s+=8;s>r;)s-=r,o+=t[n&a>>s];if(s&&(o+=t[n&a<<r-s]),i)for(;o.length*r&7;)o+="=";return o})(e,i,r),decode:t=>((e,t,r,i)=>{const n={};for(let e=0;e<t.length;++e)n[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let t=0;t<o;++t){const o=n[e[t]];if(void 0===o)throw new SyntaxError(`Non-${i} character`);c=c<<r|o,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,i,r,e)}),ZD=VD({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)}),XD=WD({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ek=WD({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),tk=$D({prefix:"9",name:"base10",alphabet:"0123456789"}),rk=WD({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ik=WD({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),nk=WD({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ok=WD({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sk=WD({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ak=WD({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ck=WD({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uk=WD({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),hk=WD({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),dk=WD({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),lk=WD({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),fk=$D({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pk=$D({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ak=$D({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),gk=$D({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),mk=WD({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),yk=WD({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ik=WD({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wk=WD({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),bk=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),vk=bk.reduce(((e,t,r)=>(e[r]=t,e)),[]),Ek=bk.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]),Ck=VD({prefix:"🚀",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+vk[t]),"")},decode:function(e){const t=[];for(const r of e){const e=Ek[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var Bk=128,Sk=-128,_k=Math.pow(2,31),Qk=128,Dk=127,kk=Math.pow(2,7),Mk=Math.pow(2,14),Pk=Math.pow(2,21),xk=Math.pow(2,28),Fk=Math.pow(2,35),Rk=Math.pow(2,42),Ok=Math.pow(2,49),Tk=Math.pow(2,56),Nk=Math.pow(2,63);const Uk={encode:function e(t,r,i){r=r||[];for(var n=i=i||0;t>=_k;)r[i++]=255&t|Bk,t/=128;for(;t&Sk;)r[i++]=255&t|Bk,t>>>=7;return r[i]=0|t,e.bytes=i-n+1,r},decode:function e(t,r){var i,n=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");i=t[s++],n+=o<28?(i&Dk)<<o:(i&Dk)*Math.pow(2,o),o+=7}while(i>=Qk);return e.bytes=s-r,n},encodingLength:function(e){return e<kk?1:e<Mk?2:e<Pk?3:e<xk?4:e<Fk?5:e<Rk?6:e<Ok?7:e<Tk?8:e<Nk?9:10}},jk=(e,t,r=0)=>(Uk.encode(e,t,r),t),Lk=e=>Uk.encodingLength(e),qk=(e,t)=>{const r=t.byteLength,i=Lk(e),n=i+Lk(r),o=new Uint8Array(n+r);return jk(e,o,0),jk(r,o,i),o.set(t,n),new Kk(e,r,t,o)};class Kk{constructor(e,t,r,i){this.code=e,this.size=t,this.digest=r,this.bytes=i}}const Hk=({name:e,code:t,encode:r})=>new Gk(e,t,r);class Gk{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?qk(this.code,t):t.then((e=>qk(this.code,e)))}throw Error("Unknown type, must be binary type")}}const zk=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Jk=Hk({name:"sha2-256",code:18,encode:zk("SHA-256")}),Yk=Hk({name:"sha2-512",code:19,encode:zk("SHA-512")}),Vk=KD,$k={code:0,name:"identity",encode:Vk,digest:e=>qk(0,Vk(e))},Wk="raw",Zk=85,Xk=e=>KD(e),eM=e=>KD(e),tM=new TextEncoder,rM=new TextDecoder,iM="json",nM=512,oM=e=>tM.encode(JSON.stringify(e)),sM=e=>JSON.parse(rM.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const aM={...b,...v,...E,...C,...B,...S,..._,...Q,...D,...k};function cM(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const uM=cM("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),hM=cM("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=LD((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),dM={utf8:uM,"utf-8":uM,hex:aM.base16,latin1:hM,ascii:hM,binary:hM,...aM};function lM(e,t="utf8"){const r=dM[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):jD(globalThis.Buffer.from(e,"utf-8"))}function fM(e,t="utf8"){const r=dM[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}n(36957);const pM=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),AM=Uint8Array.from({length:16},((e,t)=>t)),gM=AM.map((e=>(9*e+5)%16));let mM=[AM],yM=[gM];for(let e=0;e<4;e++)for(let t of[mM,yM])t.push(t[e].map((e=>pM[e])));const IM=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),wM=mM.map(((e,t)=>e.map((e=>IM[t][e])))),bM=yM.map(((e,t)=>e.map((e=>IM[t][e])))),vM=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),EM=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),CM=(e,t)=>e<<t|e>>>32-t;function BM(e,t,r,i){return 0===e?t^r^i:1===e?t&r|~t&i:2===e?(t|~r)^i:3===e?t&i|r&~i:t^(r|~i)}const SM=new Uint32Array(16);class _M extends Bt{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:i,h4:n}=this;return[e,t,r,i,n]}set(e,t,r,i,n){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|i,this.h4=0|n}process(e,t){for(let r=0;r<16;r++,t+=4)SM[r]=e.getUint32(t,!0);let r=0|this.h0,i=r,n=0|this.h1,o=n,s=0|this.h2,a=s,c=0|this.h3,u=c,h=0|this.h4,d=h;for(let e=0;e<5;e++){const t=4-e,l=vM[e],f=EM[e],p=mM[e],A=yM[e],g=wM[e],m=bM[e];for(let t=0;t<16;t++){const i=CM(r+BM(e,n,s,c)+SM[p[t]]+l,g[t])+h|0;r=h,h=c,c=0|CM(s,10),s=n,n=i}for(let e=0;e<16;e++){const r=CM(i+BM(t,o,a,u)+SM[A[e]]+f,m[e])+d|0;i=d,d=u,u=0|CM(a,10),a=o,o=r}}this.set(this.h1+s+u|0,this.h2+c+d|0,this.h3+h+i|0,this.h4+r+o|0,this.h0+n+a|0)}roundClean(){SM.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}et((()=>new _M));const[QM,DM,kM]=[[],[],[]],MM=BigInt(0),PM=BigInt(1),xM=BigInt(2),FM=BigInt(7),RM=BigInt(256),OM=BigInt(113);for(let e=0,t=PM,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],QM.push(2*(5*i+r)),DM.push((e+1)*(e+2)/2%64);let n=MM;for(let e=0;e<7;e++)t=(t<<PM^(t>>FM)*OM)%RM,t&xM&&(n^=PM<<(PM<<BigInt(e))-PM);kM.push(n)}const[TM,NM]=kt.split(kM,!0),UM=(e,t,r)=>r>32?kt.rotlBH(e,t,r):kt.rotlSH(e,t,r),jM=(e,t,r)=>r>32?kt.rotlBL(e,t,r):kt.rotlSL(e,t,r);class LM extends Xe{constructor(e,t,r,i=!1,n=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ct.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const i=(t+8)%10,n=(t+2)%10,o=r[n],s=r[n+1],a=UM(o,s,1)^r[i],c=jM(o,s,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=c}let t=e[2],n=e[3];for(let r=0;r<24;r++){const i=DM[r],o=UM(t,n,i),s=jM(t,n,i),a=QM[r];t=e[a],n=e[a+1],e[a]=o,e[a+1]=s}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=TM[i],e[1]^=NM[i]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Ct.exists(this);const{blockLen:t,state:r}=this,i=(e=We(e)).length;for(let n=0;n<i;){const o=Math.min(t-this.pos,i-n);for(let t=0;t<o;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,0!=(128&t)&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ct.exists(this,!1),Ct.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ct.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ct.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:o}=this;return e||(e=new LM(t,r,i,o,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const qM=(e,t,r)=>et((()=>new LM(t,e,r))),KM=(qM(6,144,28),qM(6,136,32),qM(6,104,48),qM(6,72,64),qM(1,144,28),qM(1,136,32),qM(1,104,48),qM(1,72,64),(e,t,r)=>function(e){const t=(t,r)=>e(r).update(We(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(((i={})=>new LM(t,e,void 0===i.dkLen?r:i.dkLen,!0)))),HM=(KM(31,168,16),KM(31,136,32),yr(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")));yi({a:HM.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:HM,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},ai);function GM(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function zM(...e){const t=(e,t)=>r=>e(t(r)),r=Array.from(e).reverse().reduce(((e,r)=>e?t(e,r.encode):r.encode),void 0),i=e.reduce(((e,r)=>e?t(e,r.decode):r.decode),void 0);return{encode:r,decode:i}}function JM(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(GM(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function YM(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function VM(e,t="="){if(GM(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let i=r.length;if(i*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;i>0&&r[i-1]===t;i--)if(!((i-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,i)}}}function $M(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}const WM=(e,t)=>t?WM(t,e%t):e,ZM=(e,t)=>e+(t-WM(e,t));function XM(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(ZM(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${ZM(t,r)}`);let n=0,o=0;const s=2**r-1,a=[];for(const i of e){if(GM(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(n=n<<t|i,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((n>>o-r&s)>>>0);n&=2**o-1}if(n=n<<r-o&s,!i&&o>=t)throw new Error("Excess padding");if(!i&&n)throw new Error(`Non-zero padding: ${n}`);return i&&o>0&&a.push(n>>>0),a}function eP(e,t=!1){if(GM(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ZM(8,e)>32||ZM(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return XM(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(XM(r,e,8,t))}}}eP(4),JM("0123456789ABCDEF"),YM(""),eP(5),JM("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),VM(5),YM(""),eP(5),JM("0123456789ABCDEFGHIJKLMNOPQRSTUV"),VM(5),YM(""),eP(5),JM("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),YM(""),$M((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),eP(6),JM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),VM(6),YM(""),eP(6),JM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),VM(6),YM(""),eP(6),JM("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),YM("");JM("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),YM("");const tP=(eP(4),JM("0123456789abcdef"),YM(""),$M((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),e=>e instanceof Uint8Array),rP=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function iP(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function nP(e){if("string"==typeof e)e=iP(e);else{if(!tP(e))throw new Error("expected Uint8Array, got "+typeof e);e=e.slice()}return e}function oP(e,t){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof t&&e.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function sP(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),o=BigInt(4294967295),s=Number(r>>n&o),a=Number(r&o),c=i?4:0,u=i?0:4;e.setUint32(t+c,s,i),e.setUint32(t+u,a,i)}function aP(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function cP(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function uP(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function hP(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const dP=(e,t)=>255&e[t++]|(255&e[t++])<<8;class lP{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,oP(e=nP(e),32);const t=dP(e,0),r=dP(e,2),i=dP(e,4),n=dP(e,6),o=dP(e,8),s=dP(e,10),a=dP(e,12),c=dP(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|n<<9),this.r[4]=255&(n>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|s<<2),this.r[7]=8065&(s>>>11|a<<5),this.r[8]=8191&(a>>>8|c<<8),this.r[9]=c>>>5&127;for(let t=0;t<8;t++)this.pad[t]=dP(e,16+2*t)}process(e,t,r=!1){const i=r?0:2048,{h:n,r:o}=this,s=o[0],a=o[1],c=o[2],u=o[3],h=o[4],d=o[5],l=o[6],f=o[7],p=o[8],A=o[9],g=dP(e,t+0),m=dP(e,t+2),y=dP(e,t+4),I=dP(e,t+6),w=dP(e,t+8),b=dP(e,t+10),v=dP(e,t+12),E=dP(e,t+14);let C=n[0]+(8191&g),B=n[1]+(8191&(g>>>13|m<<3)),S=n[2]+(8191&(m>>>10|y<<6)),_=n[3]+(8191&(y>>>7|I<<9)),Q=n[4]+(8191&(I>>>4|w<<12)),D=n[5]+(w>>>1&8191),k=n[6]+(8191&(w>>>14|b<<2)),M=n[7]+(8191&(b>>>11|v<<5)),P=n[8]+(8191&(v>>>8|E<<8)),x=n[9]+(E>>>5|i),F=0,R=F+C*s+B*(5*A)+S*(5*p)+_*(5*f)+Q*(5*l);F=R>>>13,R&=8191,R+=D*(5*d)+k*(5*h)+M*(5*u)+P*(5*c)+x*(5*a),F+=R>>>13,R&=8191;let O=F+C*a+B*s+S*(5*A)+_*(5*p)+Q*(5*f);F=O>>>13,O&=8191,O+=D*(5*l)+k*(5*d)+M*(5*h)+P*(5*u)+x*(5*c),F+=O>>>13,O&=8191;let T=F+C*c+B*a+S*s+_*(5*A)+Q*(5*p);F=T>>>13,T&=8191,T+=D*(5*f)+k*(5*l)+M*(5*d)+P*(5*h)+x*(5*u),F+=T>>>13,T&=8191;let N=F+C*u+B*c+S*a+_*s+Q*(5*A);F=N>>>13,N&=8191,N+=D*(5*p)+k*(5*f)+M*(5*l)+P*(5*d)+x*(5*h),F+=N>>>13,N&=8191;let U=F+C*h+B*u+S*c+_*a+Q*s;F=U>>>13,U&=8191,U+=D*(5*A)+k*(5*p)+M*(5*f)+P*(5*l)+x*(5*d),F+=U>>>13,U&=8191;let j=F+C*d+B*h+S*u+_*c+Q*a;F=j>>>13,j&=8191,j+=D*s+k*(5*A)+M*(5*p)+P*(5*f)+x*(5*l),F+=j>>>13,j&=8191;let L=F+C*l+B*d+S*h+_*u+Q*c;F=L>>>13,L&=8191,L+=D*a+k*s+M*(5*A)+P*(5*p)+x*(5*f),F+=L>>>13,L&=8191;let q=F+C*f+B*l+S*d+_*h+Q*u;F=q>>>13,q&=8191,q+=D*c+k*a+M*s+P*(5*A)+x*(5*p),F+=q>>>13,q&=8191;let K=F+C*p+B*f+S*l+_*d+Q*h;F=K>>>13,K&=8191,K+=D*u+k*c+M*a+P*s+x*(5*A),F+=K>>>13,K&=8191;let H=F+C*A+B*p+S*f+_*l+Q*d;F=H>>>13,H&=8191,H+=D*h+k*u+M*c+P*a+x*s,F+=H>>>13,H&=8191,F=(F<<2)+F|0,F=F+R|0,R=8191&F,F>>>=13,O+=F,n[0]=R,n[1]=O,n[2]=T,n[3]=N,n[4]=U,n[5]=j,n[6]=L,n[7]=q,n[8]=K,n[9]=H}finalize(){const{h:e,pad:t}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=i,i=e[t]>>>13,e[t]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+i,i=r[t]>>>13,r[t]&=8191;r[9]-=8192;let n=(1^i)-1;for(let e=0;e<10;e++)r[e]&=n;n=~n;for(let t=0;t<10;t++)e[t]=e[t]&n|r[t];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+t[0];e[0]=65535&o;for(let r=1;r<8;r++)o=(e[r]+t[r]|0)+(o>>>16)|0,e[r]=65535&o}update(e){hP(this);const{buffer:t,blockLen:r}=this,i=(e=nP(e)).length;for(let n=0;n<i;){const o=Math.min(r-this.pos,i-n);if(o!==r)t.set(e.subarray(n,n+o),this.pos),this.pos+=o,n+=o,this.pos===r&&(this.process(t,0,!1),this.pos=0);else for(;r<=i-n;n+=r)this.process(e,n)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(e){hP(this),function(e,t){uP(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;const{buffer:t,h:r}=this;let{pos:i}=this;if(i){for(t[i++]=1;i<16;i++)t[i]=0;this.process(t,0,!0)}this.finalize();let n=0;for(let t=0;t<8;t++)e[n++]=r[t]>>>0,e[n++]=r[t]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}}const fP=function(e){const t=(t,r)=>e(r).update(nP(t)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}((e=>new lP(e))),pP=iP("expand 16-byte k"),AP=iP("expand 32-byte k"),gP=rP(pP),mP=rP(AP);function yP(e,t){return e<<t|e>>>32-t}function IP(e){return e.byteOffset%4==0}const wP=2**32-1,bP=new Uint32Array;function vP(e,t){const{allowShortKeys:r,extendNonceFn:i,counterLength:n,counterRight:o,rounds:s}=function(e,t){if(void 0!==t&&("object"!=typeof t||(r=t,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new Error("options must be object or undefined");var r;return Object.assign({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t)}(0,t);if("function"!=typeof e)throw new Error("core must be a function");return aP(n),aP(s),cP(o),cP(r),(t,a,c,u,h=0)=>{uP(t),uP(a),uP(c);const d=c.length;if(u||(u=new Uint8Array(d)),uP(u),aP(h),h<0||h>=wP)throw new Error("arx: counter overflow");if(u.length<d)throw new Error(`arx: output (${u.length}) is shorter than data (${d})`);const l=[];let f,p,A=t.length;if(32===A)f=t.slice(),l.push(f),p=mP;else{if(16!==A||!r)throw new Error(`arx: invalid 32-byte key, got length=${A}`);f=new Uint8Array(32),f.set(t),f.set(t,16),p=gP,l.push(f)}IP(a)||(a=a.slice(),l.push(a));const g=rP(f);if(i){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");i(p,g,rP(a.subarray(0,16)),g),a=a.subarray(16)}const m=16-n;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){const e=new Uint8Array(12);e.set(a,o?0:12-a.length),a=e,l.push(a)}const y=rP(a);for(function(e,t,r,i,n,o,s,a){const c=n.length,u=new Uint8Array(64),h=rP(u),d=IP(n)&&IP(o),l=d?rP(n):bP,f=d?rP(o):bP;for(let p=0;p<c;s++){if(e(t,r,i,h,s,a),s>=wP)throw new Error("arx: counter overflow");const A=Math.min(64,c-p);if(d&&64===A){const e=p/4;if(p%4!=0)throw new Error("arx: invalid block position");for(let t,r=0;r<16;r++)t=e+r,f[t]=l[t]^h[r];p+=64}else{for(let e,t=0;t<A;t++)e=p+t,o[e]=n[e]^u[t];p+=A}}}(e,p,g,y,c,u,h,s);l.length>0;)l.pop().fill(0);return u}}function EP(e,t,r,i,n,o=20){let s=e[0],a=e[1],c=e[2],u=e[3],h=t[0],d=t[1],l=t[2],f=t[3],p=t[4],A=t[5],g=t[6],m=t[7],y=n,I=r[0],w=r[1],b=r[2],v=s,E=a,C=c,B=u,S=h,_=d,Q=l,D=f,k=p,M=A,P=g,x=m,F=y,R=I,O=w,T=b;for(let e=0;e<o;e+=2)v=v+S|0,F=yP(F^v,16),k=k+F|0,S=yP(S^k,12),v=v+S|0,F=yP(F^v,8),k=k+F|0,S=yP(S^k,7),E=E+_|0,R=yP(R^E,16),M=M+R|0,_=yP(_^M,12),E=E+_|0,R=yP(R^E,8),M=M+R|0,_=yP(_^M,7),C=C+Q|0,O=yP(O^C,16),P=P+O|0,Q=yP(Q^P,12),C=C+Q|0,O=yP(O^C,8),P=P+O|0,Q=yP(Q^P,7),B=B+D|0,T=yP(T^B,16),x=x+T|0,D=yP(D^x,12),B=B+D|0,T=yP(T^B,8),x=x+T|0,D=yP(D^x,7),v=v+_|0,T=yP(T^v,16),P=P+T|0,_=yP(_^P,12),v=v+_|0,T=yP(T^v,8),P=P+T|0,_=yP(_^P,7),E=E+Q|0,F=yP(F^E,16),x=x+F|0,Q=yP(Q^x,12),E=E+Q|0,F=yP(F^E,8),x=x+F|0,Q=yP(Q^x,7),C=C+D|0,R=yP(R^C,16),k=k+R|0,D=yP(D^k,12),C=C+D|0,R=yP(R^C,8),k=k+R|0,D=yP(D^k,7),B=B+S|0,O=yP(O^B,16),M=M+O|0,S=yP(S^M,12),B=B+S|0,O=yP(O^B,8),M=M+O|0,S=yP(S^M,7);let N=0;i[N++]=s+v|0,i[N++]=a+E|0,i[N++]=c+C|0,i[N++]=u+B|0,i[N++]=h+S|0,i[N++]=d+_|0,i[N++]=l+Q|0,i[N++]=f+D|0,i[N++]=p+k|0,i[N++]=A+M|0,i[N++]=g+P|0,i[N++]=m+x|0,i[N++]=y+F|0,i[N++]=I+R|0,i[N++]=w+O|0,i[N++]=b+T|0}const CP=vP(EP,{counterRight:!1,counterLength:4,allowShortKeys:!1}),BP=vP(EP,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,r,i){let n=e[0],o=e[1],s=e[2],a=e[3],c=t[0],u=t[1],h=t[2],d=t[3],l=t[4],f=t[5],p=t[6],A=t[7],g=r[0],m=r[1],y=r[2],I=r[3];for(let e=0;e<20;e+=2)n=n+c|0,g=yP(g^n,16),l=l+g|0,c=yP(c^l,12),n=n+c|0,g=yP(g^n,8),l=l+g|0,c=yP(c^l,7),o=o+u|0,m=yP(m^o,16),f=f+m|0,u=yP(u^f,12),o=o+u|0,m=yP(m^o,8),f=f+m|0,u=yP(u^f,7),s=s+h|0,y=yP(y^s,16),p=p+y|0,h=yP(h^p,12),s=s+h|0,y=yP(y^s,8),p=p+y|0,h=yP(h^p,7),a=a+d|0,I=yP(I^a,16),A=A+I|0,d=yP(d^A,12),a=a+d|0,I=yP(I^a,8),A=A+I|0,d=yP(d^A,7),n=n+u|0,I=yP(I^n,16),p=p+I|0,u=yP(u^p,12),n=n+u|0,I=yP(I^n,8),p=p+I|0,u=yP(u^p,7),o=o+h|0,g=yP(g^o,16),A=A+g|0,h=yP(h^A,12),o=o+h|0,g=yP(g^o,8),A=A+g|0,h=yP(h^A,7),s=s+d|0,m=yP(m^s,16),l=l+m|0,d=yP(d^l,12),s=s+d|0,m=yP(m^s,8),l=l+m|0,d=yP(d^l,7),a=a+c|0,y=yP(y^a,16),f=f+y|0,c=yP(c^f,12),a=a+c|0,y=yP(y^a,8),f=f+y|0,c=yP(c^f,7);let w=0;i[w++]=n,i[w++]=o,i[w++]=s,i[w++]=a,i[w++]=g,i[w++]=m,i[w++]=y,i[w++]=I},allowShortKeys:!1}),SP=new Uint8Array(16),_P=(e,t)=>{e.update(t);const r=t.length%16;r&&e.update(SP.subarray(r))},QP=new Uint8Array(32);function DP(e,t,r,i,n){const o=e(t,r,QP),s=fP.create(o);n&&_P(s,n),_P(s,i);const a=new Uint8Array(16),c=(u=a,new DataView(u.buffer,u.byteOffset,u.byteLength));var u;sP(c,0,BigInt(n?n.length:0),!0),sP(c,8,BigInt(i.length),!0),s.update(a);const h=s.digest();return o.fill(0),h}const kP=e=>(t,r,i)=>(oP(t,32),oP(r),{encrypt:(n,o)=>{const s=n.length,a=s+16;o?oP(o,a):o=new Uint8Array(a),e(t,r,n,o,1);const c=DP(e,t,r,o.subarray(0,-16),i);return o.set(c,s),o},decrypt:(n,o)=>{const s=n.length,a=s-16;if(s<16)throw new Error("encrypted data must be at least 16 bytes");o?oP(o,a):o=new Uint8Array(a);const c=n.subarray(0,-16);if(!function(e,t){if(e.length!==t.length)throw new Error("equalBytes: Different size of Uint8Arrays");let r=!0;for(let i=0;i<e.length;i++)r&&(r=e[i]===t[i]);return r}(n.subarray(-16),DP(e,t,r,c,i)))throw new Error("invalid tag");return e(t,r,c,o,1),o}}),MP=(kP(CP),kP(BP),{toString:fM,fromString:lM,concat:function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=LD(t);let i=0;for(const t of e)r.set(t,i),i+=t.length;return jD(r)}});function PP(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return MP.fromString(t,"base64url")}function xP(e){return MP.toString(e,"base16")}function FP({r:e,s:t,recoveryParam:r},i){const n=new Uint8Array(i?65:64);if(n.set(MP.fromString(e,"base16"),0),n.set(MP.fromString(t,"base16"),32),i){if(void 0===r)throw new Error("Signer did not return a recoveryParam");n[64]=r}return function(e){return MP.toString(e,"base64url")}(n)}function RP(e){return"object"==typeof e&&"r"in e&&"s"in e}function OP(e){return function(t,r){try{return Promise.resolve(r(t)).then((function(t){if(RP(t))return FP(t,e);if(e&&void 0===function(e){const t=PP(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:xP(t.slice(0,32)),s:xP(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(e){return Promise.reject(e)}}}function TP(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(RP(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(e){return Promise.reject(e)}}}OP(),OP(!0),TP(),TP();"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const NP=new ka({didResolvers:[Ea,Qa]});let UP,jP,LP;new class{resolve(e){return function(e,t,r,i){return new(r||(r=Promise))((function(n,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){return yield NP.resolve(e)}))}},new(n(84901).hn);const qP={protocol:"https://example.com/dudemy",published:!0,types:{course:{schema:"https://example.com/dudemy/schema1",dataFormats:["application/json"]},content:{schema:"https://example.com/dudemy/schema2",dataFormats:["application/json"]},video:{schema:"https://example.com/dudemy/schema3",dataFormats:["video/mp4"]},comments:{dataFormats:["application/json"]}},structure:{course:{$actions:[{who:"anyone",can:"read"},{who:"anyone",can:"write"}],content:{$actions:[{who:"anyone",can:"read"},{who:"author",of:"course",can:"write"}],video:{$actions:[{who:"author",of:"course/content",can:"write"},{who:"anyone",can:"read"}]}},comments:{$actions:[{who:"anyone",can:"write"},{who:"anyone",can:"read"}]}}}};async function KP(e){console.log("Fetching lessons for courseId:",e);try{const t={message:{filter:{protocol:"https://example.com/dudemy",schema:"https://example.com/dudemy/schema2",contextId:e},limit:3}},{records:r}=await UP.dwn.records.query(t),i=(await Promise.all(r.map((async e=>{try{const{record:t}=await UP.dwn.records.read({message:{filter:{recordId:e.id}}}),r=await t.data.json();return{id:e.id,...r}}catch(e){return console.error("Error reading lesson record:",e),null}})))).filter((e=>null!==e));console.log("Fetched lessons:",i),document.getElementById("lessonsSection").style.display="",async function(e){const t=document.getElementById("lessonList");t.innerHTML="";for(const r of e){if(!r.videoId){console.log("Skipping lesson with no videoId:",r);continue}const e=document.createElement("li"),i=document.createElement("h3");i.textContent=r.lessonTitle,e.appendChild(i);const n=document.createElement("video");n.setAttribute("controls",""),n.style.width="100%";const o=await HP(r.videoId);if(o){const t=document.createElement("source");t.setAttribute("src",o),t.setAttribute("type","video/mp4"),n.appendChild(t),e.appendChild(n)}else console.error("Could not resolve video URL for videoId:",r.videoId);const s=document.createElement("button");s.textContent="Delete Lesson",s.addEventListener("click",(()=>GP(r.id,LP))),e.appendChild(s),t.appendChild(e)}}(i)}catch(e){console.error("Error fetching lessons:",e)}}async function HP(e){try{console.log("Attempting to resolve video URL for videoId:",e);const{record:t}=await UP.dwn.records.read({message:{filter:{recordId:e}}});if(console.log("Fetched video record:",t),!t||!t.data)return console.error("Record or record data is undefined:",t),null;const r=await t.data.blob();console.log("Video data blob:",r);const i=URL.createObjectURL(r);return console.log("Resolved video URL:",i),i}catch(e){return console.error("Error resolving video URL:",e),null}}async function GP(e,t){try{await UP.dwn.records.delete({message:{recordId:e}}),t?KP(t):console.error("Current course ID is not set. Cannot refresh lessons.")}catch(e){console.error("Error deleting lesson:",e)}}document.getElementById("createCourseButton").addEventListener("click",(function(){const e=document.getElementById("courseTitle").value,t=document.getElementById("courseDescription").value,r=document.getElementById("courseAuthor").value;!async function(e,t){try{if(!t.title||!t.description||!t.author)throw new Error("Invalid course metadata");const r={data:{title:t.title,description:t.description,author:t.author,dateCreated:(new Date).toISOString()},message:{protocol:"https://example.com/dudemy",protocolPath:"course",schema:"https://example.com/dudemy/schema1",dataFormat:"application/json",published:!0}},i=await e.dwn.records.create(r);console.log(await i.record.data.json()),await i.record.send(jP),console.log("Course created with ID:",i.record.id);let n=i.record.id;const o=await e.dwn.records.read({message:{filter:{recordId:n}}}),s=await o.record.data.json();return console.log("Fetched course data:",s),document.getElementById("displayCourseID").innerText="Created Course ID: "+i.record.id,document.getElementById("lessonUploadSection").style.display="block",i.record.id}catch(e){throw console.error("Error creating the course data:",e),e}}(UP,{title:e,description:t,author:r})})),document.getElementById("lessonUploadButton").addEventListener("click",(async function(){try{const e=document.getElementById("courseIdForLesson"),t=document.getElementById("lessonTitle"),r=document.getElementById("videoInput"),i=e.value,n=t.value;if(!i||!n||!r.files[0])return void alert("Please fill in all fields and select a video before uploading.");r.files[0];const o=await new Blob([r.files[0]],{type:"video/mp4"}),s={lessonTitle:n};await async function(e,t,r,i){try{if(!r.lessonTitle||!i)throw new Error("Invalid lesson data");const o=document.getElementById("publishNow").checked,s=document.getElementById("publishDate").value,a={data:{title:r.lessonTitle},message:{protocol:"https://example.com/dudemy",protocolPath:"course/content",parentId:t,contextId:t,schema:"https://example.com/dudemy/schema2",dataFormat:"application/json",published:!0}},c=(await e.dwn.records.create(a)).record.id;let u={protocol:"https://example.com/dudemy",protocolPath:"course/content/video",parentId:c,contextId:t,schema:"https://example.com/dudemy/schema3",published:!0,datePublished:(n=o?new Date:new Date(s),n.toISOString().replace("Z","000Z"))};const h=await async function(e,t,r,i){try{const t={data:r,message:i},n=await e.dwn.records.create(t);return console.log(n),await n.record.send(jP),console.log("Video uploaded with ID:",n.record.id),n.record.id}catch(e){throw console.error("Error uploading the video:",e),e}}(e,0,i,u),{record:d}=await e.dwn.records.read({message:{filter:{recordId:c}}}),l={videoId:h,lessonTitle:r.lessonTitle};await d.update({data:l}),console.log("Updated content data:",l);const f=await e.dwn.records.read({message:{filter:{recordId:c}}}),p=await f.record.data.json();console.log("New updated record:",p)}catch(e){throw console.error("Error adding lesson with video to the course:",e),e}var n}(UP,i,s,o),t.value="",r.value="",alert("Lesson successfully uploaded!"),LP&&KP(LP)}catch(e){console.error("Error handling lesson upload:",e),alert("Error uploading the lesson. Try again. 🙃")}})),document.getElementById("publishNow").addEventListener("change",(function(){const e=document.getElementById("publishDate");this.checked?e.disabled=!0:e.disabled=!1})),document.getElementById("issueButton").addEventListener("click",(function(){alert("Button clicked")})),window.onload=function(){!async function(){try{document.getElementById("loadingIndicator").style.display="block";const e=await UD.connect();UP=e.web5,jP=e.did;const t=await async function(){const{protocol:e,status:t}=await UP.dwn.protocols.configure({message:{definition:qP}});return await e.send(jP),e}();console.log("starting with DID:",jP),document.getElementById("loadingIndicator").style.display="none",console.log("protocol:",t);const r=await async function(){const{records:e}=await UP.dwn.records.query({message:{filter:{protocol:"https://example.com/dudemy"},limit:5}});return(await Promise.all(e.map((async e=>{try{const{record:t}=await UP.dwn.records.read({message:{filter:{recordId:e.id}}});return{...await t.data.json(),id:e.id}}catch(e){return null}})))).filter((e=>e&&void 0!==e.title&&void 0!==e.description))}();r&&function(e){const t=document.getElementById("courseDropdown");t.innerHTML="";const r=document.createElement("option");r.textContent="Select a course",r.value="",t.appendChild(r),e.forEach((e=>{const r=document.createElement("option");r.textContent=`${e.title} - ${e.description}`,r.value=e.id,t.appendChild(r)})),t.addEventListener("change",(e=>{LP=e.target.value,KP(LP),document.getElementById("courseIdForLesson").value=LP,document.getElementById("lessonUploadSection").style.display="block"}))}(r)}catch(e){console.error("Error initializing the platform:",e)}}()}})()})();